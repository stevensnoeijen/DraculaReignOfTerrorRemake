var Lv=(T,R)=>()=>(R||T((R={exports:{}}).exports,R),R.exports);var Fv=Lv((exports,module)=>{const p$3=function(){const R=document.createElement("link").relList;if(R&&R.supports&&R.supports("modulepreload"))return;for(const N of document.querySelectorAll('link[rel="modulepreload"]'))$(N);new MutationObserver(N=>{for(const M of N)if(M.type==="childList")for(const L of M.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&$(L)}).observe(document,{childList:!0,subtree:!0});function I(N){const M={};return N.integrity&&(M.integrity=N.integrity),N.referrerpolicy&&(M.referrerPolicy=N.referrerpolicy),N.crossorigin==="use-credentials"?M.credentials="include":N.crossorigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function $(N){if(N.ep)return;N.ep=!0;const M=I(N);fetch(N.href,M)}};p$3();function makeMap(T,R){const I=Object.create(null),$=T.split(",");for(let N=0;N<$.length;N++)I[$[N]]=!0;return R?N=>!!I[N.toLowerCase()]:N=>!!I[N]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(T){return!!T||T===""}function normalizeStyle(T){if(isArray$4(T)){const R={};for(let I=0;I<T.length;I++){const $=T[I],N=isString($)?parseStringStyle($):normalizeStyle($);if(N)for(const M in N)R[M]=N[M]}return R}else{if(isString(T))return T;if(isObject$2(T))return T}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(T){const R={};return T.split(listDelimiterRE).forEach(I=>{if(I){const $=I.split(propertyDelimiterRE);$.length>1&&(R[$[0].trim()]=$[1].trim())}}),R}function normalizeClass(T){let R="";if(isString(T))R=T;else if(isArray$4(T))for(let I=0;I<T.length;I++){const $=normalizeClass(T[I]);$&&(R+=$+" ")}else if(isObject$2(T))for(const I in T)T[I]&&(R+=I+" ");return R.trim()}const toDisplayString=T=>isString(T)?T:T==null?"":isArray$4(T)||isObject$2(T)&&(T.toString===objectToString$1||!isFunction$1(T.toString))?JSON.stringify(T,replacer,2):String(T),replacer=(T,R)=>R&&R.__v_isRef?replacer(T,R.value):isMap(R)?{[`Map(${R.size})`]:[...R.entries()].reduce((I,[$,N])=>(I[`${$} =>`]=N,I),{})}:isSet(R)?{[`Set(${R.size})`]:[...R.values()]}:isObject$2(R)&&!isArray$4(R)&&!isPlainObject$1(R)?String(R):R,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=T=>onRE.test(T),isModelListener=T=>T.startsWith("onUpdate:"),extend=Object.assign,remove=(T,R)=>{const I=T.indexOf(R);I>-1&&T.splice(I,1)},hasOwnProperty$f=Object.prototype.hasOwnProperty,hasOwn=(T,R)=>hasOwnProperty$f.call(T,R),isArray$4=Array.isArray,isMap=T=>toTypeString(T)==="[object Map]",isSet=T=>toTypeString(T)==="[object Set]",isFunction$1=T=>typeof T=="function",isString=T=>typeof T=="string",isSymbol$1=T=>typeof T=="symbol",isObject$2=T=>T!==null&&typeof T=="object",isPromise=T=>isObject$2(T)&&isFunction$1(T.then)&&isFunction$1(T.catch),objectToString$1=Object.prototype.toString,toTypeString=T=>objectToString$1.call(T),toRawType=T=>toTypeString(T).slice(8,-1),isPlainObject$1=T=>toTypeString(T)==="[object Object]",isIntegerKey=T=>isString(T)&&T!=="NaN"&&T[0]!=="-"&&""+parseInt(T,10)===T,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=T=>{const R=Object.create(null);return I=>R[I]||(R[I]=T(I))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(T=>T.replace(camelizeRE,(R,I)=>I?I.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(T=>T.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(T=>T.charAt(0).toUpperCase()+T.slice(1)),toHandlerKey=cacheStringFunction(T=>T?`on${capitalize(T)}`:""),hasChanged=(T,R)=>!Object.is(T,R),invokeArrayFns=(T,R)=>{for(let I=0;I<T.length;I++)T[I](R)},def=(T,R,I)=>{Object.defineProperty(T,R,{configurable:!0,enumerable:!1,value:I})},toNumber=T=>{const R=parseFloat(T);return isNaN(R)?T:R};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(R=!1){this.active=!0,this.effects=[],this.cleanups=[],!R&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(R){if(this.active){const I=activeEffectScope;try{return activeEffectScope=this,R()}finally{activeEffectScope=I}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(R){if(this.active){let I,$;for(I=0,$=this.effects.length;I<$;I++)this.effects[I].stop();for(I=0,$=this.cleanups.length;I<$;I++)this.cleanups[I]();if(this.scopes)for(I=0,$=this.scopes.length;I<$;I++)this.scopes[I].stop(!0);if(this.parent&&!R){const N=this.parent.scopes.pop();N&&N!==this&&(this.parent.scopes[this.index]=N,N.index=this.index)}this.active=!1}}}function recordEffectScope(T,R=activeEffectScope){R&&R.active&&R.effects.push(T)}const createDep=T=>{const R=new Set(T);return R.w=0,R.n=0,R},wasTracked=T=>(T.w&trackOpBit)>0,newTracked=T=>(T.n&trackOpBit)>0,initDepMarkers=({deps:T})=>{if(T.length)for(let R=0;R<T.length;R++)T[R].w|=trackOpBit},finalizeDepMarkers=T=>{const{deps:R}=T;if(R.length){let I=0;for(let $=0;$<R.length;$++){const N=R[$];wasTracked(N)&&!newTracked(N)?N.delete(T):R[I++]=N,N.w&=~trackOpBit,N.n&=~trackOpBit}R.length=I}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(R,I=null,$){this.fn=R,this.scheduler=I,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,$)}run(){if(!this.active)return this.fn();let R=activeEffect,I=shouldTrack;for(;R;){if(R===this)return;R=R.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=I,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(T){const{deps:R}=T;if(R.length){for(let I=0;I<R.length;I++)R[I].delete(T);R.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const T=trackStack.pop();shouldTrack=T===void 0?!0:T}function track(T,R,I){if(shouldTrack&&activeEffect){let $=targetMap.get(T);$||targetMap.set(T,$=new Map);let N=$.get(I);N||$.set(I,N=createDep()),trackEffects(N)}}function trackEffects(T,R){let I=!1;effectTrackDepth<=maxMarkerBits?newTracked(T)||(T.n|=trackOpBit,I=!wasTracked(T)):I=!T.has(activeEffect),I&&(T.add(activeEffect),activeEffect.deps.push(T))}function trigger$1(T,R,I,$,N,M){const L=targetMap.get(T);if(!L)return;let B=[];if(R==="clear")B=[...L.values()];else if(I==="length"&&isArray$4(T))L.forEach((k,U)=>{(U==="length"||U>=$)&&B.push(k)});else switch(I!==void 0&&B.push(L.get(I)),R){case"add":isArray$4(T)?isIntegerKey(I)&&B.push(L.get("length")):(B.push(L.get(ITERATE_KEY)),isMap(T)&&B.push(L.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$4(T)||(B.push(L.get(ITERATE_KEY)),isMap(T)&&B.push(L.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(T)&&B.push(L.get(ITERATE_KEY));break}if(B.length===1)B[0]&&triggerEffects(B[0]);else{const k=[];for(const U of B)U&&k.push(...U);triggerEffects(createDep(k))}}function triggerEffects(T,R){const I=isArray$4(T)?T:[...T];for(const $ of I)$.computed&&triggerEffect($);for(const $ of I)$.computed||triggerEffect($)}function triggerEffect(T,R){(T!==activeEffect||T.allowRecurse)&&(T.scheduler?T.scheduler():T.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(T=>T!=="arguments"&&T!=="caller").map(T=>Symbol[T]).filter(isSymbol$1)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const T={};return["includes","indexOf","lastIndexOf"].forEach(R=>{T[R]=function(...I){const $=toRaw(this);for(let M=0,L=this.length;M<L;M++)track($,"get",M+"");const N=$[R](...I);return N===-1||N===!1?$[R](...I.map(toRaw)):N}}),["push","pop","shift","unshift","splice"].forEach(R=>{T[R]=function(...I){pauseTracking();const $=toRaw(this)[R].apply(this,I);return resetTracking(),$}}),T}function createGetter(T=!1,R=!1){return function($,N,M){if(N==="__v_isReactive")return!T;if(N==="__v_isReadonly")return T;if(N==="__v_isShallow")return R;if(N==="__v_raw"&&M===(T?R?shallowReadonlyMap:readonlyMap:R?shallowReactiveMap:reactiveMap).get($))return $;const L=isArray$4($);if(!T&&L&&hasOwn(arrayInstrumentations,N))return Reflect.get(arrayInstrumentations,N,M);const B=Reflect.get($,N,M);return(isSymbol$1(N)?builtInSymbols.has(N):isNonTrackableKeys(N))||(T||track($,"get",N),R)?B:isRef(B)?L&&isIntegerKey(N)?B:B.value:isObject$2(B)?T?readonly(B):reactive(B):B}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(T=!1){return function(I,$,N,M){let L=I[$];if(isReadonly(L)&&isRef(L)&&!isRef(N))return!1;if(!T&&!isReadonly(N)&&(isShallow(N)||(N=toRaw(N),L=toRaw(L)),!isArray$4(I)&&isRef(L)&&!isRef(N)))return L.value=N,!0;const B=isArray$4(I)&&isIntegerKey($)?Number($)<I.length:hasOwn(I,$),k=Reflect.set(I,$,N,M);return I===toRaw(M)&&(B?hasChanged(N,L)&&trigger$1(I,"set",$,N):trigger$1(I,"add",$,N)),k}}function deleteProperty(T,R){const I=hasOwn(T,R);T[R];const $=Reflect.deleteProperty(T,R);return $&&I&&trigger$1(T,"delete",R,void 0),$}function has(T,R){const I=Reflect.has(T,R);return(!isSymbol$1(R)||!builtInSymbols.has(R))&&track(T,"has",R),I}function ownKeys(T){return track(T,"iterate",isArray$4(T)?"length":ITERATE_KEY),Reflect.ownKeys(T)}const mutableHandlers={get:get$1,set,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(T,R){return!0},deleteProperty(T,R){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=T=>T,getProto=T=>Reflect.getPrototypeOf(T);function get$1$1(T,R,I=!1,$=!1){T=T.__v_raw;const N=toRaw(T),M=toRaw(R);I||(R!==M&&track(N,"get",R),track(N,"get",M));const{has:L}=getProto(N),B=$?toShallow:I?toReadonly:toReactive;if(L.call(N,R))return B(T.get(R));if(L.call(N,M))return B(T.get(M));T!==N&&T.get(R)}function has$1(T,R=!1){const I=this.__v_raw,$=toRaw(I),N=toRaw(T);return R||(T!==N&&track($,"has",T),track($,"has",N)),T===N?I.has(T):I.has(T)||I.has(N)}function size$1(T,R=!1){return T=T.__v_raw,!R&&track(toRaw(T),"iterate",ITERATE_KEY),Reflect.get(T,"size",T)}function add(T){T=toRaw(T);const R=toRaw(this);return getProto(R).has.call(R,T)||(R.add(T),trigger$1(R,"add",T,T)),this}function set$1(T,R){R=toRaw(R);const I=toRaw(this),{has:$,get:N}=getProto(I);let M=$.call(I,T);M||(T=toRaw(T),M=$.call(I,T));const L=N.call(I,T);return I.set(T,R),M?hasChanged(R,L)&&trigger$1(I,"set",T,R):trigger$1(I,"add",T,R),this}function deleteEntry(T){const R=toRaw(this),{has:I,get:$}=getProto(R);let N=I.call(R,T);N||(T=toRaw(T),N=I.call(R,T)),$&&$.call(R,T);const M=R.delete(T);return N&&trigger$1(R,"delete",T,void 0),M}function clear(){const T=toRaw(this),R=T.size!==0,I=T.clear();return R&&trigger$1(T,"clear",void 0,void 0),I}function createForEach(T,R){return function($,N){const M=this,L=M.__v_raw,B=toRaw(L),k=R?toShallow:T?toReadonly:toReactive;return!T&&track(B,"iterate",ITERATE_KEY),L.forEach((U,H)=>$.call(N,k(U),k(H),M))}}function createIterableMethod(T,R,I){return function(...$){const N=this.__v_raw,M=toRaw(N),L=isMap(M),B=T==="entries"||T===Symbol.iterator&&L,k=T==="keys"&&L,U=N[T](...$),H=I?toShallow:R?toReadonly:toReactive;return!R&&track(M,"iterate",k?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:z,done:V}=U.next();return V?{value:z,done:V}:{value:B?[H(z[0]),H(z[1])]:H(z),done:V}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(T){return function(...R){return T==="delete"?!1:this}}function createInstrumentations(){const T={get(M){return get$1$1(this,M)},get size(){return size$1(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},R={get(M){return get$1$1(this,M,!1,!0)},get size(){return size$1(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},I={get(M){return get$1$1(this,M,!0)},get size(){return size$1(this,!0)},has(M){return has$1.call(this,M,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},$={get(M){return get$1$1(this,M,!0,!0)},get size(){return size$1(this,!0)},has(M){return has$1.call(this,M,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(M=>{T[M]=createIterableMethod(M,!1,!1),I[M]=createIterableMethod(M,!0,!1),R[M]=createIterableMethod(M,!1,!0),$[M]=createIterableMethod(M,!0,!0)}),[T,I,R,$]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(T,R){const I=R?T?shallowReadonlyInstrumentations:shallowInstrumentations:T?readonlyInstrumentations:mutableInstrumentations;return($,N,M)=>N==="__v_isReactive"?!T:N==="__v_isReadonly"?T:N==="__v_raw"?$:Reflect.get(hasOwn(I,N)&&N in $?I:$,N,M)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(T){switch(T){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(T){return T.__v_skip||!Object.isExtensible(T)?0:targetTypeMap(toRawType(T))}function reactive(T){return isReadonly(T)?T:createReactiveObject(T,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(T){return createReactiveObject(T,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(T){return createReactiveObject(T,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(T,R,I,$,N){if(!isObject$2(T)||T.__v_raw&&!(R&&T.__v_isReactive))return T;const M=N.get(T);if(M)return M;const L=getTargetType(T);if(L===0)return T;const B=new Proxy(T,L===2?$:I);return N.set(T,B),B}function isReactive(T){return isReadonly(T)?isReactive(T.__v_raw):!!(T&&T.__v_isReactive)}function isReadonly(T){return!!(T&&T.__v_isReadonly)}function isShallow(T){return!!(T&&T.__v_isShallow)}function isProxy(T){return isReactive(T)||isReadonly(T)}function toRaw(T){const R=T&&T.__v_raw;return R?toRaw(R):T}function markRaw(T){return def(T,"__v_skip",!0),T}const toReactive=T=>isObject$2(T)?reactive(T):T,toReadonly=T=>isObject$2(T)?readonly(T):T;function trackRefValue(T){shouldTrack&&activeEffect&&(T=toRaw(T),trackEffects(T.dep||(T.dep=createDep())))}function triggerRefValue(T,R){T=toRaw(T),T.dep&&triggerEffects(T.dep)}function isRef(T){return!!(T&&T.__v_isRef===!0)}function ref(T){return createRef(T,!1)}function shallowRef(T){return createRef(T,!0)}function createRef(T,R){return isRef(T)?T:new RefImpl(T,R)}class RefImpl{constructor(R,I){this.__v_isShallow=I,this.dep=void 0,this.__v_isRef=!0,this._rawValue=I?R:toRaw(R),this._value=I?R:toReactive(R)}get value(){return trackRefValue(this),this._value}set value(R){R=this.__v_isShallow?R:toRaw(R),hasChanged(R,this._rawValue)&&(this._rawValue=R,this._value=this.__v_isShallow?R:toReactive(R),triggerRefValue(this))}}function unref(T){return isRef(T)?T.value:T}const shallowUnwrapHandlers={get:(T,R,I)=>unref(Reflect.get(T,R,I)),set:(T,R,I,$)=>{const N=T[R];return isRef(N)&&!isRef(I)?(N.value=I,!0):Reflect.set(T,R,I,$)}};function proxyRefs(T){return isReactive(T)?T:new Proxy(T,shallowUnwrapHandlers)}class ObjectRefImpl{constructor(R,I,$){this._object=R,this._key=I,this._defaultValue=$,this.__v_isRef=!0}get value(){const R=this._object[this._key];return R===void 0?this._defaultValue:R}set value(R){this._object[this._key]=R}}function toRef(T,R,I){const $=T[R];return isRef($)?$:new ObjectRefImpl(T,R,I)}class ComputedRefImpl{constructor(R,I,$,N){this._setter=I,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(R,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!N,this.__v_isReadonly=$}get value(){const R=toRaw(this);return trackRefValue(R),(R._dirty||!R._cacheable)&&(R._dirty=!1,R._value=R.effect.run()),R._value}set value(R){this._setter(R)}}function computed$1(T,R,I=!1){let $,N;const M=isFunction$1(T);return M?($=T,N=NOOP):($=T.get,N=T.set),new ComputedRefImpl($,N,M||!N,I)}function callWithErrorHandling(T,R,I,$){let N;try{N=$?T(...$):T()}catch(M){handleError(M,R,I)}return N}function callWithAsyncErrorHandling(T,R,I,$){if(isFunction$1(T)){const M=callWithErrorHandling(T,R,I,$);return M&&isPromise(M)&&M.catch(L=>{handleError(L,R,I)}),M}const N=[];for(let M=0;M<T.length;M++)N.push(callWithAsyncErrorHandling(T[M],R,I,$));return N}function handleError(T,R,I,$=!0){const N=R?R.vnode:null;if(R){let M=R.parent;const L=R.proxy,B=I;for(;M;){const U=M.ec;if(U){for(let H=0;H<U.length;H++)if(U[H](T,L,B)===!1)return}M=M.parent}const k=R.appContext.config.errorHandler;if(k){callWithErrorHandling(k,null,10,[T,L,B]);return}}logError(T,I,N,$)}function logError(T,R,I,$=!0){console.error(T)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPreFlushCbs=[];let activePreFlushCbs=null,preFlushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null,currentPreFlushParentJob=null;function nextTick(T){const R=currentFlushPromise||resolvedPromise;return T?R.then(this?T.bind(this):T):R}function findInsertionIndex(T){let R=flushIndex+1,I=queue.length;for(;R<I;){const $=R+I>>>1;getId(queue[$])<T?R=$+1:I=$}return R}function queueJob(T){(!queue.length||!queue.includes(T,isFlushing&&T.allowRecurse?flushIndex+1:flushIndex))&&T!==currentPreFlushParentJob&&(T.id==null?queue.push(T):queue.splice(findInsertionIndex(T.id),0,T),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(T){const R=queue.indexOf(T);R>flushIndex&&queue.splice(R,1)}function queueCb(T,R,I,$){isArray$4(T)?I.push(...T):(!R||!R.includes(T,T.allowRecurse?$+1:$))&&I.push(T),queueFlush()}function queuePreFlushCb(T){queueCb(T,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(T){queueCb(T,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(T,R=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=R,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(T,R)}}function flushPostFlushCbs(T){if(flushPreFlushCbs(),pendingPostFlushCbs.length){const R=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...R);return}for(activePostFlushCbs=R,activePostFlushCbs.sort((I,$)=>getId(I)-getId($)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=T=>T.id==null?1/0:T.id;function flushJobs(T){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(T),queue.sort((I,$)=>getId(I)-getId($));const R=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const I=queue[flushIndex];I&&I.active!==!1&&callWithErrorHandling(I,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(T)}}function emit$1(T,R,...I){if(T.isUnmounted)return;const $=T.vnode.props||EMPTY_OBJ;let N=I;const M=R.startsWith("update:"),L=M&&R.slice(7);if(L&&L in $){const H=`${L==="modelValue"?"model":L}Modifiers`,{number:z,trim:V}=$[H]||EMPTY_OBJ;V&&(N=I.map(W=>W.trim())),z&&(N=I.map(toNumber))}let B,k=$[B=toHandlerKey(R)]||$[B=toHandlerKey(camelize(R))];!k&&M&&(k=$[B=toHandlerKey(hyphenate(R))]),k&&callWithAsyncErrorHandling(k,T,6,N);const U=$[B+"Once"];if(U){if(!T.emitted)T.emitted={};else if(T.emitted[B])return;T.emitted[B]=!0,callWithAsyncErrorHandling(U,T,6,N)}}function normalizeEmitsOptions(T,R,I=!1){const $=R.emitsCache,N=$.get(T);if(N!==void 0)return N;const M=T.emits;let L={},B=!1;if(!isFunction$1(T)){const k=U=>{const H=normalizeEmitsOptions(U,R,!0);H&&(B=!0,extend(L,H))};!I&&R.mixins.length&&R.mixins.forEach(k),T.extends&&k(T.extends),T.mixins&&T.mixins.forEach(k)}return!M&&!B?($.set(T,null),null):(isArray$4(M)?M.forEach(k=>L[k]=null):extend(L,M),$.set(T,L),L)}function isEmitListener(T,R){return!T||!isOn(R)?!1:(R=R.slice(2).replace(/Once$/,""),hasOwn(T,R[0].toLowerCase()+R.slice(1))||hasOwn(T,hyphenate(R))||hasOwn(T,R))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(T){const R=currentRenderingInstance;return currentRenderingInstance=T,currentScopeId=T&&T.type.__scopeId||null,R}function withCtx(T,R=currentRenderingInstance,I){if(!R||T._n)return T;const $=(...N)=>{$._d&&setBlockTracking(-1);const M=setCurrentRenderingInstance(R),L=T(...N);return setCurrentRenderingInstance(M),$._d&&setBlockTracking(1),L};return $._n=!0,$._c=!0,$._d=!0,$}function markAttrsAccessed(){}function renderComponentRoot(T){const{type:R,vnode:I,proxy:$,withProxy:N,props:M,propsOptions:[L],slots:B,attrs:k,emit:U,render:H,renderCache:z,data:V,setupState:W,ctx:K,inheritAttrs:Y}=T;let q,Z;const Q=setCurrentRenderingInstance(T);try{if(I.shapeFlag&4){const ne=N||$;q=normalizeVNode(H.call(ne,ne,z,M,W,V,K)),Z=k}else{const ne=R;q=normalizeVNode(ne.length>1?ne(M,{attrs:k,slots:B,emit:U}):ne(M,null)),Z=R.props?k:getFunctionalFallthrough(k)}}catch(ne){blockStack.length=0,handleError(ne,T,1),q=createVNode(Comment)}let ee=q;if(Z&&Y!==!1){const ne=Object.keys(Z),{shapeFlag:te}=ee;ne.length&&te&7&&(L&&ne.some(isModelListener)&&(Z=filterModelListeners(Z,L)),ee=cloneVNode(ee,Z))}return I.dirs&&(ee=cloneVNode(ee),ee.dirs=ee.dirs?ee.dirs.concat(I.dirs):I.dirs),I.transition&&(ee.transition=I.transition),q=ee,setCurrentRenderingInstance(Q),q}function filterSingleRoot(T){let R;for(let I=0;I<T.length;I++){const $=T[I];if(isVNode($)){if($.type!==Comment||$.children==="v-if"){if(R)return;R=$}}else return}return R}const getFunctionalFallthrough=T=>{let R;for(const I in T)(I==="class"||I==="style"||isOn(I))&&((R||(R={}))[I]=T[I]);return R},filterModelListeners=(T,R)=>{const I={};for(const $ in T)(!isModelListener($)||!($.slice(9)in R))&&(I[$]=T[$]);return I};function shouldUpdateComponent(T,R,I){const{props:$,children:N,component:M}=T,{props:L,children:B,patchFlag:k}=R,U=M.emitsOptions;if(R.dirs||R.transition)return!0;if(I&&k>=0){if(k&1024)return!0;if(k&16)return $?hasPropsChanged($,L,U):!!L;if(k&8){const H=R.dynamicProps;for(let z=0;z<H.length;z++){const V=H[z];if(L[V]!==$[V]&&!isEmitListener(U,V))return!0}}}else return(N||B)&&(!B||!B.$stable)?!0:$===L?!1:$?L?hasPropsChanged($,L,U):!0:!!L;return!1}function hasPropsChanged(T,R,I){const $=Object.keys(R);if($.length!==Object.keys(T).length)return!0;for(let N=0;N<$.length;N++){const M=$[N];if(R[M]!==T[M]&&!isEmitListener(I,M))return!0}return!1}function updateHOCHostEl({vnode:T,parent:R},I){for(;R&&R.subTree===T;)(T=R.vnode).el=I,R=R.parent}const isSuspense=T=>T.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(T,R,I,$,N,M,L,B,k,U){T==null?mountSuspense(R,I,$,N,M,L,B,k,U):patchSuspense(T,R,I,$,N,L,B,k,U)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(T,R){const I=T.props&&T.props[R];isFunction$1(I)&&I()}function mountSuspense(T,R,I,$,N,M,L,B,k){const{p:U,o:{createElement:H}}=k,z=H("div"),V=T.suspense=createSuspenseBoundary(T,N,$,R,z,I,M,L,B,k);U(null,V.pendingBranch=T.ssContent,z,null,$,V,M,L),V.deps>0?(triggerEvent(T,"onPending"),triggerEvent(T,"onFallback"),U(null,T.ssFallback,R,I,$,null,M,L),setActiveBranch(V,T.ssFallback)):V.resolve()}function patchSuspense(T,R,I,$,N,M,L,B,{p:k,um:U,o:{createElement:H}}){const z=R.suspense=T.suspense;z.vnode=R,R.el=T.el;const V=R.ssContent,W=R.ssFallback,{activeBranch:K,pendingBranch:Y,isInFallback:q,isHydrating:Z}=z;if(Y)z.pendingBranch=V,isSameVNodeType(V,Y)?(k(Y,V,z.hiddenContainer,null,N,z,M,L,B),z.deps<=0?z.resolve():q&&(k(K,W,I,$,N,null,M,L,B),setActiveBranch(z,W))):(z.pendingId++,Z?(z.isHydrating=!1,z.activeBranch=Y):U(Y,N,z),z.deps=0,z.effects.length=0,z.hiddenContainer=H("div"),q?(k(null,V,z.hiddenContainer,null,N,z,M,L,B),z.deps<=0?z.resolve():(k(K,W,I,$,N,null,M,L,B),setActiveBranch(z,W))):K&&isSameVNodeType(V,K)?(k(K,V,I,$,N,z,M,L,B),z.resolve(!0)):(k(null,V,z.hiddenContainer,null,N,z,M,L,B),z.deps<=0&&z.resolve()));else if(K&&isSameVNodeType(V,K))k(K,V,I,$,N,z,M,L,B),setActiveBranch(z,V);else if(triggerEvent(R,"onPending"),z.pendingBranch=V,z.pendingId++,k(null,V,z.hiddenContainer,null,N,z,M,L,B),z.deps<=0)z.resolve();else{const{timeout:Q,pendingId:ee}=z;Q>0?setTimeout(()=>{z.pendingId===ee&&z.fallback(W)},Q):Q===0&&z.fallback(W)}}function createSuspenseBoundary(T,R,I,$,N,M,L,B,k,U,H=!1){const{p:z,m:V,um:W,n:K,o:{parentNode:Y,remove:q}}=U,Z=toNumber(T.props&&T.props.timeout),Q={vnode:T,parent:R,parentComponent:I,isSVG:L,container:$,hiddenContainer:N,anchor:M,deps:0,pendingId:0,timeout:typeof Z=="number"?Z:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:H,isUnmounted:!1,effects:[],resolve(ee=!1){const{vnode:ne,activeBranch:te,pendingBranch:re,pendingId:ie,effects:se,parentComponent:le,container:he}=Q;if(Q.isHydrating)Q.isHydrating=!1;else if(!ee){const Se=te&&re.transition&&re.transition.mode==="out-in";Se&&(te.transition.afterLeave=()=>{ie===Q.pendingId&&V(re,he,Pe,0)});let{anchor:Pe}=Q;te&&(Pe=K(te),W(te,le,Q,!0)),Se||V(re,he,Pe,0)}setActiveBranch(Q,re),Q.pendingBranch=null,Q.isInFallback=!1;let pe=Q.parent,fe=!1;for(;pe;){if(pe.pendingBranch){pe.effects.push(...se),fe=!0;break}pe=pe.parent}fe||queuePostFlushCb(se),Q.effects=[],triggerEvent(ne,"onResolve")},fallback(ee){if(!Q.pendingBranch)return;const{vnode:ne,activeBranch:te,parentComponent:re,container:ie,isSVG:se}=Q;triggerEvent(ne,"onFallback");const le=K(te),he=()=>{!Q.isInFallback||(z(null,ee,ie,le,re,null,se,B,k),setActiveBranch(Q,ee))},pe=ee.transition&&ee.transition.mode==="out-in";pe&&(te.transition.afterLeave=he),Q.isInFallback=!0,W(te,re,null,!0),pe||he()},move(ee,ne,te){Q.activeBranch&&V(Q.activeBranch,ee,ne,te),Q.container=ee},next(){return Q.activeBranch&&K(Q.activeBranch)},registerDep(ee,ne){const te=!!Q.pendingBranch;te&&Q.deps++;const re=ee.vnode.el;ee.asyncDep.catch(ie=>{handleError(ie,ee,0)}).then(ie=>{if(ee.isUnmounted||Q.isUnmounted||Q.pendingId!==ee.suspenseId)return;ee.asyncResolved=!0;const{vnode:se}=ee;handleSetupResult(ee,ie,!1),re&&(se.el=re);const le=!re&&ee.subTree.el;ne(ee,se,Y(re||ee.subTree.el),re?null:K(ee.subTree),Q,L,k),le&&q(le),updateHOCHostEl(ee,se.el),te&&--Q.deps===0&&Q.resolve()})},unmount(ee,ne){Q.isUnmounted=!0,Q.activeBranch&&W(Q.activeBranch,I,ee,ne),Q.pendingBranch&&W(Q.pendingBranch,I,ee,ne)}};return Q}function hydrateSuspense(T,R,I,$,N,M,L,B,k){const U=R.suspense=createSuspenseBoundary(R,$,I,T.parentNode,document.createElement("div"),null,N,M,L,B,!0),H=k(T,U.pendingBranch=R.ssContent,I,U,M,L);return U.deps===0&&U.resolve(),H}function normalizeSuspenseChildren(T){const{shapeFlag:R,children:I}=T,$=R&32;T.ssContent=normalizeSuspenseSlot($?I.default:I),T.ssFallback=$?normalizeSuspenseSlot(I.fallback):createVNode(Comment)}function normalizeSuspenseSlot(T){let R;if(isFunction$1(T)){const I=isBlockTreeEnabled&&T._c;I&&(T._d=!1,openBlock()),T=T(),I&&(T._d=!0,R=currentBlock,closeBlock())}return isArray$4(T)&&(T=filterSingleRoot(T)),T=normalizeVNode(T),R&&!T.dynamicChildren&&(T.dynamicChildren=R.filter(I=>I!==T)),T}function queueEffectWithSuspense(T,R){R&&R.pendingBranch?isArray$4(T)?R.effects.push(...T):R.effects.push(T):queuePostFlushCb(T)}function setActiveBranch(T,R){T.activeBranch=R;const{vnode:I,parentComponent:$}=T,N=I.el=R.el;$&&$.subTree===I&&($.vnode.el=N,updateHOCHostEl($,N))}function provide(T,R){if(currentInstance){let I=currentInstance.provides;const $=currentInstance.parent&&currentInstance.parent.provides;$===I&&(I=currentInstance.provides=Object.create($)),I[T]=R}}function inject(T,R,I=!1){const $=currentInstance||currentRenderingInstance;if($){const N=$.parent==null?$.vnode.appContext&&$.vnode.appContext.provides:$.parent.provides;if(N&&T in N)return N[T];if(arguments.length>1)return I&&isFunction$1(R)?R.call($.proxy):R}}function watchEffect(T,R){return doWatch(T,null,R)}const INITIAL_WATCHER_VALUE={};function watch(T,R,I){return doWatch(T,R,I)}function doWatch(T,R,{immediate:I,deep:$,flush:N,onTrack:M,onTrigger:L}=EMPTY_OBJ){const B=currentInstance;let k,U=!1,H=!1;if(isRef(T)?(k=()=>T.value,U=isShallow(T)):isReactive(T)?(k=()=>T,$=!0):isArray$4(T)?(H=!0,U=T.some(Z=>isReactive(Z)||isShallow(Z)),k=()=>T.map(Z=>{if(isRef(Z))return Z.value;if(isReactive(Z))return traverse$1(Z);if(isFunction$1(Z))return callWithErrorHandling(Z,B,2)})):isFunction$1(T)?R?k=()=>callWithErrorHandling(T,B,2):k=()=>{if(!(B&&B.isUnmounted))return z&&z(),callWithAsyncErrorHandling(T,B,3,[V])}:k=NOOP,R&&$){const Z=k;k=()=>traverse$1(Z())}let z,V=Z=>{z=q.onStop=()=>{callWithErrorHandling(Z,B,4)}};if(isInSSRComponentSetup)return V=NOOP,R?I&&callWithAsyncErrorHandling(R,B,3,[k(),H?[]:void 0,V]):k(),NOOP;let W=H?[]:INITIAL_WATCHER_VALUE;const K=()=>{if(!!q.active)if(R){const Z=q.run();($||U||(H?Z.some((Q,ee)=>hasChanged(Q,W[ee])):hasChanged(Z,W)))&&(z&&z(),callWithAsyncErrorHandling(R,B,3,[Z,W===INITIAL_WATCHER_VALUE?void 0:W,V]),W=Z)}else q.run()};K.allowRecurse=!!R;let Y;N==="sync"?Y=K:N==="post"?Y=()=>queuePostRenderEffect(K,B&&B.suspense):Y=()=>queuePreFlushCb(K);const q=new ReactiveEffect(k,Y);return R?I?K():W=q.run():N==="post"?queuePostRenderEffect(q.run.bind(q),B&&B.suspense):q.run(),()=>{q.stop(),B&&B.scope&&remove(B.scope.effects,q)}}function instanceWatch(T,R,I){const $=this.proxy,N=isString(T)?T.includes(".")?createPathGetter($,T):()=>$[T]:T.bind($,$);let M;isFunction$1(R)?M=R:(M=R.handler,I=R);const L=currentInstance;setCurrentInstance(this);const B=doWatch(N,M.bind($),I);return L?setCurrentInstance(L):unsetCurrentInstance(),B}function createPathGetter(T,R){const I=R.split(".");return()=>{let $=T;for(let N=0;N<I.length&&$;N++)$=$[I[N]];return $}}function traverse$1(T,R){if(!isObject$2(T)||T.__v_skip||(R=R||new Set,R.has(T)))return T;if(R.add(T),isRef(T))traverse$1(T.value,R);else if(isArray$4(T))for(let I=0;I<T.length;I++)traverse$1(T[I],R);else if(isSet(T)||isMap(T))T.forEach(I=>{traverse$1(I,R)});else if(isPlainObject$1(T))for(const I in T)traverse$1(T[I],R);return T}function useTransitionState(){const T={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{T.isMounted=!0}),onBeforeUnmount(()=>{T.isUnmounting=!0}),T}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(T,{slots:R}){const I=getCurrentInstance(),$=useTransitionState();let N;return()=>{const M=R.default&&getTransitionRawChildren(R.default(),!0);if(!M||!M.length)return;let L=M[0];if(M.length>1){for(const Y of M)if(Y.type!==Comment){L=Y;break}}const B=toRaw(T),{mode:k}=B;if($.isLeaving)return emptyPlaceholder(L);const U=getKeepAliveChild(L);if(!U)return emptyPlaceholder(L);const H=resolveTransitionHooks(U,B,$,I);setTransitionHooks(U,H);const z=I.subTree,V=z&&getKeepAliveChild(z);let W=!1;const{getTransitionKey:K}=U.type;if(K){const Y=K();N===void 0?N=Y:Y!==N&&(N=Y,W=!0)}if(V&&V.type!==Comment&&(!isSameVNodeType(U,V)||W)){const Y=resolveTransitionHooks(V,B,$,I);if(setTransitionHooks(V,Y),k==="out-in")return $.isLeaving=!0,Y.afterLeave=()=>{$.isLeaving=!1,I.update()},emptyPlaceholder(L);k==="in-out"&&U.type!==Comment&&(Y.delayLeave=(q,Z,Q)=>{const ee=getLeavingNodesForType($,V);ee[String(V.key)]=V,q._leaveCb=()=>{Z(),q._leaveCb=void 0,delete H.delayedLeave},H.delayedLeave=Q})}return L}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(T,R){const{leavingVNodes:I}=T;let $=I.get(R.type);return $||($=Object.create(null),I.set(R.type,$)),$}function resolveTransitionHooks(T,R,I,$){const{appear:N,mode:M,persisted:L=!1,onBeforeEnter:B,onEnter:k,onAfterEnter:U,onEnterCancelled:H,onBeforeLeave:z,onLeave:V,onAfterLeave:W,onLeaveCancelled:K,onBeforeAppear:Y,onAppear:q,onAfterAppear:Z,onAppearCancelled:Q}=R,ee=String(T.key),ne=getLeavingNodesForType(I,T),te=(se,le)=>{se&&callWithAsyncErrorHandling(se,$,9,le)},re=(se,le)=>{const he=le[1];te(se,le),isArray$4(se)?se.every(pe=>pe.length<=1)&&he():se.length<=1&&he()},ie={mode:M,persisted:L,beforeEnter(se){let le=B;if(!I.isMounted)if(N)le=Y||B;else return;se._leaveCb&&se._leaveCb(!0);const he=ne[ee];he&&isSameVNodeType(T,he)&&he.el._leaveCb&&he.el._leaveCb(),te(le,[se])},enter(se){let le=k,he=U,pe=H;if(!I.isMounted)if(N)le=q||k,he=Z||U,pe=Q||H;else return;let fe=!1;const Se=se._enterCb=Pe=>{fe||(fe=!0,Pe?te(pe,[se]):te(he,[se]),ie.delayedLeave&&ie.delayedLeave(),se._enterCb=void 0)};le?re(le,[se,Se]):Se()},leave(se,le){const he=String(T.key);if(se._enterCb&&se._enterCb(!0),I.isUnmounting)return le();te(z,[se]);let pe=!1;const fe=se._leaveCb=Se=>{pe||(pe=!0,le(),Se?te(K,[se]):te(W,[se]),se._leaveCb=void 0,ne[he]===T&&delete ne[he])};ne[he]=T,V?re(V,[se,fe]):fe()},clone(se){return resolveTransitionHooks(se,R,I,$)}};return ie}function emptyPlaceholder(T){if(isKeepAlive(T))return T=cloneVNode(T),T.children=null,T}function getKeepAliveChild(T){return isKeepAlive(T)?T.children?T.children[0]:void 0:T}function setTransitionHooks(T,R){T.shapeFlag&6&&T.component?setTransitionHooks(T.component.subTree,R):T.shapeFlag&128?(T.ssContent.transition=R.clone(T.ssContent),T.ssFallback.transition=R.clone(T.ssFallback)):T.transition=R}function getTransitionRawChildren(T,R=!1,I){let $=[],N=0;for(let M=0;M<T.length;M++){let L=T[M];const B=I==null?L.key:String(I)+String(L.key!=null?L.key:M);L.type===Fragment?(L.patchFlag&128&&N++,$=$.concat(getTransitionRawChildren(L.children,R,B))):(R||L.type!==Comment)&&$.push(B!=null?cloneVNode(L,{key:B}):L)}if(N>1)for(let M=0;M<$.length;M++)$[M].patchFlag=-2;return $}function defineComponent(T){return isFunction$1(T)?{setup:T,name:T.name}:T}const isAsyncWrapper=T=>!!T.type.__asyncLoader,isKeepAlive=T=>T.type.__isKeepAlive;function onActivated(T,R){registerKeepAliveHook(T,"a",R)}function onDeactivated(T,R){registerKeepAliveHook(T,"da",R)}function registerKeepAliveHook(T,R,I=currentInstance){const $=T.__wdc||(T.__wdc=()=>{let N=I;for(;N;){if(N.isDeactivated)return;N=N.parent}return T()});if(injectHook(R,$,I),I){let N=I.parent;for(;N&&N.parent;)isKeepAlive(N.parent.vnode)&&injectToKeepAliveRoot($,R,I,N),N=N.parent}}function injectToKeepAliveRoot(T,R,I,$){const N=injectHook(R,T,$,!0);onUnmounted(()=>{remove($[R],N)},I)}function injectHook(T,R,I=currentInstance,$=!1){if(I){const N=I[T]||(I[T]=[]),M=R.__weh||(R.__weh=(...L)=>{if(I.isUnmounted)return;pauseTracking(),setCurrentInstance(I);const B=callWithAsyncErrorHandling(R,I,T,L);return unsetCurrentInstance(),resetTracking(),B});return $?N.unshift(M):N.push(M),M}}const createHook=T=>(R,I=currentInstance)=>(!isInSSRComponentSetup||T==="sp")&&injectHook(T,R,I),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(T,R=currentInstance){injectHook("ec",T,R)}function withDirectives(T,R){const I=currentRenderingInstance;if(I===null)return T;const $=getExposeProxy(I)||I.proxy,N=T.dirs||(T.dirs=[]);for(let M=0;M<R.length;M++){let[L,B,k,U=EMPTY_OBJ]=R[M];isFunction$1(L)&&(L={mounted:L,updated:L}),L.deep&&traverse$1(B),N.push({dir:L,instance:$,value:B,oldValue:void 0,arg:k,modifiers:U})}return T}function invokeDirectiveHook(T,R,I,$){const N=T.dirs,M=R&&R.dirs;for(let L=0;L<N.length;L++){const B=N[L];M&&(B.oldValue=M[L].value);let k=B.dir[$];k&&(pauseTracking(),callWithAsyncErrorHandling(k,I,8,[T.el,B,T,R]),resetTracking())}}const COMPONENTS="components";function resolveComponent(T,R){return resolveAsset(COMPONENTS,T,!0,R)||T}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(T,R,I=!0,$=!1){const N=currentRenderingInstance||currentInstance;if(N){const M=N.type;if(T===COMPONENTS){const B=getComponentName(M,!1);if(B&&(B===R||B===camelize(R)||B===capitalize(camelize(R))))return M}const L=resolve$2(N[T]||M[T],R)||resolve$2(N.appContext[T],R);return!L&&$?M:L}}function resolve$2(T,R){return T&&(T[R]||T[camelize(R)]||T[capitalize(camelize(R))])}function renderList(T,R,I,$){let N;const M=I&&I[$];if(isArray$4(T)||isString(T)){N=new Array(T.length);for(let L=0,B=T.length;L<B;L++)N[L]=R(T[L],L,void 0,M&&M[L])}else if(typeof T=="number"){N=new Array(T);for(let L=0;L<T;L++)N[L]=R(L+1,L,void 0,M&&M[L])}else if(isObject$2(T))if(T[Symbol.iterator])N=Array.from(T,(L,B)=>R(L,B,void 0,M&&M[B]));else{const L=Object.keys(T);N=new Array(L.length);for(let B=0,k=L.length;B<k;B++){const U=L[B];N[B]=R(T[U],U,B,M&&M[B])}}else N=[];return I&&(I[$]=N),N}function renderSlot(T,R,I={},$,N){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return createVNode("slot",R==="default"?null:{name:R},$&&$());let M=T[R];M&&M._c&&(M._d=!1),openBlock();const L=M&&ensureValidVNode$1(M(I)),B=createBlock(Fragment,{key:I.key||`_${R}`},L||($?$():[]),L&&T._===1?64:-2);return!N&&B.scopeId&&(B.slotScopeIds=[B.scopeId+"-s"]),M&&M._c&&(M._d=!0),B}function ensureValidVNode$1(T){return T.some(R=>isVNode(R)?!(R.type===Comment||R.type===Fragment&&!ensureValidVNode$1(R.children)):!0)?T:null}const getPublicInstance=T=>T?isStatefulComponent(T)?getExposeProxy(T)||T.proxy:getPublicInstance(T.parent):null,publicPropertiesMap=extend(Object.create(null),{$:T=>T,$el:T=>T.vnode.el,$data:T=>T.data,$props:T=>T.props,$attrs:T=>T.attrs,$slots:T=>T.slots,$refs:T=>T.refs,$parent:T=>getPublicInstance(T.parent),$root:T=>getPublicInstance(T.root),$emit:T=>T.emit,$options:T=>resolveMergedOptions(T),$forceUpdate:T=>T.f||(T.f=()=>queueJob(T.update)),$nextTick:T=>T.n||(T.n=nextTick.bind(T.proxy)),$watch:T=>instanceWatch.bind(T)}),PublicInstanceProxyHandlers={get({_:T},R){const{ctx:I,setupState:$,data:N,props:M,accessCache:L,type:B,appContext:k}=T;let U;if(R[0]!=="$"){const W=L[R];if(W!==void 0)switch(W){case 1:return $[R];case 2:return N[R];case 4:return I[R];case 3:return M[R]}else{if($!==EMPTY_OBJ&&hasOwn($,R))return L[R]=1,$[R];if(N!==EMPTY_OBJ&&hasOwn(N,R))return L[R]=2,N[R];if((U=T.propsOptions[0])&&hasOwn(U,R))return L[R]=3,M[R];if(I!==EMPTY_OBJ&&hasOwn(I,R))return L[R]=4,I[R];shouldCacheAccess&&(L[R]=0)}}const H=publicPropertiesMap[R];let z,V;if(H)return R==="$attrs"&&track(T,"get",R),H(T);if((z=B.__cssModules)&&(z=z[R]))return z;if(I!==EMPTY_OBJ&&hasOwn(I,R))return L[R]=4,I[R];if(V=k.config.globalProperties,hasOwn(V,R))return V[R]},set({_:T},R,I){const{data:$,setupState:N,ctx:M}=T;return N!==EMPTY_OBJ&&hasOwn(N,R)?(N[R]=I,!0):$!==EMPTY_OBJ&&hasOwn($,R)?($[R]=I,!0):hasOwn(T.props,R)||R[0]==="$"&&R.slice(1)in T?!1:(M[R]=I,!0)},has({_:{data:T,setupState:R,accessCache:I,ctx:$,appContext:N,propsOptions:M}},L){let B;return!!I[L]||T!==EMPTY_OBJ&&hasOwn(T,L)||R!==EMPTY_OBJ&&hasOwn(R,L)||(B=M[0])&&hasOwn(B,L)||hasOwn($,L)||hasOwn(publicPropertiesMap,L)||hasOwn(N.config.globalProperties,L)},defineProperty(T,R,I){return I.get!=null?T._.accessCache[R]=0:hasOwn(I,"value")&&this.set(T,R,I.value,null),Reflect.defineProperty(T,R,I)}};let shouldCacheAccess=!0;function applyOptions(T){const R=resolveMergedOptions(T),I=T.proxy,$=T.ctx;shouldCacheAccess=!1,R.beforeCreate&&callHook$1(R.beforeCreate,T,"bc");const{data:N,computed:M,methods:L,watch:B,provide:k,inject:U,created:H,beforeMount:z,mounted:V,beforeUpdate:W,updated:K,activated:Y,deactivated:q,beforeDestroy:Z,beforeUnmount:Q,destroyed:ee,unmounted:ne,render:te,renderTracked:re,renderTriggered:ie,errorCaptured:se,serverPrefetch:le,expose:he,inheritAttrs:pe,components:fe,directives:Se,filters:Pe}=R;if(U&&resolveInjections(U,$,null,T.appContext.config.unwrapInjectedRef),L)for(const Ee in L){const He=L[Ee];isFunction$1(He)&&($[Ee]=He.bind(I))}if(N){const Ee=N.call(I,I);isObject$2(Ee)&&(T.data=reactive(Ee))}if(shouldCacheAccess=!0,M)for(const Ee in M){const He=M[Ee],Ae=isFunction$1(He)?He.bind(I,I):isFunction$1(He.get)?He.get.bind(I,I):NOOP,de=!isFunction$1(He)&&isFunction$1(He.set)?He.set.bind(I):NOOP,Oe=computed({get:Ae,set:de});Object.defineProperty($,Ee,{enumerable:!0,configurable:!0,get:()=>Oe.value,set:Ve=>Oe.value=Ve})}if(B)for(const Ee in B)createWatcher(B[Ee],$,I,Ee);if(k){const Ee=isFunction$1(k)?k.call(I):k;Reflect.ownKeys(Ee).forEach(He=>{provide(He,Ee[He])})}H&&callHook$1(H,T,"c");function we(Ee,He){isArray$4(He)?He.forEach(Ae=>Ee(Ae.bind(I))):He&&Ee(He.bind(I))}if(we(onBeforeMount,z),we(onMounted,V),we(onBeforeUpdate,W),we(onUpdated,K),we(onActivated,Y),we(onDeactivated,q),we(onErrorCaptured,se),we(onRenderTracked,re),we(onRenderTriggered,ie),we(onBeforeUnmount,Q),we(onUnmounted,ne),we(onServerPrefetch,le),isArray$4(he))if(he.length){const Ee=T.exposed||(T.exposed={});he.forEach(He=>{Object.defineProperty(Ee,He,{get:()=>I[He],set:Ae=>I[He]=Ae})})}else T.exposed||(T.exposed={});te&&T.render===NOOP&&(T.render=te),pe!=null&&(T.inheritAttrs=pe),fe&&(T.components=fe),Se&&(T.directives=Se)}function resolveInjections(T,R,I=NOOP,$=!1){isArray$4(T)&&(T=normalizeInject(T));for(const N in T){const M=T[N];let L;isObject$2(M)?"default"in M?L=inject(M.from||N,M.default,!0):L=inject(M.from||N):L=inject(M),isRef(L)&&$?Object.defineProperty(R,N,{enumerable:!0,configurable:!0,get:()=>L.value,set:B=>L.value=B}):R[N]=L}}function callHook$1(T,R,I){callWithAsyncErrorHandling(isArray$4(T)?T.map($=>$.bind(R.proxy)):T.bind(R.proxy),R,I)}function createWatcher(T,R,I,$){const N=$.includes(".")?createPathGetter(I,$):()=>I[$];if(isString(T)){const M=R[T];isFunction$1(M)&&watch(N,M)}else if(isFunction$1(T))watch(N,T.bind(I));else if(isObject$2(T))if(isArray$4(T))T.forEach(M=>createWatcher(M,R,I,$));else{const M=isFunction$1(T.handler)?T.handler.bind(I):R[T.handler];isFunction$1(M)&&watch(N,M,T)}}function resolveMergedOptions(T){const R=T.type,{mixins:I,extends:$}=R,{mixins:N,optionsCache:M,config:{optionMergeStrategies:L}}=T.appContext,B=M.get(R);let k;return B?k=B:!N.length&&!I&&!$?k=R:(k={},N.length&&N.forEach(U=>mergeOptions$1(k,U,L,!0)),mergeOptions$1(k,R,L)),M.set(R,k),k}function mergeOptions$1(T,R,I,$=!1){const{mixins:N,extends:M}=R;M&&mergeOptions$1(T,M,I,!0),N&&N.forEach(L=>mergeOptions$1(T,L,I,!0));for(const L in R)if(!($&&L==="expose")){const B=internalOptionMergeStrats[L]||I&&I[L];T[L]=B?B(T[L],R[L]):R[L]}return T}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(T,R){return R?T?function(){return extend(isFunction$1(T)?T.call(this,this):T,isFunction$1(R)?R.call(this,this):R)}:R:T}function mergeInject(T,R){return mergeObjectOptions(normalizeInject(T),normalizeInject(R))}function normalizeInject(T){if(isArray$4(T)){const R={};for(let I=0;I<T.length;I++)R[T[I]]=T[I];return R}return T}function mergeAsArray(T,R){return T?[...new Set([].concat(T,R))]:R}function mergeObjectOptions(T,R){return T?extend(extend(Object.create(null),T),R):R}function mergeWatchOptions(T,R){if(!T)return R;if(!R)return T;const I=extend(Object.create(null),T);for(const $ in R)I[$]=mergeAsArray(T[$],R[$]);return I}function initProps(T,R,I,$=!1){const N={},M={};def(M,InternalObjectKey,1),T.propsDefaults=Object.create(null),setFullProps(T,R,N,M);for(const L in T.propsOptions[0])L in N||(N[L]=void 0);I?T.props=$?N:shallowReactive(N):T.type.props?T.props=N:T.props=M,T.attrs=M}function updateProps(T,R,I,$){const{props:N,attrs:M,vnode:{patchFlag:L}}=T,B=toRaw(N),[k]=T.propsOptions;let U=!1;if(($||L>0)&&!(L&16)){if(L&8){const H=T.vnode.dynamicProps;for(let z=0;z<H.length;z++){let V=H[z];if(isEmitListener(T.emitsOptions,V))continue;const W=R[V];if(k)if(hasOwn(M,V))W!==M[V]&&(M[V]=W,U=!0);else{const K=camelize(V);N[K]=resolvePropValue(k,B,K,W,T,!1)}else W!==M[V]&&(M[V]=W,U=!0)}}}else{setFullProps(T,R,N,M)&&(U=!0);let H;for(const z in B)(!R||!hasOwn(R,z)&&((H=hyphenate(z))===z||!hasOwn(R,H)))&&(k?I&&(I[z]!==void 0||I[H]!==void 0)&&(N[z]=resolvePropValue(k,B,z,void 0,T,!0)):delete N[z]);if(M!==B)for(const z in M)(!R||!hasOwn(R,z)&&!0)&&(delete M[z],U=!0)}U&&trigger$1(T,"set","$attrs")}function setFullProps(T,R,I,$){const[N,M]=T.propsOptions;let L=!1,B;if(R)for(let k in R){if(isReservedProp(k))continue;const U=R[k];let H;N&&hasOwn(N,H=camelize(k))?!M||!M.includes(H)?I[H]=U:(B||(B={}))[H]=U:isEmitListener(T.emitsOptions,k)||(!(k in $)||U!==$[k])&&($[k]=U,L=!0)}if(M){const k=toRaw(I),U=B||EMPTY_OBJ;for(let H=0;H<M.length;H++){const z=M[H];I[z]=resolvePropValue(N,k,z,U[z],T,!hasOwn(U,z))}}return L}function resolvePropValue(T,R,I,$,N,M){const L=T[I];if(L!=null){const B=hasOwn(L,"default");if(B&&$===void 0){const k=L.default;if(L.type!==Function&&isFunction$1(k)){const{propsDefaults:U}=N;I in U?$=U[I]:(setCurrentInstance(N),$=U[I]=k.call(null,R),unsetCurrentInstance())}else $=k}L[0]&&(M&&!B?$=!1:L[1]&&($===""||$===hyphenate(I))&&($=!0))}return $}function normalizePropsOptions(T,R,I=!1){const $=R.propsCache,N=$.get(T);if(N)return N;const M=T.props,L={},B=[];let k=!1;if(!isFunction$1(T)){const H=z=>{k=!0;const[V,W]=normalizePropsOptions(z,R,!0);extend(L,V),W&&B.push(...W)};!I&&R.mixins.length&&R.mixins.forEach(H),T.extends&&H(T.extends),T.mixins&&T.mixins.forEach(H)}if(!M&&!k)return $.set(T,EMPTY_ARR),EMPTY_ARR;if(isArray$4(M))for(let H=0;H<M.length;H++){const z=camelize(M[H]);validatePropName(z)&&(L[z]=EMPTY_OBJ)}else if(M)for(const H in M){const z=camelize(H);if(validatePropName(z)){const V=M[H],W=L[z]=isArray$4(V)||isFunction$1(V)?{type:V}:V;if(W){const K=getTypeIndex(Boolean,W.type),Y=getTypeIndex(String,W.type);W[0]=K>-1,W[1]=Y<0||K<Y,(K>-1||hasOwn(W,"default"))&&B.push(z)}}}const U=[L,B];return $.set(T,U),U}function validatePropName(T){return T[0]!=="$"}function getType(T){const R=T&&T.toString().match(/^\s*function (\w+)/);return R?R[1]:T===null?"null":""}function isSameType(T,R){return getType(T)===getType(R)}function getTypeIndex(T,R){return isArray$4(R)?R.findIndex(I=>isSameType(I,T)):isFunction$1(R)&&isSameType(R,T)?0:-1}const isInternalKey=T=>T[0]==="_"||T==="$stable",normalizeSlotValue=T=>isArray$4(T)?T.map(normalizeVNode):[normalizeVNode(T)],normalizeSlot$1=(T,R,I)=>{if(R._n)return R;const $=withCtx((...N)=>normalizeSlotValue(R(...N)),I);return $._c=!1,$},normalizeObjectSlots=(T,R,I)=>{const $=T._ctx;for(const N in T){if(isInternalKey(N))continue;const M=T[N];if(isFunction$1(M))R[N]=normalizeSlot$1(N,M,$);else if(M!=null){const L=normalizeSlotValue(M);R[N]=()=>L}}},normalizeVNodeSlots=(T,R)=>{const I=normalizeSlotValue(R);T.slots.default=()=>I},initSlots=(T,R)=>{if(T.vnode.shapeFlag&32){const I=R._;I?(T.slots=toRaw(R),def(R,"_",I)):normalizeObjectSlots(R,T.slots={})}else T.slots={},R&&normalizeVNodeSlots(T,R);def(T.slots,InternalObjectKey,1)},updateSlots=(T,R,I)=>{const{vnode:$,slots:N}=T;let M=!0,L=EMPTY_OBJ;if($.shapeFlag&32){const B=R._;B?I&&B===1?M=!1:(extend(N,R),!I&&B===1&&delete N._):(M=!R.$stable,normalizeObjectSlots(R,N)),L=R}else R&&(normalizeVNodeSlots(T,R),L={default:1});if(M)for(const B in N)!isInternalKey(B)&&!(B in L)&&delete N[B]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(T,R){return function($,N=null){isFunction$1($)||($=Object.assign({},$)),N!=null&&!isObject$2(N)&&(N=null);const M=createAppContext(),L=new Set;let B=!1;const k=M.app={_uid:uid$1++,_component:$,_props:N,_container:null,_context:M,_instance:null,version,get config(){return M.config},set config(U){},use(U,...H){return L.has(U)||(U&&isFunction$1(U.install)?(L.add(U),U.install(k,...H)):isFunction$1(U)&&(L.add(U),U(k,...H))),k},mixin(U){return M.mixins.includes(U)||M.mixins.push(U),k},component(U,H){return H?(M.components[U]=H,k):M.components[U]},directive(U,H){return H?(M.directives[U]=H,k):M.directives[U]},mount(U,H,z){if(!B){const V=createVNode($,N);return V.appContext=M,H&&R?R(V,U):T(V,U,z),B=!0,k._container=U,U.__vue_app__=k,getExposeProxy(V.component)||V.component.proxy}},unmount(){B&&(T(null,k._container),delete k._container.__vue_app__)},provide(U,H){return M.provides[U]=H,k}};return k}}function setRef(T,R,I,$,N=!1){if(isArray$4(T)){T.forEach((V,W)=>setRef(V,R&&(isArray$4(R)?R[W]:R),I,$,N));return}if(isAsyncWrapper($)&&!N)return;const M=$.shapeFlag&4?getExposeProxy($.component)||$.component.proxy:$.el,L=N?null:M,{i:B,r:k}=T,U=R&&R.r,H=B.refs===EMPTY_OBJ?B.refs={}:B.refs,z=B.setupState;if(U!=null&&U!==k&&(isString(U)?(H[U]=null,hasOwn(z,U)&&(z[U]=null)):isRef(U)&&(U.value=null)),isFunction$1(k))callWithErrorHandling(k,B,12,[L,H]);else{const V=isString(k),W=isRef(k);if(V||W){const K=()=>{if(T.f){const Y=V?H[k]:k.value;N?isArray$4(Y)&&remove(Y,M):isArray$4(Y)?Y.includes(M)||Y.push(M):V?(H[k]=[M],hasOwn(z,k)&&(z[k]=H[k])):(k.value=[M],T.k&&(H[T.k]=k.value))}else V?(H[k]=L,hasOwn(z,k)&&(z[k]=L)):W&&(k.value=L,T.k&&(H[T.k]=L))};L?(K.id=-1,queuePostRenderEffect(K,I)):K()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(T){return baseCreateRenderer(T)}function baseCreateRenderer(T,R){const I=getGlobalThis();I.__VUE__=!0;const{insert:$,remove:N,patchProp:M,createElement:L,createText:B,createComment:k,setText:U,setElementText:H,parentNode:z,nextSibling:V,setScopeId:W=NOOP,cloneNode:K,insertStaticContent:Y}=T,q=(ce,ge,Re,ke=null,be=null,Be=null,We=!1,Fe=null,Te=!!ge.dynamicChildren)=>{if(ce===ge)return;ce&&!isSameVNodeType(ce,ge)&&(ke=Xe(ce),Ze(ce,be,Be,!0),ce=null),ge.patchFlag===-2&&(Te=!1,ge.dynamicChildren=null);const{type:Ie,ref:tt,shapeFlag:ot}=ge;switch(Ie){case Text$1:Z(ce,ge,Re,ke);break;case Comment:Q(ce,ge,Re,ke);break;case Static:ce==null&&ee(ge,Re,ke,We);break;case Fragment:Se(ce,ge,Re,ke,be,Be,We,Fe,Te);break;default:ot&1?re(ce,ge,Re,ke,be,Be,We,Fe,Te):ot&6?Pe(ce,ge,Re,ke,be,Be,We,Fe,Te):(ot&64||ot&128)&&Ie.process(ce,ge,Re,ke,be,Be,We,Fe,Te,st)}tt!=null&&be&&setRef(tt,ce&&ce.ref,Be,ge||ce,!ge)},Z=(ce,ge,Re,ke)=>{if(ce==null)$(ge.el=B(ge.children),Re,ke);else{const be=ge.el=ce.el;ge.children!==ce.children&&U(be,ge.children)}},Q=(ce,ge,Re,ke)=>{ce==null?$(ge.el=k(ge.children||""),Re,ke):ge.el=ce.el},ee=(ce,ge,Re,ke)=>{[ce.el,ce.anchor]=Y(ce.children,ge,Re,ke,ce.el,ce.anchor)},ne=({el:ce,anchor:ge},Re,ke)=>{let be;for(;ce&&ce!==ge;)be=V(ce),$(ce,Re,ke),ce=be;$(ge,Re,ke)},te=({el:ce,anchor:ge})=>{let Re;for(;ce&&ce!==ge;)Re=V(ce),N(ce),ce=Re;N(ge)},re=(ce,ge,Re,ke,be,Be,We,Fe,Te)=>{We=We||ge.type==="svg",ce==null?ie(ge,Re,ke,be,Be,We,Fe,Te):he(ce,ge,be,Be,We,Fe,Te)},ie=(ce,ge,Re,ke,be,Be,We,Fe)=>{let Te,Ie;const{type:tt,props:ot,shapeFlag:lt,transition:ft,patchFlag:mt,dirs:wt}=ce;if(ce.el&&K!==void 0&&mt===-1)Te=ce.el=K(ce.el);else{if(Te=ce.el=L(ce.type,Be,ot&&ot.is,ot),lt&8?H(Te,ce.children):lt&16&&le(ce.children,Te,null,ke,be,Be&&tt!=="foreignObject",We,Fe),wt&&invokeDirectiveHook(ce,null,ke,"created"),ot){for(const Rt in ot)Rt!=="value"&&!isReservedProp(Rt)&&M(Te,Rt,null,ot[Rt],Be,ce.children,ke,be,Ue);"value"in ot&&M(Te,"value",null,ot.value),(Ie=ot.onVnodeBeforeMount)&&invokeVNodeHook(Ie,ke,ce)}se(Te,ce,ce.scopeId,We,ke)}wt&&invokeDirectiveHook(ce,null,ke,"beforeMount");const St=(!be||be&&!be.pendingBranch)&&ft&&!ft.persisted;St&&ft.beforeEnter(Te),$(Te,ge,Re),((Ie=ot&&ot.onVnodeMounted)||St||wt)&&queuePostRenderEffect(()=>{Ie&&invokeVNodeHook(Ie,ke,ce),St&&ft.enter(Te),wt&&invokeDirectiveHook(ce,null,ke,"mounted")},be)},se=(ce,ge,Re,ke,be)=>{if(Re&&W(ce,Re),ke)for(let Be=0;Be<ke.length;Be++)W(ce,ke[Be]);if(be){let Be=be.subTree;if(ge===Be){const We=be.vnode;se(ce,We,We.scopeId,We.slotScopeIds,be.parent)}}},le=(ce,ge,Re,ke,be,Be,We,Fe,Te=0)=>{for(let Ie=Te;Ie<ce.length;Ie++){const tt=ce[Ie]=Fe?cloneIfMounted(ce[Ie]):normalizeVNode(ce[Ie]);q(null,tt,ge,Re,ke,be,Be,We,Fe)}},he=(ce,ge,Re,ke,be,Be,We)=>{const Fe=ge.el=ce.el;let{patchFlag:Te,dynamicChildren:Ie,dirs:tt}=ge;Te|=ce.patchFlag&16;const ot=ce.props||EMPTY_OBJ,lt=ge.props||EMPTY_OBJ;let ft;Re&&toggleRecurse(Re,!1),(ft=lt.onVnodeBeforeUpdate)&&invokeVNodeHook(ft,Re,ge,ce),tt&&invokeDirectiveHook(ge,ce,Re,"beforeUpdate"),Re&&toggleRecurse(Re,!0);const mt=be&&ge.type!=="foreignObject";if(Ie?pe(ce.dynamicChildren,Ie,Fe,Re,ke,mt,Be):We||Ae(ce,ge,Fe,null,Re,ke,mt,Be,!1),Te>0){if(Te&16)fe(Fe,ge,ot,lt,Re,ke,be);else if(Te&2&&ot.class!==lt.class&&M(Fe,"class",null,lt.class,be),Te&4&&M(Fe,"style",ot.style,lt.style,be),Te&8){const wt=ge.dynamicProps;for(let St=0;St<wt.length;St++){const Rt=wt[St],Mt=ot[Rt],rn=lt[Rt];(rn!==Mt||Rt==="value")&&M(Fe,Rt,Mt,rn,be,ce.children,Re,ke,Ue)}}Te&1&&ce.children!==ge.children&&H(Fe,ge.children)}else!We&&Ie==null&&fe(Fe,ge,ot,lt,Re,ke,be);((ft=lt.onVnodeUpdated)||tt)&&queuePostRenderEffect(()=>{ft&&invokeVNodeHook(ft,Re,ge,ce),tt&&invokeDirectiveHook(ge,ce,Re,"updated")},ke)},pe=(ce,ge,Re,ke,be,Be,We)=>{for(let Fe=0;Fe<ge.length;Fe++){const Te=ce[Fe],Ie=ge[Fe],tt=Te.el&&(Te.type===Fragment||!isSameVNodeType(Te,Ie)||Te.shapeFlag&70)?z(Te.el):Re;q(Te,Ie,tt,null,ke,be,Be,We,!0)}},fe=(ce,ge,Re,ke,be,Be,We)=>{if(Re!==ke){for(const Fe in ke){if(isReservedProp(Fe))continue;const Te=ke[Fe],Ie=Re[Fe];Te!==Ie&&Fe!=="value"&&M(ce,Fe,Ie,Te,We,ge.children,be,Be,Ue)}if(Re!==EMPTY_OBJ)for(const Fe in Re)!isReservedProp(Fe)&&!(Fe in ke)&&M(ce,Fe,Re[Fe],null,We,ge.children,be,Be,Ue);"value"in ke&&M(ce,"value",Re.value,ke.value)}},Se=(ce,ge,Re,ke,be,Be,We,Fe,Te)=>{const Ie=ge.el=ce?ce.el:B(""),tt=ge.anchor=ce?ce.anchor:B("");let{patchFlag:ot,dynamicChildren:lt,slotScopeIds:ft}=ge;ft&&(Fe=Fe?Fe.concat(ft):ft),ce==null?($(Ie,Re,ke),$(tt,Re,ke),le(ge.children,Re,tt,be,Be,We,Fe,Te)):ot>0&&ot&64&&lt&&ce.dynamicChildren?(pe(ce.dynamicChildren,lt,Re,be,Be,We,Fe),(ge.key!=null||be&&ge===be.subTree)&&traverseStaticChildren(ce,ge,!0)):Ae(ce,ge,Re,tt,be,Be,We,Fe,Te)},Pe=(ce,ge,Re,ke,be,Be,We,Fe,Te)=>{ge.slotScopeIds=Fe,ce==null?ge.shapeFlag&512?be.ctx.activate(ge,Re,ke,We,Te):ye(ge,Re,ke,be,Be,We,Te):we(ce,ge,Te)},ye=(ce,ge,Re,ke,be,Be,We)=>{const Fe=ce.component=createComponentInstance(ce,ke,be);if(isKeepAlive(ce)&&(Fe.ctx.renderer=st),setupComponent(Fe),Fe.asyncDep){if(be&&be.registerDep(Fe,Ee),!ce.el){const Te=Fe.subTree=createVNode(Comment);Q(null,Te,ge,Re)}return}Ee(Fe,ce,ge,Re,be,Be,We)},we=(ce,ge,Re)=>{const ke=ge.component=ce.component;if(shouldUpdateComponent(ce,ge,Re))if(ke.asyncDep&&!ke.asyncResolved){He(ke,ge,Re);return}else ke.next=ge,invalidateJob(ke.update),ke.update();else ge.el=ce.el,ke.vnode=ge},Ee=(ce,ge,Re,ke,be,Be,We)=>{const Fe=()=>{if(ce.isMounted){let{next:tt,bu:ot,u:lt,parent:ft,vnode:mt}=ce,wt=tt,St;toggleRecurse(ce,!1),tt?(tt.el=mt.el,He(ce,tt,We)):tt=mt,ot&&invokeArrayFns(ot),(St=tt.props&&tt.props.onVnodeBeforeUpdate)&&invokeVNodeHook(St,ft,tt,mt),toggleRecurse(ce,!0);const Rt=renderComponentRoot(ce),Mt=ce.subTree;ce.subTree=Rt,q(Mt,Rt,z(Mt.el),Xe(Mt),ce,be,Be),tt.el=Rt.el,wt===null&&updateHOCHostEl(ce,Rt.el),lt&&queuePostRenderEffect(lt,be),(St=tt.props&&tt.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(St,ft,tt,mt),be)}else{let tt;const{el:ot,props:lt}=ge,{bm:ft,m:mt,parent:wt}=ce,St=isAsyncWrapper(ge);if(toggleRecurse(ce,!1),ft&&invokeArrayFns(ft),!St&&(tt=lt&&lt.onVnodeBeforeMount)&&invokeVNodeHook(tt,wt,ge),toggleRecurse(ce,!0),ot&&Qe){const Rt=()=>{ce.subTree=renderComponentRoot(ce),Qe(ot,ce.subTree,ce,be,null)};St?ge.type.__asyncLoader().then(()=>!ce.isUnmounted&&Rt()):Rt()}else{const Rt=ce.subTree=renderComponentRoot(ce);q(null,Rt,Re,ke,ce,be,Be),ge.el=Rt.el}if(mt&&queuePostRenderEffect(mt,be),!St&&(tt=lt&&lt.onVnodeMounted)){const Rt=ge;queuePostRenderEffect(()=>invokeVNodeHook(tt,wt,Rt),be)}(ge.shapeFlag&256||wt&&isAsyncWrapper(wt.vnode)&&wt.vnode.shapeFlag&256)&&ce.a&&queuePostRenderEffect(ce.a,be),ce.isMounted=!0,ge=Re=ke=null}},Te=ce.effect=new ReactiveEffect(Fe,()=>queueJob(Ie),ce.scope),Ie=ce.update=()=>Te.run();Ie.id=ce.uid,toggleRecurse(ce,!0),Ie()},He=(ce,ge,Re)=>{ge.component=ce;const ke=ce.vnode.props;ce.vnode=ge,ce.next=null,updateProps(ce,ge.props,ke,Re),updateSlots(ce,ge.children,Re),pauseTracking(),flushPreFlushCbs(void 0,ce.update),resetTracking()},Ae=(ce,ge,Re,ke,be,Be,We,Fe,Te=!1)=>{const Ie=ce&&ce.children,tt=ce?ce.shapeFlag:0,ot=ge.children,{patchFlag:lt,shapeFlag:ft}=ge;if(lt>0){if(lt&128){Oe(Ie,ot,Re,ke,be,Be,We,Fe,Te);return}else if(lt&256){de(Ie,ot,Re,ke,be,Be,We,Fe,Te);return}}ft&8?(tt&16&&Ue(Ie,be,Be),ot!==Ie&&H(Re,ot)):tt&16?ft&16?Oe(Ie,ot,Re,ke,be,Be,We,Fe,Te):Ue(Ie,be,Be,!0):(tt&8&&H(Re,""),ft&16&&le(ot,Re,ke,be,Be,We,Fe,Te))},de=(ce,ge,Re,ke,be,Be,We,Fe,Te)=>{ce=ce||EMPTY_ARR,ge=ge||EMPTY_ARR;const Ie=ce.length,tt=ge.length,ot=Math.min(Ie,tt);let lt;for(lt=0;lt<ot;lt++){const ft=ge[lt]=Te?cloneIfMounted(ge[lt]):normalizeVNode(ge[lt]);q(ce[lt],ft,Re,null,be,Be,We,Fe,Te)}Ie>tt?Ue(ce,be,Be,!0,!1,ot):le(ge,Re,ke,be,Be,We,Fe,Te,ot)},Oe=(ce,ge,Re,ke,be,Be,We,Fe,Te)=>{let Ie=0;const tt=ge.length;let ot=ce.length-1,lt=tt-1;for(;Ie<=ot&&Ie<=lt;){const ft=ce[Ie],mt=ge[Ie]=Te?cloneIfMounted(ge[Ie]):normalizeVNode(ge[Ie]);if(isSameVNodeType(ft,mt))q(ft,mt,Re,null,be,Be,We,Fe,Te);else break;Ie++}for(;Ie<=ot&&Ie<=lt;){const ft=ce[ot],mt=ge[lt]=Te?cloneIfMounted(ge[lt]):normalizeVNode(ge[lt]);if(isSameVNodeType(ft,mt))q(ft,mt,Re,null,be,Be,We,Fe,Te);else break;ot--,lt--}if(Ie>ot){if(Ie<=lt){const ft=lt+1,mt=ft<tt?ge[ft].el:ke;for(;Ie<=lt;)q(null,ge[Ie]=Te?cloneIfMounted(ge[Ie]):normalizeVNode(ge[Ie]),Re,mt,be,Be,We,Fe,Te),Ie++}}else if(Ie>lt)for(;Ie<=ot;)Ze(ce[Ie],be,Be,!0),Ie++;else{const ft=Ie,mt=Ie,wt=new Map;for(Ie=mt;Ie<=lt;Ie++){const _e=ge[Ie]=Te?cloneIfMounted(ge[Ie]):normalizeVNode(ge[Ie]);_e.key!=null&&wt.set(_e.key,Ie)}let St,Rt=0;const Mt=lt-mt+1;let rn=!1,Xt=0;const Dt=new Array(Mt);for(Ie=0;Ie<Mt;Ie++)Dt[Ie]=0;for(Ie=ft;Ie<=ot;Ie++){const _e=ce[Ie];if(Rt>=Mt){Ze(_e,be,Be,!0);continue}let Ge;if(_e.key!=null)Ge=wt.get(_e.key);else for(St=mt;St<=lt;St++)if(Dt[St-mt]===0&&isSameVNodeType(_e,ge[St])){Ge=St;break}Ge===void 0?Ze(_e,be,Be,!0):(Dt[Ge-mt]=Ie+1,Ge>=Xt?Xt=Ge:rn=!0,q(_e,ge[Ge],Re,null,be,Be,We,Fe,Te),Rt++)}const Kt=rn?getSequence(Dt):EMPTY_ARR;for(St=Kt.length-1,Ie=Mt-1;Ie>=0;Ie--){const _e=mt+Ie,Ge=ge[_e],rt=_e+1<tt?ge[_e+1].el:ke;Dt[Ie]===0?q(null,Ge,Re,rt,be,Be,We,Fe,Te):rn&&(St<0||Ie!==Kt[St]?Ve(Ge,Re,rt,2):St--)}}},Ve=(ce,ge,Re,ke,be=null)=>{const{el:Be,type:We,transition:Fe,children:Te,shapeFlag:Ie}=ce;if(Ie&6){Ve(ce.component.subTree,ge,Re,ke);return}if(Ie&128){ce.suspense.move(ge,Re,ke);return}if(Ie&64){We.move(ce,ge,Re,st);return}if(We===Fragment){$(Be,ge,Re);for(let ot=0;ot<Te.length;ot++)Ve(Te[ot],ge,Re,ke);$(ce.anchor,ge,Re);return}if(We===Static){ne(ce,ge,Re);return}if(ke!==2&&Ie&1&&Fe)if(ke===0)Fe.beforeEnter(Be),$(Be,ge,Re),queuePostRenderEffect(()=>Fe.enter(Be),be);else{const{leave:ot,delayLeave:lt,afterLeave:ft}=Fe,mt=()=>$(Be,ge,Re),wt=()=>{ot(Be,()=>{mt(),ft&&ft()})};lt?lt(Be,mt,wt):wt()}else $(Be,ge,Re)},Ze=(ce,ge,Re,ke=!1,be=!1)=>{const{type:Be,props:We,ref:Fe,children:Te,dynamicChildren:Ie,shapeFlag:tt,patchFlag:ot,dirs:lt}=ce;if(Fe!=null&&setRef(Fe,null,Re,ce,!0),tt&256){ge.ctx.deactivate(ce);return}const ft=tt&1&&lt,mt=!isAsyncWrapper(ce);let wt;if(mt&&(wt=We&&We.onVnodeBeforeUnmount)&&invokeVNodeHook(wt,ge,ce),tt&6)Le(ce.component,Re,ke);else{if(tt&128){ce.suspense.unmount(Re,ke);return}ft&&invokeDirectiveHook(ce,null,ge,"beforeUnmount"),tt&64?ce.type.remove(ce,ge,Re,be,st,ke):Ie&&(Be!==Fragment||ot>0&&ot&64)?Ue(Ie,ge,Re,!1,!0):(Be===Fragment&&ot&384||!be&&tt&16)&&Ue(Te,ge,Re),ke&&nt(ce)}(mt&&(wt=We&&We.onVnodeUnmounted)||ft)&&queuePostRenderEffect(()=>{wt&&invokeVNodeHook(wt,ge,ce),ft&&invokeDirectiveHook(ce,null,ge,"unmounted")},Re)},nt=ce=>{const{type:ge,el:Re,anchor:ke,transition:be}=ce;if(ge===Fragment){xe(Re,ke);return}if(ge===Static){te(ce);return}const Be=()=>{N(Re),be&&!be.persisted&&be.afterLeave&&be.afterLeave()};if(ce.shapeFlag&1&&be&&!be.persisted){const{leave:We,delayLeave:Fe}=be,Te=()=>We(Re,Be);Fe?Fe(ce.el,Be,Te):Te()}else Be()},xe=(ce,ge)=>{let Re;for(;ce!==ge;)Re=V(ce),N(ce),ce=Re;N(ge)},Le=(ce,ge,Re)=>{const{bum:ke,scope:be,update:Be,subTree:We,um:Fe}=ce;ke&&invokeArrayFns(ke),be.stop(),Be&&(Be.active=!1,Ze(We,ce,ge,Re)),Fe&&queuePostRenderEffect(Fe,ge),queuePostRenderEffect(()=>{ce.isUnmounted=!0},ge),ge&&ge.pendingBranch&&!ge.isUnmounted&&ce.asyncDep&&!ce.asyncResolved&&ce.suspenseId===ge.pendingId&&(ge.deps--,ge.deps===0&&ge.resolve())},Ue=(ce,ge,Re,ke=!1,be=!1,Be=0)=>{for(let We=Be;We<ce.length;We++)Ze(ce[We],ge,Re,ke,be)},Xe=ce=>ce.shapeFlag&6?Xe(ce.component.subTree):ce.shapeFlag&128?ce.suspense.next():V(ce.anchor||ce.el),je=(ce,ge,Re)=>{ce==null?ge._vnode&&Ze(ge._vnode,null,null,!0):q(ge._vnode||null,ce,ge,null,null,null,Re),flushPostFlushCbs(),ge._vnode=ce},st={p:q,um:Ze,m:Ve,r:nt,mt:ye,mc:le,pc:Ae,pbc:pe,n:Xe,o:T};let Ye,Qe;return R&&([Ye,Qe]=R(st)),{render:je,hydrate:Ye,createApp:createAppAPI(je,Ye)}}function toggleRecurse({effect:T,update:R},I){T.allowRecurse=R.allowRecurse=I}function traverseStaticChildren(T,R,I=!1){const $=T.children,N=R.children;if(isArray$4($)&&isArray$4(N))for(let M=0;M<$.length;M++){const L=$[M];let B=N[M];B.shapeFlag&1&&!B.dynamicChildren&&((B.patchFlag<=0||B.patchFlag===32)&&(B=N[M]=cloneIfMounted(N[M]),B.el=L.el),I||traverseStaticChildren(L,B))}}function getSequence(T){const R=T.slice(),I=[0];let $,N,M,L,B;const k=T.length;for($=0;$<k;$++){const U=T[$];if(U!==0){if(N=I[I.length-1],T[N]<U){R[$]=N,I.push($);continue}for(M=0,L=I.length-1;M<L;)B=M+L>>1,T[I[B]]<U?M=B+1:L=B;U<T[I[M]]&&(M>0&&(R[$]=I[M-1]),I[M]=$)}}for(M=I.length,L=I[M-1];M-- >0;)I[M]=L,L=R[L];return I}const isTeleport=T=>T.__isTeleport,isTeleportDisabled=T=>T&&(T.disabled||T.disabled===""),isTargetSVG=T=>typeof SVGElement<"u"&&T instanceof SVGElement,resolveTarget=(T,R)=>{const I=T&&T.to;return isString(I)?R?R(I):null:I},TeleportImpl={__isTeleport:!0,process(T,R,I,$,N,M,L,B,k,U){const{mc:H,pc:z,pbc:V,o:{insert:W,querySelector:K,createText:Y,createComment:q}}=U,Z=isTeleportDisabled(R.props);let{shapeFlag:Q,children:ee,dynamicChildren:ne}=R;if(T==null){const te=R.el=Y(""),re=R.anchor=Y("");W(te,I,$),W(re,I,$);const ie=R.target=resolveTarget(R.props,K),se=R.targetAnchor=Y("");ie&&(W(se,ie),L=L||isTargetSVG(ie));const le=(he,pe)=>{Q&16&&H(ee,he,pe,N,M,L,B,k)};Z?le(I,re):ie&&le(ie,se)}else{R.el=T.el;const te=R.anchor=T.anchor,re=R.target=T.target,ie=R.targetAnchor=T.targetAnchor,se=isTeleportDisabled(T.props),le=se?I:re,he=se?te:ie;if(L=L||isTargetSVG(re),ne?(V(T.dynamicChildren,ne,le,N,M,L,B),traverseStaticChildren(T,R,!0)):k||z(T,R,le,he,N,M,L,B,!1),Z)se||moveTeleport(R,I,te,U,1);else if((R.props&&R.props.to)!==(T.props&&T.props.to)){const pe=R.target=resolveTarget(R.props,K);pe&&moveTeleport(R,pe,null,U,0)}else se&&moveTeleport(R,re,ie,U,1)}},remove(T,R,I,$,{um:N,o:{remove:M}},L){const{shapeFlag:B,children:k,anchor:U,targetAnchor:H,target:z,props:V}=T;if(z&&M(H),(L||!isTeleportDisabled(V))&&(M(U),B&16))for(let W=0;W<k.length;W++){const K=k[W];N(K,R,I,!0,!!K.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(T,R,I,{o:{insert:$},m:N},M=2){M===0&&$(T.targetAnchor,R,I);const{el:L,anchor:B,shapeFlag:k,children:U,props:H}=T,z=M===2;if(z&&$(L,R,I),(!z||isTeleportDisabled(H))&&k&16)for(let V=0;V<U.length;V++)N(U[V],R,I,2);z&&$(B,R,I)}function hydrateTeleport(T,R,I,$,N,M,{o:{nextSibling:L,parentNode:B,querySelector:k}},U){const H=R.target=resolveTarget(R.props,k);if(H){const z=H._lpa||H.firstChild;if(R.shapeFlag&16)if(isTeleportDisabled(R.props))R.anchor=U(L(T),R,B(T),I,$,N,M),R.targetAnchor=z;else{R.anchor=L(T);let V=z;for(;V;)if(V=L(V),V&&V.nodeType===8&&V.data==="teleport anchor"){R.targetAnchor=V,H._lpa=R.targetAnchor&&L(R.targetAnchor);break}U(z,R,H,I,$,N,M)}}return R.anchor&&L(R.anchor)}const Teleport=TeleportImpl,Fragment=Symbol(void 0),Text$1=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(T=!1){blockStack.push(currentBlock=T?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(T){isBlockTreeEnabled+=T}function setupBlock(T){return T.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(T),T}function createElementBlock(T,R,I,$,N,M){return setupBlock(createBaseVNode(T,R,I,$,N,M,!0))}function createBlock(T,R,I,$,N){return setupBlock(createVNode(T,R,I,$,N,!0))}function isVNode(T){return T?T.__v_isVNode===!0:!1}function isSameVNodeType(T,R){return T.type===R.type&&T.key===R.key}const InternalObjectKey="__vInternal",normalizeKey=({key:T})=>T!=null?T:null,normalizeRef=({ref:T,ref_key:R,ref_for:I})=>T!=null?isString(T)||isRef(T)||isFunction$1(T)?{i:currentRenderingInstance,r:T,k:R,f:!!I}:T:null;function createBaseVNode(T,R=null,I=null,$=0,N=null,M=T===Fragment?0:1,L=!1,B=!1){const k={__v_isVNode:!0,__v_skip:!0,type:T,props:R,key:R&&normalizeKey(R),ref:R&&normalizeRef(R),scopeId:currentScopeId,slotScopeIds:null,children:I,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:M,patchFlag:$,dynamicProps:N,dynamicChildren:null,appContext:null};return B?(normalizeChildren(k,I),M&128&&T.normalize(k)):I&&(k.shapeFlag|=isString(I)?8:16),isBlockTreeEnabled>0&&!L&&currentBlock&&(k.patchFlag>0||M&6)&&k.patchFlag!==32&&currentBlock.push(k),k}const createVNode=_createVNode;function _createVNode(T,R=null,I=null,$=0,N=null,M=!1){if((!T||T===NULL_DYNAMIC_COMPONENT)&&(T=Comment),isVNode(T)){const B=cloneVNode(T,R,!0);return I&&normalizeChildren(B,I),isBlockTreeEnabled>0&&!M&&currentBlock&&(B.shapeFlag&6?currentBlock[currentBlock.indexOf(T)]=B:currentBlock.push(B)),B.patchFlag|=-2,B}if(isClassComponent(T)&&(T=T.__vccOpts),R){R=guardReactiveProps(R);let{class:B,style:k}=R;B&&!isString(B)&&(R.class=normalizeClass(B)),isObject$2(k)&&(isProxy(k)&&!isArray$4(k)&&(k=extend({},k)),R.style=normalizeStyle(k))}const L=isString(T)?1:isSuspense(T)?128:isTeleport(T)?64:isObject$2(T)?4:isFunction$1(T)?2:0;return createBaseVNode(T,R,I,$,N,L,M,!0)}function guardReactiveProps(T){return T?isProxy(T)||InternalObjectKey in T?extend({},T):T:null}function cloneVNode(T,R,I=!1){const{props:$,ref:N,patchFlag:M,children:L}=T,B=R?mergeProps($||{},R):$;return{__v_isVNode:!0,__v_skip:!0,type:T.type,props:B,key:B&&normalizeKey(B),ref:R&&R.ref?I&&N?isArray$4(N)?N.concat(normalizeRef(R)):[N,normalizeRef(R)]:normalizeRef(R):N,scopeId:T.scopeId,slotScopeIds:T.slotScopeIds,children:L,target:T.target,targetAnchor:T.targetAnchor,staticCount:T.staticCount,shapeFlag:T.shapeFlag,patchFlag:R&&T.type!==Fragment?M===-1?16:M|16:M,dynamicProps:T.dynamicProps,dynamicChildren:T.dynamicChildren,appContext:T.appContext,dirs:T.dirs,transition:T.transition,component:T.component,suspense:T.suspense,ssContent:T.ssContent&&cloneVNode(T.ssContent),ssFallback:T.ssFallback&&cloneVNode(T.ssFallback),el:T.el,anchor:T.anchor}}function createTextVNode(T=" ",R=0){return createVNode(Text$1,null,T,R)}function createCommentVNode(T="",R=!1){return R?(openBlock(),createBlock(Comment,null,T)):createVNode(Comment,null,T)}function normalizeVNode(T){return T==null||typeof T=="boolean"?createVNode(Comment):isArray$4(T)?createVNode(Fragment,null,T.slice()):typeof T=="object"?cloneIfMounted(T):createVNode(Text$1,null,String(T))}function cloneIfMounted(T){return T.el===null||T.memo?T:cloneVNode(T)}function normalizeChildren(T,R){let I=0;const{shapeFlag:$}=T;if(R==null)R=null;else if(isArray$4(R))I=16;else if(typeof R=="object")if($&65){const N=R.default;N&&(N._c&&(N._d=!1),normalizeChildren(T,N()),N._c&&(N._d=!0));return}else{I=32;const N=R._;!N&&!(InternalObjectKey in R)?R._ctx=currentRenderingInstance:N===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?R._=1:(R._=2,T.patchFlag|=1024))}else isFunction$1(R)?(R={default:R,_ctx:currentRenderingInstance},I=32):(R=String(R),$&64?(I=16,R=[createTextVNode(R)]):I=8);T.children=R,T.shapeFlag|=I}function mergeProps(...T){const R={};for(let I=0;I<T.length;I++){const $=T[I];for(const N in $)if(N==="class")R.class!==$.class&&(R.class=normalizeClass([R.class,$.class]));else if(N==="style")R.style=normalizeStyle([R.style,$.style]);else if(isOn(N)){const M=R[N],L=$[N];L&&M!==L&&!(isArray$4(M)&&M.includes(L))&&(R[N]=M?[].concat(M,L):L)}else N!==""&&(R[N]=$[N])}return R}function invokeVNodeHook(T,R,I,$=null){callWithAsyncErrorHandling(T,R,7,[I,$])}const emptyAppContext=createAppContext();let uid$1$1=0;function createComponentInstance(T,R,I){const $=T.type,N=(R?R.appContext:T.appContext)||emptyAppContext,M={uid:uid$1$1++,vnode:T,type:$,parent:R,appContext:N,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:R?R.provides:Object.create(N.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions($,N),emitsOptions:normalizeEmitsOptions($,N),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:$.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:I,suspenseId:I?I.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return M.ctx={_:M},M.root=R?R.root:M,M.emit=emit$1.bind(null,M),T.ce&&T.ce(M),M}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=T=>{currentInstance=T,T.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(T){return T.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(T,R=!1){isInSSRComponentSetup=R;const{props:I,children:$}=T.vnode,N=isStatefulComponent(T);initProps(T,I,N,R),initSlots(T,$);const M=N?setupStatefulComponent(T,R):void 0;return isInSSRComponentSetup=!1,M}function setupStatefulComponent(T,R){const I=T.type;T.accessCache=Object.create(null),T.proxy=markRaw(new Proxy(T.ctx,PublicInstanceProxyHandlers));const{setup:$}=I;if($){const N=T.setupContext=$.length>1?createSetupContext(T):null;setCurrentInstance(T),pauseTracking();const M=callWithErrorHandling($,T,0,[T.props,N]);if(resetTracking(),unsetCurrentInstance(),isPromise(M)){if(M.then(unsetCurrentInstance,unsetCurrentInstance),R)return M.then(L=>{handleSetupResult(T,L,R)}).catch(L=>{handleError(L,T,0)});T.asyncDep=M}else handleSetupResult(T,M,R)}else finishComponentSetup(T,R)}function handleSetupResult(T,R,I){isFunction$1(R)?T.type.__ssrInlineRender?T.ssrRender=R:T.render=R:isObject$2(R)&&(T.setupState=proxyRefs(R)),finishComponentSetup(T,I)}let compile;function finishComponentSetup(T,R,I){const $=T.type;if(!T.render){if(!R&&compile&&!$.render){const N=$.template;if(N){const{isCustomElement:M,compilerOptions:L}=T.appContext.config,{delimiters:B,compilerOptions:k}=$,U=extend(extend({isCustomElement:M,delimiters:B},L),k);$.render=compile(N,U)}}T.render=$.render||NOOP}setCurrentInstance(T),pauseTracking(),applyOptions(T),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(T){return new Proxy(T.attrs,{get(R,I){return track(T,"get","$attrs"),R[I]}})}function createSetupContext(T){const R=$=>{T.exposed=$||{}};let I;return{get attrs(){return I||(I=createAttrsProxy(T))},slots:T.slots,emit:T.emit,expose:R}}function getExposeProxy(T){if(T.exposed)return T.exposeProxy||(T.exposeProxy=new Proxy(proxyRefs(markRaw(T.exposed)),{get(R,I){if(I in R)return R[I];if(I in publicPropertiesMap)return publicPropertiesMap[I](T)}}))}function getComponentName(T,R=!0){return isFunction$1(T)?T.displayName||T.name:T.name||R&&T.__name}function isClassComponent(T){return isFunction$1(T)&&"__vccOpts"in T}const computed=(T,R)=>computed$1(T,R,isInSSRComponentSetup);function withAsyncContext(T){const R=getCurrentInstance();let I=T();return unsetCurrentInstance(),isPromise(I)&&(I=I.catch($=>{throw setCurrentInstance(R),$})),[I,()=>setCurrentInstance(R)]}function h$1(T,R,I){const $=arguments.length;return $===2?isObject$2(R)&&!isArray$4(R)?isVNode(R)?createVNode(T,null,[R]):createVNode(T,R):createVNode(T,null,R):($>3?I=Array.prototype.slice.call(arguments,2):$===3&&isVNode(I)&&(I=[I]),createVNode(T,R,I))}const version="3.2.37",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(T,R,I)=>{R.insertBefore(T,I||null)},remove:T=>{const R=T.parentNode;R&&R.removeChild(T)},createElement:(T,R,I,$)=>{const N=R?doc.createElementNS(svgNS,T):doc.createElement(T,I?{is:I}:void 0);return T==="select"&&$&&$.multiple!=null&&N.setAttribute("multiple",$.multiple),N},createText:T=>doc.createTextNode(T),createComment:T=>doc.createComment(T),setText:(T,R)=>{T.nodeValue=R},setElementText:(T,R)=>{T.textContent=R},parentNode:T=>T.parentNode,nextSibling:T=>T.nextSibling,querySelector:T=>doc.querySelector(T),setScopeId(T,R){T.setAttribute(R,"")},cloneNode(T){const R=T.cloneNode(!0);return"_value"in T&&(R._value=T._value),R},insertStaticContent(T,R,I,$,N,M){const L=I?I.previousSibling:R.lastChild;if(N&&(N===M||N.nextSibling))for(;R.insertBefore(N.cloneNode(!0),I),!(N===M||!(N=N.nextSibling)););else{templateContainer.innerHTML=$?`<svg>${T}</svg>`:T;const B=templateContainer.content;if($){const k=B.firstChild;for(;k.firstChild;)B.appendChild(k.firstChild);B.removeChild(k)}R.insertBefore(B,I)}return[L?L.nextSibling:R.firstChild,I?I.previousSibling:R.lastChild]}};function patchClass(T,R,I){const $=T._vtc;$&&(R=(R?[R,...$]:[...$]).join(" ")),R==null?T.removeAttribute("class"):I?T.setAttribute("class",R):T.className=R}function patchStyle(T,R,I){const $=T.style,N=isString(I);if(I&&!N){for(const M in I)setStyle($,M,I[M]);if(R&&!isString(R))for(const M in R)I[M]==null&&setStyle($,M,"")}else{const M=$.display;N?R!==I&&($.cssText=I):R&&T.removeAttribute("style"),"_vod"in T&&($.display=M)}}const importantRE=/\s*!important$/;function setStyle(T,R,I){if(isArray$4(I))I.forEach($=>setStyle(T,R,$));else if(I==null&&(I=""),R.startsWith("--"))T.setProperty(R,I);else{const $=autoPrefix(T,R);importantRE.test(I)?T.setProperty(hyphenate($),I.replace(importantRE,""),"important"):T[$]=I}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(T,R){const I=prefixCache[R];if(I)return I;let $=camelize(R);if($!=="filter"&&$ in T)return prefixCache[R]=$;$=capitalize($);for(let N=0;N<prefixes.length;N++){const M=prefixes[N]+$;if(M in T)return prefixCache[R]=M}return R}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(T,R,I,$,N){if($&&R.startsWith("xlink:"))I==null?T.removeAttributeNS(xlinkNS,R.slice(6,R.length)):T.setAttributeNS(xlinkNS,R,I);else{const M=isSpecialBooleanAttr(R);I==null||M&&!includeBooleanAttr(I)?T.removeAttribute(R):T.setAttribute(R,M?"":I)}}function patchDOMProp(T,R,I,$,N,M,L){if(R==="innerHTML"||R==="textContent"){$&&L($,N,M),T[R]=I==null?"":I;return}if(R==="value"&&T.tagName!=="PROGRESS"&&!T.tagName.includes("-")){T._value=I;const k=I==null?"":I;(T.value!==k||T.tagName==="OPTION")&&(T.value=k),I==null&&T.removeAttribute(R);return}let B=!1;if(I===""||I==null){const k=typeof T[R];k==="boolean"?I=includeBooleanAttr(I):I==null&&k==="string"?(I="",B=!0):k==="number"&&(I=0,B=!0)}try{T[R]=I}catch{}B&&T.removeAttribute(R)}const[_getNow,skipTimestampCheck]=(()=>{let T=Date.now,R=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(T=performance.now.bind(performance));const I=navigator.userAgent.match(/firefox\/(\d+)/i);R=!!(I&&Number(I[1])<=53)}return[T,R]})();let cachedNow=0;const p$2=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p$2.then(reset),cachedNow=_getNow());function addEventListener(T,R,I,$){T.addEventListener(R,I,$)}function removeEventListener(T,R,I,$){T.removeEventListener(R,I,$)}function patchEvent(T,R,I,$,N=null){const M=T._vei||(T._vei={}),L=M[R];if($&&L)L.value=$;else{const[B,k]=parseName(R);if($){const U=M[R]=createInvoker($,N);addEventListener(T,B,U,k)}else L&&(removeEventListener(T,B,L,k),M[R]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(T){let R;if(optionsModifierRE.test(T)){R={};let I;for(;I=T.match(optionsModifierRE);)T=T.slice(0,T.length-I[0].length),R[I[0].toLowerCase()]=!0}return[hyphenate(T.slice(2)),R]}function createInvoker(T,R){const I=$=>{const N=$.timeStamp||_getNow();(skipTimestampCheck||N>=I.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation($,I.value),R,5,[$])};return I.value=T,I.attached=getNow(),I}function patchStopImmediatePropagation(T,R){if(isArray$4(R)){const I=T.stopImmediatePropagation;return T.stopImmediatePropagation=()=>{I.call(T),T._stopped=!0},R.map($=>N=>!N._stopped&&$&&$(N))}else return R}const nativeOnRE=/^on[a-z]/,patchProp=(T,R,I,$,N=!1,M,L,B,k)=>{R==="class"?patchClass(T,$,N):R==="style"?patchStyle(T,I,$):isOn(R)?isModelListener(R)||patchEvent(T,R,I,$,L):(R[0]==="."?(R=R.slice(1),!0):R[0]==="^"?(R=R.slice(1),!1):shouldSetAsProp(T,R,$,N))?patchDOMProp(T,R,$,M,L,B,k):(R==="true-value"?T._trueValue=$:R==="false-value"&&(T._falseValue=$),patchAttr(T,R,$,N))};function shouldSetAsProp(T,R,I,$){return $?!!(R==="innerHTML"||R==="textContent"||R in T&&nativeOnRE.test(R)&&isFunction$1(I)):R==="spellcheck"||R==="draggable"||R==="translate"||R==="form"||R==="list"&&T.tagName==="INPUT"||R==="type"&&T.tagName==="TEXTAREA"||nativeOnRE.test(R)&&isString(I)?!1:R in T}const TRANSITION="transition",ANIMATION="animation",Transition=(T,{slots:R})=>h$1(BaseTransition,resolveTransitionProps(T),R);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(T,R=[])=>{isArray$4(T)?T.forEach(I=>I(...R)):T&&T(...R)},hasExplicitCallback=T=>T?isArray$4(T)?T.some(R=>R.length>1):T.length>1:!1;function resolveTransitionProps(T){const R={};for(const fe in T)fe in DOMTransitionPropsValidators||(R[fe]=T[fe]);if(T.css===!1)return R;const{name:I="v",type:$,duration:N,enterFromClass:M=`${I}-enter-from`,enterActiveClass:L=`${I}-enter-active`,enterToClass:B=`${I}-enter-to`,appearFromClass:k=M,appearActiveClass:U=L,appearToClass:H=B,leaveFromClass:z=`${I}-leave-from`,leaveActiveClass:V=`${I}-leave-active`,leaveToClass:W=`${I}-leave-to`}=T,K=normalizeDuration(N),Y=K&&K[0],q=K&&K[1],{onBeforeEnter:Z,onEnter:Q,onEnterCancelled:ee,onLeave:ne,onLeaveCancelled:te,onBeforeAppear:re=Z,onAppear:ie=Q,onAppearCancelled:se=ee}=R,le=(fe,Se,Pe)=>{removeTransitionClass(fe,Se?H:B),removeTransitionClass(fe,Se?U:L),Pe&&Pe()},he=(fe,Se)=>{fe._isLeaving=!1,removeTransitionClass(fe,z),removeTransitionClass(fe,W),removeTransitionClass(fe,V),Se&&Se()},pe=fe=>(Se,Pe)=>{const ye=fe?ie:Q,we=()=>le(Se,fe,Pe);callHook(ye,[Se,we]),nextFrame(()=>{removeTransitionClass(Se,fe?k:M),addTransitionClass(Se,fe?H:B),hasExplicitCallback(ye)||whenTransitionEnds(Se,$,Y,we)})};return extend(R,{onBeforeEnter(fe){callHook(Z,[fe]),addTransitionClass(fe,M),addTransitionClass(fe,L)},onBeforeAppear(fe){callHook(re,[fe]),addTransitionClass(fe,k),addTransitionClass(fe,U)},onEnter:pe(!1),onAppear:pe(!0),onLeave(fe,Se){fe._isLeaving=!0;const Pe=()=>he(fe,Se);addTransitionClass(fe,z),forceReflow(),addTransitionClass(fe,V),nextFrame(()=>{!fe._isLeaving||(removeTransitionClass(fe,z),addTransitionClass(fe,W),hasExplicitCallback(ne)||whenTransitionEnds(fe,$,q,Pe))}),callHook(ne,[fe,Pe])},onEnterCancelled(fe){le(fe,!1),callHook(ee,[fe])},onAppearCancelled(fe){le(fe,!0),callHook(se,[fe])},onLeaveCancelled(fe){he(fe),callHook(te,[fe])}})}function normalizeDuration(T){if(T==null)return null;if(isObject$2(T))return[NumberOf(T.enter),NumberOf(T.leave)];{const R=NumberOf(T);return[R,R]}}function NumberOf(T){return toNumber(T)}function addTransitionClass(T,R){R.split(/\s+/).forEach(I=>I&&T.classList.add(I)),(T._vtc||(T._vtc=new Set)).add(R)}function removeTransitionClass(T,R){R.split(/\s+/).forEach($=>$&&T.classList.remove($));const{_vtc:I}=T;I&&(I.delete(R),I.size||(T._vtc=void 0))}function nextFrame(T){requestAnimationFrame(()=>{requestAnimationFrame(T)})}let endId=0;function whenTransitionEnds(T,R,I,$){const N=T._endId=++endId,M=()=>{N===T._endId&&$()};if(I)return setTimeout(M,I);const{type:L,timeout:B,propCount:k}=getTransitionInfo(T,R);if(!L)return $();const U=L+"end";let H=0;const z=()=>{T.removeEventListener(U,V),M()},V=W=>{W.target===T&&++H>=k&&z()};setTimeout(()=>{H<k&&z()},B+1),T.addEventListener(U,V)}function getTransitionInfo(T,R){const I=window.getComputedStyle(T),$=K=>(I[K]||"").split(", "),N=$(TRANSITION+"Delay"),M=$(TRANSITION+"Duration"),L=getTimeout(N,M),B=$(ANIMATION+"Delay"),k=$(ANIMATION+"Duration"),U=getTimeout(B,k);let H=null,z=0,V=0;R===TRANSITION?L>0&&(H=TRANSITION,z=L,V=M.length):R===ANIMATION?U>0&&(H=ANIMATION,z=U,V=k.length):(z=Math.max(L,U),H=z>0?L>U?TRANSITION:ANIMATION:null,V=H?H===TRANSITION?M.length:k.length:0);const W=H===TRANSITION&&/\b(transform|all)(,|$)/.test(I[TRANSITION+"Property"]);return{type:H,timeout:z,propCount:V,hasTransform:W}}function getTimeout(T,R){for(;T.length<R.length;)T=T.concat(T);return Math.max(...R.map((I,$)=>toMs(I)+toMs(T[$])))}function toMs(T){return Number(T.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(T,{slots:R}){const I=getCurrentInstance(),$=useTransitionState();let N,M;return onUpdated(()=>{if(!N.length)return;const L=T.moveClass||`${T.name||"v"}-move`;if(!hasCSSTransform(N[0].el,I.vnode.el,L))return;N.forEach(callPendingCbs),N.forEach(recordPosition);const B=N.filter(applyTranslation);forceReflow(),B.forEach(k=>{const U=k.el,H=U.style;addTransitionClass(U,L),H.transform=H.webkitTransform=H.transitionDuration="";const z=U._moveCb=V=>{V&&V.target!==U||(!V||/transform$/.test(V.propertyName))&&(U.removeEventListener("transitionend",z),U._moveCb=null,removeTransitionClass(U,L))};U.addEventListener("transitionend",z)})}),()=>{const L=toRaw(T),B=resolveTransitionProps(L);let k=L.tag||Fragment;N=M,M=R.default?getTransitionRawChildren(R.default()):[];for(let U=0;U<M.length;U++){const H=M[U];H.key!=null&&setTransitionHooks(H,resolveTransitionHooks(H,B,$,I))}if(N)for(let U=0;U<N.length;U++){const H=N[U];setTransitionHooks(H,resolveTransitionHooks(H,B,$,I)),positionMap.set(H,H.el.getBoundingClientRect())}return createVNode(k,null,M)}}},TransitionGroup=TransitionGroupImpl;function callPendingCbs(T){const R=T.el;R._moveCb&&R._moveCb(),R._enterCb&&R._enterCb()}function recordPosition(T){newPositionMap.set(T,T.el.getBoundingClientRect())}function applyTranslation(T){const R=positionMap.get(T),I=newPositionMap.get(T),$=R.left-I.left,N=R.top-I.top;if($||N){const M=T.el.style;return M.transform=M.webkitTransform=`translate(${$}px,${N}px)`,M.transitionDuration="0s",T}}function hasCSSTransform(T,R,I){const $=T.cloneNode();T._vtc&&T._vtc.forEach(L=>{L.split(/\s+/).forEach(B=>B&&$.classList.remove(B))}),I.split(/\s+/).forEach(L=>L&&$.classList.add(L)),$.style.display="none";const N=R.nodeType===1?R:R.parentNode;N.appendChild($);const{hasTransform:M}=getTransitionInfo($);return N.removeChild($),M}const vShow={beforeMount(T,{value:R},{transition:I}){T._vod=T.style.display==="none"?"":T.style.display,I&&R?I.beforeEnter(T):setDisplay(T,R)},mounted(T,{value:R},{transition:I}){I&&R&&I.enter(T)},updated(T,{value:R,oldValue:I},{transition:$}){!R!=!I&&($?R?($.beforeEnter(T),setDisplay(T,!0),$.enter(T)):$.leave(T,()=>{setDisplay(T,!1)}):setDisplay(T,R))},beforeUnmount(T,{value:R}){setDisplay(T,R)}};function setDisplay(T,R){T.style.display=R?T._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...T)=>{const R=ensureRenderer().createApp(...T),{mount:I}=R;return R.mount=$=>{const N=normalizeContainer($);if(!N)return;const M=R._component;!isFunction$1(M)&&!M.render&&!M.template&&(M.template=N.innerHTML),N.innerHTML="";const L=I(N,!1,N instanceof SVGElement);return N instanceof Element&&(N.removeAttribute("v-cloak"),N.setAttribute("data-v-app","")),L},R};function normalizeContainer(T){return isString(T)?document.querySelector(T):T}/*!
  * vue-router v4.1.2
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser$3=typeof window<"u";function isESModule(T){return T.__esModule||T[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(T,R){const I={};for(const $ in R){const N=R[$];I[$]=isArray$3(N)?N.map(T):T(N)}return I}const noop$1=()=>{},isArray$3=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=T=>T.replace(TRAILING_SLASH_RE,"");function parseURL(T,R,I="/"){let $,N={},M="",L="";const B=R.indexOf("#");let k=R.indexOf("?");return B<k&&B>=0&&(k=-1),k>-1&&($=R.slice(0,k),M=R.slice(k+1,B>-1?B:R.length),N=T(M)),B>-1&&($=$||R.slice(0,B),L=R.slice(B,R.length)),$=resolveRelativePath($!=null?$:R,I),{fullPath:$+(M&&"?")+M+L,path:$,query:N,hash:L}}function stringifyURL(T,R){const I=R.query?T(R.query):"";return R.path+(I&&"?")+I+(R.hash||"")}function stripBase(T,R){return!R||!T.toLowerCase().startsWith(R.toLowerCase())?T:T.slice(R.length)||"/"}function isSameRouteLocation(T,R,I){const $=R.matched.length-1,N=I.matched.length-1;return $>-1&&$===N&&isSameRouteRecord(R.matched[$],I.matched[N])&&isSameRouteLocationParams(R.params,I.params)&&T(R.query)===T(I.query)&&R.hash===I.hash}function isSameRouteRecord(T,R){return(T.aliasOf||T)===(R.aliasOf||R)}function isSameRouteLocationParams(T,R){if(Object.keys(T).length!==Object.keys(R).length)return!1;for(const I in T)if(!isSameRouteLocationParamsValue(T[I],R[I]))return!1;return!0}function isSameRouteLocationParamsValue(T,R){return isArray$3(T)?isEquivalentArray(T,R):isArray$3(R)?isEquivalentArray(R,T):T===R}function isEquivalentArray(T,R){return isArray$3(R)?T.length===R.length&&T.every((I,$)=>I===R[$]):T.length===1&&T[0]===R}function resolveRelativePath(T,R){if(T.startsWith("/"))return T;if(!T)return R;const I=R.split("/"),$=T.split("/");let N=I.length-1,M,L;for(M=0;M<$.length;M++)if(L=$[M],L!==".")if(L==="..")N>1&&N--;else break;return I.slice(0,N).join("/")+"/"+$.slice(M-(M===$.length?1:0)).join("/")}var NavigationType;(function(T){T.pop="pop",T.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(T){T.back="back",T.forward="forward",T.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(T){if(!T)if(isBrowser$3){const R=document.querySelector("base");T=R&&R.getAttribute("href")||"/",T=T.replace(/^\w+:\/\/[^\/]+/,"")}else T="/";return T[0]!=="/"&&T[0]!=="#"&&(T="/"+T),removeTrailingSlash(T)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(T,R){return T.replace(BEFORE_HASH_RE,"#")+R}function getElementPosition(T,R){const I=document.documentElement.getBoundingClientRect(),$=T.getBoundingClientRect();return{behavior:R.behavior,left:$.left-I.left-(R.left||0),top:$.top-I.top-(R.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(T){let R;if("el"in T){const I=T.el,$=typeof I=="string"&&I.startsWith("#"),N=typeof I=="string"?$?document.getElementById(I.slice(1)):document.querySelector(I):I;if(!N)return;R=getElementPosition(N,T)}else R=T;"scrollBehavior"in document.documentElement.style?window.scrollTo(R):window.scrollTo(R.left!=null?R.left:window.pageXOffset,R.top!=null?R.top:window.pageYOffset)}function getScrollKey(T,R){return(history.state?history.state.position-R:-1)+T}const scrollPositions=new Map;function saveScrollPosition(T,R){scrollPositions.set(T,R)}function getSavedScrollPosition(T){const R=scrollPositions.get(T);return scrollPositions.delete(T),R}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(T,R){const{pathname:I,search:$,hash:N}=R,M=T.indexOf("#");if(M>-1){let B=N.includes(T.slice(M))?T.slice(M).length:1,k=N.slice(B);return k[0]!=="/"&&(k="/"+k),stripBase(k,"")}return stripBase(I,T)+$+N}function useHistoryListeners(T,R,I,$){let N=[],M=[],L=null;const B=({state:V})=>{const W=createCurrentLocation(T,location),K=I.value,Y=R.value;let q=0;if(V){if(I.value=W,R.value=V,L&&L===K){L=null;return}q=Y?V.position-Y.position:0}else $(W);N.forEach(Z=>{Z(I.value,K,{delta:q,type:NavigationType.pop,direction:q?q>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function k(){L=I.value}function U(V){N.push(V);const W=()=>{const K=N.indexOf(V);K>-1&&N.splice(K,1)};return M.push(W),W}function H(){const{history:V}=window;!V.state||V.replaceState(assign({},V.state,{scroll:computeScrollPosition()}),"")}function z(){for(const V of M)V();M=[],window.removeEventListener("popstate",B),window.removeEventListener("beforeunload",H)}return window.addEventListener("popstate",B),window.addEventListener("beforeunload",H),{pauseListeners:k,listen:U,destroy:z}}function buildState(T,R,I,$=!1,N=!1){return{back:T,current:R,forward:I,replaced:$,position:window.history.length,scroll:N?computeScrollPosition():null}}function useHistoryStateNavigation(T){const{history:R,location:I}=window,$={value:createCurrentLocation(T,I)},N={value:R.state};N.value||M($.value,{back:null,current:$.value,forward:null,position:R.length-1,replaced:!0,scroll:null},!0);function M(k,U,H){const z=T.indexOf("#"),V=z>-1?(I.host&&document.querySelector("base")?T:T.slice(z))+k:createBaseLocation()+T+k;try{R[H?"replaceState":"pushState"](U,"",V),N.value=U}catch(W){console.error(W),I[H?"replace":"assign"](V)}}function L(k,U){const H=assign({},R.state,buildState(N.value.back,k,N.value.forward,!0),U,{position:N.value.position});M(k,H,!0),$.value=k}function B(k,U){const H=assign({},N.value,R.state,{forward:k,scroll:computeScrollPosition()});M(H.current,H,!0);const z=assign({},buildState($.value,k,null),{position:H.position+1},U);M(k,z,!1),$.value=k}return{location:$,state:N,push:B,replace:L}}function createWebHistory(T){T=normalizeBase(T);const R=useHistoryStateNavigation(T),I=useHistoryListeners(T,R.state,R.location,R.replace);function $(M,L=!0){L||I.pauseListeners(),history.go(M)}const N=assign({location:"",base:T,go:$,createHref:createHref.bind(null,T)},R,I);return Object.defineProperty(N,"location",{enumerable:!0,get:()=>R.location.value}),Object.defineProperty(N,"state",{enumerable:!0,get:()=>R.state.value}),N}function createWebHashHistory(T){return T=location.host?T||location.pathname+location.search:"",T.includes("#")||(T+="#"),createWebHistory(T)}function isRouteLocation(T){return typeof T=="string"||T&&typeof T=="object"}function isRouteName(T){return typeof T=="string"||typeof T=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(T){T[T.aborted=4]="aborted",T[T.cancelled=8]="cancelled",T[T.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(T,R){return assign(new Error,{type:T,[NavigationFailureSymbol]:!0},R)}function isNavigationFailure(T,R){return T instanceof Error&&NavigationFailureSymbol in T&&(R==null||!!(T.type&R))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(T,R){const I=assign({},BASE_PATH_PARSER_OPTIONS,R),$=[];let N=I.start?"^":"";const M=[];for(const U of T){const H=U.length?[]:[90];I.strict&&!U.length&&(N+="/");for(let z=0;z<U.length;z++){const V=U[z];let W=40+(I.sensitive?.25:0);if(V.type===0)z||(N+="/"),N+=V.value.replace(REGEX_CHARS_RE,"\\$&"),W+=40;else if(V.type===1){const{value:K,repeatable:Y,optional:q,regexp:Z}=V;M.push({name:K,repeatable:Y,optional:q});const Q=Z||BASE_PARAM_PATTERN;if(Q!==BASE_PARAM_PATTERN){W+=10;try{new RegExp(`(${Q})`)}catch(ne){throw new Error(`Invalid custom RegExp for param "${K}" (${Q}): `+ne.message)}}let ee=Y?`((?:${Q})(?:/(?:${Q}))*)`:`(${Q})`;z||(ee=q&&U.length<2?`(?:/${ee})`:"/"+ee),q&&(ee+="?"),N+=ee,W+=20,q&&(W+=-8),Y&&(W+=-20),Q===".*"&&(W+=-50)}H.push(W)}$.push(H)}if(I.strict&&I.end){const U=$.length-1;$[U][$[U].length-1]+=.7000000000000001}I.strict||(N+="/?"),I.end?N+="$":I.strict&&(N+="(?:/|$)");const L=new RegExp(N,I.sensitive?"":"i");function B(U){const H=U.match(L),z={};if(!H)return null;for(let V=1;V<H.length;V++){const W=H[V]||"",K=M[V-1];z[K.name]=W&&K.repeatable?W.split("/"):W}return z}function k(U){let H="",z=!1;for(const V of T){(!z||!H.endsWith("/"))&&(H+="/"),z=!1;for(const W of V)if(W.type===0)H+=W.value;else if(W.type===1){const{value:K,repeatable:Y,optional:q}=W,Z=K in U?U[K]:"";if(isArray$3(Z)&&!Y)throw new Error(`Provided param "${K}" is an array but it is not repeatable (* or + modifiers)`);const Q=isArray$3(Z)?Z.join("/"):Z;if(!Q)if(q)V.length<2&&T.length>1&&(H.endsWith("/")?H=H.slice(0,-1):z=!0);else throw new Error(`Missing required param "${K}"`);H+=Q}}return H}return{re:L,score:$,keys:M,parse:B,stringify:k}}function compareScoreArray(T,R){let I=0;for(;I<T.length&&I<R.length;){const $=R[I]-T[I];if($)return $;I++}return T.length<R.length?T.length===1&&T[0]===40+40?-1:1:T.length>R.length?R.length===1&&R[0]===40+40?1:-1:0}function comparePathParserScore(T,R){let I=0;const $=T.score,N=R.score;for(;I<$.length&&I<N.length;){const M=compareScoreArray($[I],N[I]);if(M)return M;I++}if(Math.abs(N.length-$.length)===1){if(isLastScoreNegative($))return 1;if(isLastScoreNegative(N))return-1}return N.length-$.length}function isLastScoreNegative(T){const R=T[T.length-1];return T.length>0&&R[R.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(T){if(!T)return[[]];if(T==="/")return[[ROOT_TOKEN]];if(!T.startsWith("/"))throw new Error(`Invalid path "${T}"`);function R(W){throw new Error(`ERR (${I})/"${U}": ${W}`)}let I=0,$=I;const N=[];let M;function L(){M&&N.push(M),M=[]}let B=0,k,U="",H="";function z(){!U||(I===0?M.push({type:0,value:U}):I===1||I===2||I===3?(M.length>1&&(k==="*"||k==="+")&&R(`A repeatable param (${U}) must be alone in its segment. eg: '/:ids+.`),M.push({type:1,value:U,regexp:H,repeatable:k==="*"||k==="+",optional:k==="*"||k==="?"})):R("Invalid state to consume buffer"),U="")}function V(){U+=k}for(;B<T.length;){if(k=T[B++],k==="\\"&&I!==2){$=I,I=4;continue}switch(I){case 0:k==="/"?(U&&z(),L()):k===":"?(z(),I=1):V();break;case 4:V(),I=$;break;case 1:k==="("?I=2:VALID_PARAM_RE.test(k)?V():(z(),I=0,k!=="*"&&k!=="?"&&k!=="+"&&B--);break;case 2:k===")"?H[H.length-1]=="\\"?H=H.slice(0,-1)+k:I=3:H+=k;break;case 3:z(),I=0,k!=="*"&&k!=="?"&&k!=="+"&&B--,H="";break;default:R("Unknown state");break}}return I===2&&R(`Unfinished custom RegExp for param "${U}"`),z(),L(),N}function createRouteRecordMatcher(T,R,I){const $=tokensToParser(tokenizePath(T.path),I),N=assign($,{record:T,parent:R,children:[],alias:[]});return R&&!N.record.aliasOf==!R.record.aliasOf&&R.children.push(N),N}function createRouterMatcher(T,R){const I=[],$=new Map;R=mergeOptions({strict:!1,end:!0,sensitive:!1},R);function N(H){return $.get(H)}function M(H,z,V){const W=!V,K=normalizeRouteRecord(H);K.aliasOf=V&&V.record;const Y=mergeOptions(R,H),q=[K];if("alias"in H){const ee=typeof H.alias=="string"?[H.alias]:H.alias;for(const ne of ee)q.push(assign({},K,{components:V?V.record.components:K.components,path:ne,aliasOf:V?V.record:K}))}let Z,Q;for(const ee of q){const{path:ne}=ee;if(z&&ne[0]!=="/"){const te=z.record.path,re=te[te.length-1]==="/"?"":"/";ee.path=z.record.path+(ne&&re+ne)}if(Z=createRouteRecordMatcher(ee,z,Y),V?V.alias.push(Z):(Q=Q||Z,Q!==Z&&Q.alias.push(Z),W&&H.name&&!isAliasRecord(Z)&&L(H.name)),K.children){const te=K.children;for(let re=0;re<te.length;re++)M(te[re],Z,V&&V.children[re])}V=V||Z,k(Z)}return Q?()=>{L(Q)}:noop$1}function L(H){if(isRouteName(H)){const z=$.get(H);z&&($.delete(H),I.splice(I.indexOf(z),1),z.children.forEach(L),z.alias.forEach(L))}else{const z=I.indexOf(H);z>-1&&(I.splice(z,1),H.record.name&&$.delete(H.record.name),H.children.forEach(L),H.alias.forEach(L))}}function B(){return I}function k(H){let z=0;for(;z<I.length&&comparePathParserScore(H,I[z])>=0&&(H.record.path!==I[z].record.path||!isRecordChildOf(H,I[z]));)z++;I.splice(z,0,H),H.record.name&&!isAliasRecord(H)&&$.set(H.record.name,H)}function U(H,z){let V,W={},K,Y;if("name"in H&&H.name){if(V=$.get(H.name),!V)throw createRouterError(1,{location:H});Y=V.record.name,W=assign(paramsFromLocation(z.params,V.keys.filter(Q=>!Q.optional).map(Q=>Q.name)),H.params),K=V.stringify(W)}else if("path"in H)K=H.path,V=I.find(Q=>Q.re.test(K)),V&&(W=V.parse(K),Y=V.record.name);else{if(V=z.name?$.get(z.name):I.find(Q=>Q.re.test(z.path)),!V)throw createRouterError(1,{location:H,currentLocation:z});Y=V.record.name,W=assign({},z.params,H.params),K=V.stringify(W)}const q=[];let Z=V;for(;Z;)q.unshift(Z.record),Z=Z.parent;return{name:Y,path:K,params:W,matched:q,meta:mergeMetaFields(q)}}return T.forEach(H=>M(H)),{addRoute:M,resolve:U,removeRoute:L,getRoutes:B,getRecordMatcher:N}}function paramsFromLocation(T,R){const I={};for(const $ of R)$ in T&&(I[$]=T[$]);return I}function normalizeRouteRecord(T){return{path:T.path,redirect:T.redirect,name:T.name,meta:T.meta||{},aliasOf:void 0,beforeEnter:T.beforeEnter,props:normalizeRecordProps(T),children:T.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in T?T.components||null:T.component&&{default:T.component}}}function normalizeRecordProps(T){const R={},I=T.props||!1;if("component"in T)R.default=I;else for(const $ in T.components)R[$]=typeof I=="boolean"?I:I[$];return R}function isAliasRecord(T){for(;T;){if(T.record.aliasOf)return!0;T=T.parent}return!1}function mergeMetaFields(T){return T.reduce((R,I)=>assign(R,I.meta),{})}function mergeOptions(T,R){const I={};for(const $ in T)I[$]=$ in R?R[$]:T[$];return I}function isRecordChildOf(T,R){return R.children.some(I=>I===T||isRecordChildOf(T,I))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(T){return encodeURI(""+T).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(T){return commonEncode(T).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(T){return commonEncode(T).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(T){return encodeQueryValue(T).replace(EQUAL_RE,"%3D")}function encodePath(T){return commonEncode(T).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(T){return T==null?"":encodePath(T).replace(SLASH_RE,"%2F")}function decode$2(T){try{return decodeURIComponent(""+T)}catch{}return""+T}function parseQuery(T){const R={};if(T===""||T==="?")return R;const $=(T[0]==="?"?T.slice(1):T).split("&");for(let N=0;N<$.length;++N){const M=$[N].replace(PLUS_RE," "),L=M.indexOf("="),B=decode$2(L<0?M:M.slice(0,L)),k=L<0?null:decode$2(M.slice(L+1));if(B in R){let U=R[B];isArray$3(U)||(U=R[B]=[U]),U.push(k)}else R[B]=k}return R}function stringifyQuery(T){let R="";for(let I in T){const $=T[I];if(I=encodeQueryKey(I),$==null){$!==void 0&&(R+=(R.length?"&":"")+I);continue}(isArray$3($)?$.map(M=>M&&encodeQueryValue(M)):[$&&encodeQueryValue($)]).forEach(M=>{M!==void 0&&(R+=(R.length?"&":"")+I,M!=null&&(R+="="+M))})}return R}function normalizeQuery(T){const R={};for(const I in T){const $=T[I];$!==void 0&&(R[I]=isArray$3($)?$.map(N=>N==null?null:""+N):$==null?$:""+$)}return R}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let T=[];function R($){return T.push($),()=>{const N=T.indexOf($);N>-1&&T.splice(N,1)}}function I(){T=[]}return{add:R,list:()=>T,reset:I}}function guardToPromiseFn(T,R,I,$,N){const M=$&&($.enterCallbacks[N]=$.enterCallbacks[N]||[]);return()=>new Promise((L,B)=>{const k=z=>{z===!1?B(createRouterError(4,{from:I,to:R})):z instanceof Error?B(z):isRouteLocation(z)?B(createRouterError(2,{from:R,to:z})):(M&&$.enterCallbacks[N]===M&&typeof z=="function"&&M.push(z),L())},U=T.call($&&$.instances[N],R,I,k);let H=Promise.resolve(U);T.length<3&&(H=H.then(k)),H.catch(z=>B(z))})}function extractComponentsGuards(T,R,I,$){const N=[];for(const M of T)for(const L in M.components){let B=M.components[L];if(!(R!=="beforeRouteEnter"&&!M.instances[L]))if(isRouteComponent(B)){const U=(B.__vccOpts||B)[R];U&&N.push(guardToPromiseFn(U,I,$,M,L))}else{let k=B();N.push(()=>k.then(U=>{if(!U)return Promise.reject(new Error(`Couldn't resolve component "${L}" at "${M.path}"`));const H=isESModule(U)?U.default:U;M.components[L]=H;const V=(H.__vccOpts||H)[R];return V&&guardToPromiseFn(V,I,$,M,L)()}))}}return N}function isRouteComponent(T){return typeof T=="object"||"displayName"in T||"props"in T||"__vccOpts"in T}function useLink(T){const R=inject(routerKey),I=inject(routeLocationKey),$=computed(()=>R.resolve(unref(T.to))),N=computed(()=>{const{matched:k}=$.value,{length:U}=k,H=k[U-1],z=I.matched;if(!H||!z.length)return-1;const V=z.findIndex(isSameRouteRecord.bind(null,H));if(V>-1)return V;const W=getOriginalPath(k[U-2]);return U>1&&getOriginalPath(H)===W&&z[z.length-1].path!==W?z.findIndex(isSameRouteRecord.bind(null,k[U-2])):V}),M=computed(()=>N.value>-1&&includesParams(I.params,$.value.params)),L=computed(()=>N.value>-1&&N.value===I.matched.length-1&&isSameRouteLocationParams(I.params,$.value.params));function B(k={}){return guardEvent(k)?R[unref(T.replace)?"replace":"push"](unref(T.to)).catch(noop$1):Promise.resolve()}return{route:$,href:computed(()=>$.value.href),isActive:M,isExactActive:L,navigate:B}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(T,{slots:R}){const I=reactive(useLink(T)),{options:$}=inject(routerKey),N=computed(()=>({[getLinkClass(T.activeClass,$.linkActiveClass,"router-link-active")]:I.isActive,[getLinkClass(T.exactActiveClass,$.linkExactActiveClass,"router-link-exact-active")]:I.isExactActive}));return()=>{const M=R.default&&R.default(I);return T.custom?M:h$1("a",{"aria-current":I.isExactActive?T.ariaCurrentValue:null,href:I.href,onClick:I.navigate,class:N.value},M)}}}),RouterLink=RouterLinkImpl;function guardEvent(T){if(!(T.metaKey||T.altKey||T.ctrlKey||T.shiftKey)&&!T.defaultPrevented&&!(T.button!==void 0&&T.button!==0)){if(T.currentTarget&&T.currentTarget.getAttribute){const R=T.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(R))return}return T.preventDefault&&T.preventDefault(),!0}}function includesParams(T,R){for(const I in R){const $=R[I],N=T[I];if(typeof $=="string"){if($!==N)return!1}else if(!isArray$3(N)||N.length!==$.length||$.some((M,L)=>M!==N[L]))return!1}return!0}function getOriginalPath(T){return T?T.aliasOf?T.aliasOf.path:T.path:""}const getLinkClass=(T,R,I)=>T!=null?T:R!=null?R:I,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(T,{attrs:R,slots:I}){const $=inject(routerViewLocationKey),N=computed(()=>T.route||$.value),M=inject(viewDepthKey,0),L=computed(()=>{let U=unref(M);const{matched:H}=N.value;let z;for(;(z=H[U])&&!z.components;)U++;return U}),B=computed(()=>N.value.matched[L.value]);provide(viewDepthKey,computed(()=>L.value+1)),provide(matchedRouteKey,B),provide(routerViewLocationKey,N);const k=ref();return watch(()=>[k.value,B.value,T.name],([U,H,z],[V,W,K])=>{H&&(H.instances[z]=U,W&&W!==H&&U&&U===V&&(H.leaveGuards.size||(H.leaveGuards=W.leaveGuards),H.updateGuards.size||(H.updateGuards=W.updateGuards))),U&&H&&(!W||!isSameRouteRecord(H,W)||!V)&&(H.enterCallbacks[z]||[]).forEach(Y=>Y(U))},{flush:"post"}),()=>{const U=N.value,H=B.value,z=H&&H.components[T.name],V=T.name;if(!z)return normalizeSlot(I.default,{Component:z,route:U});const W=H.props[T.name],K=W?W===!0?U.params:typeof W=="function"?W(U):W:null,q=h$1(z,assign({},K,R,{onVnodeUnmounted:Z=>{Z.component.isUnmounted&&(H.instances[V]=null)},ref:k}));return normalizeSlot(I.default,{Component:q,route:U})||q}}});function normalizeSlot(T,R){if(!T)return null;const I=T(R);return I.length===1?I[0]:I}const RouterView=RouterViewImpl;function createRouter(T){const R=createRouterMatcher(T.routes,T),I=T.parseQuery||parseQuery,$=T.stringifyQuery||stringifyQuery,N=T.history,M=useCallbacks(),L=useCallbacks(),B=useCallbacks(),k=shallowRef(START_LOCATION_NORMALIZED);let U=START_LOCATION_NORMALIZED;isBrowser$3&&T.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const H=applyToParams.bind(null,xe=>""+xe),z=applyToParams.bind(null,encodeParam),V=applyToParams.bind(null,decode$2);function W(xe,Le){let Ue,Xe;return isRouteName(xe)?(Ue=R.getRecordMatcher(xe),Xe=Le):Xe=xe,R.addRoute(Xe,Ue)}function K(xe){const Le=R.getRecordMatcher(xe);Le&&R.removeRoute(Le)}function Y(){return R.getRoutes().map(xe=>xe.record)}function q(xe){return!!R.getRecordMatcher(xe)}function Z(xe,Le){if(Le=assign({},Le||k.value),typeof xe=="string"){const Qe=parseURL(I,xe,Le.path),ce=R.resolve({path:Qe.path},Le),ge=N.createHref(Qe.fullPath);return assign(Qe,ce,{params:V(ce.params),hash:decode$2(Qe.hash),redirectedFrom:void 0,href:ge})}let Ue;if("path"in xe)Ue=assign({},xe,{path:parseURL(I,xe.path,Le.path).path});else{const Qe=assign({},xe.params);for(const ce in Qe)Qe[ce]==null&&delete Qe[ce];Ue=assign({},xe,{params:z(xe.params)}),Le.params=z(Le.params)}const Xe=R.resolve(Ue,Le),je=xe.hash||"";Xe.params=H(V(Xe.params));const st=stringifyURL($,assign({},xe,{hash:encodeHash(je),path:Xe.path})),Ye=N.createHref(st);return assign({fullPath:st,hash:je,query:$===stringifyQuery?normalizeQuery(xe.query):xe.query||{}},Xe,{redirectedFrom:void 0,href:Ye})}function Q(xe){return typeof xe=="string"?parseURL(I,xe,k.value.path):assign({},xe)}function ee(xe,Le){if(U!==xe)return createRouterError(8,{from:Le,to:xe})}function ne(xe){return ie(xe)}function te(xe){return ne(assign(Q(xe),{replace:!0}))}function re(xe){const Le=xe.matched[xe.matched.length-1];if(Le&&Le.redirect){const{redirect:Ue}=Le;let Xe=typeof Ue=="function"?Ue(xe):Ue;return typeof Xe=="string"&&(Xe=Xe.includes("?")||Xe.includes("#")?Xe=Q(Xe):{path:Xe},Xe.params={}),assign({query:xe.query,hash:xe.hash,params:"path"in Xe?{}:xe.params},Xe)}}function ie(xe,Le){const Ue=U=Z(xe),Xe=k.value,je=xe.state,st=xe.force,Ye=xe.replace===!0,Qe=re(Ue);if(Qe)return ie(assign(Q(Qe),{state:je,force:st,replace:Ye}),Le||Ue);const ce=Ue;ce.redirectedFrom=Le;let ge;return!st&&isSameRouteLocation($,Xe,Ue)&&(ge=createRouterError(16,{to:ce,from:Xe}),de(Xe,Xe,!0,!1)),(ge?Promise.resolve(ge):le(ce,Xe)).catch(Re=>isNavigationFailure(Re)?isNavigationFailure(Re,2)?Re:Ae(Re):Ee(Re,ce,Xe)).then(Re=>{if(Re){if(isNavigationFailure(Re,2))return ie(assign(Q(Re.to),{state:je,force:st,replace:Ye}),Le||ce)}else Re=pe(ce,Xe,!0,Ye,je);return he(ce,Xe,Re),Re})}function se(xe,Le){const Ue=ee(xe,Le);return Ue?Promise.reject(Ue):Promise.resolve()}function le(xe,Le){let Ue;const[Xe,je,st]=extractChangingRecords(xe,Le);Ue=extractComponentsGuards(Xe.reverse(),"beforeRouteLeave",xe,Le);for(const Qe of Xe)Qe.leaveGuards.forEach(ce=>{Ue.push(guardToPromiseFn(ce,xe,Le))});const Ye=se.bind(null,xe,Le);return Ue.push(Ye),runGuardQueue(Ue).then(()=>{Ue=[];for(const Qe of M.list())Ue.push(guardToPromiseFn(Qe,xe,Le));return Ue.push(Ye),runGuardQueue(Ue)}).then(()=>{Ue=extractComponentsGuards(je,"beforeRouteUpdate",xe,Le);for(const Qe of je)Qe.updateGuards.forEach(ce=>{Ue.push(guardToPromiseFn(ce,xe,Le))});return Ue.push(Ye),runGuardQueue(Ue)}).then(()=>{Ue=[];for(const Qe of xe.matched)if(Qe.beforeEnter&&!Le.matched.includes(Qe))if(isArray$3(Qe.beforeEnter))for(const ce of Qe.beforeEnter)Ue.push(guardToPromiseFn(ce,xe,Le));else Ue.push(guardToPromiseFn(Qe.beforeEnter,xe,Le));return Ue.push(Ye),runGuardQueue(Ue)}).then(()=>(xe.matched.forEach(Qe=>Qe.enterCallbacks={}),Ue=extractComponentsGuards(st,"beforeRouteEnter",xe,Le),Ue.push(Ye),runGuardQueue(Ue))).then(()=>{Ue=[];for(const Qe of L.list())Ue.push(guardToPromiseFn(Qe,xe,Le));return Ue.push(Ye),runGuardQueue(Ue)}).catch(Qe=>isNavigationFailure(Qe,8)?Qe:Promise.reject(Qe))}function he(xe,Le,Ue){for(const Xe of B.list())Xe(xe,Le,Ue)}function pe(xe,Le,Ue,Xe,je){const st=ee(xe,Le);if(st)return st;const Ye=Le===START_LOCATION_NORMALIZED,Qe=isBrowser$3?history.state:{};Ue&&(Xe||Ye?N.replace(xe.fullPath,assign({scroll:Ye&&Qe&&Qe.scroll},je)):N.push(xe.fullPath,je)),k.value=xe,de(xe,Le,Ue,Ye),Ae()}let fe;function Se(){fe||(fe=N.listen((xe,Le,Ue)=>{if(!nt.listening)return;const Xe=Z(xe),je=re(Xe);if(je){ie(assign(je,{replace:!0}),Xe).catch(noop$1);return}U=Xe;const st=k.value;isBrowser$3&&saveScrollPosition(getScrollKey(st.fullPath,Ue.delta),computeScrollPosition()),le(Xe,st).catch(Ye=>isNavigationFailure(Ye,12)?Ye:isNavigationFailure(Ye,2)?(ie(Ye.to,Xe).then(Qe=>{isNavigationFailure(Qe,20)&&!Ue.delta&&Ue.type===NavigationType.pop&&N.go(-1,!1)}).catch(noop$1),Promise.reject()):(Ue.delta&&N.go(-Ue.delta,!1),Ee(Ye,Xe,st))).then(Ye=>{Ye=Ye||pe(Xe,st,!1),Ye&&(Ue.delta?N.go(-Ue.delta,!1):Ue.type===NavigationType.pop&&isNavigationFailure(Ye,20)&&N.go(-1,!1)),he(Xe,st,Ye)}).catch(noop$1)}))}let Pe=useCallbacks(),ye=useCallbacks(),we;function Ee(xe,Le,Ue){Ae(xe);const Xe=ye.list();return Xe.length?Xe.forEach(je=>je(xe,Le,Ue)):console.error(xe),Promise.reject(xe)}function He(){return we&&k.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((xe,Le)=>{Pe.add([xe,Le])})}function Ae(xe){return we||(we=!xe,Se(),Pe.list().forEach(([Le,Ue])=>xe?Ue(xe):Le()),Pe.reset()),xe}function de(xe,Le,Ue,Xe){const{scrollBehavior:je}=T;if(!isBrowser$3||!je)return Promise.resolve();const st=!Ue&&getSavedScrollPosition(getScrollKey(xe.fullPath,0))||(Xe||!Ue)&&history.state&&history.state.scroll||null;return nextTick().then(()=>je(xe,Le,st)).then(Ye=>Ye&&scrollToPosition(Ye)).catch(Ye=>Ee(Ye,xe,Le))}const Oe=xe=>N.go(xe);let Ve;const Ze=new Set,nt={currentRoute:k,listening:!0,addRoute:W,removeRoute:K,hasRoute:q,getRoutes:Y,resolve:Z,options:T,push:ne,replace:te,go:Oe,back:()=>Oe(-1),forward:()=>Oe(1),beforeEach:M.add,beforeResolve:L.add,afterEach:B.add,onError:ye.add,isReady:He,install(xe){const Le=this;xe.component("RouterLink",RouterLink),xe.component("RouterView",RouterView),xe.config.globalProperties.$router=Le,Object.defineProperty(xe.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(k)}),isBrowser$3&&!Ve&&k.value===START_LOCATION_NORMALIZED&&(Ve=!0,ne(N.location).catch(je=>{}));const Ue={};for(const je in START_LOCATION_NORMALIZED)Ue[je]=computed(()=>k.value[je]);xe.provide(routerKey,Le),xe.provide(routeLocationKey,reactive(Ue)),xe.provide(routerViewLocationKey,k);const Xe=xe.unmount;Ze.add(xe),xe.unmount=function(){Ze.delete(xe),Ze.size<1&&(U=START_LOCATION_NORMALIZED,fe&&fe(),fe=null,k.value=START_LOCATION_NORMALIZED,Ve=!1,we=!1),Xe()}}};return nt}function runGuardQueue(T){return T.reduce((R,I)=>R.then(()=>I()),Promise.resolve())}function extractChangingRecords(T,R){const I=[],$=[],N=[],M=Math.max(R.matched.length,T.matched.length);for(let L=0;L<M;L++){const B=R.matched[L];B&&(T.matched.find(U=>isSameRouteRecord(U,B))?$.push(B):I.push(B));const k=T.matched[L];k&&(R.matched.find(U=>isSameRouteRecord(U,k))||N.push(k))}return[I,$,N]}const index="";function finallyConstructor(T){var R=this.constructor;return this.then(function(I){return R.resolve(T()).then(function(){return I})},function(I){return R.resolve(T()).then(function(){return R.reject(I)})})}function allSettled(T){var R=this;return new R(function(I,$){if(!(T&&typeof T.length<"u"))return $(new TypeError(typeof T+" "+T+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var N=Array.prototype.slice.call(T);if(N.length===0)return I([]);var M=N.length;function L(k,U){if(U&&(typeof U=="object"||typeof U=="function")){var H=U.then;if(typeof H=="function"){H.call(U,function(z){L(k,z)},function(z){N[k]={status:"rejected",reason:z},--M===0&&I(N)});return}}N[k]={status:"fulfilled",value:U},--M===0&&I(N)}for(var B=0;B<N.length;B++)L(B,N[B])})}var setTimeoutFunc=setTimeout;function isArray$2(T){return Boolean(T&&typeof T.length<"u")}function noop(){}function bind(T,R){return function(){T.apply(R,arguments)}}function Promise$3(T){if(!(this instanceof Promise$3))throw new TypeError("Promises must be constructed via new");if(typeof T!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(T,this)}function handle(T,R){for(;T._state===3;)T=T._value;if(T._state===0){T._deferreds.push(R);return}T._handled=!0,Promise$3._immediateFn(function(){var I=T._state===1?R.onFulfilled:R.onRejected;if(I===null){(T._state===1?resolve$1:reject)(R.promise,T._value);return}var $;try{$=I(T._value)}catch(N){reject(R.promise,N);return}resolve$1(R.promise,$)})}function resolve$1(T,R){try{if(R===T)throw new TypeError("A promise cannot be resolved with itself.");if(R&&(typeof R=="object"||typeof R=="function")){var I=R.then;if(R instanceof Promise$3){T._state=3,T._value=R,finale(T);return}else if(typeof I=="function"){doResolve(bind(I,R),T);return}}T._state=1,T._value=R,finale(T)}catch($){reject(T,$)}}function reject(T,R){T._state=2,T._value=R,finale(T)}function finale(T){T._state===2&&T._deferreds.length===0&&Promise$3._immediateFn(function(){T._handled||Promise$3._unhandledRejectionFn(T._value)});for(var R=0,I=T._deferreds.length;R<I;R++)handle(T,T._deferreds[R]);T._deferreds=null}function Handler(T,R,I){this.onFulfilled=typeof T=="function"?T:null,this.onRejected=typeof R=="function"?R:null,this.promise=I}function doResolve(T,R){var I=!1;try{T(function($){I||(I=!0,resolve$1(R,$))},function($){I||(I=!0,reject(R,$))})}catch($){if(I)return;I=!0,reject(R,$)}}Promise$3.prototype.catch=function(T){return this.then(null,T)};Promise$3.prototype.then=function(T,R){var I=new this.constructor(noop);return handle(this,new Handler(T,R,I)),I};Promise$3.prototype.finally=finallyConstructor;Promise$3.all=function(T){return new Promise$3(function(R,I){if(!isArray$2(T))return I(new TypeError("Promise.all accepts an array"));var $=Array.prototype.slice.call(T);if($.length===0)return R([]);var N=$.length;function M(B,k){try{if(k&&(typeof k=="object"||typeof k=="function")){var U=k.then;if(typeof U=="function"){U.call(k,function(H){M(B,H)},I);return}}$[B]=k,--N===0&&R($)}catch(H){I(H)}}for(var L=0;L<$.length;L++)M(L,$[L])})};Promise$3.allSettled=allSettled;Promise$3.resolve=function(T){return T&&typeof T=="object"&&T.constructor===Promise$3?T:new Promise$3(function(R){R(T)})};Promise$3.reject=function(T){return new Promise$3(function(R,I){I(T)})};Promise$3.race=function(T){return new Promise$3(function(R,I){if(!isArray$2(T))return I(new TypeError("Promise.race accepts an array"));for(var $=0,N=T.length;$<N;$++)Promise$3.resolve(T[$]).then(R,I)})};Promise$3._immediateFn=typeof setImmediate=="function"&&function(T){setImmediate(T)}||function(T){setTimeoutFunc(T,0)};Promise$3._unhandledRejectionFn=function(R){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",R)};var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(T){var R=T.default;if(typeof R=="function"){var I=function(){return R.apply(this,arguments)};I.prototype=R.prototype}else I={};return Object.defineProperty(I,"__esModule",{value:!0}),Object.keys(T).forEach(function($){var N=Object.getOwnPropertyDescriptor(T,$);Object.defineProperty(I,$,N.get?N:{enumerable:!0,get:function(){return T[$]}})}),I}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$e=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(T){if(T==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(T)}function shouldUseNative(){try{if(!Object.assign)return!1;var T=new String("abc");if(T[5]="de",Object.getOwnPropertyNames(T)[0]==="5")return!1;for(var R={},I=0;I<10;I++)R["_"+String.fromCharCode(I)]=I;var $=Object.getOwnPropertyNames(R).map(function(M){return R[M]});if($.join("")!=="0123456789")return!1;var N={};return"abcdefghijklmnopqrst".split("").forEach(function(M){N[M]=M}),Object.keys(Object.assign({},N)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign=shouldUseNative()?Object.assign:function(T,R){for(var I,$=toObject(T),N,M=1;M<arguments.length;M++){I=Object(arguments[M]);for(var L in I)hasOwnProperty$e.call(I,L)&&($[L]=I[L]);if(getOwnPropertySymbols){N=getOwnPropertySymbols(I);for(var B=0;B<N.length;B++)propIsEnumerable.call(I,N[B])&&($[N[B]]=I[N[B]])}}return $};/*!
 * @pixi/polyfill - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=Promise$3);Object.assign||(Object.assign=objectAssign);var ONE_FRAME_TIME=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var startTime_1=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-startTime_1}}var lastTime=Date.now(),vendors=["ms","moz","webkit","o"];for(var x$1=0;x$1<vendors.length&&!globalThis.requestAnimationFrame;++x$1){var p$1=vendors[x$1];globalThis.requestAnimationFrame=globalThis[p$1+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[p$1+"CancelAnimationFrame"]||globalThis[p$1+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(T){if(typeof T!="function")throw new TypeError(T+"is not a function");var R=Date.now(),I=ONE_FRAME_TIME+lastTime-R;return I<0&&(I=0),lastTime=R,globalThis.self.setTimeout(function(){lastTime=Date.now(),T(performance.now())},I)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(T){return clearTimeout(T)});Math.sign||(Math.sign=function(R){return R=Number(R),R===0||isNaN(R)?R:R>0?1:-1});Number.isInteger||(Number.isInteger=function(R){return typeof R=="number"&&isFinite(R)&&Math.floor(R)===R});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/settings - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$6;(function(T){T[T.WEBGL_LEGACY=0]="WEBGL_LEGACY",T[T.WEBGL=1]="WEBGL",T[T.WEBGL2=2]="WEBGL2"})(ENV$6||(ENV$6={}));var RENDERER_TYPE$6;(function(T){T[T.UNKNOWN=0]="UNKNOWN",T[T.WEBGL=1]="WEBGL",T[T.CANVAS=2]="CANVAS"})(RENDERER_TYPE$6||(RENDERER_TYPE$6={}));var BUFFER_BITS$6;(function(T){T[T.COLOR=16384]="COLOR",T[T.DEPTH=256]="DEPTH",T[T.STENCIL=1024]="STENCIL"})(BUFFER_BITS$6||(BUFFER_BITS$6={}));var BLEND_MODES$6;(function(T){T[T.NORMAL=0]="NORMAL",T[T.ADD=1]="ADD",T[T.MULTIPLY=2]="MULTIPLY",T[T.SCREEN=3]="SCREEN",T[T.OVERLAY=4]="OVERLAY",T[T.DARKEN=5]="DARKEN",T[T.LIGHTEN=6]="LIGHTEN",T[T.COLOR_DODGE=7]="COLOR_DODGE",T[T.COLOR_BURN=8]="COLOR_BURN",T[T.HARD_LIGHT=9]="HARD_LIGHT",T[T.SOFT_LIGHT=10]="SOFT_LIGHT",T[T.DIFFERENCE=11]="DIFFERENCE",T[T.EXCLUSION=12]="EXCLUSION",T[T.HUE=13]="HUE",T[T.SATURATION=14]="SATURATION",T[T.COLOR=15]="COLOR",T[T.LUMINOSITY=16]="LUMINOSITY",T[T.NORMAL_NPM=17]="NORMAL_NPM",T[T.ADD_NPM=18]="ADD_NPM",T[T.SCREEN_NPM=19]="SCREEN_NPM",T[T.NONE=20]="NONE",T[T.SRC_OVER=0]="SRC_OVER",T[T.SRC_IN=21]="SRC_IN",T[T.SRC_OUT=22]="SRC_OUT",T[T.SRC_ATOP=23]="SRC_ATOP",T[T.DST_OVER=24]="DST_OVER",T[T.DST_IN=25]="DST_IN",T[T.DST_OUT=26]="DST_OUT",T[T.DST_ATOP=27]="DST_ATOP",T[T.ERASE=26]="ERASE",T[T.SUBTRACT=28]="SUBTRACT",T[T.XOR=29]="XOR"})(BLEND_MODES$6||(BLEND_MODES$6={}));var DRAW_MODES$6;(function(T){T[T.POINTS=0]="POINTS",T[T.LINES=1]="LINES",T[T.LINE_LOOP=2]="LINE_LOOP",T[T.LINE_STRIP=3]="LINE_STRIP",T[T.TRIANGLES=4]="TRIANGLES",T[T.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",T[T.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$6||(DRAW_MODES$6={}));var FORMATS$6;(function(T){T[T.RGBA=6408]="RGBA",T[T.RGB=6407]="RGB",T[T.RG=33319]="RG",T[T.RED=6403]="RED",T[T.RGBA_INTEGER=36249]="RGBA_INTEGER",T[T.RGB_INTEGER=36248]="RGB_INTEGER",T[T.RG_INTEGER=33320]="RG_INTEGER",T[T.RED_INTEGER=36244]="RED_INTEGER",T[T.ALPHA=6406]="ALPHA",T[T.LUMINANCE=6409]="LUMINANCE",T[T.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",T[T.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",T[T.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$6||(FORMATS$6={}));var TARGETS$6;(function(T){T[T.TEXTURE_2D=3553]="TEXTURE_2D",T[T.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",T[T.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",T[T.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",T[T.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",T[T.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",T[T.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",T[T.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",T[T.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$6||(TARGETS$6={}));var TYPES$6;(function(T){T[T.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",T[T.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",T[T.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",T[T.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",T[T.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",T[T.UNSIGNED_INT=5125]="UNSIGNED_INT",T[T.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",T[T.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",T[T.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",T[T.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",T[T.BYTE=5120]="BYTE",T[T.SHORT=5122]="SHORT",T[T.INT=5124]="INT",T[T.FLOAT=5126]="FLOAT",T[T.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",T[T.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$6||(TYPES$6={}));var SAMPLER_TYPES$6;(function(T){T[T.FLOAT=0]="FLOAT",T[T.INT=1]="INT",T[T.UINT=2]="UINT"})(SAMPLER_TYPES$6||(SAMPLER_TYPES$6={}));var SCALE_MODES$6;(function(T){T[T.NEAREST=0]="NEAREST",T[T.LINEAR=1]="LINEAR"})(SCALE_MODES$6||(SCALE_MODES$6={}));var WRAP_MODES$6;(function(T){T[T.CLAMP=33071]="CLAMP",T[T.REPEAT=10497]="REPEAT",T[T.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$6||(WRAP_MODES$6={}));var MIPMAP_MODES$6;(function(T){T[T.OFF=0]="OFF",T[T.POW2=1]="POW2",T[T.ON=2]="ON",T[T.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$6||(MIPMAP_MODES$6={}));var ALPHA_MODES$6;(function(T){T[T.NPM=0]="NPM",T[T.UNPACK=1]="UNPACK",T[T.PMA=2]="PMA",T[T.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",T[T.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",T[T.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",T[T.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$6||(ALPHA_MODES$6={}));var CLEAR_MODES$6;(function(T){T[T.NO=0]="NO",T[T.YES=1]="YES",T[T.AUTO=2]="AUTO",T[T.BLEND=0]="BLEND",T[T.CLEAR=1]="CLEAR",T[T.BLIT=2]="BLIT"})(CLEAR_MODES$6||(CLEAR_MODES$6={}));var GC_MODES$6;(function(T){T[T.AUTO=0]="AUTO",T[T.MANUAL=1]="MANUAL"})(GC_MODES$6||(GC_MODES$6={}));var PRECISION$6;(function(T){T.LOW="lowp",T.MEDIUM="mediump",T.HIGH="highp"})(PRECISION$6||(PRECISION$6={}));var MASK_TYPES$6;(function(T){T[T.NONE=0]="NONE",T[T.SCISSOR=1]="SCISSOR",T[T.STENCIL=2]="STENCIL",T[T.SPRITE=3]="SPRITE",T[T.COLOR=4]="COLOR"})(MASK_TYPES$6||(MASK_TYPES$6={}));var COLOR_MASK_BITS$6;(function(T){T[T.RED=1]="RED",T[T.GREEN=2]="GREEN",T[T.BLUE=4]="BLUE",T[T.ALPHA=8]="ALPHA"})(COLOR_MASK_BITS$6||(COLOR_MASK_BITS$6={}));var MSAA_QUALITY$6;(function(T){T[T.NONE=0]="NONE",T[T.LOW=2]="LOW",T[T.MEDIUM=4]="MEDIUM",T[T.HIGH=8]="HIGH"})(MSAA_QUALITY$6||(MSAA_QUALITY$6={}));var BUFFER_TYPE$6;(function(T){T[T.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",T[T.ARRAY_BUFFER=34962]="ARRAY_BUFFER",T[T.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$6||(BUFFER_TYPE$6={}));var BrowserAdapter$1={createCanvas:function(T,R){var I=document.createElement("canvas");return I.width=T,I.height=R,I},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var T;return(T=document.baseURI)!==null&&T!==void 0?T:window.location.href},fetch:function(T,R){return fetch(T,R)}},appleIphone$1=/iPhone/i,appleIpod$1=/iPod/i,appleTablet$1=/iPad/i,appleUniversal$1=/\biOS-universal(?:.+)Mac\b/i,androidPhone$1=/\bAndroid(?:.+)Mobile\b/i,androidTablet$1=/Android/i,amazonPhone$1=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,amazonTablet$1=/Silk/i,windowsPhone$1=/Windows Phone/i,windowsTablet$1=/\bWindows(?:.+)ARM\b/i,otherBlackBerry$1=/BlackBerry/i,otherBlackBerry10$1=/BB10/i,otherOpera$1=/Opera Mini/i,otherChrome$1=/\b(CriOS|Chrome)(?:.+)Mobile/i,otherFirefox$1=/Mobile(?:.+)Firefox\b/i,isAppleTabletOnIos13$1=function(T){return typeof T<"u"&&T.platform==="MacIntel"&&typeof T.maxTouchPoints=="number"&&T.maxTouchPoints>1&&typeof MSStream>"u"};function createMatch$1(T){return function(R){return R.test(T)}}function isMobile$1$1(T){var R={userAgent:"",platform:"",maxTouchPoints:0};!T&&typeof navigator<"u"?R={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof T=="string"?R.userAgent=T:T&&T.userAgent&&(R={userAgent:T.userAgent,platform:T.platform,maxTouchPoints:T.maxTouchPoints||0});var I=R.userAgent,$=I.split("[FBAN");typeof $[1]<"u"&&(I=$[0]),$=I.split("Twitter"),typeof $[1]<"u"&&(I=$[0]);var N=createMatch$1(I),M={apple:{phone:N(appleIphone$1)&&!N(windowsPhone$1),ipod:N(appleIpod$1),tablet:!N(appleIphone$1)&&(N(appleTablet$1)||isAppleTabletOnIos13$1(R))&&!N(windowsPhone$1),universal:N(appleUniversal$1),device:(N(appleIphone$1)||N(appleIpod$1)||N(appleTablet$1)||N(appleUniversal$1)||isAppleTabletOnIos13$1(R))&&!N(windowsPhone$1)},amazon:{phone:N(amazonPhone$1),tablet:!N(amazonPhone$1)&&N(amazonTablet$1),device:N(amazonPhone$1)||N(amazonTablet$1)},android:{phone:!N(windowsPhone$1)&&N(amazonPhone$1)||!N(windowsPhone$1)&&N(androidPhone$1),tablet:!N(windowsPhone$1)&&!N(amazonPhone$1)&&!N(androidPhone$1)&&(N(amazonTablet$1)||N(androidTablet$1)),device:!N(windowsPhone$1)&&(N(amazonPhone$1)||N(amazonTablet$1)||N(androidPhone$1)||N(androidTablet$1))||N(/\bokhttp\b/i)},windows:{phone:N(windowsPhone$1),tablet:N(windowsTablet$1),device:N(windowsPhone$1)||N(windowsTablet$1)},other:{blackberry:N(otherBlackBerry$1),blackberry10:N(otherBlackBerry10$1),opera:N(otherOpera$1),firefox:N(otherFirefox$1),chrome:N(otherChrome$1),device:N(otherBlackBerry$1)||N(otherBlackBerry10$1)||N(otherOpera$1)||N(otherFirefox$1)||N(otherChrome$1)},any:!1,phone:!1,tablet:!1};return M.any=M.apple.device||M.android.device||M.windows.device||M.other.device,M.phone=M.apple.phone||M.android.phone||M.windows.phone,M.tablet=M.apple.tablet||M.android.tablet||M.windows.tablet,M}var isMobile$2=isMobile$1$1(globalThis.navigator);function canUploadSameBuffer$1(){return!isMobile$2.apple.device}function maxRecommendedTextures$1(T){var R=!0;if(isMobile$2.tablet||isMobile$2.phone){if(isMobile$2.apple.device){var I=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(I){var $=parseInt(I[1],10);$<11&&(R=!1)}}if(isMobile$2.android.device){var I=navigator.userAgent.match(/Android\s([0-9.]*)/);if(I){var $=parseInt(I[1],10);$<7&&(R=!1)}}}return R?T:4}var settings$1={ADAPTER:BrowserAdapter$1,MIPMAP_TEXTURES:MIPMAP_MODES$6.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:MSAA_QUALITY$6.NONE,SPRITE_MAX_TEXTURES:maxRecommendedTextures$1(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:GC_MODES$6.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:WRAP_MODES$6.CLAMP,SCALE_MODE:SCALE_MODES$6.LINEAR,PRECISION_VERTEX:PRECISION$6.HIGH,PRECISION_FRAGMENT:isMobile$2.apple.device?PRECISION$6.HIGH:PRECISION$6.MEDIUM,CAN_UPLOAD_SAME_BUFFER:canUploadSameBuffer$1(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},eventemitter3={exports:{}};(function(T){var R=Object.prototype.hasOwnProperty,I="~";function $(){}Object.create&&($.prototype=Object.create(null),new $().__proto__||(I=!1));function N(k,U,H){this.fn=k,this.context=U,this.once=H||!1}function M(k,U,H,z,V){if(typeof H!="function")throw new TypeError("The listener must be a function");var W=new N(H,z||k,V),K=I?I+U:U;return k._events[K]?k._events[K].fn?k._events[K]=[k._events[K],W]:k._events[K].push(W):(k._events[K]=W,k._eventsCount++),k}function L(k,U){--k._eventsCount===0?k._events=new $:delete k._events[U]}function B(){this._events=new $,this._eventsCount=0}B.prototype.eventNames=function(){var U=[],H,z;if(this._eventsCount===0)return U;for(z in H=this._events)R.call(H,z)&&U.push(I?z.slice(1):z);return Object.getOwnPropertySymbols?U.concat(Object.getOwnPropertySymbols(H)):U},B.prototype.listeners=function(U){var H=I?I+U:U,z=this._events[H];if(!z)return[];if(z.fn)return[z.fn];for(var V=0,W=z.length,K=new Array(W);V<W;V++)K[V]=z[V].fn;return K},B.prototype.listenerCount=function(U){var H=I?I+U:U,z=this._events[H];return z?z.fn?1:z.length:0},B.prototype.emit=function(U,H,z,V,W,K){var Y=I?I+U:U;if(!this._events[Y])return!1;var q=this._events[Y],Z=arguments.length,Q,ee;if(q.fn){switch(q.once&&this.removeListener(U,q.fn,void 0,!0),Z){case 1:return q.fn.call(q.context),!0;case 2:return q.fn.call(q.context,H),!0;case 3:return q.fn.call(q.context,H,z),!0;case 4:return q.fn.call(q.context,H,z,V),!0;case 5:return q.fn.call(q.context,H,z,V,W),!0;case 6:return q.fn.call(q.context,H,z,V,W,K),!0}for(ee=1,Q=new Array(Z-1);ee<Z;ee++)Q[ee-1]=arguments[ee];q.fn.apply(q.context,Q)}else{var ne=q.length,te;for(ee=0;ee<ne;ee++)switch(q[ee].once&&this.removeListener(U,q[ee].fn,void 0,!0),Z){case 1:q[ee].fn.call(q[ee].context);break;case 2:q[ee].fn.call(q[ee].context,H);break;case 3:q[ee].fn.call(q[ee].context,H,z);break;case 4:q[ee].fn.call(q[ee].context,H,z,V);break;default:if(!Q)for(te=1,Q=new Array(Z-1);te<Z;te++)Q[te-1]=arguments[te];q[ee].fn.apply(q[ee].context,Q)}}return!0},B.prototype.on=function(U,H,z){return M(this,U,H,z,!1)},B.prototype.once=function(U,H,z){return M(this,U,H,z,!0)},B.prototype.removeListener=function(U,H,z,V){var W=I?I+U:U;if(!this._events[W])return this;if(!H)return L(this,W),this;var K=this._events[W];if(K.fn)K.fn===H&&(!V||K.once)&&(!z||K.context===z)&&L(this,W);else{for(var Y=0,q=[],Z=K.length;Y<Z;Y++)(K[Y].fn!==H||V&&!K[Y].once||z&&K[Y].context!==z)&&q.push(K[Y]);q.length?this._events[W]=q.length===1?q[0]:q:L(this,W)}return this},B.prototype.removeAllListeners=function(U){var H;return U?(H=I?I+U:U,this._events[H]&&L(this,H)):(this._events=new $,this._eventsCount=0),this},B.prototype.off=B.prototype.removeListener,B.prototype.addListener=B.prototype.on,B.prefixed=I,B.EventEmitter=B,T.exports=B})(eventemitter3);const n$1=eventemitter3.exports;var earcut$1={exports:{}};earcut$1.exports=earcut;earcut$1.exports.default=earcut;function earcut(T,R,I){I=I||2;var $=R&&R.length,N=$?R[0]*I:T.length,M=linkedList(T,0,N,I,!0),L=[];if(!M||M.next===M.prev)return L;var B,k,U,H,z,V,W;if($&&(M=eliminateHoles(T,R,M,I)),T.length>80*I){B=U=T[0],k=H=T[1];for(var K=I;K<N;K+=I)z=T[K],V=T[K+1],z<B&&(B=z),V<k&&(k=V),z>U&&(U=z),V>H&&(H=V);W=Math.max(U-B,H-k),W=W!==0?32767/W:0}return earcutLinked(M,L,I,B,k,W,0),L}function linkedList(T,R,I,$,N){var M,L;if(N===signedArea(T,R,I,$)>0)for(M=R;M<I;M+=$)L=insertNode(M,T[M],T[M+1],L);else for(M=I-$;M>=R;M-=$)L=insertNode(M,T[M],T[M+1],L);return L&&equals(L,L.next)&&(removeNode(L),L=L.next),L}function filterPoints(T,R){if(!T)return T;R||(R=T);var I=T,$;do if($=!1,!I.steiner&&(equals(I,I.next)||area(I.prev,I,I.next)===0)){if(removeNode(I),I=R=I.prev,I===I.next)break;$=!0}else I=I.next;while($||I!==R);return R}function earcutLinked(T,R,I,$,N,M,L){if(!!T){!L&&M&&indexCurve(T,$,N,M);for(var B=T,k,U;T.prev!==T.next;){if(k=T.prev,U=T.next,M?isEarHashed(T,$,N,M):isEar(T)){R.push(k.i/I|0),R.push(T.i/I|0),R.push(U.i/I|0),removeNode(T),T=U.next,B=U.next;continue}if(T=U,T===B){L?L===1?(T=cureLocalIntersections(filterPoints(T),R,I),earcutLinked(T,R,I,$,N,M,2)):L===2&&splitEarcut(T,R,I,$,N,M):earcutLinked(filterPoints(T),R,I,$,N,M,1);break}}}}function isEar(T){var R=T.prev,I=T,$=T.next;if(area(R,I,$)>=0)return!1;for(var N=R.x,M=I.x,L=$.x,B=R.y,k=I.y,U=$.y,H=N<M?N<L?N:L:M<L?M:L,z=B<k?B<U?B:U:k<U?k:U,V=N>M?N>L?N:L:M>L?M:L,W=B>k?B>U?B:U:k>U?k:U,K=$.next;K!==R;){if(K.x>=H&&K.x<=V&&K.y>=z&&K.y<=W&&pointInTriangle(N,B,M,k,L,U,K.x,K.y)&&area(K.prev,K,K.next)>=0)return!1;K=K.next}return!0}function isEarHashed(T,R,I,$){var N=T.prev,M=T,L=T.next;if(area(N,M,L)>=0)return!1;for(var B=N.x,k=M.x,U=L.x,H=N.y,z=M.y,V=L.y,W=B<k?B<U?B:U:k<U?k:U,K=H<z?H<V?H:V:z<V?z:V,Y=B>k?B>U?B:U:k>U?k:U,q=H>z?H>V?H:V:z>V?z:V,Z=zOrder(W,K,R,I,$),Q=zOrder(Y,q,R,I,$),ee=T.prevZ,ne=T.nextZ;ee&&ee.z>=Z&&ne&&ne.z<=Q;){if(ee.x>=W&&ee.x<=Y&&ee.y>=K&&ee.y<=q&&ee!==N&&ee!==L&&pointInTriangle(B,H,k,z,U,V,ee.x,ee.y)&&area(ee.prev,ee,ee.next)>=0||(ee=ee.prevZ,ne.x>=W&&ne.x<=Y&&ne.y>=K&&ne.y<=q&&ne!==N&&ne!==L&&pointInTriangle(B,H,k,z,U,V,ne.x,ne.y)&&area(ne.prev,ne,ne.next)>=0))return!1;ne=ne.nextZ}for(;ee&&ee.z>=Z;){if(ee.x>=W&&ee.x<=Y&&ee.y>=K&&ee.y<=q&&ee!==N&&ee!==L&&pointInTriangle(B,H,k,z,U,V,ee.x,ee.y)&&area(ee.prev,ee,ee.next)>=0)return!1;ee=ee.prevZ}for(;ne&&ne.z<=Q;){if(ne.x>=W&&ne.x<=Y&&ne.y>=K&&ne.y<=q&&ne!==N&&ne!==L&&pointInTriangle(B,H,k,z,U,V,ne.x,ne.y)&&area(ne.prev,ne,ne.next)>=0)return!1;ne=ne.nextZ}return!0}function cureLocalIntersections(T,R,I){var $=T;do{var N=$.prev,M=$.next.next;!equals(N,M)&&intersects(N,$,$.next,M)&&locallyInside(N,M)&&locallyInside(M,N)&&(R.push(N.i/I|0),R.push($.i/I|0),R.push(M.i/I|0),removeNode($),removeNode($.next),$=T=M),$=$.next}while($!==T);return filterPoints($)}function splitEarcut(T,R,I,$,N,M){var L=T;do{for(var B=L.next.next;B!==L.prev;){if(L.i!==B.i&&isValidDiagonal(L,B)){var k=splitPolygon(L,B);L=filterPoints(L,L.next),k=filterPoints(k,k.next),earcutLinked(L,R,I,$,N,M,0),earcutLinked(k,R,I,$,N,M,0);return}B=B.next}L=L.next}while(L!==T)}function eliminateHoles(T,R,I,$){var N=[],M,L,B,k,U;for(M=0,L=R.length;M<L;M++)B=R[M]*$,k=M<L-1?R[M+1]*$:T.length,U=linkedList(T,B,k,$,!1),U===U.next&&(U.steiner=!0),N.push(getLeftmost(U));for(N.sort(compareX),M=0;M<N.length;M++)I=eliminateHole(N[M],I);return I}function compareX(T,R){return T.x-R.x}function eliminateHole(T,R){var I=findHoleBridge(T,R);if(!I)return R;var $=splitPolygon(I,T);return filterPoints($,$.next),filterPoints(I,I.next)}function findHoleBridge(T,R){var I=R,$=T.x,N=T.y,M=-1/0,L;do{if(N<=I.y&&N>=I.next.y&&I.next.y!==I.y){var B=I.x+(N-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if(B<=$&&B>M&&(M=B,L=I.x<I.next.x?I:I.next,B===$))return L}I=I.next}while(I!==R);if(!L)return null;var k=L,U=L.x,H=L.y,z=1/0,V;I=L;do $>=I.x&&I.x>=U&&$!==I.x&&pointInTriangle(N<H?$:M,N,U,H,N<H?M:$,N,I.x,I.y)&&(V=Math.abs(N-I.y)/($-I.x),locallyInside(I,T)&&(V<z||V===z&&(I.x>L.x||I.x===L.x&&sectorContainsSector(L,I)))&&(L=I,z=V)),I=I.next;while(I!==k);return L}function sectorContainsSector(T,R){return area(T.prev,T,R.prev)<0&&area(R.next,T,T.next)<0}function indexCurve(T,R,I,$){var N=T;do N.z===0&&(N.z=zOrder(N.x,N.y,R,I,$)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==T);N.prevZ.nextZ=null,N.prevZ=null,sortLinked(N)}function sortLinked(T){var R,I,$,N,M,L,B,k,U=1;do{for(I=T,T=null,M=null,L=0;I;){for(L++,$=I,B=0,R=0;R<U&&(B++,$=$.nextZ,!!$);R++);for(k=U;B>0||k>0&&$;)B!==0&&(k===0||!$||I.z<=$.z)?(N=I,I=I.nextZ,B--):(N=$,$=$.nextZ,k--),M?M.nextZ=N:T=N,N.prevZ=M,M=N;I=$}M.nextZ=null,U*=2}while(L>1);return T}function zOrder(T,R,I,$,N){return T=(T-I)*N|0,R=(R-$)*N|0,T=(T|T<<8)&16711935,T=(T|T<<4)&252645135,T=(T|T<<2)&858993459,T=(T|T<<1)&1431655765,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,T|R<<1}function getLeftmost(T){var R=T,I=T;do(R.x<I.x||R.x===I.x&&R.y<I.y)&&(I=R),R=R.next;while(R!==T);return I}function pointInTriangle(T,R,I,$,N,M,L,B){return(N-L)*(R-B)>=(T-L)*(M-B)&&(T-L)*($-B)>=(I-L)*(R-B)&&(I-L)*(M-B)>=(N-L)*($-B)}function isValidDiagonal(T,R){return T.next.i!==R.i&&T.prev.i!==R.i&&!intersectsPolygon(T,R)&&(locallyInside(T,R)&&locallyInside(R,T)&&middleInside(T,R)&&(area(T.prev,T,R.prev)||area(T,R.prev,R))||equals(T,R)&&area(T.prev,T,T.next)>0&&area(R.prev,R,R.next)>0)}function area(T,R,I){return(R.y-T.y)*(I.x-R.x)-(R.x-T.x)*(I.y-R.y)}function equals(T,R){return T.x===R.x&&T.y===R.y}function intersects(T,R,I,$){var N=sign$1(area(T,R,I)),M=sign$1(area(T,R,$)),L=sign$1(area(I,$,T)),B=sign$1(area(I,$,R));return!!(N!==M&&L!==B||N===0&&onSegment(T,I,R)||M===0&&onSegment(T,$,R)||L===0&&onSegment(I,T,$)||B===0&&onSegment(I,R,$))}function onSegment(T,R,I){return R.x<=Math.max(T.x,I.x)&&R.x>=Math.min(T.x,I.x)&&R.y<=Math.max(T.y,I.y)&&R.y>=Math.min(T.y,I.y)}function sign$1(T){return T>0?1:T<0?-1:0}function intersectsPolygon(T,R){var I=T;do{if(I.i!==T.i&&I.next.i!==T.i&&I.i!==R.i&&I.next.i!==R.i&&intersects(I,I.next,T,R))return!0;I=I.next}while(I!==T);return!1}function locallyInside(T,R){return area(T.prev,T,T.next)<0?area(T,R,T.next)>=0&&area(T,T.prev,R)>=0:area(T,R,T.prev)<0||area(T,T.next,R)<0}function middleInside(T,R){var I=T,$=!1,N=(T.x+R.x)/2,M=(T.y+R.y)/2;do I.y>M!=I.next.y>M&&I.next.y!==I.y&&N<(I.next.x-I.x)*(M-I.y)/(I.next.y-I.y)+I.x&&($=!$),I=I.next;while(I!==T);return $}function splitPolygon(T,R){var I=new Node$2(T.i,T.x,T.y),$=new Node$2(R.i,R.x,R.y),N=T.next,M=R.prev;return T.next=R,R.prev=T,I.next=N,N.prev=I,$.next=I,I.prev=$,M.next=$,$.prev=M,$}function insertNode(T,R,I,$){var N=new Node$2(T,R,I);return $?(N.next=$.next,N.prev=$,$.next.prev=N,$.next=N):(N.prev=N,N.next=N),N}function removeNode(T){T.next.prev=T.prev,T.prev.next=T.next,T.prevZ&&(T.prevZ.nextZ=T.nextZ),T.nextZ&&(T.nextZ.prevZ=T.prevZ)}function Node$2(T,R,I){this.i=T,this.x=R,this.y=I,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}earcut.deviation=function(T,R,I,$){var N=R&&R.length,M=N?R[0]*I:T.length,L=Math.abs(signedArea(T,0,M,I));if(N)for(var B=0,k=R.length;B<k;B++){var U=R[B]*I,H=B<k-1?R[B+1]*I:T.length;L-=Math.abs(signedArea(T,U,H,I))}var z=0;for(B=0;B<$.length;B+=3){var V=$[B]*I,W=$[B+1]*I,K=$[B+2]*I;z+=Math.abs((T[V]-T[K])*(T[W+1]-T[V+1])-(T[V]-T[W])*(T[K+1]-T[V+1]))}return L===0&&z===0?0:Math.abs((z-L)/L)};function signedArea(T,R,I,$){for(var N=0,M=R,L=I-$;M<I;M+=$)N+=(T[L]-T[M])*(T[M+1]+T[L+1]),L=M;return N}earcut.flatten=function(T){for(var R=T[0][0].length,I={vertices:[],holes:[],dimensions:R},$=0,N=0;N<T.length;N++){for(var M=0;M<T[N].length;M++)for(var L=0;L<R;L++)I.vertices.push(T[N][M][L]);N>0&&($+=T[N-1].length,I.holes.push($))}return I};var punycode$1={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(T,R){(function(I){var $=R&&!R.nodeType&&R,N=T&&!T.nodeType&&T,M=typeof commonjsGlobal$2=="object"&&commonjsGlobal$2;(M.global===M||M.window===M||M.self===M)&&(I=M);var L,B=2147483647,k=36,U=1,H=26,z=38,V=700,W=72,K=128,Y="-",q=/^xn--/,Z=/[^\x20-\x7E]/,Q=/[\x2E\u3002\uFF0E\uFF61]/g,ee={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ne=k-U,te=Math.floor,re=String.fromCharCode,ie;function se(de){throw RangeError(ee[de])}function le(de,Oe){for(var Ve=de.length,Ze=[];Ve--;)Ze[Ve]=Oe(de[Ve]);return Ze}function he(de,Oe){var Ve=de.split("@"),Ze="";Ve.length>1&&(Ze=Ve[0]+"@",de=Ve[1]),de=de.replace(Q,".");var nt=de.split("."),xe=le(nt,Oe).join(".");return Ze+xe}function pe(de){for(var Oe=[],Ve=0,Ze=de.length,nt,xe;Ve<Ze;)nt=de.charCodeAt(Ve++),nt>=55296&&nt<=56319&&Ve<Ze?(xe=de.charCodeAt(Ve++),(xe&64512)==56320?Oe.push(((nt&1023)<<10)+(xe&1023)+65536):(Oe.push(nt),Ve--)):Oe.push(nt);return Oe}function fe(de){return le(de,function(Oe){var Ve="";return Oe>65535&&(Oe-=65536,Ve+=re(Oe>>>10&1023|55296),Oe=56320|Oe&1023),Ve+=re(Oe),Ve}).join("")}function Se(de){return de-48<10?de-22:de-65<26?de-65:de-97<26?de-97:k}function Pe(de,Oe){return de+22+75*(de<26)-((Oe!=0)<<5)}function ye(de,Oe,Ve){var Ze=0;for(de=Ve?te(de/V):de>>1,de+=te(de/Oe);de>ne*H>>1;Ze+=k)de=te(de/ne);return te(Ze+(ne+1)*de/(de+z))}function we(de){var Oe=[],Ve=de.length,Ze,nt=0,xe=K,Le=W,Ue,Xe,je,st,Ye,Qe,ce,ge,Re;for(Ue=de.lastIndexOf(Y),Ue<0&&(Ue=0),Xe=0;Xe<Ue;++Xe)de.charCodeAt(Xe)>=128&&se("not-basic"),Oe.push(de.charCodeAt(Xe));for(je=Ue>0?Ue+1:0;je<Ve;){for(st=nt,Ye=1,Qe=k;je>=Ve&&se("invalid-input"),ce=Se(de.charCodeAt(je++)),(ce>=k||ce>te((B-nt)/Ye))&&se("overflow"),nt+=ce*Ye,ge=Qe<=Le?U:Qe>=Le+H?H:Qe-Le,!(ce<ge);Qe+=k)Re=k-ge,Ye>te(B/Re)&&se("overflow"),Ye*=Re;Ze=Oe.length+1,Le=ye(nt-st,Ze,st==0),te(nt/Ze)>B-xe&&se("overflow"),xe+=te(nt/Ze),nt%=Ze,Oe.splice(nt++,0,xe)}return fe(Oe)}function Ee(de){var Oe,Ve,Ze,nt,xe,Le,Ue,Xe,je,st,Ye,Qe=[],ce,ge,Re,ke;for(de=pe(de),ce=de.length,Oe=K,Ve=0,xe=W,Le=0;Le<ce;++Le)Ye=de[Le],Ye<128&&Qe.push(re(Ye));for(Ze=nt=Qe.length,nt&&Qe.push(Y);Ze<ce;){for(Ue=B,Le=0;Le<ce;++Le)Ye=de[Le],Ye>=Oe&&Ye<Ue&&(Ue=Ye);for(ge=Ze+1,Ue-Oe>te((B-Ve)/ge)&&se("overflow"),Ve+=(Ue-Oe)*ge,Oe=Ue,Le=0;Le<ce;++Le)if(Ye=de[Le],Ye<Oe&&++Ve>B&&se("overflow"),Ye==Oe){for(Xe=Ve,je=k;st=je<=xe?U:je>=xe+H?H:je-xe,!(Xe<st);je+=k)ke=Xe-st,Re=k-st,Qe.push(re(Pe(st+ke%Re,0))),Xe=te(ke/Re);Qe.push(re(Pe(Xe,0))),xe=ye(Ve,ge,Ze==nt),Ve=0,++Ze}++Ve,++Oe}return Qe.join("")}function He(de){return he(de,function(Oe){return q.test(Oe)?we(Oe.slice(4).toLowerCase()):Oe})}function Ae(de){return he(de,function(Oe){return Z.test(Oe)?"xn--"+Ee(Oe):Oe})}if(L={version:"1.3.2",ucs2:{decode:pe,encode:fe},decode:we,encode:Ee,toASCII:Ae,toUnicode:He},$&&N)if(T.exports==$)N.exports=L;else for(ie in L)L.hasOwnProperty(ie)&&($[ie]=L[ie]);else I.punycode=L})(commonjsGlobal$2)})(punycode$1,punycode$1.exports);var util$1={isString:function(T){return typeof T=="string"},isObject:function(T){return typeof T=="object"&&T!==null},isNull:function(T){return T===null},isNullOrUndefined:function(T){return T==null}},querystring$1={};function hasOwnProperty$d(T,R){return Object.prototype.hasOwnProperty.call(T,R)}var decode$1=function(T,R,I,$){R=R||"&",I=I||"=";var N={};if(typeof T!="string"||T.length===0)return N;var M=/\+/g;T=T.split(R);var L=1e3;$&&typeof $.maxKeys=="number"&&(L=$.maxKeys);var B=T.length;L>0&&B>L&&(B=L);for(var k=0;k<B;++k){var U=T[k].replace(M,"%20"),H=U.indexOf(I),z,V,W,K;H>=0?(z=U.substr(0,H),V=U.substr(H+1)):(z=U,V=""),W=decodeURIComponent(z),K=decodeURIComponent(V),hasOwnProperty$d(N,W)?Array.isArray(N[W])?N[W].push(K):N[W]=[N[W],K]:N[W]=K}return N},stringifyPrimitive$1=function(T){switch(typeof T){case"string":return T;case"boolean":return T?"true":"false";case"number":return isFinite(T)?T:"";default:return""}},encode$1=function(T,R,I,$){return R=R||"&",I=I||"=",T===null&&(T=void 0),typeof T=="object"?Object.keys(T).map(function(N){var M=encodeURIComponent(stringifyPrimitive$1(N))+I;return Array.isArray(T[N])?T[N].map(function(L){return M+encodeURIComponent(stringifyPrimitive$1(L))}).join(R):M+encodeURIComponent(stringifyPrimitive$1(T[N]))}).join(R):$?encodeURIComponent(stringifyPrimitive$1($))+I+encodeURIComponent(stringifyPrimitive$1(T)):""};querystring$1.decode=querystring$1.parse=decode$1;querystring$1.encode=querystring$1.stringify=encode$1;var punycode=punycode$1.exports,util=util$1,parse$1=urlParse,resolve=urlResolve,format$2=urlFormat;function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=querystring$1;function urlParse(T,R,I){if(T&&util.isObject(T)&&T instanceof Url)return T;var $=new Url;return $.parse(T,R,I),$}Url.prototype.parse=function(T,R,I){if(!util.isString(T))throw new TypeError("Parameter 'url' must be a string, not "+typeof T);var $=T.indexOf("?"),N=$!==-1&&$<T.indexOf("#")?"?":"#",M=T.split(N),L=/\\/g;M[0]=M[0].replace(L,"/"),T=M.join(N);var B=T;if(B=B.trim(),!I&&T.split("#").length===1){var k=simplePathPattern.exec(B);if(k)return this.path=B,this.href=B,this.pathname=k[1],k[2]?(this.search=k[2],R?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):R&&(this.search="",this.query={}),this}var U=protocolPattern.exec(B);if(U){U=U[0];var H=U.toLowerCase();this.protocol=H,B=B.substr(U.length)}if(I||U||B.match(/^\/\/[^@\/]+@[^@\/]+/)){var z=B.substr(0,2)==="//";z&&!(U&&hostlessProtocol[U])&&(B=B.substr(2),this.slashes=!0)}if(!hostlessProtocol[U]&&(z||U&&!slashedProtocol[U])){for(var V=-1,W=0;W<hostEndingChars.length;W++){var K=B.indexOf(hostEndingChars[W]);K!==-1&&(V===-1||K<V)&&(V=K)}var Y,q;V===-1?q=B.lastIndexOf("@"):q=B.lastIndexOf("@",V),q!==-1&&(Y=B.slice(0,q),B=B.slice(q+1),this.auth=decodeURIComponent(Y)),V=-1;for(var W=0;W<nonHostChars.length;W++){var K=B.indexOf(nonHostChars[W]);K!==-1&&(V===-1||K<V)&&(V=K)}V===-1&&(V=B.length),this.host=B.slice(0,V),B=B.slice(V),this.parseHost(),this.hostname=this.hostname||"";var Z=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Z)for(var Q=this.hostname.split(/\./),W=0,ee=Q.length;W<ee;W++){var ne=Q[W];if(!!ne&&!ne.match(hostnamePartPattern)){for(var te="",re=0,ie=ne.length;re<ie;re++)ne.charCodeAt(re)>127?te+="x":te+=ne[re];if(!te.match(hostnamePartPattern)){var se=Q.slice(0,W),le=Q.slice(W+1),he=ne.match(hostnamePartStart);he&&(se.push(he[1]),le.unshift(he[2])),le.length&&(B="/"+le.join(".")+B),this.hostname=se.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),Z||(this.hostname=punycode.toASCII(this.hostname));var pe=this.port?":"+this.port:"",fe=this.hostname||"";this.host=fe+pe,this.href+=this.host,Z&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),B[0]!=="/"&&(B="/"+B))}if(!unsafeProtocol[H])for(var W=0,ee=autoEscape.length;W<ee;W++){var Se=autoEscape[W];if(B.indexOf(Se)!==-1){var Pe=encodeURIComponent(Se);Pe===Se&&(Pe=escape(Se)),B=B.split(Se).join(Pe)}}var ye=B.indexOf("#");ye!==-1&&(this.hash=B.substr(ye),B=B.slice(0,ye));var we=B.indexOf("?");if(we!==-1?(this.search=B.substr(we),this.query=B.substr(we+1),R&&(this.query=querystring.parse(this.query)),B=B.slice(0,we)):R&&(this.search="",this.query={}),B&&(this.pathname=B),slashedProtocol[H]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var pe=this.pathname||"",Ee=this.search||"";this.path=pe+Ee}return this.href=this.format(),this};function urlFormat(T){return util.isString(T)&&(T=urlParse(T)),T instanceof Url?T.format():Url.prototype.format.call(T)}Url.prototype.format=function(){var T=this.auth||"";T&&(T=encodeURIComponent(T),T=T.replace(/%3A/i,":"),T+="@");var R=this.protocol||"",I=this.pathname||"",$=this.hash||"",N=!1,M="";this.host?N=T+this.host:this.hostname&&(N=T+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(N+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(M=querystring.stringify(this.query));var L=this.search||M&&"?"+M||"";return R&&R.substr(-1)!==":"&&(R+=":"),this.slashes||(!R||slashedProtocol[R])&&N!==!1?(N="//"+(N||""),I&&I.charAt(0)!=="/"&&(I="/"+I)):N||(N=""),$&&$.charAt(0)!=="#"&&($="#"+$),L&&L.charAt(0)!=="?"&&(L="?"+L),I=I.replace(/[?#]/g,function(B){return encodeURIComponent(B)}),L=L.replace("#","%23"),R+N+I+L+$};function urlResolve(T,R){return urlParse(T,!1,!0).resolve(R)}Url.prototype.resolve=function(T){return this.resolveObject(urlParse(T,!1,!0)).format()};Url.prototype.resolveObject=function(T){if(util.isString(T)){var R=new Url;R.parse(T,!1,!0),T=R}for(var I=new Url,$=Object.keys(this),N=0;N<$.length;N++){var M=$[N];I[M]=this[M]}if(I.hash=T.hash,T.href==="")return I.href=I.format(),I;if(T.slashes&&!T.protocol){for(var L=Object.keys(T),B=0;B<L.length;B++){var k=L[B];k!=="protocol"&&(I[k]=T[k])}return slashedProtocol[I.protocol]&&I.hostname&&!I.pathname&&(I.path=I.pathname="/"),I.href=I.format(),I}if(T.protocol&&T.protocol!==I.protocol){if(!slashedProtocol[T.protocol]){for(var U=Object.keys(T),H=0;H<U.length;H++){var z=U[H];I[z]=T[z]}return I.href=I.format(),I}if(I.protocol=T.protocol,!T.host&&!hostlessProtocol[T.protocol]){for(var ee=(T.pathname||"").split("/");ee.length&&!(T.host=ee.shift()););T.host||(T.host=""),T.hostname||(T.hostname=""),ee[0]!==""&&ee.unshift(""),ee.length<2&&ee.unshift(""),I.pathname=ee.join("/")}else I.pathname=T.pathname;if(I.search=T.search,I.query=T.query,I.host=T.host||"",I.auth=T.auth,I.hostname=T.hostname||T.host,I.port=T.port,I.pathname||I.search){var V=I.pathname||"",W=I.search||"";I.path=V+W}return I.slashes=I.slashes||T.slashes,I.href=I.format(),I}var K=I.pathname&&I.pathname.charAt(0)==="/",Y=T.host||T.pathname&&T.pathname.charAt(0)==="/",q=Y||K||I.host&&T.pathname,Z=q,Q=I.pathname&&I.pathname.split("/")||[],ee=T.pathname&&T.pathname.split("/")||[],ne=I.protocol&&!slashedProtocol[I.protocol];if(ne&&(I.hostname="",I.port=null,I.host&&(Q[0]===""?Q[0]=I.host:Q.unshift(I.host)),I.host="",T.protocol&&(T.hostname=null,T.port=null,T.host&&(ee[0]===""?ee[0]=T.host:ee.unshift(T.host)),T.host=null),q=q&&(ee[0]===""||Q[0]==="")),Y)I.host=T.host||T.host===""?T.host:I.host,I.hostname=T.hostname||T.hostname===""?T.hostname:I.hostname,I.search=T.search,I.query=T.query,Q=ee;else if(ee.length)Q||(Q=[]),Q.pop(),Q=Q.concat(ee),I.search=T.search,I.query=T.query;else if(!util.isNullOrUndefined(T.search)){if(ne){I.hostname=I.host=Q.shift();var te=I.host&&I.host.indexOf("@")>0?I.host.split("@"):!1;te&&(I.auth=te.shift(),I.host=I.hostname=te.shift())}return I.search=T.search,I.query=T.query,(!util.isNull(I.pathname)||!util.isNull(I.search))&&(I.path=(I.pathname?I.pathname:"")+(I.search?I.search:"")),I.href=I.format(),I}if(!Q.length)return I.pathname=null,I.search?I.path="/"+I.search:I.path=null,I.href=I.format(),I;for(var re=Q.slice(-1)[0],ie=(I.host||T.host||Q.length>1)&&(re==="."||re==="..")||re==="",se=0,le=Q.length;le>=0;le--)re=Q[le],re==="."?Q.splice(le,1):re===".."?(Q.splice(le,1),se++):se&&(Q.splice(le,1),se--);if(!q&&!Z)for(;se--;se)Q.unshift("..");q&&Q[0]!==""&&(!Q[0]||Q[0].charAt(0)!=="/")&&Q.unshift(""),ie&&Q.join("/").substr(-1)!=="/"&&Q.push("");var he=Q[0]===""||Q[0]&&Q[0].charAt(0)==="/";if(ne){I.hostname=I.host=he?"":Q.length?Q.shift():"";var te=I.host&&I.host.indexOf("@")>0?I.host.split("@"):!1;te&&(I.auth=te.shift(),I.host=I.hostname=te.shift())}return q=q||I.host&&Q.length,q&&!he&&Q.unshift(""),Q.length?I.pathname=Q.join("/"):(I.pathname=null,I.path=null),(!util.isNull(I.pathname)||!util.isNull(I.search))&&(I.path=(I.pathname?I.pathname:"")+(I.search?I.search:"")),I.auth=T.auth||I.auth,I.slashes=I.slashes||T.slashes,I.href=I.format(),I};Url.prototype.parseHost=function(){var T=this.host,R=portPattern.exec(T);R&&(R=R[0],R!==":"&&(this.port=R.substr(1)),T=T.substr(0,T.length-R.length)),T&&(this.hostname=T)};/*!
 * @pixi/constants - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$5;(function(T){T[T.WEBGL_LEGACY=0]="WEBGL_LEGACY",T[T.WEBGL=1]="WEBGL",T[T.WEBGL2=2]="WEBGL2"})(ENV$5||(ENV$5={}));var RENDERER_TYPE$5;(function(T){T[T.UNKNOWN=0]="UNKNOWN",T[T.WEBGL=1]="WEBGL",T[T.CANVAS=2]="CANVAS"})(RENDERER_TYPE$5||(RENDERER_TYPE$5={}));var BUFFER_BITS$5;(function(T){T[T.COLOR=16384]="COLOR",T[T.DEPTH=256]="DEPTH",T[T.STENCIL=1024]="STENCIL"})(BUFFER_BITS$5||(BUFFER_BITS$5={}));var BLEND_MODES$5;(function(T){T[T.NORMAL=0]="NORMAL",T[T.ADD=1]="ADD",T[T.MULTIPLY=2]="MULTIPLY",T[T.SCREEN=3]="SCREEN",T[T.OVERLAY=4]="OVERLAY",T[T.DARKEN=5]="DARKEN",T[T.LIGHTEN=6]="LIGHTEN",T[T.COLOR_DODGE=7]="COLOR_DODGE",T[T.COLOR_BURN=8]="COLOR_BURN",T[T.HARD_LIGHT=9]="HARD_LIGHT",T[T.SOFT_LIGHT=10]="SOFT_LIGHT",T[T.DIFFERENCE=11]="DIFFERENCE",T[T.EXCLUSION=12]="EXCLUSION",T[T.HUE=13]="HUE",T[T.SATURATION=14]="SATURATION",T[T.COLOR=15]="COLOR",T[T.LUMINOSITY=16]="LUMINOSITY",T[T.NORMAL_NPM=17]="NORMAL_NPM",T[T.ADD_NPM=18]="ADD_NPM",T[T.SCREEN_NPM=19]="SCREEN_NPM",T[T.NONE=20]="NONE",T[T.SRC_OVER=0]="SRC_OVER",T[T.SRC_IN=21]="SRC_IN",T[T.SRC_OUT=22]="SRC_OUT",T[T.SRC_ATOP=23]="SRC_ATOP",T[T.DST_OVER=24]="DST_OVER",T[T.DST_IN=25]="DST_IN",T[T.DST_OUT=26]="DST_OUT",T[T.DST_ATOP=27]="DST_ATOP",T[T.ERASE=26]="ERASE",T[T.SUBTRACT=28]="SUBTRACT",T[T.XOR=29]="XOR"})(BLEND_MODES$5||(BLEND_MODES$5={}));var DRAW_MODES$5;(function(T){T[T.POINTS=0]="POINTS",T[T.LINES=1]="LINES",T[T.LINE_LOOP=2]="LINE_LOOP",T[T.LINE_STRIP=3]="LINE_STRIP",T[T.TRIANGLES=4]="TRIANGLES",T[T.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",T[T.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$5||(DRAW_MODES$5={}));var FORMATS$5;(function(T){T[T.RGBA=6408]="RGBA",T[T.RGB=6407]="RGB",T[T.RG=33319]="RG",T[T.RED=6403]="RED",T[T.RGBA_INTEGER=36249]="RGBA_INTEGER",T[T.RGB_INTEGER=36248]="RGB_INTEGER",T[T.RG_INTEGER=33320]="RG_INTEGER",T[T.RED_INTEGER=36244]="RED_INTEGER",T[T.ALPHA=6406]="ALPHA",T[T.LUMINANCE=6409]="LUMINANCE",T[T.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",T[T.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",T[T.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$5||(FORMATS$5={}));var TARGETS$5;(function(T){T[T.TEXTURE_2D=3553]="TEXTURE_2D",T[T.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",T[T.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",T[T.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",T[T.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",T[T.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",T[T.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",T[T.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",T[T.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$5||(TARGETS$5={}));var TYPES$5;(function(T){T[T.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",T[T.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",T[T.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",T[T.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",T[T.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",T[T.UNSIGNED_INT=5125]="UNSIGNED_INT",T[T.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",T[T.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",T[T.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",T[T.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",T[T.BYTE=5120]="BYTE",T[T.SHORT=5122]="SHORT",T[T.INT=5124]="INT",T[T.FLOAT=5126]="FLOAT",T[T.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",T[T.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$5||(TYPES$5={}));var SAMPLER_TYPES$5;(function(T){T[T.FLOAT=0]="FLOAT",T[T.INT=1]="INT",T[T.UINT=2]="UINT"})(SAMPLER_TYPES$5||(SAMPLER_TYPES$5={}));var SCALE_MODES$5;(function(T){T[T.NEAREST=0]="NEAREST",T[T.LINEAR=1]="LINEAR"})(SCALE_MODES$5||(SCALE_MODES$5={}));var WRAP_MODES$5;(function(T){T[T.CLAMP=33071]="CLAMP",T[T.REPEAT=10497]="REPEAT",T[T.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$5||(WRAP_MODES$5={}));var MIPMAP_MODES$5;(function(T){T[T.OFF=0]="OFF",T[T.POW2=1]="POW2",T[T.ON=2]="ON",T[T.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$5||(MIPMAP_MODES$5={}));var ALPHA_MODES$5;(function(T){T[T.NPM=0]="NPM",T[T.UNPACK=1]="UNPACK",T[T.PMA=2]="PMA",T[T.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",T[T.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",T[T.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",T[T.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$5||(ALPHA_MODES$5={}));var CLEAR_MODES$5;(function(T){T[T.NO=0]="NO",T[T.YES=1]="YES",T[T.AUTO=2]="AUTO",T[T.BLEND=0]="BLEND",T[T.CLEAR=1]="CLEAR",T[T.BLIT=2]="BLIT"})(CLEAR_MODES$5||(CLEAR_MODES$5={}));var GC_MODES$5;(function(T){T[T.AUTO=0]="AUTO",T[T.MANUAL=1]="MANUAL"})(GC_MODES$5||(GC_MODES$5={}));var PRECISION$5;(function(T){T.LOW="lowp",T.MEDIUM="mediump",T.HIGH="highp"})(PRECISION$5||(PRECISION$5={}));var MASK_TYPES$5;(function(T){T[T.NONE=0]="NONE",T[T.SCISSOR=1]="SCISSOR",T[T.STENCIL=2]="STENCIL",T[T.SPRITE=3]="SPRITE",T[T.COLOR=4]="COLOR"})(MASK_TYPES$5||(MASK_TYPES$5={}));var COLOR_MASK_BITS$5;(function(T){T[T.RED=1]="RED",T[T.GREEN=2]="GREEN",T[T.BLUE=4]="BLUE",T[T.ALPHA=8]="ALPHA"})(COLOR_MASK_BITS$5||(COLOR_MASK_BITS$5={}));var MSAA_QUALITY$5;(function(T){T[T.NONE=0]="NONE",T[T.LOW=2]="LOW",T[T.MEDIUM=4]="MEDIUM",T[T.HIGH=8]="HIGH"})(MSAA_QUALITY$5||(MSAA_QUALITY$5={}));var BUFFER_TYPE$5;(function(T){T[T.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",T[T.ARRAY_BUFFER=34962]="ARRAY_BUFFER",T[T.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$5||(BUFFER_TYPE$5={}));/*!
 * @pixi/utils - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var url={parse:parse$1,format:format$2,resolve};settings$1.RETINA_PREFIX=/@([0-9\.]+)x/;settings$1.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var saidHello=!1,VERSION$1="6.5.1";function skipHello(){saidHello=!0}function sayHello(T){var R;if(!saidHello){if(settings$1.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var I=[`
 %c %c %c PixiJS `+VERSION$1+" - \u2730 "+T+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(R=globalThis.console).log.apply(R,I)}else globalThis.console&&globalThis.console.log("PixiJS "+VERSION$1+" - "+T+" - http://www.pixijs.com/");saidHello=!0}}var supported;function isWebGLSupported(){return typeof supported>"u"&&(supported=function(){var R={stencil:!0,failIfMajorPerformanceCaveat:settings$1.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!settings$1.ADAPTER.getWebGLRenderingContext())return!1;var I=settings$1.ADAPTER.createCanvas(),$=I.getContext("webgl",R)||I.getContext("experimental-webgl",R),N=!!($&&$.getContextAttributes().stencil);if($){var M=$.getExtension("WEBGL_lose_context");M&&M.loseContext()}return $=null,N}catch{return!1}}()),supported}var aliceblue="#f0f8ff",antiquewhite="#faebd7",aqua="#00ffff",aquamarine="#7fffd4",azure="#f0ffff",beige="#f5f5dc",bisque="#ffe4c4",black="#000000",blanchedalmond="#ffebcd",blue="#0000ff",blueviolet="#8a2be2",brown="#a52a2a",burlywood="#deb887",cadetblue="#5f9ea0",chartreuse="#7fff00",chocolate="#d2691e",coral="#ff7f50",cornflowerblue="#6495ed",cornsilk="#fff8dc",crimson="#dc143c",cyan="#00ffff",darkblue="#00008b",darkcyan="#008b8b",darkgoldenrod="#b8860b",darkgray="#a9a9a9",darkgreen="#006400",darkgrey="#a9a9a9",darkkhaki="#bdb76b",darkmagenta="#8b008b",darkolivegreen="#556b2f",darkorange="#ff8c00",darkorchid="#9932cc",darkred="#8b0000",darksalmon="#e9967a",darkseagreen="#8fbc8f",darkslateblue="#483d8b",darkslategray="#2f4f4f",darkslategrey="#2f4f4f",darkturquoise="#00ced1",darkviolet="#9400d3",deeppink="#ff1493",deepskyblue="#00bfff",dimgray="#696969",dimgrey="#696969",dodgerblue="#1e90ff",firebrick="#b22222",floralwhite="#fffaf0",forestgreen="#228b22",fuchsia="#ff00ff",gainsboro="#dcdcdc",ghostwhite="#f8f8ff",goldenrod="#daa520",gold="#ffd700",gray="#808080",green="#008000",greenyellow="#adff2f",grey="#808080",honeydew="#f0fff0",hotpink="#ff69b4",indianred="#cd5c5c",indigo="#4b0082",ivory="#fffff0",khaki="#f0e68c",lavenderblush="#fff0f5",lavender="#e6e6fa",lawngreen="#7cfc00",lemonchiffon="#fffacd",lightblue="#add8e6",lightcoral="#f08080",lightcyan="#e0ffff",lightgoldenrodyellow="#fafad2",lightgray="#d3d3d3",lightgreen="#90ee90",lightgrey="#d3d3d3",lightpink="#ffb6c1",lightsalmon="#ffa07a",lightseagreen="#20b2aa",lightskyblue="#87cefa",lightslategray="#778899",lightslategrey="#778899",lightsteelblue="#b0c4de",lightyellow="#ffffe0",lime="#00ff00",limegreen="#32cd32",linen="#faf0e6",magenta="#ff00ff",maroon="#800000",mediumaquamarine="#66cdaa",mediumblue="#0000cd",mediumorchid="#ba55d3",mediumpurple="#9370db",mediumseagreen="#3cb371",mediumslateblue="#7b68ee",mediumspringgreen="#00fa9a",mediumturquoise="#48d1cc",mediumvioletred="#c71585",midnightblue="#191970",mintcream="#f5fffa",mistyrose="#ffe4e1",moccasin="#ffe4b5",navajowhite="#ffdead",navy="#000080",oldlace="#fdf5e6",olive="#808000",olivedrab="#6b8e23",orange="#ffa500",orangered="#ff4500",orchid="#da70d6",palegoldenrod="#eee8aa",palegreen="#98fb98",paleturquoise="#afeeee",palevioletred="#db7093",papayawhip="#ffefd5",peachpuff="#ffdab9",peru="#cd853f",pink="#ffc0cb",plum="#dda0dd",powderblue="#b0e0e6",purple="#800080",rebeccapurple="#663399",red="#ff0000",rosybrown="#bc8f8f",royalblue="#4169e1",saddlebrown="#8b4513",salmon="#fa8072",sandybrown="#f4a460",seagreen="#2e8b57",seashell="#fff5ee",sienna="#a0522d",silver="#c0c0c0",skyblue="#87ceeb",slateblue="#6a5acd",slategray="#708090",slategrey="#708090",snow="#fffafa",springgreen="#00ff7f",steelblue="#4682b4",tan="#d2b48c",teal="#008080",thistle="#d8bfd8",tomato="#ff6347",turquoise="#40e0d0",violet="#ee82ee",wheat="#f5deb3",white="#ffffff",whitesmoke="#f5f5f5",yellow="#ffff00",yellowgreen="#9acd32",cssColorNames={aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,goldenrod,gold,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavenderblush,lavender,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow,yellowgreen};function hex2rgb(T,R){return R===void 0&&(R=[]),R[0]=(T>>16&255)/255,R[1]=(T>>8&255)/255,R[2]=(T&255)/255,R}function hex2string(T){var R=T.toString(16);return R="000000".substring(0,6-R.length)+R,"#"+R}function string2hex(T){return typeof T=="string"&&(T=cssColorNames[T.toLowerCase()]||T,T[0]==="#"&&(T=T.slice(1))),parseInt(T,16)}function rgb2hex(T){return(T[0]*255<<16)+(T[1]*255<<8)+(T[2]*255|0)}function mapPremultipliedBlendModes$1(){for(var T=[],R=[],I=0;I<32;I++)T[I]=I,R[I]=I;T[BLEND_MODES$5.NORMAL_NPM]=BLEND_MODES$5.NORMAL,T[BLEND_MODES$5.ADD_NPM]=BLEND_MODES$5.ADD,T[BLEND_MODES$5.SCREEN_NPM]=BLEND_MODES$5.SCREEN,R[BLEND_MODES$5.NORMAL]=BLEND_MODES$5.NORMAL_NPM,R[BLEND_MODES$5.ADD]=BLEND_MODES$5.ADD_NPM,R[BLEND_MODES$5.SCREEN]=BLEND_MODES$5.SCREEN_NPM;var $=[];return $.push(R),$.push(T),$}var premultiplyBlendMode=mapPremultipliedBlendModes$1();function correctBlendMode(T,R){return premultiplyBlendMode[R?1:0][T]}function premultiplyRgba(T,R,I,$){return I=I||new Float32Array(4),$||$===void 0?(I[0]=T[0]*R,I[1]=T[1]*R,I[2]=T[2]*R):(I[0]=T[0],I[1]=T[1],I[2]=T[2]),I[3]=R,I}function premultiplyTint(T,R){if(R===1)return(R*255<<24)+T;if(R===0)return 0;var I=T>>16&255,$=T>>8&255,N=T&255;return I=I*R+.5|0,$=$*R+.5|0,N=N*R+.5|0,(R*255<<24)+(I<<16)+($<<8)+N}function premultiplyTintToRgba(T,R,I,$){return I=I||new Float32Array(4),I[0]=(T>>16&255)/255,I[1]=(T>>8&255)/255,I[2]=(T&255)/255,($||$===void 0)&&(I[0]*=R,I[1]*=R,I[2]*=R),I[3]=R,I}function createIndicesForQuads(T,R){R===void 0&&(R=null);var I=T*6;if(R=R||new Uint16Array(I),R.length!==I)throw new Error("Out buffer length is incorrect, got "+R.length+" and expected "+I);for(var $=0,N=0;$<I;$+=6,N+=4)R[$+0]=N+0,R[$+1]=N+1,R[$+2]=N+2,R[$+3]=N+0,R[$+4]=N+2,R[$+5]=N+3;return R}function getBufferType(T){if(T.BYTES_PER_ELEMENT===4)return T instanceof Float32Array?"Float32Array":T instanceof Uint32Array?"Uint32Array":"Int32Array";if(T.BYTES_PER_ELEMENT===2){if(T instanceof Uint16Array)return"Uint16Array"}else if(T.BYTES_PER_ELEMENT===1&&T instanceof Uint8Array)return"Uint8Array";return null}var map$3={Float32Array,Uint32Array,Int32Array,Uint8Array};function interleaveTypedArrays$1(T,R){for(var I=0,$=0,N={},M=0;M<T.length;M++)$+=R[M],I+=T[M].length;for(var L=new ArrayBuffer(I*4),B=null,k=0,M=0;M<T.length;M++){var U=R[M],H=T[M],z=getBufferType(H);N[z]||(N[z]=new map$3[z](L)),B=N[z];for(var V=0;V<H.length;V++){var W=(V/U|0)*$+k,K=V%U;B[W+K]=H[V]}k+=U}return new Float32Array(L)}function nextPow2(T){return T+=T===0?1:0,--T,T|=T>>>1,T|=T>>>2,T|=T>>>4,T|=T>>>8,T|=T>>>16,T+1}function isPow2(T){return!(T&T-1)&&!!T}function log2(T){var R=(T>65535?1:0)<<4;T>>>=R;var I=(T>255?1:0)<<3;return T>>>=I,R|=I,I=(T>15?1:0)<<2,T>>>=I,R|=I,I=(T>3?1:0)<<1,T>>>=I,R|=I,R|T>>1}function removeItems(T,R,I){var $=T.length,N;if(!(R>=$||I===0)){I=R+I>$?$-R:I;var M=$-I;for(N=R;N<M;++N)T[N]=T[N+I];T.length=M}}function sign(T){return T===0?0:T<0?-1:1}var nextUid=0;function uid(){return++nextUid}var warnings$1={};function deprecation$1(T,R,I){if(I===void 0&&(I=3),!warnings$1[R]){var $=new Error().stack;typeof $>"u"?console.warn("PixiJS Deprecation Warning: ",R+`
Deprecated since v`+T):($=$.split(`
`).splice(I).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",R+`
Deprecated since v`+T),console.warn($),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",R+`
Deprecated since v`+T),console.warn($))),warnings$1[R]=!0}}var ProgramCache={},TextureCache=Object.create(null),BaseTextureCache=Object.create(null);function destroyTextureCache(){var T;for(T in TextureCache)TextureCache[T].destroy();for(T in BaseTextureCache)BaseTextureCache[T].destroy()}function clearTextureCache(){var T;for(T in TextureCache)delete TextureCache[T];for(T in BaseTextureCache)delete BaseTextureCache[T]}var CanvasRenderTarget=function(){function T(R,I,$){this.canvas=settings$1.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=$||settings$1.RESOLUTION,this.resize(R,I)}return T.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},T.prototype.resize=function(R,I){this.canvas.width=Math.round(R*this.resolution),this.canvas.height=Math.round(I*this.resolution)},T.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(T.prototype,"width",{get:function(){return this.canvas.width},set:function(R){this.canvas.width=Math.round(R)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"height",{get:function(){return this.canvas.height},set:function(R){this.canvas.height=Math.round(R)},enumerable:!1,configurable:!0}),T}();function trimCanvas(T){var R=T.width,I=T.height,$=T.getContext("2d"),N=$.getImageData(0,0,R,I),M=N.data,L=M.length,B={top:null,left:null,right:null,bottom:null},k=null,U,H,z;for(U=0;U<L;U+=4)M[U+3]!==0&&(H=U/4%R,z=~~(U/4/R),B.top===null&&(B.top=z),(B.left===null||H<B.left)&&(B.left=H),(B.right===null||B.right<H)&&(B.right=H+1),(B.bottom===null||B.bottom<z)&&(B.bottom=z));return B.top!==null&&(R=B.right-B.left,I=B.bottom-B.top+1,k=$.getImageData(B.left,B.top,R,I)),{height:I,width:R,data:k}}var DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function decomposeDataUri(T){var R=DATA_URI.exec(T);if(R)return{mediaType:R[1]?R[1].toLowerCase():void 0,subType:R[2]?R[2].toLowerCase():void 0,charset:R[3]?R[3].toLowerCase():void 0,encoding:R[4]?R[4].toLowerCase():void 0,data:R[5]}}var tempAnchor$1;function determineCrossOrigin(T,R){if(R===void 0&&(R=globalThis.location),T.indexOf("data:")===0)return"";R=R||globalThis.location,tempAnchor$1||(tempAnchor$1=document.createElement("a")),tempAnchor$1.href=T;var I=url.parse(tempAnchor$1.href),$=!I.port&&R.port===""||I.port===R.port;return I.hostname!==R.hostname||!$||I.protocol!==R.protocol?"anonymous":""}function getResolutionOfUrl(T,R){var I=settings$1.RETINA_PREFIX.exec(T);return I?parseFloat(I[1]):R!==void 0?R:1}const utils=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache,CanvasRenderTarget,DATA_URI,ProgramCache,TextureCache,clearTextureCache,correctBlendMode,createIndicesForQuads,decomposeDataUri,deprecation:deprecation$1,destroyTextureCache,determineCrossOrigin,getBufferType,getResolutionOfUrl,hex2rgb,hex2string,interleaveTypedArrays:interleaveTypedArrays$1,isPow2,isWebGLSupported,log2,nextPow2,premultiplyBlendMode,premultiplyRgba,premultiplyTint,premultiplyTintToRgba,removeItems,rgb2hex,sayHello,sign,skipHello,string2hex,trimCanvas,uid,url,isMobile:isMobile$2,EventEmitter:n$1,earcut:earcut$1.exports},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var PI_2=Math.PI*2,RAD_TO_DEG=180/Math.PI,DEG_TO_RAD=Math.PI/180,SHAPES;(function(T){T[T.POLY=0]="POLY",T[T.RECT=1]="RECT",T[T.CIRC=2]="CIRC",T[T.ELIP=3]="ELIP",T[T.RREC=4]="RREC"})(SHAPES||(SHAPES={}));var Point=function(){function T(R,I){R===void 0&&(R=0),I===void 0&&(I=0),this.x=0,this.y=0,this.x=R,this.y=I}return T.prototype.clone=function(){return new T(this.x,this.y)},T.prototype.copyFrom=function(R){return this.set(R.x,R.y),this},T.prototype.copyTo=function(R){return R.set(this.x,this.y),R},T.prototype.equals=function(R){return R.x===this.x&&R.y===this.y},T.prototype.set=function(R,I){return R===void 0&&(R=0),I===void 0&&(I=R),this.x=R,this.y=I,this},T.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},T}(),tempPoints$1=[new Point,new Point,new Point,new Point],Rectangle=function(){function T(R,I,$,N){R===void 0&&(R=0),I===void 0&&(I=0),$===void 0&&($=0),N===void 0&&(N=0),this.x=Number(R),this.y=Number(I),this.width=Number($),this.height=Number(N),this.type=SHAPES.RECT}return Object.defineProperty(T.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(T,"EMPTY",{get:function(){return new T(0,0,0,0)},enumerable:!1,configurable:!0}),T.prototype.clone=function(){return new T(this.x,this.y,this.width,this.height)},T.prototype.copyFrom=function(R){return this.x=R.x,this.y=R.y,this.width=R.width,this.height=R.height,this},T.prototype.copyTo=function(R){return R.x=this.x,R.y=this.y,R.width=this.width,R.height=this.height,R},T.prototype.contains=function(R,I){return this.width<=0||this.height<=0?!1:R>=this.x&&R<this.x+this.width&&I>=this.y&&I<this.y+this.height},T.prototype.intersects=function(R,I){if(!I){var $=this.x<R.x?R.x:this.x,N=this.right>R.right?R.right:this.right;if(N<=$)return!1;var M=this.y<R.y?R.y:this.y,L=this.bottom>R.bottom?R.bottom:this.bottom;return L>M}var B=this.left,k=this.right,U=this.top,H=this.bottom;if(k<=B||H<=U)return!1;var z=tempPoints$1[0].set(R.left,R.top),V=tempPoints$1[1].set(R.left,R.bottom),W=tempPoints$1[2].set(R.right,R.top),K=tempPoints$1[3].set(R.right,R.bottom);if(W.x<=z.x||V.y<=z.y)return!1;var Y=Math.sign(I.a*I.d-I.b*I.c);if(Y===0||(I.apply(z,z),I.apply(V,V),I.apply(W,W),I.apply(K,K),Math.max(z.x,V.x,W.x,K.x)<=B||Math.min(z.x,V.x,W.x,K.x)>=k||Math.max(z.y,V.y,W.y,K.y)<=U||Math.min(z.y,V.y,W.y,K.y)>=H))return!1;var q=Y*(V.y-z.y),Z=Y*(z.x-V.x),Q=q*B+Z*U,ee=q*k+Z*U,ne=q*B+Z*H,te=q*k+Z*H;if(Math.max(Q,ee,ne,te)<=q*z.x+Z*z.y||Math.min(Q,ee,ne,te)>=q*K.x+Z*K.y)return!1;var re=Y*(z.y-W.y),ie=Y*(W.x-z.x),se=re*B+ie*U,le=re*k+ie*U,he=re*B+ie*H,pe=re*k+ie*H;return!(Math.max(se,le,he,pe)<=re*z.x+ie*z.y||Math.min(se,le,he,pe)>=re*K.x+ie*K.y)},T.prototype.pad=function(R,I){return R===void 0&&(R=0),I===void 0&&(I=R),this.x-=R,this.y-=I,this.width+=R*2,this.height+=I*2,this},T.prototype.fit=function(R){var I=Math.max(this.x,R.x),$=Math.min(this.x+this.width,R.x+R.width),N=Math.max(this.y,R.y),M=Math.min(this.y+this.height,R.y+R.height);return this.x=I,this.width=Math.max($-I,0),this.y=N,this.height=Math.max(M-N,0),this},T.prototype.ceil=function(R,I){R===void 0&&(R=1),I===void 0&&(I=.001);var $=Math.ceil((this.x+this.width-I)*R)/R,N=Math.ceil((this.y+this.height-I)*R)/R;return this.x=Math.floor((this.x+I)*R)/R,this.y=Math.floor((this.y+I)*R)/R,this.width=$-this.x,this.height=N-this.y,this},T.prototype.enlarge=function(R){var I=Math.min(this.x,R.x),$=Math.max(this.x+this.width,R.x+R.width),N=Math.min(this.y,R.y),M=Math.max(this.y+this.height,R.y+R.height);return this.x=I,this.width=$-I,this.y=N,this.height=M-N,this},T.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},T}(),Circle=function(){function T(R,I,$){R===void 0&&(R=0),I===void 0&&(I=0),$===void 0&&($=0),this.x=R,this.y=I,this.radius=$,this.type=SHAPES.CIRC}return T.prototype.clone=function(){return new T(this.x,this.y,this.radius)},T.prototype.contains=function(R,I){if(this.radius<=0)return!1;var $=this.radius*this.radius,N=this.x-R,M=this.y-I;return N*=N,M*=M,N+M<=$},T.prototype.getBounds=function(){return new Rectangle(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},T.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},T}(),Ellipse=function(){function T(R,I,$,N){R===void 0&&(R=0),I===void 0&&(I=0),$===void 0&&($=0),N===void 0&&(N=0),this.x=R,this.y=I,this.width=$,this.height=N,this.type=SHAPES.ELIP}return T.prototype.clone=function(){return new T(this.x,this.y,this.width,this.height)},T.prototype.contains=function(R,I){if(this.width<=0||this.height<=0)return!1;var $=(R-this.x)/this.width,N=(I-this.y)/this.height;return $*=$,N*=N,$+N<=1},T.prototype.getBounds=function(){return new Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},T.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},T}(),Polygon=function(){function T(){for(var R=arguments,I=[],$=0;$<arguments.length;$++)I[$]=R[$];var N=Array.isArray(I[0])?I[0]:I;if(typeof N[0]!="number"){for(var M=[],L=0,B=N.length;L<B;L++)M.push(N[L].x,N[L].y);N=M}this.points=N,this.type=SHAPES.POLY,this.closeStroke=!0}return T.prototype.clone=function(){var R=this.points.slice(),I=new T(R);return I.closeStroke=this.closeStroke,I},T.prototype.contains=function(R,I){for(var $=!1,N=this.points.length/2,M=0,L=N-1;M<N;L=M++){var B=this.points[M*2],k=this.points[M*2+1],U=this.points[L*2],H=this.points[L*2+1],z=k>I!=H>I&&R<(U-B)*((I-k)/(H-k))+B;z&&($=!$)}return $},T.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(R,I){return R+", "+I},"")+"]")},T}(),RoundedRectangle=function(){function T(R,I,$,N,M){R===void 0&&(R=0),I===void 0&&(I=0),$===void 0&&($=0),N===void 0&&(N=0),M===void 0&&(M=20),this.x=R,this.y=I,this.width=$,this.height=N,this.radius=M,this.type=SHAPES.RREC}return T.prototype.clone=function(){return new T(this.x,this.y,this.width,this.height,this.radius)},T.prototype.contains=function(R,I){if(this.width<=0||this.height<=0)return!1;if(R>=this.x&&R<=this.x+this.width&&I>=this.y&&I<=this.y+this.height){var $=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(I>=this.y+$&&I<=this.y+this.height-$||R>=this.x+$&&R<=this.x+this.width-$)return!0;var N=R-(this.x+$),M=I-(this.y+$),L=$*$;if(N*N+M*M<=L||(N=R-(this.x+this.width-$),N*N+M*M<=L)||(M=I-(this.y+this.height-$),N*N+M*M<=L)||(N=R-(this.x+$),N*N+M*M<=L))return!0}return!1},T.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},T}(),ObservablePoint=function(){function T(R,I,$,N){$===void 0&&($=0),N===void 0&&(N=0),this._x=$,this._y=N,this.cb=R,this.scope=I}return T.prototype.clone=function(R,I){return R===void 0&&(R=this.cb),I===void 0&&(I=this.scope),new T(R,I,this._x,this._y)},T.prototype.set=function(R,I){return R===void 0&&(R=0),I===void 0&&(I=R),(this._x!==R||this._y!==I)&&(this._x=R,this._y=I,this.cb.call(this.scope)),this},T.prototype.copyFrom=function(R){return(this._x!==R.x||this._y!==R.y)&&(this._x=R.x,this._y=R.y,this.cb.call(this.scope)),this},T.prototype.copyTo=function(R){return R.set(this._x,this._y),R},T.prototype.equals=function(R){return R.x===this._x&&R.y===this._y},T.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(T.prototype,"x",{get:function(){return this._x},set:function(R){this._x!==R&&(this._x=R,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"y",{get:function(){return this._y},set:function(R){this._y!==R&&(this._y=R,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),T}(),Matrix=function(){function T(R,I,$,N,M,L){R===void 0&&(R=1),I===void 0&&(I=0),$===void 0&&($=0),N===void 0&&(N=1),M===void 0&&(M=0),L===void 0&&(L=0),this.array=null,this.a=R,this.b=I,this.c=$,this.d=N,this.tx=M,this.ty=L}return T.prototype.fromArray=function(R){this.a=R[0],this.b=R[1],this.c=R[3],this.d=R[4],this.tx=R[2],this.ty=R[5]},T.prototype.set=function(R,I,$,N,M,L){return this.a=R,this.b=I,this.c=$,this.d=N,this.tx=M,this.ty=L,this},T.prototype.toArray=function(R,I){this.array||(this.array=new Float32Array(9));var $=I||this.array;return R?($[0]=this.a,$[1]=this.b,$[2]=0,$[3]=this.c,$[4]=this.d,$[5]=0,$[6]=this.tx,$[7]=this.ty,$[8]=1):($[0]=this.a,$[1]=this.c,$[2]=this.tx,$[3]=this.b,$[4]=this.d,$[5]=this.ty,$[6]=0,$[7]=0,$[8]=1),$},T.prototype.apply=function(R,I){I=I||new Point;var $=R.x,N=R.y;return I.x=this.a*$+this.c*N+this.tx,I.y=this.b*$+this.d*N+this.ty,I},T.prototype.applyInverse=function(R,I){I=I||new Point;var $=1/(this.a*this.d+this.c*-this.b),N=R.x,M=R.y;return I.x=this.d*$*N+-this.c*$*M+(this.ty*this.c-this.tx*this.d)*$,I.y=this.a*$*M+-this.b*$*N+(-this.ty*this.a+this.tx*this.b)*$,I},T.prototype.translate=function(R,I){return this.tx+=R,this.ty+=I,this},T.prototype.scale=function(R,I){return this.a*=R,this.d*=I,this.c*=R,this.b*=I,this.tx*=R,this.ty*=I,this},T.prototype.rotate=function(R){var I=Math.cos(R),$=Math.sin(R),N=this.a,M=this.c,L=this.tx;return this.a=N*I-this.b*$,this.b=N*$+this.b*I,this.c=M*I-this.d*$,this.d=M*$+this.d*I,this.tx=L*I-this.ty*$,this.ty=L*$+this.ty*I,this},T.prototype.append=function(R){var I=this.a,$=this.b,N=this.c,M=this.d;return this.a=R.a*I+R.b*N,this.b=R.a*$+R.b*M,this.c=R.c*I+R.d*N,this.d=R.c*$+R.d*M,this.tx=R.tx*I+R.ty*N+this.tx,this.ty=R.tx*$+R.ty*M+this.ty,this},T.prototype.setTransform=function(R,I,$,N,M,L,B,k,U){return this.a=Math.cos(B+U)*M,this.b=Math.sin(B+U)*M,this.c=-Math.sin(B-k)*L,this.d=Math.cos(B-k)*L,this.tx=R-($*this.a+N*this.c),this.ty=I-($*this.b+N*this.d),this},T.prototype.prepend=function(R){var I=this.tx;if(R.a!==1||R.b!==0||R.c!==0||R.d!==1){var $=this.a,N=this.c;this.a=$*R.a+this.b*R.c,this.b=$*R.b+this.b*R.d,this.c=N*R.a+this.d*R.c,this.d=N*R.b+this.d*R.d}return this.tx=I*R.a+this.ty*R.c+R.tx,this.ty=I*R.b+this.ty*R.d+R.ty,this},T.prototype.decompose=function(R){var I=this.a,$=this.b,N=this.c,M=this.d,L=R.pivot,B=-Math.atan2(-N,M),k=Math.atan2($,I),U=Math.abs(B+k);return U<1e-5||Math.abs(PI_2-U)<1e-5?(R.rotation=k,R.skew.x=R.skew.y=0):(R.rotation=0,R.skew.x=B,R.skew.y=k),R.scale.x=Math.sqrt(I*I+$*$),R.scale.y=Math.sqrt(N*N+M*M),R.position.x=this.tx+(L.x*I+L.y*N),R.position.y=this.ty+(L.x*$+L.y*M),R},T.prototype.invert=function(){var R=this.a,I=this.b,$=this.c,N=this.d,M=this.tx,L=R*N-I*$;return this.a=N/L,this.b=-I/L,this.c=-$/L,this.d=R/L,this.tx=($*this.ty-N*M)/L,this.ty=-(R*this.ty-I*M)/L,this},T.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},T.prototype.clone=function(){var R=new T;return R.a=this.a,R.b=this.b,R.c=this.c,R.d=this.d,R.tx=this.tx,R.ty=this.ty,R},T.prototype.copyTo=function(R){return R.a=this.a,R.b=this.b,R.c=this.c,R.d=this.d,R.tx=this.tx,R.ty=this.ty,R},T.prototype.copyFrom=function(R){return this.a=R.a,this.b=R.b,this.c=R.c,this.d=R.d,this.tx=R.tx,this.ty=R.ty,this},T.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(T,"IDENTITY",{get:function(){return new T},enumerable:!1,configurable:!0}),Object.defineProperty(T,"TEMP_MATRIX",{get:function(){return new T},enumerable:!1,configurable:!0}),T}(),ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley=[],rotationMatrices=[],signum=Math.sign;function init$1(){for(var T=0;T<16;T++){var R=[];rotationCayley.push(R);for(var I=0;I<16;I++)for(var $=signum(ux[T]*ux[I]+vx[T]*uy[I]),N=signum(uy[T]*ux[I]+vy[T]*uy[I]),M=signum(ux[T]*vx[I]+vx[T]*vy[I]),L=signum(uy[T]*vx[I]+vy[T]*vy[I]),B=0;B<16;B++)if(ux[B]===$&&uy[B]===N&&vx[B]===M&&vy[B]===L){R.push(B);break}}for(var T=0;T<16;T++){var k=new Matrix;k.set(ux[T],uy[T],vx[T],vy[T],0,0),rotationMatrices.push(k)}}init$1();var groupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(T){return ux[T]},uY:function(T){return uy[T]},vX:function(T){return vx[T]},vY:function(T){return vy[T]},inv:function(T){return T&8?T&15:-T&7},add:function(T,R){return rotationCayley[T][R]},sub:function(T,R){return rotationCayley[T][groupD8.inv(R)]},rotate180:function(T){return T^4},isVertical:function(T){return(T&3)===2},byDirection:function(T,R){return Math.abs(T)*2<=Math.abs(R)?R>=0?groupD8.S:groupD8.N:Math.abs(R)*2<=Math.abs(T)?T>0?groupD8.E:groupD8.W:R>0?T>0?groupD8.SE:groupD8.SW:T>0?groupD8.NE:groupD8.NW},matrixAppendRotationInv:function(T,R,I,$){I===void 0&&(I=0),$===void 0&&($=0);var N=rotationMatrices[groupD8.inv(R)];N.tx=I,N.ty=$,T.append(N)}},Transform=function(){function T(){this.worldTransform=new Matrix,this.localTransform=new Matrix,this.position=new ObservablePoint(this.onChange,this,0,0),this.scale=new ObservablePoint(this.onChange,this,1,1),this.pivot=new ObservablePoint(this.onChange,this,0,0),this.skew=new ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return T.prototype.onChange=function(){this._localID++},T.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},T.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},T.prototype.updateLocalTransform=function(){var R=this.localTransform;this._localID!==this._currentLocalID&&(R.a=this._cx*this.scale.x,R.b=this._sx*this.scale.x,R.c=this._cy*this.scale.y,R.d=this._sy*this.scale.y,R.tx=this.position.x-(this.pivot.x*R.a+this.pivot.y*R.c),R.ty=this.position.y-(this.pivot.x*R.b+this.pivot.y*R.d),this._currentLocalID=this._localID,this._parentID=-1)},T.prototype.updateTransform=function(R){var I=this.localTransform;if(this._localID!==this._currentLocalID&&(I.a=this._cx*this.scale.x,I.b=this._sx*this.scale.x,I.c=this._cy*this.scale.y,I.d=this._sy*this.scale.y,I.tx=this.position.x-(this.pivot.x*I.a+this.pivot.y*I.c),I.ty=this.position.y-(this.pivot.x*I.b+this.pivot.y*I.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==R._worldID){var $=R.worldTransform,N=this.worldTransform;N.a=I.a*$.a+I.b*$.c,N.b=I.a*$.b+I.b*$.d,N.c=I.c*$.a+I.d*$.c,N.d=I.c*$.b+I.d*$.d,N.tx=I.tx*$.a+I.ty*$.c+$.tx,N.ty=I.tx*$.b+I.ty*$.d+$.ty,this._parentID=R._worldID,this._worldID++}},T.prototype.setFromMatrix=function(R){R.decompose(this),this._localID++},Object.defineProperty(T.prototype,"rotation",{get:function(){return this._rotation},set:function(R){this._rotation!==R&&(this._rotation=R,this.updateSkew())},enumerable:!1,configurable:!0}),T.IDENTITY=new T,T}();/*!
 * @pixi/display - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings$1.SORTABLE_CHILDREN=!1;var Bounds$1=function(){function T(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return T.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},T.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},T.prototype.getRectangle=function(R){return this.minX>this.maxX||this.minY>this.maxY?Rectangle.EMPTY:(R=R||new Rectangle(0,0,1,1),R.x=this.minX,R.y=this.minY,R.width=this.maxX-this.minX,R.height=this.maxY-this.minY,R)},T.prototype.addPoint=function(R){this.minX=Math.min(this.minX,R.x),this.maxX=Math.max(this.maxX,R.x),this.minY=Math.min(this.minY,R.y),this.maxY=Math.max(this.maxY,R.y)},T.prototype.addPointMatrix=function(R,I){var $=R.a,N=R.b,M=R.c,L=R.d,B=R.tx,k=R.ty,U=$*I.x+M*I.y+B,H=N*I.x+L*I.y+k;this.minX=Math.min(this.minX,U),this.maxX=Math.max(this.maxX,U),this.minY=Math.min(this.minY,H),this.maxY=Math.max(this.maxY,H)},T.prototype.addQuad=function(R){var I=this.minX,$=this.minY,N=this.maxX,M=this.maxY,L=R[0],B=R[1];I=L<I?L:I,$=B<$?B:$,N=L>N?L:N,M=B>M?B:M,L=R[2],B=R[3],I=L<I?L:I,$=B<$?B:$,N=L>N?L:N,M=B>M?B:M,L=R[4],B=R[5],I=L<I?L:I,$=B<$?B:$,N=L>N?L:N,M=B>M?B:M,L=R[6],B=R[7],I=L<I?L:I,$=B<$?B:$,N=L>N?L:N,M=B>M?B:M,this.minX=I,this.minY=$,this.maxX=N,this.maxY=M},T.prototype.addFrame=function(R,I,$,N,M){this.addFrameMatrix(R.worldTransform,I,$,N,M)},T.prototype.addFrameMatrix=function(R,I,$,N,M){var L=R.a,B=R.b,k=R.c,U=R.d,H=R.tx,z=R.ty,V=this.minX,W=this.minY,K=this.maxX,Y=this.maxY,q=L*I+k*$+H,Z=B*I+U*$+z;V=q<V?q:V,W=Z<W?Z:W,K=q>K?q:K,Y=Z>Y?Z:Y,q=L*N+k*$+H,Z=B*N+U*$+z,V=q<V?q:V,W=Z<W?Z:W,K=q>K?q:K,Y=Z>Y?Z:Y,q=L*I+k*M+H,Z=B*I+U*M+z,V=q<V?q:V,W=Z<W?Z:W,K=q>K?q:K,Y=Z>Y?Z:Y,q=L*N+k*M+H,Z=B*N+U*M+z,V=q<V?q:V,W=Z<W?Z:W,K=q>K?q:K,Y=Z>Y?Z:Y,this.minX=V,this.minY=W,this.maxX=K,this.maxY=Y},T.prototype.addVertexData=function(R,I,$){for(var N=this.minX,M=this.minY,L=this.maxX,B=this.maxY,k=I;k<$;k+=2){var U=R[k],H=R[k+1];N=U<N?U:N,M=H<M?H:M,L=U>L?U:L,B=H>B?H:B}this.minX=N,this.minY=M,this.maxX=L,this.maxY=B},T.prototype.addVertices=function(R,I,$,N){this.addVerticesMatrix(R.worldTransform,I,$,N)},T.prototype.addVerticesMatrix=function(R,I,$,N,M,L){M===void 0&&(M=0),L===void 0&&(L=M);for(var B=R.a,k=R.b,U=R.c,H=R.d,z=R.tx,V=R.ty,W=this.minX,K=this.minY,Y=this.maxX,q=this.maxY,Z=$;Z<N;Z+=2){var Q=I[Z],ee=I[Z+1],ne=B*Q+U*ee+z,te=H*ee+k*Q+V;W=Math.min(W,ne-M),Y=Math.max(Y,ne+M),K=Math.min(K,te-L),q=Math.max(q,te+L)}this.minX=W,this.minY=K,this.maxX=Y,this.maxY=q},T.prototype.addBounds=function(R){var I=this.minX,$=this.minY,N=this.maxX,M=this.maxY;this.minX=R.minX<I?R.minX:I,this.minY=R.minY<$?R.minY:$,this.maxX=R.maxX>N?R.maxX:N,this.maxY=R.maxY>M?R.maxY:M},T.prototype.addBoundsMask=function(R,I){var $=R.minX>I.minX?R.minX:I.minX,N=R.minY>I.minY?R.minY:I.minY,M=R.maxX<I.maxX?R.maxX:I.maxX,L=R.maxY<I.maxY?R.maxY:I.maxY;if($<=M&&N<=L){var B=this.minX,k=this.minY,U=this.maxX,H=this.maxY;this.minX=$<B?$:B,this.minY=N<k?N:k,this.maxX=M>U?M:U,this.maxY=L>H?L:H}},T.prototype.addBoundsMatrix=function(R,I){this.addFrameMatrix(I,R.minX,R.minY,R.maxX,R.maxY)},T.prototype.addBoundsArea=function(R,I){var $=R.minX>I.x?R.minX:I.x,N=R.minY>I.y?R.minY:I.y,M=R.maxX<I.x+I.width?R.maxX:I.x+I.width,L=R.maxY<I.y+I.height?R.maxY:I.y+I.height;if($<=M&&N<=L){var B=this.minX,k=this.minY,U=this.maxX,H=this.maxY;this.minX=$<B?$:B,this.minY=N<k?N:k,this.maxX=M>U?M:U,this.maxY=L>H?L:H}},T.prototype.pad=function(R,I){R===void 0&&(R=0),I===void 0&&(I=R),this.isEmpty()||(this.minX-=R,this.maxX+=R,this.minY-=I,this.maxY+=I)},T.prototype.addFramePad=function(R,I,$,N,M,L){R-=M,I-=L,$+=M,N+=L,this.minX=this.minX<R?this.minX:R,this.maxX=this.maxX>$?this.maxX:$,this.minY=this.minY<I?this.minY:I,this.maxY=this.maxY>N?this.maxY:N},T}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$j=function(T,R){return extendStatics$j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$j(T,R)};function __extends$j(T,R){extendStatics$j(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var DisplayObject=function(T){__extends$j(R,T);function R(){var I=T.call(this)||this;return I.tempDisplayObjectParent=null,I.transform=new Transform,I.alpha=1,I.visible=!0,I.renderable=!0,I.cullable=!1,I.cullArea=null,I.parent=null,I.worldAlpha=1,I._lastSortedIndex=0,I._zIndex=0,I.filterArea=null,I.filters=null,I._enabledFilters=null,I._bounds=new Bounds$1,I._localBounds=null,I._boundsID=0,I._boundsRect=null,I._localBoundsRect=null,I._mask=null,I._maskRefCount=0,I._destroyed=!1,I.isSprite=!1,I.isMask=!1,I}return R.mixin=function(I){for(var $=Object.keys(I),N=0;N<$.length;++N){var M=$[N];Object.defineProperty(R.prototype,M,Object.getOwnPropertyDescriptor(I,M))}},Object.defineProperty(R.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),R.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},R.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},R.prototype.getBounds=function(I,$){return I||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),$||(this._boundsRect||(this._boundsRect=new Rectangle),$=this._boundsRect),this._bounds.getRectangle($)},R.prototype.getLocalBounds=function(I){I||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),I=this._localBoundsRect),this._localBounds||(this._localBounds=new Bounds$1);var $=this.transform,N=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var M=this._bounds,L=this._boundsID;this._bounds=this._localBounds;var B=this.getBounds(!1,I);return this.parent=N,this.transform=$,this._bounds=M,this._bounds.updateID+=this._boundsID-L,B},R.prototype.toGlobal=function(I,$,N){return N===void 0&&(N=!1),N||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(I,$)},R.prototype.toLocal=function(I,$,N,M){return $&&(I=$.toGlobal(I,N,M)),M||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(I,N)},R.prototype.setParent=function(I){if(!I||!I.addChild)throw new Error("setParent: Argument must be a Container");return I.addChild(this),I},R.prototype.setTransform=function(I,$,N,M,L,B,k,U,H){return I===void 0&&(I=0),$===void 0&&($=0),N===void 0&&(N=1),M===void 0&&(M=1),L===void 0&&(L=0),B===void 0&&(B=0),k===void 0&&(k=0),U===void 0&&(U=0),H===void 0&&(H=0),this.position.x=I,this.position.y=$,this.scale.x=N||1,this.scale.y=M||1,this.rotation=L,this.skew.x=B,this.skew.y=k,this.pivot.x=U,this.pivot.y=H,this},R.prototype.destroy=function(I){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(R.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new TemporaryDisplayObject),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),R.prototype.enableTempParent=function(){var I=this.parent;return this.parent=this._tempDisplayObjectParent,I},R.prototype.disableTempParent=function(I){this.parent=I},Object.defineProperty(R.prototype,"x",{get:function(){return this.position.x},set:function(I){this.transform.position.x=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"y",{get:function(){return this.position.y},set:function(I){this.transform.position.y=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"position",{get:function(){return this.transform.position},set:function(I){this.transform.position.copyFrom(I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"scale",{get:function(){return this.transform.scale},set:function(I){this.transform.scale.copyFrom(I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(I){this.transform.pivot.copyFrom(I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"skew",{get:function(){return this.transform.skew},set:function(I){this.transform.skew.copyFrom(I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(I){this.transform.rotation=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"angle",{get:function(){return this.transform.rotation*RAD_TO_DEG},set:function(I){this.transform.rotation=I*DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"zIndex",{get:function(){return this._zIndex},set:function(I){this._zIndex=I,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"worldVisible",{get:function(){var I=this;do{if(!I.visible)return!1;I=I.parent}while(I);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"mask",{get:function(){return this._mask},set:function(I){if(this._mask!==I){if(this._mask){var $=this._mask.isMaskData?this._mask.maskObject:this._mask;$&&($._maskRefCount--,$._maskRefCount===0&&($.renderable=!0,$.isMask=!1))}if(this._mask=I,this._mask){var $=this._mask.isMaskData?this._mask.maskObject:this._mask;$&&($._maskRefCount===0&&($.renderable=!1,$.isMask=!0),$._maskRefCount++)}}},enumerable:!1,configurable:!0}),R}(n$1),TemporaryDisplayObject=function(T){__extends$j(R,T);function R(){var I=T!==null&&T.apply(this,arguments)||this;return I.sortDirty=null,I}return R}(DisplayObject);DisplayObject.prototype.displayObjectUpdateTransform=DisplayObject.prototype.updateTransform;/*!
 * @pixi/constants - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$4;(function(T){T[T.WEBGL_LEGACY=0]="WEBGL_LEGACY",T[T.WEBGL=1]="WEBGL",T[T.WEBGL2=2]="WEBGL2"})(ENV$4||(ENV$4={}));var RENDERER_TYPE$4;(function(T){T[T.UNKNOWN=0]="UNKNOWN",T[T.WEBGL=1]="WEBGL",T[T.CANVAS=2]="CANVAS"})(RENDERER_TYPE$4||(RENDERER_TYPE$4={}));var BUFFER_BITS$4;(function(T){T[T.COLOR=16384]="COLOR",T[T.DEPTH=256]="DEPTH",T[T.STENCIL=1024]="STENCIL"})(BUFFER_BITS$4||(BUFFER_BITS$4={}));var BLEND_MODES$4;(function(T){T[T.NORMAL=0]="NORMAL",T[T.ADD=1]="ADD",T[T.MULTIPLY=2]="MULTIPLY",T[T.SCREEN=3]="SCREEN",T[T.OVERLAY=4]="OVERLAY",T[T.DARKEN=5]="DARKEN",T[T.LIGHTEN=6]="LIGHTEN",T[T.COLOR_DODGE=7]="COLOR_DODGE",T[T.COLOR_BURN=8]="COLOR_BURN",T[T.HARD_LIGHT=9]="HARD_LIGHT",T[T.SOFT_LIGHT=10]="SOFT_LIGHT",T[T.DIFFERENCE=11]="DIFFERENCE",T[T.EXCLUSION=12]="EXCLUSION",T[T.HUE=13]="HUE",T[T.SATURATION=14]="SATURATION",T[T.COLOR=15]="COLOR",T[T.LUMINOSITY=16]="LUMINOSITY",T[T.NORMAL_NPM=17]="NORMAL_NPM",T[T.ADD_NPM=18]="ADD_NPM",T[T.SCREEN_NPM=19]="SCREEN_NPM",T[T.NONE=20]="NONE",T[T.SRC_OVER=0]="SRC_OVER",T[T.SRC_IN=21]="SRC_IN",T[T.SRC_OUT=22]="SRC_OUT",T[T.SRC_ATOP=23]="SRC_ATOP",T[T.DST_OVER=24]="DST_OVER",T[T.DST_IN=25]="DST_IN",T[T.DST_OUT=26]="DST_OUT",T[T.DST_ATOP=27]="DST_ATOP",T[T.ERASE=26]="ERASE",T[T.SUBTRACT=28]="SUBTRACT",T[T.XOR=29]="XOR"})(BLEND_MODES$4||(BLEND_MODES$4={}));var DRAW_MODES$4;(function(T){T[T.POINTS=0]="POINTS",T[T.LINES=1]="LINES",T[T.LINE_LOOP=2]="LINE_LOOP",T[T.LINE_STRIP=3]="LINE_STRIP",T[T.TRIANGLES=4]="TRIANGLES",T[T.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",T[T.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$4||(DRAW_MODES$4={}));var FORMATS$4;(function(T){T[T.RGBA=6408]="RGBA",T[T.RGB=6407]="RGB",T[T.RG=33319]="RG",T[T.RED=6403]="RED",T[T.RGBA_INTEGER=36249]="RGBA_INTEGER",T[T.RGB_INTEGER=36248]="RGB_INTEGER",T[T.RG_INTEGER=33320]="RG_INTEGER",T[T.RED_INTEGER=36244]="RED_INTEGER",T[T.ALPHA=6406]="ALPHA",T[T.LUMINANCE=6409]="LUMINANCE",T[T.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",T[T.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",T[T.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$4||(FORMATS$4={}));var TARGETS$4;(function(T){T[T.TEXTURE_2D=3553]="TEXTURE_2D",T[T.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",T[T.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",T[T.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",T[T.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",T[T.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",T[T.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",T[T.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",T[T.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$4||(TARGETS$4={}));var TYPES$4;(function(T){T[T.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",T[T.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",T[T.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",T[T.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",T[T.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",T[T.UNSIGNED_INT=5125]="UNSIGNED_INT",T[T.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",T[T.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",T[T.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",T[T.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",T[T.BYTE=5120]="BYTE",T[T.SHORT=5122]="SHORT",T[T.INT=5124]="INT",T[T.FLOAT=5126]="FLOAT",T[T.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",T[T.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$4||(TYPES$4={}));var SAMPLER_TYPES$4;(function(T){T[T.FLOAT=0]="FLOAT",T[T.INT=1]="INT",T[T.UINT=2]="UINT"})(SAMPLER_TYPES$4||(SAMPLER_TYPES$4={}));var SCALE_MODES$4;(function(T){T[T.NEAREST=0]="NEAREST",T[T.LINEAR=1]="LINEAR"})(SCALE_MODES$4||(SCALE_MODES$4={}));var WRAP_MODES$4;(function(T){T[T.CLAMP=33071]="CLAMP",T[T.REPEAT=10497]="REPEAT",T[T.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$4||(WRAP_MODES$4={}));var MIPMAP_MODES$4;(function(T){T[T.OFF=0]="OFF",T[T.POW2=1]="POW2",T[T.ON=2]="ON",T[T.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$4||(MIPMAP_MODES$4={}));var ALPHA_MODES$4;(function(T){T[T.NPM=0]="NPM",T[T.UNPACK=1]="UNPACK",T[T.PMA=2]="PMA",T[T.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",T[T.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",T[T.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",T[T.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$4||(ALPHA_MODES$4={}));var CLEAR_MODES$4;(function(T){T[T.NO=0]="NO",T[T.YES=1]="YES",T[T.AUTO=2]="AUTO",T[T.BLEND=0]="BLEND",T[T.CLEAR=1]="CLEAR",T[T.BLIT=2]="BLIT"})(CLEAR_MODES$4||(CLEAR_MODES$4={}));var GC_MODES$4;(function(T){T[T.AUTO=0]="AUTO",T[T.MANUAL=1]="MANUAL"})(GC_MODES$4||(GC_MODES$4={}));var PRECISION$4;(function(T){T.LOW="lowp",T.MEDIUM="mediump",T.HIGH="highp"})(PRECISION$4||(PRECISION$4={}));var MASK_TYPES$4;(function(T){T[T.NONE=0]="NONE",T[T.SCISSOR=1]="SCISSOR",T[T.STENCIL=2]="STENCIL",T[T.SPRITE=3]="SPRITE",T[T.COLOR=4]="COLOR"})(MASK_TYPES$4||(MASK_TYPES$4={}));var COLOR_MASK_BITS$4;(function(T){T[T.RED=1]="RED",T[T.GREEN=2]="GREEN",T[T.BLUE=4]="BLUE",T[T.ALPHA=8]="ALPHA"})(COLOR_MASK_BITS$4||(COLOR_MASK_BITS$4={}));var MSAA_QUALITY$4;(function(T){T[T.NONE=0]="NONE",T[T.LOW=2]="LOW",T[T.MEDIUM=4]="MEDIUM",T[T.HIGH=8]="HIGH"})(MSAA_QUALITY$4||(MSAA_QUALITY$4={}));var BUFFER_TYPE$4;(function(T){T[T.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",T[T.ARRAY_BUFFER=34962]="ARRAY_BUFFER",T[T.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$4||(BUFFER_TYPE$4={}));function sortChildren(T,R){return T.zIndex===R.zIndex?T._lastSortedIndex-R._lastSortedIndex:T.zIndex-R.zIndex}var Container=function(T){__extends$j(R,T);function R(){var I=T.call(this)||this;return I.children=[],I.sortableChildren=settings$1.SORTABLE_CHILDREN,I.sortDirty=!1,I}return R.prototype.onChildrenChange=function(I){},R.prototype.addChild=function(){for(var I=arguments,$=[],N=0;N<arguments.length;N++)$[N]=I[N];if($.length>1)for(var M=0;M<$.length;M++)this.addChild($[M]);else{var L=$[0];L.parent&&L.parent.removeChild(L),L.parent=this,this.sortDirty=!0,L.transform._parentID=-1,this.children.push(L),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",L,this,this.children.length-1),L.emit("added",this)}return $[0]},R.prototype.addChildAt=function(I,$){if($<0||$>this.children.length)throw new Error(I+"addChildAt: The index "+$+" supplied is out of bounds "+this.children.length);return I.parent&&I.parent.removeChild(I),I.parent=this,this.sortDirty=!0,I.transform._parentID=-1,this.children.splice($,0,I),this._boundsID++,this.onChildrenChange($),I.emit("added",this),this.emit("childAdded",I,this,$),I},R.prototype.swapChildren=function(I,$){if(I!==$){var N=this.getChildIndex(I),M=this.getChildIndex($);this.children[N]=$,this.children[M]=I,this.onChildrenChange(N<M?N:M)}},R.prototype.getChildIndex=function(I){var $=this.children.indexOf(I);if($===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return $},R.prototype.setChildIndex=function(I,$){if($<0||$>=this.children.length)throw new Error("The index "+$+" supplied is out of bounds "+this.children.length);var N=this.getChildIndex(I);removeItems(this.children,N,1),this.children.splice($,0,I),this.onChildrenChange($)},R.prototype.getChildAt=function(I){if(I<0||I>=this.children.length)throw new Error("getChildAt: Index ("+I+") does not exist.");return this.children[I]},R.prototype.removeChild=function(){for(var I=arguments,$=[],N=0;N<arguments.length;N++)$[N]=I[N];if($.length>1)for(var M=0;M<$.length;M++)this.removeChild($[M]);else{var L=$[0],B=this.children.indexOf(L);if(B===-1)return null;L.parent=null,L.transform._parentID=-1,removeItems(this.children,B,1),this._boundsID++,this.onChildrenChange(B),L.emit("removed",this),this.emit("childRemoved",L,this,B)}return $[0]},R.prototype.removeChildAt=function(I){var $=this.getChildAt(I);return $.parent=null,$.transform._parentID=-1,removeItems(this.children,I,1),this._boundsID++,this.onChildrenChange(I),$.emit("removed",this),this.emit("childRemoved",$,this,I),$},R.prototype.removeChildren=function(I,$){I===void 0&&(I=0),$===void 0&&($=this.children.length);var N=I,M=$,L=M-N,B;if(L>0&&L<=M){B=this.children.splice(N,L);for(var k=0;k<B.length;++k)B[k].parent=null,B[k].transform&&(B[k].transform._parentID=-1);this._boundsID++,this.onChildrenChange(I);for(var k=0;k<B.length;++k)B[k].emit("removed",this),this.emit("childRemoved",B[k],this,k);return B}else if(L===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},R.prototype.sortChildren=function(){for(var I=!1,$=0,N=this.children.length;$<N;++$){var M=this.children[$];M._lastSortedIndex=$,!I&&M.zIndex!==0&&(I=!0)}I&&this.children.length>1&&this.children.sort(sortChildren),this.sortDirty=!1},R.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var I=0,$=this.children.length;I<$;++I){var N=this.children[I];N.visible&&N.updateTransform()}},R.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var I=0;I<this.children.length;I++){var $=this.children[I];if(!(!$.visible||!$.renderable))if($.calculateBounds(),$._mask){var N=$._mask.isMaskData?$._mask.maskObject:$._mask;N?(N.calculateBounds(),this._bounds.addBoundsMask($._bounds,N._bounds)):this._bounds.addBounds($._bounds)}else $.filterArea?this._bounds.addBoundsArea($._bounds,$.filterArea):this._bounds.addBounds($._bounds)}this._bounds.updateID=this._boundsID},R.prototype.getLocalBounds=function(I,$){$===void 0&&($=!1);var N=T.prototype.getLocalBounds.call(this,I);if(!$)for(var M=0,L=this.children.length;M<L;++M){var B=this.children[M];B.visible&&B.updateTransform()}return N},R.prototype._calculateBounds=function(){},R.prototype._renderWithCulling=function(I){var $=I.renderTexture.sourceFrame;if($.width>0&&$.height>0){var N,M;if(this.cullArea?(N=this.cullArea,M=this.worldTransform):this._render!==R.prototype._render&&(N=this.getBounds(!0)),N&&$.intersects(N,M))this._render(I);else if(this.cullArea)return;for(var L=0,B=this.children.length;L<B;++L){var k=this.children[L],U=k.cullable;k.cullable=U||!this.cullArea,k.render(I),k.cullable=U}}},R.prototype.render=function(I){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(I);else if(this.cullable)this._renderWithCulling(I);else{this._render(I);for(var $=0,N=this.children.length;$<N;++$)this.children[$].render(I)}},R.prototype.renderAdvanced=function(I){var $=this.filters,N=this._mask;if($){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var M=0;M<$.length;M++)$[M].enabled&&this._enabledFilters.push($[M])}var L=$&&this._enabledFilters&&this._enabledFilters.length||N&&(!N.isMaskData||N.enabled&&(N.autoDetect||N.type!==MASK_TYPES$4.NONE));if(L&&I.batch.flush(),$&&this._enabledFilters&&this._enabledFilters.length&&I.filter.push(this,this._enabledFilters),N&&I.mask.push(this,this._mask),this.cullable)this._renderWithCulling(I);else{this._render(I);for(var M=0,B=this.children.length;M<B;++M)this.children[M].render(I)}L&&I.batch.flush(),N&&I.mask.pop(this),$&&this._enabledFilters&&this._enabledFilters.length&&I.filter.pop()},R.prototype._render=function(I){},R.prototype.destroy=function(I){T.prototype.destroy.call(this),this.sortDirty=!1;var $=typeof I=="boolean"?I:I&&I.children,N=this.removeChildren(0,this.children.length);if($)for(var M=0;M<N.length;++M)N[M].destroy(I)},Object.defineProperty(R.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(I){var $=this.getLocalBounds().width;$!==0?this.scale.x=I/$:this.scale.x=1,this._width=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(I){var $=this.getLocalBounds().height;$!==0?this.scale.y=I/$:this.scale.y=1,this._height=I},enumerable:!1,configurable:!0}),R}(DisplayObject);Container.prototype.containerUpdateTransform=Container.prototype.updateTransform;/*!
 * @pixi/extensions - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign$3=function(){return __assign$3=Object.assign||function(R){for(var I=arguments,$,N=1,M=arguments.length;N<M;N++){$=I[N];for(var L in $)Object.prototype.hasOwnProperty.call($,L)&&(R[L]=$[L])}return R},__assign$3.apply(this,arguments)},ExtensionType;(function(T){T.Application="application",T.RendererPlugin="renderer-webgl-plugin",T.CanvasRendererPlugin="renderer-canvas-plugin",T.Loader="loader",T.LoadParser="load-parser",T.ResolveParser="resolve-parser",T.CacheParser="cache-parser",T.DetectionParser="detection-parser"})(ExtensionType||(ExtensionType={}));var normalizeExtension=function(T){if(typeof T=="function"||typeof T=="object"&&T.extension){if(!T.extension)throw new Error("Extension class must have an extension object");var R=typeof T.extension!="object"?{type:T.extension}:T.extension;T=__assign$3(__assign$3({},R),{ref:T})}if(typeof T=="object")T=__assign$3({},T);else throw new Error("Invalid extension type");return typeof T.type=="string"&&(T.type=[T.type]),T},extensions$1={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var T=arguments,R=this,I=[],$=0;$<arguments.length;$++)I[$]=T[$];return I.map(normalizeExtension).forEach(function(N){N.type.forEach(function(M){var L,B;return(B=(L=R._removeHandlers)[M])===null||B===void 0?void 0:B.call(L,N)})}),this},add:function(){for(var T=arguments,R=this,I=[],$=0;$<arguments.length;$++)I[$]=T[$];return I.map(normalizeExtension).forEach(function(N){N.type.forEach(function(M){var L=R._addHandlers,B=R._queue;L[M]?L[M](N):(B[M]=B[M]||[],B[M].push(N))})}),this},handle:function(T,R,I){var $=this._addHandlers=this._addHandlers||{},N=this._removeHandlers=this._removeHandlers||{};if($[T]||N[T])throw new Error("Extension type "+T+" already has a handler");$[T]=R,N[T]=I;var M=this._queue;return M[T]&&(M[T].forEach(function(L){return R(L)}),delete M[T]),this},handleByMap:function(T,R){return this.handle(T,function(I){R[I.name]=I.ref},function(I){delete R[I.name]})},handleByList:function(T,R){return this.handle(T,function(I){var $,N;R.push(I.ref),T===ExtensionType.Loader&&((N=($=I.ref).add)===null||N===void 0||N.call($))},function(I){var $=R.indexOf(I.ref);$!==-1&&R.splice($,1)})}};/*!
 * @pixi/runner - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Runner=function(){function T(R){this.items=[],this._name=R,this._aliasCount=0}return T.prototype.emit=function(R,I,$,N,M,L,B,k){if(arguments.length>8)throw new Error("max arguments reached");var U=this,H=U.name,z=U.items;this._aliasCount++;for(var V=0,W=z.length;V<W;V++)z[V][H](R,I,$,N,M,L,B,k);return z===this.items&&this._aliasCount--,this},T.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},T.prototype.add=function(R){return R[this._name]&&(this.ensureNonAliasedItems(),this.remove(R),this.items.push(R)),this},T.prototype.remove=function(R){var I=this.items.indexOf(R);return I!==-1&&(this.ensureNonAliasedItems(),this.items.splice(I,1)),this},T.prototype.contains=function(R){return this.items.indexOf(R)!==-1},T.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},T.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(T.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),T}();Object.defineProperties(Runner.prototype,{dispatch:{value:Runner.prototype.emit},run:{value:Runner.prototype.emit}});/*!
 * @pixi/ticker - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings$1.TARGET_FPMS=.06;var UPDATE_PRIORITY;(function(T){T[T.INTERACTION=50]="INTERACTION",T[T.HIGH=25]="HIGH",T[T.NORMAL=0]="NORMAL",T[T.LOW=-25]="LOW",T[T.UTILITY=-50]="UTILITY"})(UPDATE_PRIORITY||(UPDATE_PRIORITY={}));var TickerListener=function(){function T(R,I,$,N){I===void 0&&(I=null),$===void 0&&($=0),N===void 0&&(N=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=R,this.context=I,this.priority=$,this.once=N}return T.prototype.match=function(R,I){return I===void 0&&(I=null),this.fn===R&&this.context===I},T.prototype.emit=function(R){this.fn&&(this.context?this.fn.call(this.context,R):this.fn(R));var I=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),I},T.prototype.connect=function(R){this.previous=R,R.next&&(R.next.previous=this),this.next=R.next,R.next=this},T.prototype.destroy=function(R){R===void 0&&(R=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var I=this.next;return this.next=R?null:I,this.previous=null,I},T}(),Ticker=function(){function T(){var R=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,1/0),this.deltaMS=1/settings$1.TARGET_FPMS,this.elapsedMS=1/settings$1.TARGET_FPMS,this._tick=function(I){R._requestId=null,R.started&&(R.update(I),R.started&&R._requestId===null&&R._head.next&&(R._requestId=requestAnimationFrame(R._tick)))}}return T.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},T.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},T.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},T.prototype.add=function(R,I,$){return $===void 0&&($=UPDATE_PRIORITY.NORMAL),this._addListener(new TickerListener(R,I,$))},T.prototype.addOnce=function(R,I,$){return $===void 0&&($=UPDATE_PRIORITY.NORMAL),this._addListener(new TickerListener(R,I,$,!0))},T.prototype._addListener=function(R){var I=this._head.next,$=this._head;if(!I)R.connect($);else{for(;I;){if(R.priority>I.priority){R.connect($);break}$=I,I=I.next}R.previous||R.connect($)}return this._startIfPossible(),this},T.prototype.remove=function(R,I){for(var $=this._head.next;$;)$.match(R,I)?$=$.destroy():$=$.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(T.prototype,"count",{get:function(){if(!this._head)return 0;for(var R=0,I=this._head;I=I.next;)R++;return R},enumerable:!1,configurable:!0}),T.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},T.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},T.prototype.destroy=function(){if(!this._protected){this.stop();for(var R=this._head.next;R;)R=R.destroy(!0);this._head.destroy(),this._head=null}},T.prototype.update=function(R){R===void 0&&(R=performance.now());var I;if(R>this.lastTime){if(I=this.elapsedMS=R-this.lastTime,I>this._maxElapsedMS&&(I=this._maxElapsedMS),I*=this.speed,this._minElapsedMS){var $=R-this._lastFrame|0;if($<this._minElapsedMS)return;this._lastFrame=R-$%this._minElapsedMS}this.deltaMS=I,this.deltaTime=this.deltaMS*settings$1.TARGET_FPMS;for(var N=this._head,M=N.next;M;)M=M.emit(this.deltaTime);N.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=R},Object.defineProperty(T.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(R){var I=Math.min(this.maxFPS,R),$=Math.min(Math.max(0,I)/1e3,settings$1.TARGET_FPMS);this._maxElapsedMS=1/$},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(R){if(R===0)this._minElapsedMS=0;else{var I=Math.max(this.minFPS,R);this._minElapsedMS=1/(I/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(T,"shared",{get:function(){if(!T._shared){var R=T._shared=new T;R.autoStart=!0,R._protected=!0}return T._shared},enumerable:!1,configurable:!0}),Object.defineProperty(T,"system",{get:function(){if(!T._system){var R=T._system=new T;R.autoStart=!0,R._protected=!0}return T._system},enumerable:!1,configurable:!0}),T}(),TickerPlugin=function(){function T(){}return T.init=function(R){var I=this;R=Object.assign({autoStart:!0,sharedTicker:!1},R),Object.defineProperty(this,"ticker",{set:function($){this._ticker&&this._ticker.remove(this.render,this),this._ticker=$,$&&$.add(this.render,this,UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}}),this.stop=function(){I._ticker.stop()},this.start=function(){I._ticker.start()},this._ticker=null,this.ticker=R.sharedTicker?Ticker.shared:new Ticker,R.autoStart&&this.start()},T.destroy=function(){if(this._ticker){var R=this._ticker;this.ticker=null,R.destroy()}},T.extension=ExtensionType.Application,T}();/*!
 * @pixi/core - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings$1.PREFER_ENV=isMobile$2.any?ENV$5.WEBGL:ENV$5.WEBGL2;settings$1.STRICT_TEXTURE_CACHE=!1;var INSTALLED=[];function autoDetectResource(T,R){if(!T)return null;var I="";if(typeof T=="string"){var $=/\.(\w{3,4})(?:$|\?|#)/i.exec(T);$&&(I=$[1].toLowerCase())}for(var N=INSTALLED.length-1;N>=0;--N){var M=INSTALLED[N];if(M.test&&M.test(T,I))return new M(T,R)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$i=function(T,R){return extendStatics$i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$i(T,R)};function __extends$i(T,R){extendStatics$i(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var __assign$2=function(){return __assign$2=Object.assign||function(R){for(var I=arguments,$,N=1,M=arguments.length;N<M;N++){$=I[N];for(var L in $)Object.prototype.hasOwnProperty.call($,L)&&(R[L]=$[L])}return R},__assign$2.apply(this,arguments)};function __rest(T,R){var I={};for(var $ in T)Object.prototype.hasOwnProperty.call(T,$)&&R.indexOf($)<0&&(I[$]=T[$]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var N=0,$=Object.getOwnPropertySymbols(T);N<$.length;N++)R.indexOf($[N])<0&&Object.prototype.propertyIsEnumerable.call(T,$[N])&&(I[$[N]]=T[$[N]]);return I}var Resource=function(){function T(R,I){R===void 0&&(R=0),I===void 0&&(I=0),this._width=R,this._height=I,this.destroyed=!1,this.internal=!1,this.onResize=new Runner("setRealSize"),this.onUpdate=new Runner("update"),this.onError=new Runner("onError")}return T.prototype.bind=function(R){this.onResize.add(R),this.onUpdate.add(R),this.onError.add(R),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},T.prototype.unbind=function(R){this.onResize.remove(R),this.onUpdate.remove(R),this.onError.remove(R)},T.prototype.resize=function(R,I){(R!==this._width||I!==this._height)&&(this._width=R,this._height=I,this.onResize.emit(R,I))},Object.defineProperty(T.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),T.prototype.update=function(){this.destroyed||this.onUpdate.emit()},T.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(T.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),T.prototype.style=function(R,I,$){return!1},T.prototype.dispose=function(){},T.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},T.test=function(R,I){return!1},T}(),BufferResource=function(T){__extends$i(R,T);function R(I,$){var N=this,M=$||{},L=M.width,B=M.height;if(!L||!B)throw new Error("BufferResource width or height invalid");return N=T.call(this,L,B)||this,N.data=I,N}return R.prototype.upload=function(I,$,N){var M=I.gl;M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.alphaMode===ALPHA_MODES$5.UNPACK);var L=$.realWidth,B=$.realHeight;return N.width===L&&N.height===B?M.texSubImage2D($.target,0,0,0,L,B,$.format,N.type,this.data):(N.width=L,N.height=B,M.texImage2D($.target,0,N.internalFormat,L,B,0,$.format,N.type,this.data)),!0},R.prototype.dispose=function(){this.data=null},R.test=function(I){return I instanceof Float32Array||I instanceof Uint8Array||I instanceof Uint32Array},R}(Resource),defaultBufferOptions={scaleMode:SCALE_MODES$5.NEAREST,format:FORMATS$5.RGBA,alphaMode:ALPHA_MODES$5.NPM},BaseTexture=function(T){__extends$i(R,T);function R(I,$){I===void 0&&(I=null),$===void 0&&($=null);var N=T.call(this)||this;$=$||{};var M=$.alphaMode,L=$.mipmap,B=$.anisotropicLevel,k=$.scaleMode,U=$.width,H=$.height,z=$.wrapMode,V=$.format,W=$.type,K=$.target,Y=$.resolution,q=$.resourceOptions;return I&&!(I instanceof Resource)&&(I=autoDetectResource(I,q),I.internal=!0),N.resolution=Y||settings$1.RESOLUTION,N.width=Math.round((U||0)*N.resolution)/N.resolution,N.height=Math.round((H||0)*N.resolution)/N.resolution,N._mipmap=L!==void 0?L:settings$1.MIPMAP_TEXTURES,N.anisotropicLevel=B!==void 0?B:settings$1.ANISOTROPIC_LEVEL,N._wrapMode=z||settings$1.WRAP_MODE,N._scaleMode=k!==void 0?k:settings$1.SCALE_MODE,N.format=V||FORMATS$5.RGBA,N.type=W||TYPES$5.UNSIGNED_BYTE,N.target=K||TARGETS$5.TEXTURE_2D,N.alphaMode=M!==void 0?M:ALPHA_MODES$5.UNPACK,N.uid=uid(),N.touched=0,N.isPowerOfTwo=!1,N._refreshPOT(),N._glTextures={},N.dirtyId=0,N.dirtyStyleId=0,N.cacheId=null,N.valid=U>0&&H>0,N.textureCacheIds=[],N.destroyed=!1,N.resource=null,N._batchEnabled=0,N._batchLocation=0,N.parentTextureArray=null,N.setResource(I),N}return Object.defineProperty(R.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"mipmap",{get:function(){return this._mipmap},set:function(I){this._mipmap!==I&&(this._mipmap=I,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(I){this._scaleMode!==I&&(this._scaleMode=I,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(I){this._wrapMode!==I&&(this._wrapMode=I,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),R.prototype.setStyle=function(I,$){var N;return I!==void 0&&I!==this.scaleMode&&(this.scaleMode=I,N=!0),$!==void 0&&$!==this.mipmap&&(this.mipmap=$,N=!0),N&&this.dirtyStyleId++,this},R.prototype.setSize=function(I,$,N){return N=N||this.resolution,this.setRealSize(I*N,$*N,N)},R.prototype.setRealSize=function(I,$,N){return this.resolution=N||this.resolution,this.width=Math.round(I)/this.resolution,this.height=Math.round($)/this.resolution,this._refreshPOT(),this.update(),this},R.prototype._refreshPOT=function(){this.isPowerOfTwo=isPow2(this.realWidth)&&isPow2(this.realHeight)},R.prototype.setResolution=function(I){var $=this.resolution;return $===I?this:(this.resolution=I,this.valid&&(this.width=Math.round(this.width*$)/I,this.height=Math.round(this.height*$)/I,this.emit("update",this)),this._refreshPOT(),this)},R.prototype.setResource=function(I){if(this.resource===I)return this;if(this.resource)throw new Error("Resource can be set only once");return I.bind(this),this.resource=I,this},R.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},R.prototype.onError=function(I){this.emit("error",this,I)},R.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete BaseTextureCache[this.cacheId],delete TextureCache[this.cacheId],this.cacheId=null),this.dispose(),R.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},R.prototype.dispose=function(){this.emit("dispose",this)},R.prototype.castToBaseTexture=function(){return this},R.from=function(I,$,N){N===void 0&&(N=settings$1.STRICT_TEXTURE_CACHE);var M=typeof I=="string",L=null;if(M)L=I;else{if(!I._pixiId){var B=$&&$.pixiIdPrefix||"pixiid";I._pixiId=B+"_"+uid()}L=I._pixiId}var k=BaseTextureCache[L];if(M&&N&&!k)throw new Error('The cacheId "'+L+'" does not exist in BaseTextureCache.');return k||(k=new R(I,$),k.cacheId=L,R.addToCache(k,L)),k},R.fromBuffer=function(I,$,N,M){I=I||new Float32Array($*N*4);var L=new BufferResource(I,{width:$,height:N}),B=I instanceof Float32Array?TYPES$5.FLOAT:TYPES$5.UNSIGNED_BYTE;return new R(L,Object.assign(defaultBufferOptions,M||{width:$,height:N,type:B}))},R.addToCache=function(I,$){$&&(I.textureCacheIds.indexOf($)===-1&&I.textureCacheIds.push($),BaseTextureCache[$]&&console.warn("BaseTexture added to the cache with an id ["+$+"] that already had an entry"),BaseTextureCache[$]=I)},R.removeFromCache=function(I){if(typeof I=="string"){var $=BaseTextureCache[I];if($){var N=$.textureCacheIds.indexOf(I);return N>-1&&$.textureCacheIds.splice(N,1),delete BaseTextureCache[I],$}}else if(I&&I.textureCacheIds){for(var M=0;M<I.textureCacheIds.length;++M)delete BaseTextureCache[I.textureCacheIds[M]];return I.textureCacheIds.length=0,I}return null},R._globalBatch=0,R}(n$1),AbstractMultiResource=function(T){__extends$i(R,T);function R(I,$){var N=this,M=$||{},L=M.width,B=M.height;N=T.call(this,L,B)||this,N.items=[],N.itemDirtyIds=[];for(var k=0;k<I;k++){var U=new BaseTexture;N.items.push(U),N.itemDirtyIds.push(-2)}return N.length=I,N._load=null,N.baseTexture=null,N}return R.prototype.initFromArray=function(I,$){for(var N=0;N<this.length;N++)!I[N]||(I[N].castToBaseTexture?this.addBaseTextureAt(I[N].castToBaseTexture(),N):I[N]instanceof Resource?this.addResourceAt(I[N],N):this.addResourceAt(autoDetectResource(I[N],$),N))},R.prototype.dispose=function(){for(var I=0,$=this.length;I<$;I++)this.items[I].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},R.prototype.addResourceAt=function(I,$){if(!this.items[$])throw new Error("Index "+$+" is out of bounds");return I.valid&&!this.valid&&this.resize(I.width,I.height),this.items[$].setResource(I),this},R.prototype.bind=function(I){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");T.prototype.bind.call(this,I);for(var $=0;$<this.length;$++)this.items[$].parentTextureArray=I,this.items[$].on("update",I.update,I)},R.prototype.unbind=function(I){T.prototype.unbind.call(this,I);for(var $=0;$<this.length;$++)this.items[$].parentTextureArray=null,this.items[$].off("update",I.update,I)},R.prototype.load=function(){var I=this;if(this._load)return this._load;var $=this.items.map(function(M){return M.resource}).filter(function(M){return M}),N=$.map(function(M){return M.load()});return this._load=Promise.all(N).then(function(){var M=I.items[0],L=M.realWidth,B=M.realHeight;return I.resize(L,B),Promise.resolve(I)}),this._load},R}(Resource),ArrayResource=function(T){__extends$i(R,T);function R(I,$){var N=this,M=$||{},L=M.width,B=M.height,k,U;return Array.isArray(I)?(k=I,U=I.length):U=I,N=T.call(this,U,{width:L,height:B})||this,k&&N.initFromArray(k,$),N}return R.prototype.addBaseTextureAt=function(I,$){if(I.resource)this.addResourceAt(I.resource,$);else throw new Error("ArrayResource does not support RenderTexture");return this},R.prototype.bind=function(I){T.prototype.bind.call(this,I),I.target=TARGETS$5.TEXTURE_2D_ARRAY},R.prototype.upload=function(I,$,N){var M=this,L=M.length,B=M.itemDirtyIds,k=M.items,U=I.gl;N.dirtyId<0&&U.texImage3D(U.TEXTURE_2D_ARRAY,0,N.internalFormat,this._width,this._height,L,0,$.format,N.type,null);for(var H=0;H<L;H++){var z=k[H];B[H]<z.dirtyId&&(B[H]=z.dirtyId,z.valid&&U.texSubImage3D(U.TEXTURE_2D_ARRAY,0,0,0,H,z.resource.width,z.resource.height,1,$.format,N.type,z.resource.source))}return!0},R}(AbstractMultiResource),BaseImageResource=function(T){__extends$i(R,T);function R(I){var $=this,N=I,M=N.naturalWidth||N.videoWidth||N.width,L=N.naturalHeight||N.videoHeight||N.height;return $=T.call(this,M,L)||this,$.source=I,$.noSubImage=!1,$}return R.crossOrigin=function(I,$,N){N===void 0&&$.indexOf("data:")!==0?I.crossOrigin=determineCrossOrigin($):N!==!1&&(I.crossOrigin=typeof N=="string"?N:"anonymous")},R.prototype.upload=function(I,$,N,M){var L=I.gl,B=$.realWidth,k=$.realHeight;if(M=M||this.source,M instanceof HTMLImageElement){if(!M.complete||M.naturalWidth===0)return!1}else if(M instanceof HTMLVideoElement&&M.readyState<=1)return!1;return L.pixelStorei(L.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.alphaMode===ALPHA_MODES$5.UNPACK),!this.noSubImage&&$.target===L.TEXTURE_2D&&N.width===B&&N.height===k?L.texSubImage2D(L.TEXTURE_2D,0,0,0,$.format,N.type,M):(N.width=B,N.height=k,L.texImage2D($.target,0,N.internalFormat,$.format,N.type,M)),!0},R.prototype.update=function(){if(!this.destroyed){var I=this.source,$=I.naturalWidth||I.videoWidth||I.width,N=I.naturalHeight||I.videoHeight||I.height;this.resize($,N),T.prototype.update.call(this)}},R.prototype.dispose=function(){this.source=null},R}(Resource),CanvasResource=function(T){__extends$i(R,T);function R(I){return T.call(this,I)||this}return R.test=function(I){var $=globalThis.OffscreenCanvas;return $&&I instanceof $?!0:globalThis.HTMLCanvasElement&&I instanceof HTMLCanvasElement},R}(BaseImageResource),CubeResource=function(T){__extends$i(R,T);function R(I,$){var N=this,M=$||{},L=M.width,B=M.height,k=M.autoLoad,U=M.linkBaseTexture;if(I&&I.length!==R.SIDES)throw new Error("Invalid length. Got "+I.length+", expected 6");N=T.call(this,6,{width:L,height:B})||this;for(var H=0;H<R.SIDES;H++)N.items[H].target=TARGETS$5.TEXTURE_CUBE_MAP_POSITIVE_X+H;return N.linkBaseTexture=U!==!1,I&&N.initFromArray(I,$),k!==!1&&N.load(),N}return R.prototype.bind=function(I){T.prototype.bind.call(this,I),I.target=TARGETS$5.TEXTURE_CUBE_MAP},R.prototype.addBaseTextureAt=function(I,$,N){if(!this.items[$])throw new Error("Index "+$+" is out of bounds");if(!this.linkBaseTexture||I.parentTextureArray||Object.keys(I._glTextures).length>0)if(I.resource)this.addResourceAt(I.resource,$);else throw new Error("CubeResource does not support copying of renderTexture.");else I.target=TARGETS$5.TEXTURE_CUBE_MAP_POSITIVE_X+$,I.parentTextureArray=this.baseTexture,this.items[$]=I;return I.valid&&!this.valid&&this.resize(I.realWidth,I.realHeight),this.items[$]=I,this},R.prototype.upload=function(I,$,N){for(var M=this.itemDirtyIds,L=0;L<R.SIDES;L++){var B=this.items[L];(M[L]<B.dirtyId||N.dirtyId<$.dirtyId)&&(B.valid&&B.resource?(B.resource.upload(I,B,N),M[L]=B.dirtyId):M[L]<-1&&(I.gl.texImage2D(B.target,0,N.internalFormat,$.realWidth,$.realHeight,0,$.format,N.type,null),M[L]=-1))}return!0},R.test=function(I){return Array.isArray(I)&&I.length===R.SIDES},R.SIDES=6,R}(AbstractMultiResource),ImageResource=function(T){__extends$i(R,T);function R(I,$){var N=this;if($=$||{},!(I instanceof HTMLImageElement)){var M=new Image;BaseImageResource.crossOrigin(M,I,$.crossorigin),M.src=I,I=M}return N=T.call(this,I)||this,!I.complete&&!!N._width&&!!N._height&&(N._width=0,N._height=0),N.url=I.src,N._process=null,N.preserveBitmap=!1,N.createBitmap=($.createBitmap!==void 0?$.createBitmap:settings$1.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,N.alphaMode=typeof $.alphaMode=="number"?$.alphaMode:null,N.bitmap=null,N._load=null,$.autoLoad!==!1&&N.load(),N}return R.prototype.load=function(I){var $=this;return this._load?this._load:(I!==void 0&&(this.createBitmap=I),this._load=new Promise(function(N,M){var L=$.source;$.url=L.src;var B=function(){$.destroyed||(L.onload=null,L.onerror=null,$.resize(L.width,L.height),$._load=null,$.createBitmap?N($.process()):N($))};L.complete&&L.src?B():(L.onload=B,L.onerror=function(k){M(k),$.onError.emit(k)})}),this._load)},R.prototype.process=function(){var I=this,$=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var N=globalThis.createImageBitmap,M=!$.crossOrigin||$.crossOrigin==="anonymous";return this._process=fetch($.src,{mode:M?"cors":"no-cors"}).then(function(L){return L.blob()}).then(function(L){return N(L,0,0,$.width,$.height,{premultiplyAlpha:I.alphaMode===ALPHA_MODES$5.UNPACK?"premultiply":"none"})}).then(function(L){return I.destroyed?Promise.reject():(I.bitmap=L,I.update(),I._process=null,Promise.resolve(I))}),this._process},R.prototype.upload=function(I,$,N){if(typeof this.alphaMode=="number"&&($.alphaMode=this.alphaMode),!this.createBitmap)return T.prototype.upload.call(this,I,$,N);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(T.prototype.upload.call(this,I,$,N,this.bitmap),!this.preserveBitmap){var M=!0,L=$._glTextures;for(var B in L){var k=L[B];if(k!==N&&k.dirtyId!==$.dirtyId){M=!1;break}}M&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},R.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,T.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},R.test=function(I){return typeof I=="string"||I instanceof HTMLImageElement},R}(BaseImageResource),SVGResource=function(T){__extends$i(R,T);function R(I,$){var N=this;return $=$||{},N=T.call(this,document.createElement("canvas"))||this,N._width=0,N._height=0,N.svg=I,N.scale=$.scale||1,N._overrideWidth=$.width,N._overrideHeight=$.height,N._resolve=null,N._crossorigin=$.crossorigin,N._load=null,$.autoLoad!==!1&&N.load(),N}return R.prototype.load=function(){var I=this;return this._load?this._load:(this._load=new Promise(function($){if(I._resolve=function(){I.resize(I.source.width,I.source.height),$(I)},R.SVG_XML.test(I.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");I.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(I.svg)))}I._loadSvg()}),this._load)},R.prototype._loadSvg=function(){var I=this,$=new Image;BaseImageResource.crossOrigin($,this.svg,this._crossorigin),$.src=this.svg,$.onerror=function(N){!I._resolve||($.onerror=null,I.onError.emit(N))},$.onload=function(){if(!!I._resolve){var N=$.width,M=$.height;if(!N||!M)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var L=N*I.scale,B=M*I.scale;(I._overrideWidth||I._overrideHeight)&&(L=I._overrideWidth||I._overrideHeight/M*N,B=I._overrideHeight||I._overrideWidth/N*M),L=Math.round(L),B=Math.round(B);var k=I.source;k.width=L,k.height=B,k._pixiId="canvas_"+uid(),k.getContext("2d").drawImage($,0,0,N,M,0,0,L,B),I._resolve(),I._resolve=null}}},R.getSize=function(I){var $=R.SVG_SIZE.exec(I),N={};return $&&(N[$[1]]=Math.round(parseFloat($[3])),N[$[5]]=Math.round(parseFloat($[7]))),N},R.prototype.dispose=function(){T.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},R.test=function(I,$){return $==="svg"||typeof I=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(I)||typeof I=="string"&&R.SVG_XML.test(I)},R.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,R.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,R}(BaseImageResource),VideoResource=function(T){__extends$i(R,T);function R(I,$){var N=this;if($=$||{},!(I instanceof HTMLVideoElement)){var M=document.createElement("video");M.setAttribute("preload","auto"),M.setAttribute("webkit-playsinline",""),M.setAttribute("playsinline",""),typeof I=="string"&&(I=[I]);var L=I[0].src||I[0];BaseImageResource.crossOrigin(M,L,$.crossorigin);for(var B=0;B<I.length;++B){var k=document.createElement("source"),U=I[B],H=U.src,z=U.mime;H=H||I[B];var V=H.split("?").shift().toLowerCase(),W=V.slice(V.lastIndexOf(".")+1);z=z||R.MIME_TYPES[W]||"video/"+W,k.src=H,k.type=z,M.appendChild(k)}I=M}return N=T.call(this,I)||this,N.noSubImage=!0,N._autoUpdate=!0,N._isConnectedToTicker=!1,N._updateFPS=$.updateFPS||0,N._msToNextUpdate=0,N.autoPlay=$.autoPlay!==!1,N._load=null,N._resolve=null,N._onCanPlay=N._onCanPlay.bind(N),N._onError=N._onError.bind(N),$.autoLoad!==!1&&N.load(),N}return R.prototype.update=function(I){if(!this.destroyed){var $=Ticker.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-$),(!this._updateFPS||this._msToNextUpdate<=0)&&(T.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},R.prototype.load=function(){var I=this;if(this._load)return this._load;var $=this.source;return($.readyState===$.HAVE_ENOUGH_DATA||$.readyState===$.HAVE_FUTURE_DATA)&&$.width&&$.height&&($.complete=!0),$.addEventListener("play",this._onPlayStart.bind(this)),$.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():($.addEventListener("canplay",this._onCanPlay),$.addEventListener("canplaythrough",this._onCanPlay),$.addEventListener("error",this._onError,!0)),this._load=new Promise(function(N){I.valid?N(I):(I._resolve=N,$.load())}),this._load},R.prototype._onError=function(I){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(I)},R.prototype._isSourcePlaying=function(){var I=this.source;return I.currentTime>0&&I.paused===!1&&I.ended===!1&&I.readyState>2},R.prototype._isSourceReady=function(){var I=this.source;return I.readyState===3||I.readyState===4},R.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)},R.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)},R.prototype._onCanPlay=function(){var I=this.source;I.removeEventListener("canplay",this._onCanPlay),I.removeEventListener("canplaythrough",this._onCanPlay);var $=this.valid;this.resize(I.videoWidth,I.videoHeight),!$&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&I.play()},R.prototype.dispose=function(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1);var I=this.source;I&&(I.removeEventListener("error",this._onError,!0),I.pause(),I.src="",I.load()),T.prototype.dispose.call(this)},Object.defineProperty(R.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(I){I!==this._autoUpdate&&(this._autoUpdate=I,!this._autoUpdate&&this._isConnectedToTicker?(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(I){I!==this._updateFPS&&(this._updateFPS=I)},enumerable:!1,configurable:!0}),R.test=function(I,$){return globalThis.HTMLVideoElement&&I instanceof HTMLVideoElement||R.TYPES.indexOf($)>-1},R.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],R.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},R}(BaseImageResource),ImageBitmapResource=function(T){__extends$i(R,T);function R(I){return T.call(this,I)||this}return R.test=function(I){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&I instanceof ImageBitmap},R}(BaseImageResource);INSTALLED.push(ImageResource,ImageBitmapResource,CanvasResource,VideoResource,SVGResource,BufferResource,CubeResource,ArrayResource);var _resources={__proto__:null,Resource,BaseImageResource,INSTALLED,autoDetectResource,AbstractMultiResource,ArrayResource,BufferResource,CanvasResource,CubeResource,ImageResource,SVGResource,VideoResource,ImageBitmapResource},DepthResource=function(T){__extends$i(R,T);function R(){return T!==null&&T.apply(this,arguments)||this}return R.prototype.upload=function(I,$,N){var M=I.gl;M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.alphaMode===ALPHA_MODES$5.UNPACK);var L=$.realWidth,B=$.realHeight;return N.width===L&&N.height===B?M.texSubImage2D($.target,0,0,0,L,B,$.format,N.type,this.data):(N.width=L,N.height=B,M.texImage2D($.target,0,N.internalFormat,L,B,0,$.format,N.type,this.data)),!0},R}(BufferResource),Framebuffer=function(){function T(R,I){this.width=Math.round(R||100),this.height=Math.round(I||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Runner("disposeFramebuffer"),this.multisample=MSAA_QUALITY$5.NONE}return Object.defineProperty(T.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),T.prototype.addColorTexture=function(R,I){return R===void 0&&(R=0),this.colorTextures[R]=I||new BaseTexture(null,{scaleMode:SCALE_MODES$5.NEAREST,resolution:1,mipmap:MIPMAP_MODES$5.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},T.prototype.addDepthTexture=function(R){return this.depthTexture=R||new BaseTexture(new DepthResource(null,{width:this.width,height:this.height}),{scaleMode:SCALE_MODES$5.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:MIPMAP_MODES$5.OFF,format:FORMATS$5.DEPTH_COMPONENT,type:TYPES$5.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},T.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},T.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},T.prototype.resize=function(R,I){if(R=Math.round(R),I=Math.round(I),!(R===this.width&&I===this.height)){this.width=R,this.height=I,this.dirtyId++,this.dirtySize++;for(var $=0;$<this.colorTextures.length;$++){var N=this.colorTextures[$],M=N.resolution;N.setSize(R/M,I/M)}if(this.depthTexture){var M=this.depthTexture.resolution;this.depthTexture.setSize(R/M,I/M)}}},T.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},T.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},T}(),BaseRenderTexture=function(T){__extends$i(R,T);function R(I){I===void 0&&(I={});var $=this;if(typeof I=="number"){var N=arguments[0],M=arguments[1],L=arguments[2],B=arguments[3];I={width:N,height:M,scaleMode:L,resolution:B}}return I.width=I.width||100,I.height=I.height||100,I.multisample=I.multisample!==void 0?I.multisample:MSAA_QUALITY$5.NONE,$=T.call(this,null,I)||this,$.mipmap=MIPMAP_MODES$5.OFF,$.valid=!0,$.clearColor=[0,0,0,0],$.framebuffer=new Framebuffer($.realWidth,$.realHeight).addColorTexture(0,$),$.framebuffer.multisample=I.multisample,$.maskStack=[],$.filterStack=[{}],$}return R.prototype.resize=function(I,$){this.framebuffer.resize(I*this.resolution,$*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},R.prototype.dispose=function(){this.framebuffer.dispose(),T.prototype.dispose.call(this)},R.prototype.destroy=function(){T.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},R}(BaseTexture),TextureUvs=function(){function T(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return T.prototype.set=function(R,I,$){var N=I.width,M=I.height;if($){var L=R.width/2/N,B=R.height/2/M,k=R.x/N+L,U=R.y/M+B;$=groupD8.add($,groupD8.NW),this.x0=k+L*groupD8.uX($),this.y0=U+B*groupD8.uY($),$=groupD8.add($,2),this.x1=k+L*groupD8.uX($),this.y1=U+B*groupD8.uY($),$=groupD8.add($,2),this.x2=k+L*groupD8.uX($),this.y2=U+B*groupD8.uY($),$=groupD8.add($,2),this.x3=k+L*groupD8.uX($),this.y3=U+B*groupD8.uY($)}else this.x0=R.x/N,this.y0=R.y/M,this.x1=(R.x+R.width)/N,this.y1=R.y/M,this.x2=(R.x+R.width)/N,this.y2=(R.y+R.height)/M,this.x3=R.x/N,this.y3=(R.y+R.height)/M;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},T.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},T}(),DEFAULT_UVS=new TextureUvs;function removeAllHandlers(T){T.destroy=function(){},T.on=function(){},T.once=function(){},T.emit=function(){}}var Texture=function(T){__extends$i(R,T);function R(I,$,N,M,L,B){var k=T.call(this)||this;if(k.noFrame=!1,$||(k.noFrame=!0,$=new Rectangle(0,0,1,1)),I instanceof R&&(I=I.baseTexture),k.baseTexture=I,k._frame=$,k.trim=M,k.valid=!1,k._uvs=DEFAULT_UVS,k.uvMatrix=null,k.orig=N||$,k._rotate=Number(L||0),L===!0)k._rotate=2;else if(k._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return k.defaultAnchor=B?new Point(B.x,B.y):new Point(0,0),k._updateID=0,k.textureCacheIds=[],I.valid?k.noFrame?I.valid&&k.onBaseTextureUpdated(I):k.frame=$:I.once("loaded",k.onBaseTextureUpdated,k),k.noFrame&&I.on("update",k.onBaseTextureUpdated,k),k}return R.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},R.prototype.onBaseTextureUpdated=function(I){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=I.width,this._frame.height=I.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},R.prototype.destroy=function(I){if(this.baseTexture){if(I){var $=this.baseTexture.resource;$&&$.url&&TextureCache[$.url]&&R.removeFromCache($.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,R.removeFromCache(this),this.textureCacheIds=null},R.prototype.clone=function(){var I=this._frame.clone(),$=this._frame===this.orig?I:this.orig.clone(),N=new R(this.baseTexture,!this.noFrame&&I,$,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(N._frame=I),N},R.prototype.updateUvs=function(){this._uvs===DEFAULT_UVS&&(this._uvs=new TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},R.from=function(I,$,N){$===void 0&&($={}),N===void 0&&(N=settings$1.STRICT_TEXTURE_CACHE);var M=typeof I=="string",L=null;if(M)L=I;else if(I instanceof BaseTexture){if(!I.cacheId){var B=$&&$.pixiIdPrefix||"pixiid";I.cacheId=B+"-"+uid(),BaseTexture.addToCache(I,I.cacheId)}L=I.cacheId}else{if(!I._pixiId){var B=$&&$.pixiIdPrefix||"pixiid";I._pixiId=B+"_"+uid()}L=I._pixiId}var k=TextureCache[L];if(M&&N&&!k)throw new Error('The cacheId "'+L+'" does not exist in TextureCache.');return!k&&!(I instanceof BaseTexture)?($.resolution||($.resolution=getResolutionOfUrl(I)),k=new R(new BaseTexture(I,$)),k.baseTexture.cacheId=L,BaseTexture.addToCache(k.baseTexture,L),R.addToCache(k,L)):!k&&I instanceof BaseTexture&&(k=new R(I),R.addToCache(k,L)),k},R.fromURL=function(I,$){var N=Object.assign({autoLoad:!1},$==null?void 0:$.resourceOptions),M=R.from(I,Object.assign({resourceOptions:N},$),!1),L=M.baseTexture.resource;return M.baseTexture.valid?Promise.resolve(M):L.load().then(function(){return Promise.resolve(M)})},R.fromBuffer=function(I,$,N,M){return new R(BaseTexture.fromBuffer(I,$,N,M))},R.fromLoader=function(I,$,N,M){var L=new BaseTexture(I,Object.assign({scaleMode:settings$1.SCALE_MODE,resolution:getResolutionOfUrl($)},M)),B=L.resource;B instanceof ImageResource&&(B.url=$);var k=new R(L);return N||(N=$),BaseTexture.addToCache(k.baseTexture,N),R.addToCache(k,N),N!==$&&(BaseTexture.addToCache(k.baseTexture,$),R.addToCache(k,$)),k.baseTexture.valid?Promise.resolve(k):new Promise(function(U){k.baseTexture.once("loaded",function(){return U(k)})})},R.addToCache=function(I,$){$&&(I.textureCacheIds.indexOf($)===-1&&I.textureCacheIds.push($),TextureCache[$]&&console.warn("Texture added to the cache with an id ["+$+"] that already had an entry"),TextureCache[$]=I)},R.removeFromCache=function(I){if(typeof I=="string"){var $=TextureCache[I];if($){var N=$.textureCacheIds.indexOf(I);return N>-1&&$.textureCacheIds.splice(N,1),delete TextureCache[I],$}}else if(I&&I.textureCacheIds){for(var M=0;M<I.textureCacheIds.length;++M)TextureCache[I.textureCacheIds[M]]===I&&delete TextureCache[I.textureCacheIds[M]];return I.textureCacheIds.length=0,I}return null},Object.defineProperty(R.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"frame",{get:function(){return this._frame},set:function(I){this._frame=I,this.noFrame=!1;var $=I.x,N=I.y,M=I.width,L=I.height,B=$+M>this.baseTexture.width,k=N+L>this.baseTexture.height;if(B||k){var U=B&&k?"and":"or",H="X: "+$+" + "+M+" = "+($+M)+" > "+this.baseTexture.width,z="Y: "+N+" + "+L+" = "+(N+L)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(H+" "+U+" "+z))}this.valid=M&&L&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=I),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"rotate",{get:function(){return this._rotate},set:function(I){this._rotate=I,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),R.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(R,"EMPTY",{get:function(){return R._EMPTY||(R._EMPTY=new R(new BaseTexture),removeAllHandlers(R._EMPTY),removeAllHandlers(R._EMPTY.baseTexture)),R._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(R,"WHITE",{get:function(){if(!R._WHITE){var I=settings$1.ADAPTER.createCanvas(16,16),$=I.getContext("2d");I.width=16,I.height=16,$.fillStyle="white",$.fillRect(0,0,16,16),R._WHITE=new R(BaseTexture.from(I)),removeAllHandlers(R._WHITE),removeAllHandlers(R._WHITE.baseTexture)}return R._WHITE},enumerable:!1,configurable:!0}),R}(n$1),RenderTexture=function(T){__extends$i(R,T);function R(I,$){var N=T.call(this,I,$)||this;return N.valid=!0,N.filterFrame=null,N.filterPoolKey=null,N.updateUvs(),N}return Object.defineProperty(R.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(I){this.framebuffer.multisample=I},enumerable:!1,configurable:!0}),R.prototype.resize=function(I,$,N){N===void 0&&(N=!0);var M=this.baseTexture.resolution,L=Math.round(I*M)/M,B=Math.round($*M)/M;this.valid=L>0&&B>0,this._frame.width=this.orig.width=L,this._frame.height=this.orig.height=B,N&&this.baseTexture.resize(L,B),this.updateUvs()},R.prototype.setResolution=function(I){var $=this.baseTexture;$.resolution!==I&&($.setResolution(I),this.resize($.width,$.height,!1))},R.create=function(I){for(var $=arguments,N=[],M=1;M<arguments.length;M++)N[M-1]=$[M];return typeof I=="number"&&(deprecation$1("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),I={width:I,height:N[0],scaleMode:N[1],resolution:N[2]}),new R(new BaseRenderTexture(I))},R}(Texture),RenderTexturePool=function(){function T(R){this.texturePool={},this.textureOptions=R||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return T.prototype.createTexture=function(R,I,$){$===void 0&&($=MSAA_QUALITY$5.NONE);var N=new BaseRenderTexture(Object.assign({width:R,height:I,resolution:1,multisample:$},this.textureOptions));return new RenderTexture(N)},T.prototype.getOptimalTexture=function(R,I,$,N){$===void 0&&($=1),N===void 0&&(N=MSAA_QUALITY$5.NONE);var M;R=Math.ceil(R*$-1e-6),I=Math.ceil(I*$-1e-6),!this.enableFullScreen||R!==this._pixelsWidth||I!==this._pixelsHeight?(R=nextPow2(R),I=nextPow2(I),M=((R&65535)<<16|I&65535)>>>0,N>1&&(M+=N*4294967296)):M=N>1?-N:-1,this.texturePool[M]||(this.texturePool[M]=[]);var L=this.texturePool[M].pop();return L||(L=this.createTexture(R,I,N)),L.filterPoolKey=M,L.setResolution($),L},T.prototype.getFilterTexture=function(R,I,$){var N=this.getOptimalTexture(R.width,R.height,I||R.resolution,$||MSAA_QUALITY$5.NONE);return N.filterFrame=R.filterFrame,N},T.prototype.returnTexture=function(R){var I=R.filterPoolKey;R.filterFrame=null,this.texturePool[I].push(R)},T.prototype.returnFilterTexture=function(R){this.returnTexture(R)},T.prototype.clear=function(R){if(R=R!==!1,R)for(var I in this.texturePool){var $=this.texturePool[I];if($)for(var N=0;N<$.length;N++)$[N].destroy(!0)}this.texturePool={}},T.prototype.setScreenSize=function(R){if(!(R.width===this._pixelsWidth&&R.height===this._pixelsHeight)){this.enableFullScreen=R.width>0&&R.height>0;for(var I in this.texturePool)if(Number(I)<0){var $=this.texturePool[I];if($)for(var N=0;N<$.length;N++)$[N].destroy(!0);this.texturePool[I]=[]}this._pixelsWidth=R.width,this._pixelsHeight=R.height}},T.SCREEN_KEY=-1,T}(),Attribute=function(){function T(R,I,$,N,M,L,B){I===void 0&&(I=0),$===void 0&&($=!1),N===void 0&&(N=TYPES$5.FLOAT),this.buffer=R,this.size=I,this.normalized=$,this.type=N,this.stride=M,this.start=L,this.instance=B}return T.prototype.destroy=function(){this.buffer=null},T.from=function(R,I,$,N,M){return new T(R,I,$,N,M)},T}(),UID$4=0,Buffer$2=function(){function T(R,I,$){I===void 0&&(I=!0),$===void 0&&($=!1),this.data=R||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=$,this.static=I,this.id=UID$4++,this.disposeRunner=new Runner("disposeBuffer")}return T.prototype.update=function(R){R instanceof Array&&(R=new Float32Array(R)),this.data=R||this.data,this._updateID++},T.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},T.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(T.prototype,"index",{get:function(){return this.type===BUFFER_TYPE$5.ELEMENT_ARRAY_BUFFER},set:function(R){this.type=R?BUFFER_TYPE$5.ELEMENT_ARRAY_BUFFER:BUFFER_TYPE$5.ARRAY_BUFFER},enumerable:!1,configurable:!0}),T.from=function(R){return R instanceof Array&&(R=new Float32Array(R)),new T(R)},T}(),map$1={Float32Array,Uint32Array,Int32Array,Uint8Array};function interleaveTypedArrays(T,R){for(var I=0,$=0,N={},M=0;M<T.length;M++)$+=R[M],I+=T[M].length;for(var L=new ArrayBuffer(I*4),B=null,k=0,M=0;M<T.length;M++){var U=R[M],H=T[M],z=getBufferType(H);N[z]||(N[z]=new map$1[z](L)),B=N[z];for(var V=0;V<H.length;V++){var W=(V/U|0)*$+k,K=V%U;B[W+K]=H[V]}k+=U}return new Float32Array(L)}var byteSizeMap$1={5126:4,5123:2,5121:1},UID$3=0,map$2={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Geometry=function(){function T(R,I){R===void 0&&(R=[]),I===void 0&&(I={}),this.buffers=R,this.indexBuffer=null,this.attributes=I,this.glVertexArrayObjects={},this.id=UID$3++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Runner("disposeGeometry"),this.refCount=0}return T.prototype.addAttribute=function(R,I,$,N,M,L,B,k){if($===void 0&&($=0),N===void 0&&(N=!1),k===void 0&&(k=!1),!I)throw new Error("You must pass a buffer when creating an attribute");I instanceof Buffer$2||(I instanceof Array&&(I=new Float32Array(I)),I=new Buffer$2(I));var U=R.split("|");if(U.length>1){for(var H=0;H<U.length;H++)this.addAttribute(U[H],I,$,N,M);return this}var z=this.buffers.indexOf(I);return z===-1&&(this.buffers.push(I),z=this.buffers.length-1),this.attributes[R]=new Attribute(z,$,N,M,L,B,k),this.instanced=this.instanced||k,this},T.prototype.getAttribute=function(R){return this.attributes[R]},T.prototype.getBuffer=function(R){return this.buffers[this.getAttribute(R).buffer]},T.prototype.addIndex=function(R){return R instanceof Buffer$2||(R instanceof Array&&(R=new Uint16Array(R)),R=new Buffer$2(R)),R.type=BUFFER_TYPE$5.ELEMENT_ARRAY_BUFFER,this.indexBuffer=R,this.buffers.indexOf(R)===-1&&this.buffers.push(R),this},T.prototype.getIndex=function(){return this.indexBuffer},T.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var R=[],I=[],$=new Buffer$2,N;for(N in this.attributes){var M=this.attributes[N],L=this.buffers[M.buffer];R.push(L.data),I.push(M.size*byteSizeMap$1[M.type]/4),M.buffer=0}for($.data=interleaveTypedArrays(R,I),N=0;N<this.buffers.length;N++)this.buffers[N]!==this.indexBuffer&&this.buffers[N].destroy();return this.buffers=[$],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},T.prototype.getSize=function(){for(var R in this.attributes){var I=this.attributes[R],$=this.buffers[I.buffer];return $.data.length/(I.stride/4||I.size)}return 0},T.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},T.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},T.prototype.clone=function(){for(var R=new T,I=0;I<this.buffers.length;I++)R.buffers[I]=new Buffer$2(this.buffers[I].data.slice(0));for(var I in this.attributes){var $=this.attributes[I];R.attributes[I]=new Attribute($.buffer,$.size,$.normalized,$.type,$.stride,$.start,$.instance)}return this.indexBuffer&&(R.indexBuffer=R.buffers[this.buffers.indexOf(this.indexBuffer)],R.indexBuffer.type=BUFFER_TYPE$5.ELEMENT_ARRAY_BUFFER),R},T.merge=function(R){for(var I=new T,$=[],N=[],M=[],L,B=0;B<R.length;B++){L=R[B];for(var k=0;k<L.buffers.length;k++)N[k]=N[k]||0,N[k]+=L.buffers[k].data.length,M[k]=0}for(var B=0;B<L.buffers.length;B++)$[B]=new map$2[getBufferType(L.buffers[B].data)](N[B]),I.buffers[B]=new Buffer$2($[B]);for(var B=0;B<R.length;B++){L=R[B];for(var k=0;k<L.buffers.length;k++)$[k].set(L.buffers[k].data,M[k]),M[k]+=L.buffers[k].data.length}if(I.attributes=L.attributes,L.indexBuffer){I.indexBuffer=I.buffers[L.buffers.indexOf(L.indexBuffer)],I.indexBuffer.type=BUFFER_TYPE$5.ELEMENT_ARRAY_BUFFER;for(var U=0,H=0,z=0,V=0,B=0;B<L.buffers.length;B++)if(L.buffers[B]!==L.indexBuffer){V=B;break}for(var B in L.attributes){var W=L.attributes[B];(W.buffer|0)===V&&(H+=W.size*byteSizeMap$1[W.type]/4)}for(var B=0;B<R.length;B++){for(var K=R[B].indexBuffer.data,k=0;k<K.length;k++)I.indexBuffer.data[k+z]+=U;U+=R[B].buffers[V].data.length/H,z+=K.length}}return I},T}(),Quad=function(T){__extends$i(R,T);function R(){var I=T.call(this)||this;return I.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),I}return R}(Geometry),QuadUv=function(T){__extends$i(R,T);function R(){var I=T.call(this)||this;return I.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),I.uvs=new Float32Array([0,0,1,0,1,1,0,1]),I.vertexBuffer=new Buffer$2(I.vertices),I.uvBuffer=new Buffer$2(I.uvs),I.addAttribute("aVertexPosition",I.vertexBuffer).addAttribute("aTextureCoord",I.uvBuffer).addIndex([0,1,2,0,2,3]),I}return R.prototype.map=function(I,$){var N=0,M=0;return this.uvs[0]=N,this.uvs[1]=M,this.uvs[2]=N+$.width/I.width,this.uvs[3]=M,this.uvs[4]=N+$.width/I.width,this.uvs[5]=M+$.height/I.height,this.uvs[6]=N,this.uvs[7]=M+$.height/I.height,N=$.x,M=$.y,this.vertices[0]=N,this.vertices[1]=M,this.vertices[2]=N+$.width,this.vertices[3]=M,this.vertices[4]=N+$.width,this.vertices[5]=M+$.height,this.vertices[6]=N,this.vertices[7]=M+$.height,this.invalidate(),this},R.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},R}(Geometry),UID$2=0,UniformGroup=function(){function T(R,I,$){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=UID$2++,this.static=!!I,this.ubo=!!$,R instanceof Buffer$2?(this.buffer=R,this.buffer.type=BUFFER_TYPE$5.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=R,this.ubo&&(this.buffer=new Buffer$2(new Float32Array(1)),this.buffer.type=BUFFER_TYPE$5.UNIFORM_BUFFER,this.autoManage=!0))}return T.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},T.prototype.add=function(R,I,$){if(!this.ubo)this.uniforms[R]=new T(I,$);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},T.from=function(R,I,$){return new T(R,I,$)},T.uboFrom=function(R,I){return new T(R,I!=null?I:!0,!0)},T}(),FilterState=function(){function T(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=MSAA_QUALITY$5.NONE,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.bindingSourceFrame=new Rectangle,this.bindingDestinationFrame=new Rectangle,this.filters=[],this.transform=null}return T.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},T}(),tempPoints=[new Point,new Point,new Point,new Point],tempMatrix$2=new Matrix,FilterSystem=function(){function T(R){this.renderer=R,this.defaultFilterStack=[{}],this.texturePool=new RenderTexturePool,this.texturePool.setScreenSize(R.view),this.statePool=[],this.quad=new Quad,this.quadUv=new QuadUv,this.tempRect=new Rectangle,this.activeState={},this.globalUniforms=new UniformGroup({outputFrame:new Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return T.prototype.push=function(R,I){for(var $,N,M=this.renderer,L=this.defaultFilterStack,B=this.statePool.pop()||new FilterState,k=this.renderer.renderTexture,U=I[0].resolution,H=I[0].multisample,z=I[0].padding,V=I[0].autoFit,W=($=I[0].legacy)!==null&&$!==void 0?$:!0,K=1;K<I.length;K++){var Y=I[K];U=Math.min(U,Y.resolution),H=Math.min(H,Y.multisample),z=this.useMaxPadding?Math.max(z,Y.padding):z+Y.padding,V=V&&Y.autoFit,W=W||((N=Y.legacy)!==null&&N!==void 0?N:!0)}L.length===1&&(this.defaultFilterStack[0].renderTexture=k.current),L.push(B),B.resolution=U,B.multisample=H,B.legacy=W,B.target=R,B.sourceFrame.copyFrom(R.filterArea||R.getBounds(!0)),B.sourceFrame.pad(z);var q=this.tempRect.copyFrom(k.sourceFrame);M.projection.transform&&this.transformAABB(tempMatrix$2.copyFrom(M.projection.transform).invert(),q),V?(B.sourceFrame.fit(q),(B.sourceFrame.width<=0||B.sourceFrame.height<=0)&&(B.sourceFrame.width=0,B.sourceFrame.height=0)):B.sourceFrame.intersects(q)||(B.sourceFrame.width=0,B.sourceFrame.height=0),this.roundFrame(B.sourceFrame,k.current?k.current.resolution:M.resolution,k.sourceFrame,k.destinationFrame,M.projection.transform),B.renderTexture=this.getOptimalFilterTexture(B.sourceFrame.width,B.sourceFrame.height,U,H),B.filters=I,B.destinationFrame.width=B.renderTexture.width,B.destinationFrame.height=B.renderTexture.height;var Z=this.tempRect;Z.x=0,Z.y=0,Z.width=B.sourceFrame.width,Z.height=B.sourceFrame.height,B.renderTexture.filterFrame=B.sourceFrame,B.bindingSourceFrame.copyFrom(k.sourceFrame),B.bindingDestinationFrame.copyFrom(k.destinationFrame),B.transform=M.projection.transform,M.projection.transform=null,k.bind(B.renderTexture,B.sourceFrame,Z),M.framebuffer.clear(0,0,0,0)},T.prototype.pop=function(){var R=this.defaultFilterStack,I=R.pop(),$=I.filters;this.activeState=I;var N=this.globalUniforms.uniforms;N.outputFrame=I.sourceFrame,N.resolution=I.resolution;var M=N.inputSize,L=N.inputPixel,B=N.inputClamp;if(M[0]=I.destinationFrame.width,M[1]=I.destinationFrame.height,M[2]=1/M[0],M[3]=1/M[1],L[0]=Math.round(M[0]*I.resolution),L[1]=Math.round(M[1]*I.resolution),L[2]=1/L[0],L[3]=1/L[1],B[0]=.5*L[2],B[1]=.5*L[3],B[2]=I.sourceFrame.width*M[2]-.5*L[2],B[3]=I.sourceFrame.height*M[3]-.5*L[3],I.legacy){var k=N.filterArea;k[0]=I.destinationFrame.width,k[1]=I.destinationFrame.height,k[2]=I.sourceFrame.x,k[3]=I.sourceFrame.y,N.filterClamp=N.inputClamp}this.globalUniforms.update();var U=R[R.length-1];if(this.renderer.framebuffer.blit(),$.length===1)$[0].apply(this,I.renderTexture,U.renderTexture,CLEAR_MODES$5.BLEND,I),this.returnFilterTexture(I.renderTexture);else{var H=I.renderTexture,z=this.getOptimalFilterTexture(H.width,H.height,I.resolution);z.filterFrame=H.filterFrame;var V=0;for(V=0;V<$.length-1;++V){V===1&&I.multisample>1&&(z=this.getOptimalFilterTexture(H.width,H.height,I.resolution),z.filterFrame=H.filterFrame),$[V].apply(this,H,z,CLEAR_MODES$5.CLEAR,I);var W=H;H=z,z=W}$[V].apply(this,H,U.renderTexture,CLEAR_MODES$5.BLEND,I),V>1&&I.multisample>1&&this.returnFilterTexture(I.renderTexture),this.returnFilterTexture(H),this.returnFilterTexture(z)}I.clear(),this.statePool.push(I)},T.prototype.bindAndClear=function(R,I){I===void 0&&(I=CLEAR_MODES$5.CLEAR);var $=this.renderer,N=$.renderTexture,M=$.state;if(R===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,R&&R.filterFrame){var L=this.tempRect;L.x=0,L.y=0,L.width=R.filterFrame.width,L.height=R.filterFrame.height,N.bind(R,R.filterFrame,L)}else R!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?N.bind(R):this.renderer.renderTexture.bind(R,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var B=M.stateId&1||this.forceClear;(I===CLEAR_MODES$5.CLEAR||I===CLEAR_MODES$5.BLIT&&B)&&this.renderer.framebuffer.clear(0,0,0,0)},T.prototype.applyFilter=function(R,I,$,N){var M=this.renderer;M.state.set(R.state),this.bindAndClear($,N),R.uniforms.uSampler=I,R.uniforms.filterGlobals=this.globalUniforms,M.shader.bind(R),R.legacy=!!R.program.attributeData.aTextureCoord,R.legacy?(this.quadUv.map(I._frame,I.filterFrame),M.geometry.bind(this.quadUv),M.geometry.draw(DRAW_MODES$5.TRIANGLES)):(M.geometry.bind(this.quad),M.geometry.draw(DRAW_MODES$5.TRIANGLE_STRIP))},T.prototype.calculateSpriteMatrix=function(R,I){var $=this.activeState,N=$.sourceFrame,M=$.destinationFrame,L=I._texture.orig,B=R.set(M.width,0,0,M.height,N.x,N.y),k=I.worldTransform.copyTo(Matrix.TEMP_MATRIX);return k.invert(),B.prepend(k),B.scale(1/L.width,1/L.height),B.translate(I.anchor.x,I.anchor.y),B},T.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},T.prototype.getOptimalFilterTexture=function(R,I,$,N){return $===void 0&&($=1),N===void 0&&(N=MSAA_QUALITY$5.NONE),this.texturePool.getOptimalTexture(R,I,$,N)},T.prototype.getFilterTexture=function(R,I,$){if(typeof R=="number"){var N=R;R=I,I=N}R=R||this.activeState.renderTexture;var M=this.texturePool.getOptimalTexture(R.width,R.height,I||R.resolution,$||MSAA_QUALITY$5.NONE);return M.filterFrame=R.filterFrame,M},T.prototype.returnFilterTexture=function(R){this.texturePool.returnTexture(R)},T.prototype.emptyPool=function(){this.texturePool.clear(!0)},T.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},T.prototype.transformAABB=function(R,I){var $=tempPoints[0],N=tempPoints[1],M=tempPoints[2],L=tempPoints[3];$.set(I.left,I.top),N.set(I.left,I.bottom),M.set(I.right,I.top),L.set(I.right,I.bottom),R.apply($,$),R.apply(N,N),R.apply(M,M),R.apply(L,L);var B=Math.min($.x,N.x,M.x,L.x),k=Math.min($.y,N.y,M.y,L.y),U=Math.max($.x,N.x,M.x,L.x),H=Math.max($.y,N.y,M.y,L.y);I.x=B,I.y=k,I.width=U-B,I.height=H-k},T.prototype.roundFrame=function(R,I,$,N,M){if(!(R.width<=0||R.height<=0||$.width<=0||$.height<=0)){if(M){var L=M.a,B=M.b,k=M.c,U=M.d;if((Math.abs(B)>1e-4||Math.abs(k)>1e-4)&&(Math.abs(L)>1e-4||Math.abs(U)>1e-4))return}M=M?tempMatrix$2.copyFrom(M):tempMatrix$2.identity(),M.translate(-$.x,-$.y).scale(N.width/$.width,N.height/$.height).translate(N.x,N.y),this.transformAABB(M,R),R.ceil(I),this.transformAABB(M.invert(),R)}},T}(),ObjectRenderer=function(){function T(R){this.renderer=R}return T.prototype.flush=function(){},T.prototype.destroy=function(){this.renderer=null},T.prototype.start=function(){},T.prototype.stop=function(){this.flush()},T.prototype.render=function(R){},T}(),BatchSystem=function(){function T(R){this.renderer=R,this.emptyRenderer=new ObjectRenderer(R),this.currentRenderer=this.emptyRenderer}return T.prototype.setObjectRenderer=function(R){this.currentRenderer!==R&&(this.currentRenderer.stop(),this.currentRenderer=R,this.currentRenderer.start())},T.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},T.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},T.prototype.copyBoundTextures=function(R,I){for(var $=this.renderer.texture.boundTextures,N=I-1;N>=0;--N)R[N]=$[N]||null,R[N]&&(R[N]._batchLocation=N)},T.prototype.boundArray=function(R,I,$,N){for(var M=R.elements,L=R.ids,B=R.count,k=0,U=0;U<B;U++){var H=M[U],z=H._batchLocation;if(z>=0&&z<N&&I[z]===H){L[U]=z;continue}for(;k<N;){var V=I[k];if(V&&V._batchEnabled===$&&V._batchLocation===k){k++;continue}L[U]=k,H._batchLocation=k,I[k]=H;break}}},T.prototype.destroy=function(){this.renderer=null},T}(),CONTEXT_UID_COUNTER=0,ContextSystem=function(){function T(R){this.renderer=R,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),R.view.addEventListener("webglcontextlost",this.handleContextLost,!1),R.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(T.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),T.prototype.contextChange=function(R){this.gl=R,this.renderer.gl=R,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++,R.isContextLost()&&R.getExtension("WEBGL_lose_context")&&R.getExtension("WEBGL_lose_context").restoreContext()},T.prototype.initFromContext=function(R){this.gl=R,this.validateContext(R),this.renderer.gl=R,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++,this.renderer.runners.contextChange.emit(R)},T.prototype.initFromOptions=function(R){var I=this.createContext(this.renderer.view,R);this.initFromContext(I)},T.prototype.createContext=function(R,I){var $;if(settings$1.PREFER_ENV>=ENV$5.WEBGL2&&($=R.getContext("webgl2",I)),$)this.webGLVersion=2;else if(this.webGLVersion=1,$=R.getContext("webgl",I)||R.getContext("experimental-webgl",I),!$)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=$,this.getExtensions(),this.gl},T.prototype.getExtensions=function(){var R=this.gl,I={anisotropicFiltering:R.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:R.getExtension("OES_texture_float_linear"),s3tc:R.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:R.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:R.getExtension("WEBGL_compressed_texture_etc"),etc1:R.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:R.getExtension("WEBGL_compressed_texture_pvrtc")||R.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:R.getExtension("WEBGL_compressed_texture_atc"),astc:R.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,I,{drawBuffers:R.getExtension("WEBGL_draw_buffers"),depthTexture:R.getExtension("WEBGL_depth_texture"),loseContext:R.getExtension("WEBGL_lose_context"),vertexArrayObject:R.getExtension("OES_vertex_array_object")||R.getExtension("MOZ_OES_vertex_array_object")||R.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:R.getExtension("OES_element_index_uint"),floatTexture:R.getExtension("OES_texture_float"),floatTextureLinear:R.getExtension("OES_texture_float_linear"),textureHalfFloat:R.getExtension("OES_texture_half_float"),textureHalfFloatLinear:R.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,I,{colorBufferFloat:R.getExtension("EXT_color_buffer_float")})},T.prototype.handleContextLost=function(R){R.preventDefault()},T.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},T.prototype.destroy=function(){var R=this.renderer.view;this.renderer=null,R.removeEventListener("webglcontextlost",this.handleContextLost),R.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},T.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},T.prototype.validateContext=function(R){var I=R.getContextAttributes(),$="WebGL2RenderingContext"in globalThis&&R instanceof globalThis.WebGL2RenderingContext;$&&(this.webGLVersion=2),I&&!I.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var N=$||!!R.getExtension("OES_element_index_uint");this.supports.uint32Indices=N,N||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},T}(),GLFramebuffer=function(){function T(R){this.framebuffer=R,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=MSAA_QUALITY$5.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return T}(),tempRectangle=new Rectangle,FramebufferSystem=function(){function T(R){this.renderer=R,this.managedFramebuffers=[],this.unknownFramebuffer=new Framebuffer(10,10),this.msaaSamples=null}return T.prototype.contextChange=function(){var R=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var I=this.renderer.context.extensions.drawBuffers,$=this.renderer.context.extensions.depthTexture;settings$1.PREFER_ENV===ENV$5.WEBGL_LEGACY&&(I=null,$=null),I?R.drawBuffers=function(N){return I.drawBuffersWEBGL(N)}:(this.hasMRT=!1,R.drawBuffers=function(){}),$||(this.writeDepthTexture=!1)}else this.msaaSamples=R.getInternalformatParameter(R.RENDERBUFFER,R.RGBA8,R.SAMPLES)},T.prototype.bind=function(R,I,$){$===void 0&&($=0);var N=this.gl;if(R){var M=R.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(R);this.current!==R&&(this.current=R,N.bindFramebuffer(N.FRAMEBUFFER,M.framebuffer)),M.mipLevel!==$&&(R.dirtyId++,R.dirtyFormat++,M.mipLevel=$),M.dirtyId!==R.dirtyId&&(M.dirtyId=R.dirtyId,M.dirtyFormat!==R.dirtyFormat?(M.dirtyFormat=R.dirtyFormat,M.dirtySize=R.dirtySize,this.updateFramebuffer(R,$)):M.dirtySize!==R.dirtySize&&(M.dirtySize=R.dirtySize,this.resizeFramebuffer(R)));for(var L=0;L<R.colorTextures.length;L++){var B=R.colorTextures[L];this.renderer.texture.unbind(B.parentTextureArray||B)}if(R.depthTexture&&this.renderer.texture.unbind(R.depthTexture),I){var k=I.width>>$,U=I.height>>$,H=k/I.width;this.setViewport(I.x*H,I.y*H,k,U)}else{var k=R.width>>$,U=R.height>>$;this.setViewport(0,0,k,U)}}else this.current&&(this.current=null,N.bindFramebuffer(N.FRAMEBUFFER,null)),I?this.setViewport(I.x,I.y,I.width,I.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},T.prototype.setViewport=function(R,I,$,N){var M=this.viewport;R=Math.round(R),I=Math.round(I),$=Math.round($),N=Math.round(N),(M.width!==$||M.height!==N||M.x!==R||M.y!==I)&&(M.x=R,M.y=I,M.width=$,M.height=N,this.gl.viewport(R,I,$,N))},Object.defineProperty(T.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),T.prototype.clear=function(R,I,$,N,M){M===void 0&&(M=BUFFER_BITS$5.COLOR|BUFFER_BITS$5.DEPTH);var L=this.gl;L.clearColor(R,I,$,N),L.clear(M)},T.prototype.initFramebuffer=function(R){var I=this.gl,$=new GLFramebuffer(I.createFramebuffer());return $.multisample=this.detectSamples(R.multisample),R.glFramebuffers[this.CONTEXT_UID]=$,this.managedFramebuffers.push(R),R.disposeRunner.add(this),$},T.prototype.resizeFramebuffer=function(R){var I=this.gl,$=R.glFramebuffers[this.CONTEXT_UID];$.msaaBuffer&&(I.bindRenderbuffer(I.RENDERBUFFER,$.msaaBuffer),I.renderbufferStorageMultisample(I.RENDERBUFFER,$.multisample,I.RGBA8,R.width,R.height)),$.stencil&&(I.bindRenderbuffer(I.RENDERBUFFER,$.stencil),$.msaaBuffer?I.renderbufferStorageMultisample(I.RENDERBUFFER,$.multisample,I.DEPTH24_STENCIL8,R.width,R.height):I.renderbufferStorage(I.RENDERBUFFER,I.DEPTH_STENCIL,R.width,R.height));var N=R.colorTextures,M=N.length;I.drawBuffers||(M=Math.min(M,1));for(var L=0;L<M;L++){var B=N[L],k=B.parentTextureArray||B;this.renderer.texture.bind(k,0)}R.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(R.depthTexture,0)},T.prototype.updateFramebuffer=function(R,I){var $=this.gl,N=R.glFramebuffers[this.CONTEXT_UID],M=R.colorTextures,L=M.length;$.drawBuffers||(L=Math.min(L,1)),N.multisample>1&&this.canMultisampleFramebuffer(R)?(N.msaaBuffer=N.msaaBuffer||$.createRenderbuffer(),$.bindRenderbuffer($.RENDERBUFFER,N.msaaBuffer),$.renderbufferStorageMultisample($.RENDERBUFFER,N.multisample,$.RGBA8,R.width,R.height),$.framebufferRenderbuffer($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.RENDERBUFFER,N.msaaBuffer)):N.msaaBuffer&&($.deleteRenderbuffer(N.msaaBuffer),N.msaaBuffer=null,N.blitFramebuffer&&(N.blitFramebuffer.dispose(),N.blitFramebuffer=null));for(var B=[],k=0;k<L;k++){var U=M[k],H=U.parentTextureArray||U;this.renderer.texture.bind(H,0),!(k===0&&N.msaaBuffer)&&($.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0+k,U.target,H._glTextures[this.CONTEXT_UID].texture,I),B.push($.COLOR_ATTACHMENT0+k))}if(B.length>1&&$.drawBuffers(B),R.depthTexture){var z=this.writeDepthTexture;if(z){var V=R.depthTexture;this.renderer.texture.bind(V,0),$.framebufferTexture2D($.FRAMEBUFFER,$.DEPTH_ATTACHMENT,$.TEXTURE_2D,V._glTextures[this.CONTEXT_UID].texture,I)}}(R.stencil||R.depth)&&!(R.depthTexture&&this.writeDepthTexture)?(N.stencil=N.stencil||$.createRenderbuffer(),$.bindRenderbuffer($.RENDERBUFFER,N.stencil),N.msaaBuffer?$.renderbufferStorageMultisample($.RENDERBUFFER,N.multisample,$.DEPTH24_STENCIL8,R.width,R.height):$.renderbufferStorage($.RENDERBUFFER,$.DEPTH_STENCIL,R.width,R.height),$.framebufferRenderbuffer($.FRAMEBUFFER,$.DEPTH_STENCIL_ATTACHMENT,$.RENDERBUFFER,N.stencil)):N.stencil&&($.deleteRenderbuffer(N.stencil),N.stencil=null)},T.prototype.canMultisampleFramebuffer=function(R){return this.renderer.context.webGLVersion!==1&&R.colorTextures.length<=1&&!R.depthTexture},T.prototype.detectSamples=function(R){var I=this.msaaSamples,$=MSAA_QUALITY$5.NONE;if(R<=1||I===null)return $;for(var N=0;N<I.length;N++)if(I[N]<=R){$=I[N];break}return $===1&&($=MSAA_QUALITY$5.NONE),$},T.prototype.blit=function(R,I,$){var N=this,M=N.current,L=N.renderer,B=N.gl,k=N.CONTEXT_UID;if(L.context.webGLVersion===2&&!!M){var U=M.glFramebuffers[k];if(!!U){if(!R){if(!U.msaaBuffer)return;var H=M.colorTextures[0];if(!H)return;U.blitFramebuffer||(U.blitFramebuffer=new Framebuffer(M.width,M.height),U.blitFramebuffer.addColorTexture(0,H)),R=U.blitFramebuffer,R.colorTextures[0]!==H&&(R.colorTextures[0]=H,R.dirtyId++,R.dirtyFormat++),(R.width!==M.width||R.height!==M.height)&&(R.width=M.width,R.height=M.height,R.dirtyId++,R.dirtySize++)}I||(I=tempRectangle,I.width=M.width,I.height=M.height),$||($=I);var z=I.width===$.width&&I.height===$.height;this.bind(R),B.bindFramebuffer(B.READ_FRAMEBUFFER,U.framebuffer),B.blitFramebuffer(I.left,I.top,I.right,I.bottom,$.left,$.top,$.right,$.bottom,B.COLOR_BUFFER_BIT,z?B.NEAREST:B.LINEAR)}}},T.prototype.disposeFramebuffer=function(R,I){var $=R.glFramebuffers[this.CONTEXT_UID],N=this.gl;if(!!$){delete R.glFramebuffers[this.CONTEXT_UID];var M=this.managedFramebuffers.indexOf(R);M>=0&&this.managedFramebuffers.splice(M,1),R.disposeRunner.remove(this),I||(N.deleteFramebuffer($.framebuffer),$.msaaBuffer&&N.deleteRenderbuffer($.msaaBuffer),$.stencil&&N.deleteRenderbuffer($.stencil)),$.blitFramebuffer&&$.blitFramebuffer.dispose()}},T.prototype.disposeAll=function(R){var I=this.managedFramebuffers;this.managedFramebuffers=[];for(var $=0;$<I.length;$++)this.disposeFramebuffer(I[$],R)},T.prototype.forceStencil=function(){var R=this.current;if(!!R){var I=R.glFramebuffers[this.CONTEXT_UID];if(!(!I||I.stencil)){R.stencil=!0;var $=R.width,N=R.height,M=this.gl,L=M.createRenderbuffer();M.bindRenderbuffer(M.RENDERBUFFER,L),I.msaaBuffer?M.renderbufferStorageMultisample(M.RENDERBUFFER,I.multisample,M.DEPTH24_STENCIL8,$,N):M.renderbufferStorage(M.RENDERBUFFER,M.DEPTH_STENCIL,$,N),I.stencil=L,M.framebufferRenderbuffer(M.FRAMEBUFFER,M.DEPTH_STENCIL_ATTACHMENT,M.RENDERBUFFER,L)}}},T.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Rectangle},T.prototype.destroy=function(){this.renderer=null},T}(),byteSizeMap={5126:4,5123:2,5121:1},GeometrySystem=function(){function T(R){this.renderer=R,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return T.prototype.contextChange=function(){this.disposeAll(!0);var R=this.gl=this.renderer.gl,I=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,I.webGLVersion!==2){var $=this.renderer.context.extensions.vertexArrayObject;settings$1.PREFER_ENV===ENV$5.WEBGL_LEGACY&&($=null),$?(R.createVertexArray=function(){return $.createVertexArrayOES()},R.bindVertexArray=function(M){return $.bindVertexArrayOES(M)},R.deleteVertexArray=function(M){return $.deleteVertexArrayOES(M)}):(this.hasVao=!1,R.createVertexArray=function(){return null},R.bindVertexArray=function(){return null},R.deleteVertexArray=function(){return null})}if(I.webGLVersion!==2){var N=R.getExtension("ANGLE_instanced_arrays");N?(R.vertexAttribDivisor=function(M,L){return N.vertexAttribDivisorANGLE(M,L)},R.drawElementsInstanced=function(M,L,B,k,U){return N.drawElementsInstancedANGLE(M,L,B,k,U)},R.drawArraysInstanced=function(M,L,B,k){return N.drawArraysInstancedANGLE(M,L,B,k)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=I.webGLVersion===2||!!I.extensions.uint32ElementIndex},T.prototype.bind=function(R,I){I=I||this.renderer.shader.shader;var $=this.gl,N=R.glVertexArrayObjects[this.CONTEXT_UID],M=!1;N||(this.managedGeometries[R.id]=R,R.disposeRunner.add(this),R.glVertexArrayObjects[this.CONTEXT_UID]=N={},M=!0);var L=N[I.program.id]||this.initGeometryVao(R,I,M);this._activeGeometry=R,this._activeVao!==L&&(this._activeVao=L,this.hasVao?$.bindVertexArray(L):this.activateVao(R,I.program)),this.updateBuffers()},T.prototype.reset=function(){this.unbind()},T.prototype.updateBuffers=function(){for(var R=this._activeGeometry,I=this.renderer.buffer,$=0;$<R.buffers.length;$++){var N=R.buffers[$];I.update(N)}},T.prototype.checkCompatibility=function(R,I){var $=R.attributes,N=I.attributeData;for(var M in N)if(!$[M])throw new Error('shader and geometry incompatible, geometry missing the "'+M+'" attribute')},T.prototype.getSignature=function(R,I){var $=R.attributes,N=I.attributeData,M=["g",R.id];for(var L in $)N[L]&&M.push(L,N[L].location);return M.join("-")},T.prototype.initGeometryVao=function(R,I,$){$===void 0&&($=!0);var N=this.gl,M=this.CONTEXT_UID,L=this.renderer.buffer,B=I.program;B.glPrograms[M]||this.renderer.shader.generateProgram(I),this.checkCompatibility(R,B);var k=this.getSignature(R,B),U=R.glVertexArrayObjects[this.CONTEXT_UID],H=U[k];if(H)return U[B.id]=H,H;var z=R.buffers,V=R.attributes,W={},K={};for(var Y in z)W[Y]=0,K[Y]=0;for(var Y in V)!V[Y].size&&B.attributeData[Y]?V[Y].size=B.attributeData[Y].size:V[Y].size||console.warn("PIXI Geometry attribute '"+Y+"' size cannot be determined (likely the bound shader does not have the attribute)"),W[V[Y].buffer]+=V[Y].size*byteSizeMap[V[Y].type];for(var Y in V){var q=V[Y],Z=q.size;q.stride===void 0&&(W[q.buffer]===Z*byteSizeMap[q.type]?q.stride=0:q.stride=W[q.buffer]),q.start===void 0&&(q.start=K[q.buffer],K[q.buffer]+=Z*byteSizeMap[q.type])}H=N.createVertexArray(),N.bindVertexArray(H);for(var Q=0;Q<z.length;Q++){var ee=z[Q];L.bind(ee),$&&ee._glBuffers[M].refCount++}return this.activateVao(R,B),this._activeVao=H,U[B.id]=H,U[k]=H,H},T.prototype.disposeGeometry=function(R,I){var $;if(!!this.managedGeometries[R.id]){delete this.managedGeometries[R.id];var N=R.glVertexArrayObjects[this.CONTEXT_UID],M=this.gl,L=R.buffers,B=($=this.renderer)===null||$===void 0?void 0:$.buffer;if(R.disposeRunner.remove(this),!!N){if(B)for(var k=0;k<L.length;k++){var U=L[k]._glBuffers[this.CONTEXT_UID];U&&(U.refCount--,U.refCount===0&&!I&&B.dispose(L[k],I))}if(!I){for(var H in N)if(H[0]==="g"){var z=N[H];this._activeVao===z&&this.unbind(),M.deleteVertexArray(z)}}delete R.glVertexArrayObjects[this.CONTEXT_UID]}}},T.prototype.disposeAll=function(R){for(var I=Object.keys(this.managedGeometries),$=0;$<I.length;$++)this.disposeGeometry(this.managedGeometries[I[$]],R)},T.prototype.activateVao=function(R,I){var $=this.gl,N=this.CONTEXT_UID,M=this.renderer.buffer,L=R.buffers,B=R.attributes;R.indexBuffer&&M.bind(R.indexBuffer);var k=null;for(var U in B){var H=B[U],z=L[H.buffer],V=z._glBuffers[N];if(I.attributeData[U]){k!==V&&(M.bind(z),k=V);var W=I.attributeData[U].location;if($.enableVertexAttribArray(W),$.vertexAttribPointer(W,H.size,H.type||$.FLOAT,H.normalized,H.stride,H.start),H.instance)if(this.hasInstance)$.vertexAttribDivisor(W,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},T.prototype.draw=function(R,I,$,N){var M=this.gl,L=this._activeGeometry;if(L.indexBuffer){var B=L.indexBuffer.data.BYTES_PER_ELEMENT,k=B===2?M.UNSIGNED_SHORT:M.UNSIGNED_INT;B===2||B===4&&this.canUseUInt32ElementIndex?L.instanced?M.drawElementsInstanced(R,I||L.indexBuffer.data.length,k,($||0)*B,N||1):M.drawElements(R,I||L.indexBuffer.data.length,k,($||0)*B):console.warn("unsupported index buffer type: uint32")}else L.instanced?M.drawArraysInstanced(R,$,I||L.getSize(),N||1):M.drawArrays(R,$,I||L.getSize());return this},T.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},T.prototype.destroy=function(){this.renderer=null},T}(),MaskData=function(){function T(R){R===void 0&&(R=null),this.type=MASK_TYPES$5.NONE,this.autoDetect=!0,this.maskObject=R||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=settings$1.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(T.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(R){R?this._filters?this._filters[0]=R:this._filters=[R]:this._filters=null},enumerable:!1,configurable:!0}),T.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=MASK_TYPES$5.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},T.prototype.copyCountersOrReset=function(R){R?(this._stencilCounter=R._stencilCounter,this._scissorCounter=R._scissorCounter,this._scissorRect=R._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},T}();function compileShader(T,R,I){var $=T.createShader(R);return T.shaderSource($,I),T.compileShader($),$}function logPrettyShaderError(T,R){var I=T.getShaderSource(R).split(`
`).map(function(U,H){return H+": "+U}),$=T.getShaderInfoLog(R),N=$.split(`
`),M={},L=N.map(function(U){return parseFloat(U.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(U){return U&&!M[U]?(M[U]=!0,!0):!1}),B=[""];L.forEach(function(U){I[U-1]="%c"+I[U-1]+"%c",B.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var k=I.join(`
`);B[0]=k,console.error($),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,B),console.groupEnd()}function logProgramError(T,R,I,$){T.getProgramParameter(R,T.LINK_STATUS)||(T.getShaderParameter(I,T.COMPILE_STATUS)||logPrettyShaderError(T,I),T.getShaderParameter($,T.COMPILE_STATUS)||logPrettyShaderError(T,$),console.error("PixiJS Error: Could not initialize shader."),T.getProgramInfoLog(R)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",T.getProgramInfoLog(R)))}function booleanArray(T){for(var R=new Array(T),I=0;I<R.length;I++)R[I]=!1;return R}function defaultValue(T,R){switch(T){case"float":return 0;case"vec2":return new Float32Array(2*R);case"vec3":return new Float32Array(3*R);case"vec4":return new Float32Array(4*R);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*R);case"ivec3":return new Int32Array(3*R);case"ivec4":return new Int32Array(4*R);case"uvec2":return new Uint32Array(2*R);case"uvec3":return new Uint32Array(3*R);case"uvec4":return new Uint32Array(4*R);case"bool":return!1;case"bvec2":return booleanArray(2*R);case"bvec3":return booleanArray(3*R);case"bvec4":return booleanArray(4*R);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var unknownContext={},context=unknownContext;function getTestContext(){if(context===unknownContext||context&&context.isContextLost()){var T=settings$1.ADAPTER.createCanvas(),R=void 0;settings$1.PREFER_ENV>=ENV$5.WEBGL2&&(R=T.getContext("webgl2",{})),R||(R=T.getContext("webgl",{})||T.getContext("experimental-webgl",{}),R?R.getExtension("WEBGL_draw_buffers"):R=null),context=R}return context}var maxFragmentPrecision;function getMaxFragmentPrecision(){if(!maxFragmentPrecision){maxFragmentPrecision=PRECISION$5.MEDIUM;var T=getTestContext();if(T&&T.getShaderPrecisionFormat){var R=T.getShaderPrecisionFormat(T.FRAGMENT_SHADER,T.HIGH_FLOAT);maxFragmentPrecision=R.precision?PRECISION$5.HIGH:PRECISION$5.MEDIUM}}return maxFragmentPrecision}function setPrecision(T,R,I){if(T.substring(0,9)!=="precision"){var $=R;return R===PRECISION$5.HIGH&&I!==PRECISION$5.HIGH&&($=PRECISION$5.MEDIUM),"precision "+$+` float;
`+T}else if(I!==PRECISION$5.HIGH&&T.substring(0,15)==="precision highp")return T.replace("precision highp","precision mediump");return T}var GLSL_TO_SIZE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function mapSize(T){return GLSL_TO_SIZE[T]}var GL_TABLE=null,GL_TO_GLSL_TYPES={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function mapType(T,R){if(!GL_TABLE){var I=Object.keys(GL_TO_GLSL_TYPES);GL_TABLE={};for(var $=0;$<I.length;++$){var N=I[$];GL_TABLE[T[N]]=GL_TO_GLSL_TYPES[N]}}return GL_TABLE[R]}var uniformParsers=[{test:function(T){return T.type==="float"&&T.size===1},code:function(T){return`
            if(uv["`+T+'"] !== ud["'+T+`"].value)
            {
                ud["`+T+'"].value = uv["'+T+`"]
                gl.uniform1f(ud["`+T+'"].location, uv["'+T+`"])
            }
            `}},{test:function(T){return(T.type==="sampler2D"||T.type==="samplerCube"||T.type==="sampler2DArray")&&T.size===1&&!T.isArray},code:function(T){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+T+`"], t);

            if(ud["`+T+`"].value !== t)
            {
                ud["`+T+`"].value = t;
                gl.uniform1i(ud["`+T+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(T,R){return T.type==="mat3"&&T.size===1&&R.a!==void 0},code:function(T){return`
            gl.uniformMatrix3fv(ud["`+T+'"].location, false, uv["'+T+`"].toArray(true));
            `},codeUbo:function(T){return`
                var `+T+"_matrix = uv."+T+`.toArray(true);

                data[offset] = `+T+`_matrix[0];
                data[offset+1] = `+T+`_matrix[1];
                data[offset+2] = `+T+`_matrix[2];
        
                data[offset + 4] = `+T+`_matrix[3];
                data[offset + 5] = `+T+`_matrix[4];
                data[offset + 6] = `+T+`_matrix[5];
        
                data[offset + 8] = `+T+`_matrix[6];
                data[offset + 9] = `+T+`_matrix[7];
                data[offset + 10] = `+T+`_matrix[8];
            `}},{test:function(T,R){return T.type==="vec2"&&T.size===1&&R.x!==void 0},code:function(T){return`
                cv = ud["`+T+`"].value;
                v = uv["`+T+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+T+`"].location, v.x, v.y);
                }`},codeUbo:function(T){return`
                v = uv.`+T+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(T){return T.type==="vec2"&&T.size===1},code:function(T){return`
                cv = ud["`+T+`"].value;
                v = uv["`+T+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+T+`"].location, v[0], v[1]);
                }
            `}},{test:function(T,R){return T.type==="vec4"&&T.size===1&&R.width!==void 0},code:function(T){return`
                cv = ud["`+T+`"].value;
                v = uv["`+T+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+T+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(T){return`
                    v = uv.`+T+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(T){return T.type==="vec4"&&T.size===1},code:function(T){return`
                cv = ud["`+T+`"].value;
                v = uv["`+T+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+T+`"].location, v[0], v[1], v[2], v[3])
                }`}}],GLSL_TO_SINGLE_SETTERS_CACHED={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},GLSL_TO_ARRAY_SETTERS={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function generateUniformsSync(T,R){var I,$=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var N in T.uniforms){var M=R[N];if(!M){!((I=T.uniforms[N])===null||I===void 0)&&I.group&&(T.uniforms[N].ubo?$.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+N+", '"+N+`');
                    `):$.push(`
                        renderer.shader.syncUniformGroup(uv.`+N+`, syncData);
                    `));continue}for(var L=T.uniforms[N],B=!1,k=0;k<uniformParsers.length;k++)if(uniformParsers[k].test(M,L)){$.push(uniformParsers[k].code(N,L)),B=!0;break}if(!B){var U=M.size===1?GLSL_TO_SINGLE_SETTERS_CACHED:GLSL_TO_ARRAY_SETTERS,H=U[M.type].replace("location",'ud["'+N+'"].location');$.push(`
            cu = ud["`+N+`"];
            cv = cu.value;
            v = uv["`+N+`"];
            `+H+";")}}return new Function("ud","uv","renderer","syncData",$.join(`
`))}var fragTemplate$1=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function generateIfTestSrc(T){for(var R="",I=0;I<T;++I)I>0&&(R+=`
else `),I<T-1&&(R+="if(test == "+I+".0){}");return R}function checkMaxIfStatementsInShader(T,R){if(T===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var I=R.createShader(R.FRAGMENT_SHADER);;){var $=fragTemplate$1.replace(/%forloop%/gi,generateIfTestSrc(T));if(R.shaderSource(I,$),R.compileShader(I),!R.getShaderParameter(I,R.COMPILE_STATUS))T=T/2|0;else break}return T}var unsafeEval;function unsafeEvalSupported(){if(typeof unsafeEval=="boolean")return unsafeEval;try{var T=new Function("param1","param2","param3","return param1[param2] === param3;");unsafeEval=T({a:"b"},"a","b")===!0}catch{unsafeEval=!1}return unsafeEval}var defaultFragment$2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,defaultVertex$3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,UID$1=0,nameCache={},Program=function(){function T(R,I,$){$===void 0&&($="pixi-shader"),this.id=UID$1++,this.vertexSrc=R||T.defaultVertexSrc,this.fragmentSrc=I||T.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&($=$.replace(/\s+/g,"-"),nameCache[$]?(nameCache[$]++,$+="-"+nameCache[$]):nameCache[$]=1,this.vertexSrc="#define SHADER_NAME "+$+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+$+`
`+this.fragmentSrc,this.vertexSrc=setPrecision(this.vertexSrc,settings$1.PRECISION_VERTEX,PRECISION$5.HIGH),this.fragmentSrc=setPrecision(this.fragmentSrc,settings$1.PRECISION_FRAGMENT,getMaxFragmentPrecision())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(T,"defaultVertexSrc",{get:function(){return defaultVertex$3},enumerable:!1,configurable:!0}),Object.defineProperty(T,"defaultFragmentSrc",{get:function(){return defaultFragment$2},enumerable:!1,configurable:!0}),T.from=function(R,I,$){var N=R+I,M=ProgramCache[N];return M||(ProgramCache[N]=M=new T(R,I,$)),M},T}(),Shader=function(){function T(R,I){this.uniformBindCount=0,this.program=R,I?I instanceof UniformGroup?this.uniformGroup=I:this.uniformGroup=new UniformGroup(I):this.uniformGroup=new UniformGroup({})}return T.prototype.checkUniformExists=function(R,I){if(I.uniforms[R])return!0;for(var $ in I.uniforms){var N=I.uniforms[$];if(N.group&&this.checkUniformExists(R,N))return!0}return!1},T.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(T.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),T.from=function(R,I,$){var N=Program.from(R,I);return new T(N,$)},T}(),BLEND$1=0,OFFSET$1=1,CULLING$1=2,DEPTH_TEST$1=3,WINDING$1=4,DEPTH_MASK$1=5,State$1=function(){function T(){this.data=0,this.blendMode=BLEND_MODES$5.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(T.prototype,"blend",{get:function(){return!!(this.data&1<<BLEND$1)},set:function(R){!!(this.data&1<<BLEND$1)!==R&&(this.data^=1<<BLEND$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"offsets",{get:function(){return!!(this.data&1<<OFFSET$1)},set:function(R){!!(this.data&1<<OFFSET$1)!==R&&(this.data^=1<<OFFSET$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"culling",{get:function(){return!!(this.data&1<<CULLING$1)},set:function(R){!!(this.data&1<<CULLING$1)!==R&&(this.data^=1<<CULLING$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"depthTest",{get:function(){return!!(this.data&1<<DEPTH_TEST$1)},set:function(R){!!(this.data&1<<DEPTH_TEST$1)!==R&&(this.data^=1<<DEPTH_TEST$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"depthMask",{get:function(){return!!(this.data&1<<DEPTH_MASK$1)},set:function(R){!!(this.data&1<<DEPTH_MASK$1)!==R&&(this.data^=1<<DEPTH_MASK$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<WINDING$1)},set:function(R){!!(this.data&1<<WINDING$1)!==R&&(this.data^=1<<WINDING$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"blendMode",{get:function(){return this._blendMode},set:function(R){this.blend=R!==BLEND_MODES$5.NONE,this._blendMode=R},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(R){this.offsets=!!R,this._polygonOffset=R},enumerable:!1,configurable:!0}),T.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},T.for2d=function(){var R=new T;return R.depthTest=!1,R.blend=!0,R},T}(),defaultFragment$1=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,defaultVertex$2=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Filter=function(T){__extends$i(R,T);function R(I,$,N){var M=this,L=Program.from(I||R.defaultVertexSrc,$||R.defaultFragmentSrc);return M=T.call(this,L,N)||this,M.padding=0,M.resolution=settings$1.FILTER_RESOLUTION,M.multisample=settings$1.FILTER_MULTISAMPLE,M.enabled=!0,M.autoFit=!0,M.state=new State$1,M}return R.prototype.apply=function(I,$,N,M,L){I.applyFilter(this,$,N,M)},Object.defineProperty(R.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(I){this.state.blendMode=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"resolution",{get:function(){return this._resolution},set:function(I){this._resolution=I},enumerable:!1,configurable:!0}),Object.defineProperty(R,"defaultVertexSrc",{get:function(){return defaultVertex$2},enumerable:!1,configurable:!0}),Object.defineProperty(R,"defaultFragmentSrc",{get:function(){return defaultFragment$1},enumerable:!1,configurable:!0}),R}(Shader),vertex$4=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,fragment$7=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,tempMat$1=new Matrix,TextureMatrix=function(){function T(R,I){this._texture=R,this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof I>"u"?.5:I,this.isSimple=!1}return Object.defineProperty(T.prototype,"texture",{get:function(){return this._texture},set:function(R){this._texture=R,this._textureID=-1},enumerable:!1,configurable:!0}),T.prototype.multiplyUvs=function(R,I){I===void 0&&(I=R);for(var $=this.mapCoord,N=0;N<R.length;N+=2){var M=R[N],L=R[N+1];I[N]=M*$.a+L*$.c+$.tx,I[N+1]=M*$.b+L*$.d+$.ty}return I},T.prototype.update=function(R){var I=this._texture;if(!I||!I.valid||!R&&this._textureID===I._updateID)return!1;this._textureID=I._updateID,this._updateID++;var $=I._uvs;this.mapCoord.set($.x1-$.x0,$.y1-$.y0,$.x3-$.x0,$.y3-$.y0,$.x0,$.y0);var N=I.orig,M=I.trim;M&&(tempMat$1.set(N.width/M.width,0,0,N.height/M.height,-M.x/M.width,-M.y/M.height),this.mapCoord.append(tempMat$1));var L=I.baseTexture,B=this.uClampFrame,k=this.clampMargin/L.resolution,U=this.clampOffset;return B[0]=(I._frame.x+k+U)/L.width,B[1]=(I._frame.y+k+U)/L.height,B[2]=(I._frame.x+I._frame.width-k+U)/L.width,B[3]=(I._frame.y+I._frame.height-k+U)/L.height,this.uClampOffset[0]=U/L.realWidth,this.uClampOffset[1]=U/L.realHeight,this.isSimple=I._frame.width===L.width&&I._frame.height===L.height&&I.rotate===0,!0},T}(),SpriteMaskFilter=function(T){__extends$i(R,T);function R(I,$,N){var M=this,L=null;return typeof I!="string"&&$===void 0&&N===void 0&&(L=I,I=void 0,$=void 0,N=void 0),M=T.call(this,I||vertex$4,$||fragment$7,N)||this,M.maskSprite=L,M.maskMatrix=new Matrix,M}return Object.defineProperty(R.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(I){this._maskSprite=I,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),R.prototype.apply=function(I,$,N,M){var L=this._maskSprite,B=L._texture;!B.valid||(B.uvMatrix||(B.uvMatrix=new TextureMatrix(B,0)),B.uvMatrix.update(),this.uniforms.npmAlpha=B.baseTexture.alphaMode?0:1,this.uniforms.mask=B,this.uniforms.otherMatrix=I.calculateSpriteMatrix(this.maskMatrix,L).prepend(B.uvMatrix.mapCoord),this.uniforms.alpha=L.worldAlpha,this.uniforms.maskClamp=B.uvMatrix.uClampFrame,I.applyFilter(this,$,N,M))},R}(Filter),MaskSystem=function(){function T(R){this.renderer=R,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return T.prototype.setMaskStack=function(R){this.maskStack=R,this.renderer.scissor.setMaskStack(R),this.renderer.stencil.setMaskStack(R)},T.prototype.push=function(R,I){var $=I;if(!$.isMaskData){var N=this.maskDataPool.pop()||new MaskData;N.pooled=!0,N.maskObject=I,$=N}var M=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if($.copyCountersOrReset(M),$._colorMask=M?M._colorMask:15,$.autoDetect&&this.detect($),$._target=R,$.type!==MASK_TYPES$5.SPRITE&&this.maskStack.push($),$.enabled)switch($.type){case MASK_TYPES$5.SCISSOR:this.renderer.scissor.push($);break;case MASK_TYPES$5.STENCIL:this.renderer.stencil.push($);break;case MASK_TYPES$5.SPRITE:$.copyCountersOrReset(null),this.pushSpriteMask($);break;case MASK_TYPES$5.COLOR:this.pushColorMask($);break}$.type===MASK_TYPES$5.SPRITE&&this.maskStack.push($)},T.prototype.pop=function(R){var I=this.maskStack.pop();if(!(!I||I._target!==R)){if(I.enabled)switch(I.type){case MASK_TYPES$5.SCISSOR:this.renderer.scissor.pop(I);break;case MASK_TYPES$5.STENCIL:this.renderer.stencil.pop(I.maskObject);break;case MASK_TYPES$5.SPRITE:this.popSpriteMask(I);break;case MASK_TYPES$5.COLOR:this.popColorMask(I);break}if(I.reset(),I.pooled&&this.maskDataPool.push(I),this.maskStack.length!==0){var $=this.maskStack[this.maskStack.length-1];$.type===MASK_TYPES$5.SPRITE&&$._filters&&($._filters[0].maskSprite=$.maskObject)}}},T.prototype.detect=function(R){var I=R.maskObject;I?I.isSprite?R.type=MASK_TYPES$5.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(R)?R.type=MASK_TYPES$5.SCISSOR:R.type=MASK_TYPES$5.STENCIL:R.type=MASK_TYPES$5.COLOR},T.prototype.pushSpriteMask=function(R){var I,$,N=R.maskObject,M=R._target,L=R._filters;L||(L=this.alphaMaskPool[this.alphaMaskIndex],L||(L=this.alphaMaskPool[this.alphaMaskIndex]=[new SpriteMaskFilter]));var B=this.renderer,k=B.renderTexture,U,H;if(k.current){var z=k.current;U=R.resolution||z.resolution,H=(I=R.multisample)!==null&&I!==void 0?I:z.multisample}else U=R.resolution||B.resolution,H=($=R.multisample)!==null&&$!==void 0?$:B.multisample;L[0].resolution=U,L[0].multisample=H,L[0].maskSprite=N;var V=M.filterArea;M.filterArea=N.getBounds(!0),B.filter.push(M,L),M.filterArea=V,R._filters||this.alphaMaskIndex++},T.prototype.popSpriteMask=function(R){this.renderer.filter.pop(),R._filters?R._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},T.prototype.pushColorMask=function(R){var I=R._colorMask,$=R._colorMask=I&R.colorMask;$!==I&&this.renderer.gl.colorMask(($&1)!==0,($&2)!==0,($&4)!==0,($&8)!==0)},T.prototype.popColorMask=function(R){var I=R._colorMask,$=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;$!==I&&this.renderer.gl.colorMask(($&1)!==0,($&2)!==0,($&4)!==0,($&8)!==0)},T.prototype.destroy=function(){this.renderer=null},T}(),AbstractMaskSystem=function(){function T(R){this.renderer=R,this.maskStack=[],this.glConst=0}return T.prototype.getStackLength=function(){return this.maskStack.length},T.prototype.setMaskStack=function(R){var I=this.renderer.gl,$=this.getStackLength();this.maskStack=R;var N=this.getStackLength();N!==$&&(N===0?I.disable(this.glConst):(I.enable(this.glConst),this._useCurrent()))},T.prototype._useCurrent=function(){},T.prototype.destroy=function(){this.renderer=null,this.maskStack=null},T}(),tempMatrix$1=new Matrix,rectPool=[],ScissorSystem=function(T){__extends$i(R,T);function R(I){var $=T.call(this,I)||this;return $.glConst=settings$1.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,$}return R.prototype.getStackLength=function(){var I=this.maskStack[this.maskStack.length-1];return I?I._scissorCounter:0},R.prototype.calcScissorRect=function(I){var $;if(!I._scissorRectLocal){var N=I._scissorRect,M=I.maskObject,L=this.renderer,B=L.renderTexture,k=M.getBounds(!0,($=rectPool.pop())!==null&&$!==void 0?$:new Rectangle);this.roundFrameToPixels(k,B.current?B.current.resolution:L.resolution,B.sourceFrame,B.destinationFrame,L.projection.transform),N&&k.fit(N),I._scissorRectLocal=k}},R.isMatrixRotated=function(I){if(!I)return!1;var $=I.a,N=I.b,M=I.c,L=I.d;return(Math.abs(N)>1e-4||Math.abs(M)>1e-4)&&(Math.abs($)>1e-4||Math.abs(L)>1e-4)},R.prototype.testScissor=function(I){var $=I.maskObject;if(!$.isFastRect||!$.isFastRect()||R.isMatrixRotated($.worldTransform)||R.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(I);var N=I._scissorRectLocal;return N.width>0&&N.height>0},R.prototype.roundFrameToPixels=function(I,$,N,M,L){R.isMatrixRotated(L)||(L=L?tempMatrix$1.copyFrom(L):tempMatrix$1.identity(),L.translate(-N.x,-N.y).scale(M.width/N.width,M.height/N.height).translate(M.x,M.y),this.renderer.filter.transformAABB(L,I),I.fit(M),I.x=Math.round(I.x*$),I.y=Math.round(I.y*$),I.width=Math.round(I.width*$),I.height=Math.round(I.height*$))},R.prototype.push=function(I){I._scissorRectLocal||this.calcScissorRect(I);var $=this.renderer.gl;I._scissorRect||$.enable($.SCISSOR_TEST),I._scissorCounter++,I._scissorRect=I._scissorRectLocal,this._useCurrent()},R.prototype.pop=function(I){var $=this.renderer.gl;I&&rectPool.push(I._scissorRectLocal),this.getStackLength()>0?this._useCurrent():$.disable($.SCISSOR_TEST)},R.prototype._useCurrent=function(){var I=this.maskStack[this.maskStack.length-1]._scissorRect,$;this.renderer.renderTexture.current?$=I.y:$=this.renderer.height-I.height-I.y,this.renderer.gl.scissor(I.x,$,I.width,I.height)},R}(AbstractMaskSystem),StencilSystem=function(T){__extends$i(R,T);function R(I){var $=T.call(this,I)||this;return $.glConst=settings$1.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,$}return R.prototype.getStackLength=function(){var I=this.maskStack[this.maskStack.length-1];return I?I._stencilCounter:0},R.prototype.push=function(I){var $=I.maskObject,N=this.renderer.gl,M=I._stencilCounter;M===0&&(this.renderer.framebuffer.forceStencil(),N.clearStencil(0),N.clear(N.STENCIL_BUFFER_BIT),N.enable(N.STENCIL_TEST)),I._stencilCounter++;var L=I._colorMask;L!==0&&(I._colorMask=0,N.colorMask(!1,!1,!1,!1)),N.stencilFunc(N.EQUAL,M,4294967295),N.stencilOp(N.KEEP,N.KEEP,N.INCR),$.renderable=!0,$.render(this.renderer),this.renderer.batch.flush(),$.renderable=!1,L!==0&&(I._colorMask=L,N.colorMask((L&1)!==0,(L&2)!==0,(L&4)!==0,(L&8)!==0)),this._useCurrent()},R.prototype.pop=function(I){var $=this.renderer.gl;if(this.getStackLength()===0)$.disable($.STENCIL_TEST);else{var N=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,M=N?N._colorMask:15;M!==0&&(N._colorMask=0,$.colorMask(!1,!1,!1,!1)),$.stencilOp($.KEEP,$.KEEP,$.DECR),I.renderable=!0,I.render(this.renderer),this.renderer.batch.flush(),I.renderable=!1,M!==0&&(N._colorMask=M,$.colorMask((M&1)!==0,(M&2)!==0,(M&4)!==0,(M&8)!==0)),this._useCurrent()}},R.prototype._useCurrent=function(){var I=this.renderer.gl;I.stencilFunc(I.EQUAL,this.getStackLength(),4294967295),I.stencilOp(I.KEEP,I.KEEP,I.KEEP)},R}(AbstractMaskSystem),ProjectionSystem=function(){function T(R){this.renderer=R,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Matrix,this.transform=null}return T.prototype.update=function(R,I,$,N){this.destinationFrame=R||this.destinationFrame||this.defaultFrame,this.sourceFrame=I||this.sourceFrame||R,this.calculateProjection(this.destinationFrame,this.sourceFrame,$,N),this.transform&&this.projectionMatrix.append(this.transform);var M=this.renderer;M.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,M.globalUniforms.update(),M.shader.shader&&M.shader.syncUniformGroup(M.shader.shader.uniforms.globals)},T.prototype.calculateProjection=function(R,I,$,N){var M=this.projectionMatrix,L=N?-1:1;M.identity(),M.a=1/I.width*2,M.d=L*(1/I.height*2),M.tx=-1-I.x*M.a,M.ty=-L-I.y*M.d},T.prototype.setTransform=function(R){},T.prototype.destroy=function(){this.renderer=null},T}(),tempRect=new Rectangle,tempRect2=new Rectangle,RenderTextureSystem=function(){function T(R){this.renderer=R,this.clearColor=R._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.viewportFrame=new Rectangle}return T.prototype.bind=function(R,I,$){R===void 0&&(R=null);var N=this.renderer;this.current=R;var M,L,B;R?(M=R.baseTexture,B=M.resolution,I||(tempRect.width=R.frame.width,tempRect.height=R.frame.height,I=tempRect),$||(tempRect2.x=R.frame.x,tempRect2.y=R.frame.y,tempRect2.width=I.width,tempRect2.height=I.height,$=tempRect2),L=M.framebuffer):(B=N.resolution,I||(tempRect.width=N.screen.width,tempRect.height=N.screen.height,I=tempRect),$||($=tempRect,$.width=I.width,$.height=I.height));var k=this.viewportFrame;k.x=$.x*B,k.y=$.y*B,k.width=$.width*B,k.height=$.height*B,R||(k.y=N.view.height-(k.y+k.height)),k.ceil(),this.renderer.framebuffer.bind(L,k),this.renderer.projection.update($,I,B,!L),R?this.renderer.mask.setMaskStack(M.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(I),this.destinationFrame.copyFrom($)},T.prototype.clear=function(R,I){this.current?R=R||this.current.baseTexture.clearColor:R=R||this.clearColor;var $=this.destinationFrame,N=this.current?this.current.baseTexture:this.renderer.screen,M=$.width!==N.width||$.height!==N.height;if(M){var L=this.viewportFrame,B=L.x,k=L.y,U=L.width,H=L.height;B=Math.round(B),k=Math.round(k),U=Math.round(U),H=Math.round(H),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(B,k,U,H)}this.renderer.framebuffer.clear(R[0],R[1],R[2],R[3],I),M&&this.renderer.scissor.pop()},T.prototype.resize=function(){this.bind(null)},T.prototype.reset=function(){this.bind(null)},T.prototype.destroy=function(){this.renderer=null},T}();function uboUpdate(T,R,I,$,N){I.buffer.update(N)}var UBO_TO_SINGLE_SETTERS={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},GLSL_TO_STD40_SIZE={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function createUBOElements(T){for(var R=T.map(function(k){return{data:k,offset:0,dataLen:0,dirty:0}}),I=0,$=0,N=0,M=0;M<R.length;M++){var L=R[M];if(I=GLSL_TO_STD40_SIZE[L.data.type],L.data.size>1&&(I=Math.max(I,16)*L.data.size),L.dataLen=I,$%I!==0&&$<16){var B=$%I%16;$+=B,N+=B}$+I>16?(N=Math.ceil(N/16)*16,L.offset=N,N+=I,$=I):(L.offset=N,$+=I,N+=I)}return N=Math.ceil(N/16)*16,{uboElements:R,size:N}}function getUBOData(T,R){var I=[];for(var $ in T)R[$]&&I.push(R[$]);return I.sort(function(N,M){return N.index-M.index}),I}function generateUniformBufferSync(T,R){if(!T.autoManage)return{size:0,syncFunc:uboUpdate};for(var I=getUBOData(T.uniforms,R),$=createUBOElements(I),N=$.uboElements,M=$.size,L=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],B=0;B<N.length;B++){for(var k=N[B],U=T.uniforms[k.data.name],H=k.data.name,z=!1,V=0;V<uniformParsers.length;V++){var W=uniformParsers[V];if(W.codeUbo&&W.test(k.data,U)){L.push("offset = "+k.offset/4+";",uniformParsers[V].codeUbo(k.data.name,U)),z=!0;break}}if(!z)if(k.data.size>1){var K=mapSize(k.data.type),Y=Math.max(GLSL_TO_STD40_SIZE[k.data.type]/16,1),q=K/Y,Z=(4-q%4)%4;L.push(`
                cv = ud.`+H+`.value;
                v = uv.`+H+`;
                offset = `+k.offset/4+`;

                t = 0;

                for(var i=0; i < `+k.data.size*Y+`; i++)
                {
                    for(var j = 0; j < `+q+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+Z+`;
                }

                `)}else{var Q=UBO_TO_SINGLE_SETTERS[k.data.type];L.push(`
                cv = ud.`+H+`.value;
                v = uv.`+H+`;
                offset = `+k.offset/4+`;
                `+Q+`;
                `)}}return L.push(`
       renderer.buffer.update(buffer);
    `),{size:M,syncFunc:new Function("ud","uv","renderer","syncData","buffer",L.join(`
`))}}var IGLUniformData=function(){function T(){}return T}(),GLProgram=function(){function T(R,I){this.program=R,this.uniformData=I,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return T.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},T}();function getAttributeData(T,R){for(var I={},$=R.getProgramParameter(T,R.ACTIVE_ATTRIBUTES),N=0;N<$;N++){var M=R.getActiveAttrib(T,N);if(M.name.indexOf("gl_")!==0){var L=mapType(R,M.type),B={type:L,name:M.name,size:mapSize(L),location:R.getAttribLocation(T,M.name)};I[M.name]=B}}return I}function getUniformData(T,R){for(var I={},$=R.getProgramParameter(T,R.ACTIVE_UNIFORMS),N=0;N<$;N++){var M=R.getActiveUniform(T,N),L=M.name.replace(/\[.*?\]$/,""),B=!!M.name.match(/\[.*?\]$/),k=mapType(R,M.type);I[L]={name:L,index:N,type:k,size:M.size,isArray:B,value:defaultValue(k,M.size)}}return I}function generateProgram(T,R){var I=compileShader(T,T.VERTEX_SHADER,R.vertexSrc),$=compileShader(T,T.FRAGMENT_SHADER,R.fragmentSrc),N=T.createProgram();if(T.attachShader(N,I),T.attachShader(N,$),T.linkProgram(N),T.getProgramParameter(N,T.LINK_STATUS)||logProgramError(T,N,I,$),R.attributeData=getAttributeData(N,T),R.uniformData=getUniformData(N,T),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(R.vertexSrc)){var M=Object.keys(R.attributeData);M.sort(function(H,z){return H>z?1:-1});for(var L=0;L<M.length;L++)R.attributeData[M[L]].location=L,T.bindAttribLocation(N,L,M[L]);T.linkProgram(N)}T.deleteShader(I),T.deleteShader($);var B={};for(var L in R.uniformData){var k=R.uniformData[L];B[L]={location:T.getUniformLocation(N,L),value:defaultValue(k.type,k.size)}}var U=new GLProgram(N,B);return U}var UID=0,defaultSyncData={textureCount:0,uboCount:0},ShaderSystem=function(){function T(R){this.destroyed=!1,this.renderer=R,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=UID++}return T.prototype.systemCheck=function(){if(!unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},T.prototype.contextChange=function(R){this.gl=R,this.reset()},T.prototype.bind=function(R,I){R.uniforms.globals=this.renderer.globalUniforms;var $=R.program,N=$.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(R);return this.shader=R,this.program!==$&&(this.program=$,this.gl.useProgram(N.program)),I||(defaultSyncData.textureCount=0,defaultSyncData.uboCount=0,this.syncUniformGroup(R.uniformGroup,defaultSyncData)),N},T.prototype.setUniforms=function(R){var I=this.shader.program,$=I.glPrograms[this.renderer.CONTEXT_UID];I.syncUniforms($.uniformData,R,this.renderer)},T.prototype.syncUniformGroup=function(R,I){var $=this.getGlProgram();(!R.static||R.dirtyId!==$.uniformDirtyGroups[R.id])&&($.uniformDirtyGroups[R.id]=R.dirtyId,this.syncUniforms(R,$,I))},T.prototype.syncUniforms=function(R,I,$){var N=R.syncUniforms[this.shader.program.id]||this.createSyncGroups(R);N(I.uniformData,R.uniforms,this.renderer,$)},T.prototype.createSyncGroups=function(R){var I=this.getSignature(R,this.shader.program.uniformData,"u");return this.cache[I]||(this.cache[I]=generateUniformsSync(R,this.shader.program.uniformData)),R.syncUniforms[this.shader.program.id]=this.cache[I],R.syncUniforms[this.shader.program.id]},T.prototype.syncUniformBufferGroup=function(R,I){var $=this.getGlProgram();if(!R.static||R.dirtyId!==0||!$.uniformGroups[R.id]){R.dirtyId=0;var N=$.uniformGroups[R.id]||this.createSyncBufferGroup(R,$,I);R.buffer.update(),N($.uniformData,R.uniforms,this.renderer,defaultSyncData,R.buffer)}this.renderer.buffer.bindBufferBase(R.buffer,$.uniformBufferBindings[I])},T.prototype.createSyncBufferGroup=function(R,I,$){var N=this.renderer.gl;this.renderer.buffer.bind(R.buffer);var M=this.gl.getUniformBlockIndex(I.program,$);I.uniformBufferBindings[$]=this.shader.uniformBindCount,N.uniformBlockBinding(I.program,M,this.shader.uniformBindCount),this.shader.uniformBindCount++;var L=this.getSignature(R,this.shader.program.uniformData,"ubo"),B=this._uboCache[L];if(B||(B=this._uboCache[L]=generateUniformBufferSync(R,this.shader.program.uniformData)),R.autoManage){var k=new Float32Array(B.size/4);R.buffer.update(k)}return I.uniformGroups[R.id]=B.syncFunc,I.uniformGroups[R.id]},T.prototype.getSignature=function(R,I,$){var N=R.uniforms,M=[$+"-"];for(var L in N)M.push(L),I[L]&&M.push(I[L].type);return M.join("-")},T.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},T.prototype.generateProgram=function(R){var I=this.gl,$=R.program,N=generateProgram(I,$);return $.glPrograms[this.renderer.CONTEXT_UID]=N,N},T.prototype.reset=function(){this.program=null,this.shader=null},T.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},T}();function mapWebGLBlendModesToPixi(T,R){return R===void 0&&(R=[]),R[BLEND_MODES$5.NORMAL]=[T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.ADD]=[T.ONE,T.ONE],R[BLEND_MODES$5.MULTIPLY]=[T.DST_COLOR,T.ONE_MINUS_SRC_ALPHA,T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.SCREEN]=[T.ONE,T.ONE_MINUS_SRC_COLOR,T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.OVERLAY]=[T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.DARKEN]=[T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.LIGHTEN]=[T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.COLOR_DODGE]=[T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.COLOR_BURN]=[T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.HARD_LIGHT]=[T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.SOFT_LIGHT]=[T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.DIFFERENCE]=[T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.EXCLUSION]=[T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.HUE]=[T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.SATURATION]=[T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.COLOR]=[T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.LUMINOSITY]=[T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.NONE]=[0,0],R[BLEND_MODES$5.NORMAL_NPM]=[T.SRC_ALPHA,T.ONE_MINUS_SRC_ALPHA,T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.ADD_NPM]=[T.SRC_ALPHA,T.ONE,T.ONE,T.ONE],R[BLEND_MODES$5.SCREEN_NPM]=[T.SRC_ALPHA,T.ONE_MINUS_SRC_COLOR,T.ONE,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.SRC_IN]=[T.DST_ALPHA,T.ZERO],R[BLEND_MODES$5.SRC_OUT]=[T.ONE_MINUS_DST_ALPHA,T.ZERO],R[BLEND_MODES$5.SRC_ATOP]=[T.DST_ALPHA,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.DST_OVER]=[T.ONE_MINUS_DST_ALPHA,T.ONE],R[BLEND_MODES$5.DST_IN]=[T.ZERO,T.SRC_ALPHA],R[BLEND_MODES$5.DST_OUT]=[T.ZERO,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.DST_ATOP]=[T.ONE_MINUS_DST_ALPHA,T.SRC_ALPHA],R[BLEND_MODES$5.XOR]=[T.ONE_MINUS_DST_ALPHA,T.ONE_MINUS_SRC_ALPHA],R[BLEND_MODES$5.SUBTRACT]=[T.ONE,T.ONE,T.ONE,T.ONE,T.FUNC_REVERSE_SUBTRACT,T.FUNC_ADD],R}var BLEND=0,OFFSET=1,CULLING=2,DEPTH_TEST=3,WINDING=4,DEPTH_MASK=5,StateSystem=function(){function T(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=BLEND_MODES$5.NONE,this._blendEq=!1,this.map=[],this.map[BLEND]=this.setBlend,this.map[OFFSET]=this.setOffset,this.map[CULLING]=this.setCullFace,this.map[DEPTH_TEST]=this.setDepthTest,this.map[WINDING]=this.setFrontFace,this.map[DEPTH_MASK]=this.setDepthMask,this.checks=[],this.defaultState=new State$1,this.defaultState.blend=!0}return T.prototype.contextChange=function(R){this.gl=R,this.blendModes=mapWebGLBlendModesToPixi(R),this.set(this.defaultState),this.reset()},T.prototype.set=function(R){if(R=R||this.defaultState,this.stateId!==R.data){for(var I=this.stateId^R.data,$=0;I;)I&1&&this.map[$].call(this,!!(R.data&1<<$)),I=I>>1,$++;this.stateId=R.data}for(var $=0;$<this.checks.length;$++)this.checks[$](this,R)},T.prototype.forceState=function(R){R=R||this.defaultState;for(var I=0;I<this.map.length;I++)this.map[I].call(this,!!(R.data&1<<I));for(var I=0;I<this.checks.length;I++)this.checks[I](this,R);this.stateId=R.data},T.prototype.setBlend=function(R){this.updateCheck(T.checkBlendMode,R),this.gl[R?"enable":"disable"](this.gl.BLEND)},T.prototype.setOffset=function(R){this.updateCheck(T.checkPolygonOffset,R),this.gl[R?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},T.prototype.setDepthTest=function(R){this.gl[R?"enable":"disable"](this.gl.DEPTH_TEST)},T.prototype.setDepthMask=function(R){this.gl.depthMask(R)},T.prototype.setCullFace=function(R){this.gl[R?"enable":"disable"](this.gl.CULL_FACE)},T.prototype.setFrontFace=function(R){this.gl.frontFace(this.gl[R?"CW":"CCW"])},T.prototype.setBlendMode=function(R){if(R!==this.blendMode){this.blendMode=R;var I=this.blendModes[R],$=this.gl;I.length===2?$.blendFunc(I[0],I[1]):$.blendFuncSeparate(I[0],I[1],I[2],I[3]),I.length===6?(this._blendEq=!0,$.blendEquationSeparate(I[4],I[5])):this._blendEq&&(this._blendEq=!1,$.blendEquationSeparate($.FUNC_ADD,$.FUNC_ADD))}},T.prototype.setPolygonOffset=function(R,I){this.gl.polygonOffset(R,I)},T.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},T.prototype.updateCheck=function(R,I){var $=this.checks.indexOf(R);I&&$===-1?this.checks.push(R):!I&&$!==-1&&this.checks.splice($,1)},T.checkBlendMode=function(R,I){R.setBlendMode(I.blendMode)},T.checkPolygonOffset=function(R,I){R.setPolygonOffset(1,I.polygonOffset)},T.prototype.destroy=function(){this.gl=null},T}(),TextureGCSystem=function(){function T(R){this.renderer=R,this.count=0,this.checkCount=0,this.maxIdle=settings$1.GC_MAX_IDLE,this.checkCountMax=settings$1.GC_MAX_CHECK_COUNT,this.mode=settings$1.GC_MODE}return T.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==GC_MODES$5.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},T.prototype.run=function(){for(var R=this.renderer.texture,I=R.managedTextures,$=!1,N=0;N<I.length;N++){var M=I[N];!M.framebuffer&&this.count-M.touched>this.maxIdle&&(R.destroyTexture(M,!0),I[N]=null,$=!0)}if($){for(var L=0,N=0;N<I.length;N++)I[N]!==null&&(I[L++]=I[N]);I.length=L}},T.prototype.unload=function(R){var I=this.renderer.texture,$=R._texture;$&&!$.framebuffer&&I.destroyTexture($);for(var N=R.children.length-1;N>=0;N--)this.unload(R.children[N])},T.prototype.destroy=function(){this.renderer=null},T}();function mapTypeAndFormatToInternalFormat(T){var R,I,$,N,M,L,B,k,U,H,z,V,W,K,Y,q,Z,Q,ee,ne,te,re,ie;return"WebGL2RenderingContext"in globalThis&&T instanceof globalThis.WebGL2RenderingContext?ie=(R={},R[TYPES$5.UNSIGNED_BYTE]=(I={},I[FORMATS$5.RGBA]=T.RGBA8,I[FORMATS$5.RGB]=T.RGB8,I[FORMATS$5.RG]=T.RG8,I[FORMATS$5.RED]=T.R8,I[FORMATS$5.RGBA_INTEGER]=T.RGBA8UI,I[FORMATS$5.RGB_INTEGER]=T.RGB8UI,I[FORMATS$5.RG_INTEGER]=T.RG8UI,I[FORMATS$5.RED_INTEGER]=T.R8UI,I[FORMATS$5.ALPHA]=T.ALPHA,I[FORMATS$5.LUMINANCE]=T.LUMINANCE,I[FORMATS$5.LUMINANCE_ALPHA]=T.LUMINANCE_ALPHA,I),R[TYPES$5.BYTE]=($={},$[FORMATS$5.RGBA]=T.RGBA8_SNORM,$[FORMATS$5.RGB]=T.RGB8_SNORM,$[FORMATS$5.RG]=T.RG8_SNORM,$[FORMATS$5.RED]=T.R8_SNORM,$[FORMATS$5.RGBA_INTEGER]=T.RGBA8I,$[FORMATS$5.RGB_INTEGER]=T.RGB8I,$[FORMATS$5.RG_INTEGER]=T.RG8I,$[FORMATS$5.RED_INTEGER]=T.R8I,$),R[TYPES$5.UNSIGNED_SHORT]=(N={},N[FORMATS$5.RGBA_INTEGER]=T.RGBA16UI,N[FORMATS$5.RGB_INTEGER]=T.RGB16UI,N[FORMATS$5.RG_INTEGER]=T.RG16UI,N[FORMATS$5.RED_INTEGER]=T.R16UI,N[FORMATS$5.DEPTH_COMPONENT]=T.DEPTH_COMPONENT16,N),R[TYPES$5.SHORT]=(M={},M[FORMATS$5.RGBA_INTEGER]=T.RGBA16I,M[FORMATS$5.RGB_INTEGER]=T.RGB16I,M[FORMATS$5.RG_INTEGER]=T.RG16I,M[FORMATS$5.RED_INTEGER]=T.R16I,M),R[TYPES$5.UNSIGNED_INT]=(L={},L[FORMATS$5.RGBA_INTEGER]=T.RGBA32UI,L[FORMATS$5.RGB_INTEGER]=T.RGB32UI,L[FORMATS$5.RG_INTEGER]=T.RG32UI,L[FORMATS$5.RED_INTEGER]=T.R32UI,L[FORMATS$5.DEPTH_COMPONENT]=T.DEPTH_COMPONENT24,L),R[TYPES$5.INT]=(B={},B[FORMATS$5.RGBA_INTEGER]=T.RGBA32I,B[FORMATS$5.RGB_INTEGER]=T.RGB32I,B[FORMATS$5.RG_INTEGER]=T.RG32I,B[FORMATS$5.RED_INTEGER]=T.R32I,B),R[TYPES$5.FLOAT]=(k={},k[FORMATS$5.RGBA]=T.RGBA32F,k[FORMATS$5.RGB]=T.RGB32F,k[FORMATS$5.RG]=T.RG32F,k[FORMATS$5.RED]=T.R32F,k[FORMATS$5.DEPTH_COMPONENT]=T.DEPTH_COMPONENT32F,k),R[TYPES$5.HALF_FLOAT]=(U={},U[FORMATS$5.RGBA]=T.RGBA16F,U[FORMATS$5.RGB]=T.RGB16F,U[FORMATS$5.RG]=T.RG16F,U[FORMATS$5.RED]=T.R16F,U),R[TYPES$5.UNSIGNED_SHORT_5_6_5]=(H={},H[FORMATS$5.RGB]=T.RGB565,H),R[TYPES$5.UNSIGNED_SHORT_4_4_4_4]=(z={},z[FORMATS$5.RGBA]=T.RGBA4,z),R[TYPES$5.UNSIGNED_SHORT_5_5_5_1]=(V={},V[FORMATS$5.RGBA]=T.RGB5_A1,V),R[TYPES$5.UNSIGNED_INT_2_10_10_10_REV]=(W={},W[FORMATS$5.RGBA]=T.RGB10_A2,W[FORMATS$5.RGBA_INTEGER]=T.RGB10_A2UI,W),R[TYPES$5.UNSIGNED_INT_10F_11F_11F_REV]=(K={},K[FORMATS$5.RGB]=T.R11F_G11F_B10F,K),R[TYPES$5.UNSIGNED_INT_5_9_9_9_REV]=(Y={},Y[FORMATS$5.RGB]=T.RGB9_E5,Y),R[TYPES$5.UNSIGNED_INT_24_8]=(q={},q[FORMATS$5.DEPTH_STENCIL]=T.DEPTH24_STENCIL8,q),R[TYPES$5.FLOAT_32_UNSIGNED_INT_24_8_REV]=(Z={},Z[FORMATS$5.DEPTH_STENCIL]=T.DEPTH32F_STENCIL8,Z),R):ie=(Q={},Q[TYPES$5.UNSIGNED_BYTE]=(ee={},ee[FORMATS$5.RGBA]=T.RGBA,ee[FORMATS$5.RGB]=T.RGB,ee[FORMATS$5.ALPHA]=T.ALPHA,ee[FORMATS$5.LUMINANCE]=T.LUMINANCE,ee[FORMATS$5.LUMINANCE_ALPHA]=T.LUMINANCE_ALPHA,ee),Q[TYPES$5.UNSIGNED_SHORT_5_6_5]=(ne={},ne[FORMATS$5.RGB]=T.RGB,ne),Q[TYPES$5.UNSIGNED_SHORT_4_4_4_4]=(te={},te[FORMATS$5.RGBA]=T.RGBA,te),Q[TYPES$5.UNSIGNED_SHORT_5_5_5_1]=(re={},re[FORMATS$5.RGBA]=T.RGBA,re),Q),ie}var GLTexture=function(){function T(R){this.texture=R,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=TYPES$5.UNSIGNED_BYTE,this.internalFormat=FORMATS$5.RGBA,this.samplerType=0}return T}(),TextureSystem=function(){function T(R){this.renderer=R,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new BaseTexture,this.hasIntegerTextures=!1}return T.prototype.contextChange=function(){var R=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=mapTypeAndFormatToInternalFormat(R);var I=R.getParameter(R.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=I;for(var $=0;$<I;$++)this.boundTextures[$]=null;this.emptyTextures={};var N=new GLTexture(R.createTexture());R.bindTexture(R.TEXTURE_2D,N.texture),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,1,1,0,R.RGBA,R.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[R.TEXTURE_2D]=N,this.emptyTextures[R.TEXTURE_CUBE_MAP]=new GLTexture(R.createTexture()),R.bindTexture(R.TEXTURE_CUBE_MAP,this.emptyTextures[R.TEXTURE_CUBE_MAP].texture);for(var $=0;$<6;$++)R.texImage2D(R.TEXTURE_CUBE_MAP_POSITIVE_X+$,0,R.RGBA,1,1,0,R.RGBA,R.UNSIGNED_BYTE,null);R.texParameteri(R.TEXTURE_CUBE_MAP,R.TEXTURE_MAG_FILTER,R.LINEAR),R.texParameteri(R.TEXTURE_CUBE_MAP,R.TEXTURE_MIN_FILTER,R.LINEAR);for(var $=0;$<this.boundTextures.length;$++)this.bind(null,$)},T.prototype.bind=function(R,I){I===void 0&&(I=0);var $=this.gl;if(R=R==null?void 0:R.castToBaseTexture(),R&&R.valid&&!R.parentTextureArray){R.touched=this.renderer.textureGC.count;var N=R._glTextures[this.CONTEXT_UID]||this.initTexture(R);this.boundTextures[I]!==R&&(this.currentLocation!==I&&(this.currentLocation=I,$.activeTexture($.TEXTURE0+I)),$.bindTexture(R.target,N.texture)),N.dirtyId!==R.dirtyId&&(this.currentLocation!==I&&(this.currentLocation=I,$.activeTexture($.TEXTURE0+I)),this.updateTexture(R)),this.boundTextures[I]=R}else this.currentLocation!==I&&(this.currentLocation=I,$.activeTexture($.TEXTURE0+I)),$.bindTexture($.TEXTURE_2D,this.emptyTextures[$.TEXTURE_2D].texture),this.boundTextures[I]=null},T.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var R=0;R<this.boundTextures.length;R++)this.boundTextures[R]=this.unknownTexture},T.prototype.unbind=function(R){var I=this,$=I.gl,N=I.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var M=0;M<N.length;M++)N[M]===this.unknownTexture&&this.bind(null,M)}for(var M=0;M<N.length;M++)N[M]===R&&(this.currentLocation!==M&&($.activeTexture($.TEXTURE0+M),this.currentLocation=M),$.bindTexture(R.target,this.emptyTextures[R.target].texture),N[M]=null)},T.prototype.ensureSamplerType=function(R){var I=this,$=I.boundTextures,N=I.hasIntegerTextures,M=I.CONTEXT_UID;if(!!N)for(var L=R-1;L>=0;--L){var B=$[L];if(B){var k=B._glTextures[M];k.samplerType!==SAMPLER_TYPES$5.FLOAT&&this.renderer.texture.unbind(B)}}},T.prototype.initTexture=function(R){var I=new GLTexture(this.gl.createTexture());return I.dirtyId=-1,R._glTextures[this.CONTEXT_UID]=I,this.managedTextures.push(R),R.on("dispose",this.destroyTexture,this),I},T.prototype.initTextureType=function(R,I){var $,N;I.internalFormat=(N=($=this.internalFormats[R.type])===null||$===void 0?void 0:$[R.format])!==null&&N!==void 0?N:R.format,this.webGLVersion===2&&R.type===TYPES$5.HALF_FLOAT?I.type=this.gl.HALF_FLOAT:I.type=R.type},T.prototype.updateTexture=function(R){var I=R._glTextures[this.CONTEXT_UID];if(!!I){var $=this.renderer;if(this.initTextureType(R,I),R.resource&&R.resource.upload($,R,I))I.samplerType!==SAMPLER_TYPES$5.FLOAT&&(this.hasIntegerTextures=!0);else{var N=R.realWidth,M=R.realHeight,L=$.gl;(I.width!==N||I.height!==M||I.dirtyId<0)&&(I.width=N,I.height=M,L.texImage2D(R.target,0,I.internalFormat,N,M,0,R.format,I.type,null))}R.dirtyStyleId!==I.dirtyStyleId&&this.updateTextureStyle(R),I.dirtyId=R.dirtyId}},T.prototype.destroyTexture=function(R,I){var $=this.gl;if(R=R.castToBaseTexture(),R._glTextures[this.CONTEXT_UID]&&(this.unbind(R),$.deleteTexture(R._glTextures[this.CONTEXT_UID].texture),R.off("dispose",this.destroyTexture,this),delete R._glTextures[this.CONTEXT_UID],!I)){var N=this.managedTextures.indexOf(R);N!==-1&&removeItems(this.managedTextures,N,1)}},T.prototype.updateTextureStyle=function(R){var I=R._glTextures[this.CONTEXT_UID];!I||((R.mipmap===MIPMAP_MODES$5.POW2||this.webGLVersion!==2)&&!R.isPowerOfTwo?I.mipmap=!1:I.mipmap=R.mipmap>=1,this.webGLVersion!==2&&!R.isPowerOfTwo?I.wrapMode=WRAP_MODES$5.CLAMP:I.wrapMode=R.wrapMode,R.resource&&R.resource.style(this.renderer,R,I)||this.setStyle(R,I),I.dirtyStyleId=R.dirtyStyleId)},T.prototype.setStyle=function(R,I){var $=this.gl;if(I.mipmap&&R.mipmap!==MIPMAP_MODES$5.ON_MANUAL&&$.generateMipmap(R.target),$.texParameteri(R.target,$.TEXTURE_WRAP_S,I.wrapMode),$.texParameteri(R.target,$.TEXTURE_WRAP_T,I.wrapMode),I.mipmap){$.texParameteri(R.target,$.TEXTURE_MIN_FILTER,R.scaleMode===SCALE_MODES$5.LINEAR?$.LINEAR_MIPMAP_LINEAR:$.NEAREST_MIPMAP_NEAREST);var N=this.renderer.context.extensions.anisotropicFiltering;if(N&&R.anisotropicLevel>0&&R.scaleMode===SCALE_MODES$5.LINEAR){var M=Math.min(R.anisotropicLevel,$.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT));$.texParameterf(R.target,N.TEXTURE_MAX_ANISOTROPY_EXT,M)}}else $.texParameteri(R.target,$.TEXTURE_MIN_FILTER,R.scaleMode===SCALE_MODES$5.LINEAR?$.LINEAR:$.NEAREST);$.texParameteri(R.target,$.TEXTURE_MAG_FILTER,R.scaleMode===SCALE_MODES$5.LINEAR?$.LINEAR:$.NEAREST)},T.prototype.destroy=function(){this.renderer=null},T}(),_systems={__proto__:null,FilterSystem,BatchSystem,ContextSystem,FramebufferSystem,GeometrySystem,MaskSystem,ScissorSystem,StencilSystem,ProjectionSystem,RenderTextureSystem,ShaderSystem,StateSystem,TextureGCSystem,TextureSystem},tempMatrix=new Matrix,AbstractRenderer=function(T){__extends$i(R,T);function R(I,$){I===void 0&&(I=RENDERER_TYPE$5.UNKNOWN);var N=T.call(this)||this;return $=Object.assign({},settings$1.RENDER_OPTIONS,$),N.options=$,N.type=I,N.screen=new Rectangle(0,0,$.width,$.height),N.view=$.view||settings$1.ADAPTER.createCanvas(),N.resolution=$.resolution||settings$1.RESOLUTION,N.useContextAlpha=$.useContextAlpha,N.autoDensity=!!$.autoDensity,N.preserveDrawingBuffer=$.preserveDrawingBuffer,N.clearBeforeRender=$.clearBeforeRender,N._backgroundColor=0,N._backgroundColorRgba=[0,0,0,1],N._backgroundColorString="#000000",N.backgroundColor=$.backgroundColor||N._backgroundColor,N.backgroundAlpha=$.backgroundAlpha,$.transparent!==void 0&&(deprecation$1("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),N.useContextAlpha=$.transparent,N.backgroundAlpha=$.transparent?0:1),N._lastObjectRendered=null,N.plugins={},N}return R.prototype.initPlugins=function(I){for(var $ in I)this.plugins[$]=new I[$](this)},Object.defineProperty(R.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),R.prototype.resize=function(I,$){this.view.width=Math.round(I*this.resolution),this.view.height=Math.round($*this.resolution);var N=this.view.width/this.resolution,M=this.view.height/this.resolution;this.screen.width=N,this.screen.height=M,this.autoDensity&&(this.view.style.width=N+"px",this.view.style.height=M+"px"),this.emit("resize",N,M)},R.prototype.generateTexture=function(I,$,N,M){$===void 0&&($={}),typeof $=="number"&&(deprecation$1("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),$={scaleMode:$,resolution:N,region:M});var L=$.region,B=__rest($,["region"]);M=L||I.getLocalBounds(null,!0),M.width===0&&(M.width=1),M.height===0&&(M.height=1);var k=RenderTexture.create(__assign$2({width:M.width,height:M.height},B));return tempMatrix.tx=-M.x,tempMatrix.ty=-M.y,this.render(I,{renderTexture:k,clear:!1,transform:tempMatrix,skipUpdateTransform:!!I.parent}),k},R.prototype.destroy=function(I){for(var $ in this.plugins)this.plugins[$].destroy(),this.plugins[$]=null;I&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var N=this;N.plugins=null,N.type=RENDERER_TYPE$5.UNKNOWN,N.view=null,N.screen=null,N._tempDisplayObjectParent=null,N.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(R.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(I){this._backgroundColor=I,this._backgroundColorString=hex2string(I),hex2rgb(I,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(I){this._backgroundColorRgba[3]=I},enumerable:!1,configurable:!0}),R}(n$1),GLBuffer=function(){function T(R){this.buffer=R||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return T}(),BufferSystem=function(){function T(R){this.renderer=R,this.managedBuffers={},this.boundBufferBases={}}return T.prototype.destroy=function(){this.renderer=null},T.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},T.prototype.bind=function(R){var I=this,$=I.gl,N=I.CONTEXT_UID,M=R._glBuffers[N]||this.createGLBuffer(R);$.bindBuffer(R.type,M.buffer)},T.prototype.bindBufferBase=function(R,I){var $=this,N=$.gl,M=$.CONTEXT_UID;if(this.boundBufferBases[I]!==R){var L=R._glBuffers[M]||this.createGLBuffer(R);this.boundBufferBases[I]=R,N.bindBufferBase(N.UNIFORM_BUFFER,I,L.buffer)}},T.prototype.bindBufferRange=function(R,I,$){var N=this,M=N.gl,L=N.CONTEXT_UID;$=$||0;var B=R._glBuffers[L]||this.createGLBuffer(R);M.bindBufferRange(M.UNIFORM_BUFFER,I||0,B.buffer,$*256,256)},T.prototype.update=function(R){var I=this,$=I.gl,N=I.CONTEXT_UID,M=R._glBuffers[N];if(R._updateID!==M.updateID)if(M.updateID=R._updateID,$.bindBuffer(R.type,M.buffer),M.byteLength>=R.data.byteLength)$.bufferSubData(R.type,0,R.data);else{var L=R.static?$.STATIC_DRAW:$.DYNAMIC_DRAW;M.byteLength=R.data.byteLength,$.bufferData(R.type,R.data,L)}},T.prototype.dispose=function(R,I){if(!!this.managedBuffers[R.id]){delete this.managedBuffers[R.id];var $=R._glBuffers[this.CONTEXT_UID],N=this.gl;R.disposeRunner.remove(this),$&&(I||N.deleteBuffer($.buffer),delete R._glBuffers[this.CONTEXT_UID])}},T.prototype.disposeAll=function(R){for(var I=Object.keys(this.managedBuffers),$=0;$<I.length;$++)this.dispose(this.managedBuffers[I[$]],R)},T.prototype.createGLBuffer=function(R){var I=this,$=I.CONTEXT_UID,N=I.gl;return R._glBuffers[$]=new GLBuffer(N.createBuffer()),this.managedBuffers[R.id]=R,R.disposeRunner.add(this),R._glBuffers[$]},T}(),Renderer=function(T){__extends$i(R,T);function R(I){var $=T.call(this,RENDERER_TYPE$5.WEBGL,I)||this;return I=$.options,$.gl=null,$.CONTEXT_UID=0,$.runners={destroy:new Runner("destroy"),contextChange:new Runner("contextChange"),reset:new Runner("reset"),update:new Runner("update"),postrender:new Runner("postrender"),prerender:new Runner("prerender"),resize:new Runner("resize")},$.runners.contextChange.add($),$.globalUniforms=new UniformGroup({projectionMatrix:new Matrix},!0),$.addSystem(MaskSystem,"mask").addSystem(ContextSystem,"context").addSystem(StateSystem,"state").addSystem(ShaderSystem,"shader").addSystem(TextureSystem,"texture").addSystem(BufferSystem,"buffer").addSystem(GeometrySystem,"geometry").addSystem(FramebufferSystem,"framebuffer").addSystem(ScissorSystem,"scissor").addSystem(StencilSystem,"stencil").addSystem(ProjectionSystem,"projection").addSystem(TextureGCSystem,"textureGC").addSystem(FilterSystem,"filter").addSystem(RenderTextureSystem,"renderTexture").addSystem(BatchSystem,"batch"),$.initPlugins(R.__plugins),$.multisample=void 0,I.context?$.context.initFromContext(I.context):$.context.initFromOptions({alpha:!!$.useContextAlpha,antialias:I.antialias,premultipliedAlpha:$.useContextAlpha&&$.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:I.preserveDrawingBuffer,powerPreference:$.options.powerPreference}),$.renderingToScreen=!0,sayHello($.context.webGLVersion===2?"WebGL 2":"WebGL 1"),$.resize($.options.width,$.options.height),$}return R.create=function(I){if(isWebGLSupported())return new R(I);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},R.prototype.contextChange=function(){var I=this.gl,$;if(this.context.webGLVersion===1){var N=I.getParameter(I.FRAMEBUFFER_BINDING);I.bindFramebuffer(I.FRAMEBUFFER,null),$=I.getParameter(I.SAMPLES),I.bindFramebuffer(I.FRAMEBUFFER,N)}else{var N=I.getParameter(I.DRAW_FRAMEBUFFER_BINDING);I.bindFramebuffer(I.DRAW_FRAMEBUFFER,null),$=I.getParameter(I.SAMPLES),I.bindFramebuffer(I.DRAW_FRAMEBUFFER,N)}$>=MSAA_QUALITY$5.HIGH?this.multisample=MSAA_QUALITY$5.HIGH:$>=MSAA_QUALITY$5.MEDIUM?this.multisample=MSAA_QUALITY$5.MEDIUM:$>=MSAA_QUALITY$5.LOW?this.multisample=MSAA_QUALITY$5.LOW:this.multisample=MSAA_QUALITY$5.NONE},R.prototype.addSystem=function(I,$){var N=new I(this);if(this[$])throw new Error('Whoops! The name "'+$+'" is already in use');this[$]=N;for(var M in this.runners)this.runners[M].add(N);return this},R.prototype.render=function(I,$){var N,M,L,B;if($&&($ instanceof RenderTexture?(deprecation$1("6.0.0","Renderer#render arguments changed, use options instead."),N=$,M=arguments[2],L=arguments[3],B=arguments[4]):(N=$.renderTexture,M=$.clear,L=$.transform,B=$.skipUpdateTransform)),this.renderingToScreen=!N,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=L,!this.context.isLost){if(N||(this._lastObjectRendered=I),!B){var k=I.enableTempParent();I.updateTransform(),I.disableTempParent(k)}this.renderTexture.bind(N),this.batch.currentRenderer.start(),(M!==void 0?M:this.clearBeforeRender)&&this.renderTexture.clear(),I.render(this),this.batch.currentRenderer.flush(),N&&N.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},R.prototype.generateTexture=function(I,$,N,M){$===void 0&&($={});var L=T.prototype.generateTexture.call(this,I,$,N,M);return this.framebuffer.blit(),L},R.prototype.resize=function(I,$){T.prototype.resize.call(this,I,$),this.runners.resize.emit(this.screen.height,this.screen.width)},R.prototype.reset=function(){return this.runners.reset.emit(),this},R.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},R.prototype.destroy=function(I){this.runners.destroy.emit();for(var $ in this.runners)this.runners[$].destroy();T.prototype.destroy.call(this,I),this.gl=null},Object.defineProperty(R.prototype,"extract",{get:function(){return deprecation$1("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),R.registerPlugin=function(I,$){deprecation$1("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),extensions$1.add({name:I,type:ExtensionType.RendererPlugin,ref:$})},R.__plugins={},R}(AbstractRenderer);extensions$1.handleByMap(ExtensionType.RendererPlugin,Renderer.__plugins);function autoDetectRenderer(T){return Renderer.create(T)}var $defaultVertex=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$defaultFilterVertex=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,defaultVertex$1=$defaultVertex,defaultFilterVertex=$defaultFilterVertex,System$1=function(){function T(R){deprecation$1("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=R}return T.prototype.destroy=function(){this.renderer=null},T}(),BatchDrawCall=function(){function T(){this.texArray=null,this.blend=0,this.type=DRAW_MODES$5.TRIANGLES,this.start=0,this.size=0,this.data=null}return T}(),BatchTextureArray=function(){function T(){this.elements=[],this.ids=[],this.count=0}return T.prototype.clear=function(){for(var R=0;R<this.count;R++)this.elements[R]=null;this.count=0},T}(),ViewableBuffer=function(){function T(R){typeof R=="number"?this.rawBinaryData=new ArrayBuffer(R):R instanceof Uint8Array?this.rawBinaryData=R.buffer:this.rawBinaryData=R,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(T.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),T.prototype.view=function(R){return this[R+"View"]},T.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},T.sizeOf=function(R){switch(R){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(R+" isn't a valid view type")}},T}(),AbstractBatchRenderer=function(T){__extends$i(R,T);function R(I){var $=T.call(this,I)||this;return $.shaderGenerator=null,$.geometryClass=null,$.vertexSize=null,$.state=State$1.for2d(),$.size=settings$1.SPRITE_BATCH_SIZE*4,$._vertexCount=0,$._indexCount=0,$._bufferedElements=[],$._bufferedTextures=[],$._bufferSize=0,$._shader=null,$._packedGeometries=[],$._packedGeometryPoolSize=2,$._flushId=0,$._aBuffers={},$._iBuffers={},$.MAX_TEXTURES=1,$.renderer.on("prerender",$.onPrerender,$),I.runners.contextChange.add($),$._dcIndex=0,$._aIndex=0,$._iIndex=0,$._attributeBuffer=null,$._indexBuffer=null,$._tempBoundTextures=[],$}return R.prototype.contextChange=function(){var I=this.renderer.gl;settings$1.PREFER_ENV===ENV$5.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(I.getParameter(I.MAX_TEXTURE_IMAGE_UNITS),settings$1.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=checkMaxIfStatementsInShader(this.MAX_TEXTURES,I)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var $=0;$<this._packedGeometryPoolSize;$++)this._packedGeometries[$]=new this.geometryClass;this.initFlushBuffers()},R.prototype.initFlushBuffers=function(){for(var I=R._drawCallPool,$=R._textureArrayPool,N=this.size/4,M=Math.floor(N/this.MAX_TEXTURES)+1;I.length<N;)I.push(new BatchDrawCall);for(;$.length<M;)$.push(new BatchTextureArray);for(var L=0;L<this.MAX_TEXTURES;L++)this._tempBoundTextures[L]=null},R.prototype.onPrerender=function(){this._flushId=0},R.prototype.render=function(I){!I._texture.valid||(this._vertexCount+I.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=I.vertexData.length/2,this._indexCount+=I.indices.length,this._bufferedTextures[this._bufferSize]=I._texture.baseTexture,this._bufferedElements[this._bufferSize++]=I)},R.prototype.buildTexturesAndDrawCalls=function(){var I=this,$=I._bufferedTextures,N=I.MAX_TEXTURES,M=R._textureArrayPool,L=this.renderer.batch,B=this._tempBoundTextures,k=this.renderer.textureGC.count,U=++BaseTexture._globalBatch,H=0,z=M[0],V=0;L.copyBoundTextures(B,N);for(var W=0;W<this._bufferSize;++W){var K=$[W];$[W]=null,K._batchEnabled!==U&&(z.count>=N&&(L.boundArray(z,B,U,N),this.buildDrawCalls(z,V,W),V=W,z=M[++H],++U),K._batchEnabled=U,K.touched=k,z.elements[z.count++]=K)}z.count>0&&(L.boundArray(z,B,U,N),this.buildDrawCalls(z,V,this._bufferSize),++H,++U);for(var W=0;W<B.length;W++)B[W]=null;BaseTexture._globalBatch=U},R.prototype.buildDrawCalls=function(I,$,N){var M=this,L=M._bufferedElements,B=M._attributeBuffer,k=M._indexBuffer,U=M.vertexSize,H=R._drawCallPool,z=this._dcIndex,V=this._aIndex,W=this._iIndex,K=H[z];K.start=this._iIndex,K.texArray=I;for(var Y=$;Y<N;++Y){var q=L[Y],Z=q._texture.baseTexture,Q=premultiplyBlendMode[Z.alphaMode?1:0][q.blendMode];L[Y]=null,$<Y&&K.blend!==Q&&(K.size=W-K.start,$=Y,K=H[++z],K.texArray=I,K.start=W),this.packInterleavedGeometry(q,B,k,V,W),V+=q.vertexData.length/2*U,W+=q.indices.length,K.blend=Q}$<N&&(K.size=W-K.start,++z),this._dcIndex=z,this._aIndex=V,this._iIndex=W},R.prototype.bindAndClearTexArray=function(I){for(var $=this.renderer.texture,N=0;N<I.count;N++)$.bind(I.elements[N],I.ids[N]),I.elements[N]=null;I.count=0},R.prototype.updateGeometry=function(){var I=this,$=I._packedGeometries,N=I._attributeBuffer,M=I._indexBuffer;settings$1.CAN_UPLOAD_SAME_BUFFER?($[this._flushId]._buffer.update(N.rawBinaryData),$[this._flushId]._indexBuffer.update(M),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,$[this._flushId]=new this.geometryClass),$[this._flushId]._buffer.update(N.rawBinaryData),$[this._flushId]._indexBuffer.update(M),this.renderer.geometry.bind($[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},R.prototype.drawBatches=function(){for(var I=this._dcIndex,$=this.renderer,N=$.gl,M=$.state,L=R._drawCallPool,B=null,k=0;k<I;k++){var U=L[k],H=U.texArray,z=U.type,V=U.size,W=U.start,K=U.blend;B!==H&&(B=H,this.bindAndClearTexArray(H)),this.state.blendMode=K,M.set(this.state),N.drawElements(z,V,N.UNSIGNED_SHORT,W*2)}},R.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},R.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),settings$1.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},R.prototype.stop=function(){this.flush()},R.prototype.destroy=function(){for(var I=0;I<this._packedGeometryPoolSize;I++)this._packedGeometries[I]&&this._packedGeometries[I].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),T.prototype.destroy.call(this)},R.prototype.getAttributeBuffer=function(I){var $=nextPow2(Math.ceil(I/8)),N=log2($),M=$*8;this._aBuffers.length<=N&&(this._iBuffers.length=N+1);var L=this._aBuffers[M];return L||(this._aBuffers[M]=L=new ViewableBuffer(M*this.vertexSize*4)),L},R.prototype.getIndexBuffer=function(I){var $=nextPow2(Math.ceil(I/12)),N=log2($),M=$*12;this._iBuffers.length<=N&&(this._iBuffers.length=N+1);var L=this._iBuffers[N];return L||(this._iBuffers[N]=L=new Uint16Array(M)),L},R.prototype.packInterleavedGeometry=function(I,$,N,M,L){for(var B=$.uint32View,k=$.float32View,U=M/this.vertexSize,H=I.uvs,z=I.indices,V=I.vertexData,W=I._texture.baseTexture._batchLocation,K=Math.min(I.worldAlpha,1),Y=K<1&&I._texture.baseTexture.alphaMode?premultiplyTint(I._tintRGB,K):I._tintRGB+(K*255<<24),q=0;q<V.length;q+=2)k[M++]=V[q],k[M++]=V[q+1],k[M++]=H[q],k[M++]=H[q+1],B[M++]=Y,k[M++]=W;for(var q=0;q<z.length;q++)N[L++]=U+z[q]},R._drawCallPool=[],R._textureArrayPool=[],R}(ObjectRenderer),BatchShaderGenerator=function(){function T(R,I){if(this.vertexSrc=R,this.fragTemplate=I,this.programCache={},this.defaultGroupCache={},I.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(I.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return T.prototype.generateShader=function(R){if(!this.programCache[R]){for(var I=new Int32Array(R),$=0;$<R;$++)I[$]=$;this.defaultGroupCache[R]=UniformGroup.from({uSamplers:I},!0);var N=this.fragTemplate;N=N.replace(/%count%/gi,""+R),N=N.replace(/%forloop%/gi,this.generateSampleSrc(R)),this.programCache[R]=new Program(this.vertexSrc,N)}var M={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,default:this.defaultGroupCache[R]};return new Shader(this.programCache[R],M)},T.prototype.generateSampleSrc=function(R){var I="";I+=`
`,I+=`
`;for(var $=0;$<R;$++)$>0&&(I+=`
else `),$<R-1&&(I+="if(vTextureId < "+$+".5)"),I+=`
{`,I+=`
	color = texture2D(uSamplers[`+$+"], vTextureCoord);",I+=`
}`;return I+=`
`,I+=`
`,I},T}(),BatchGeometry=function(T){__extends$i(R,T);function R(I){I===void 0&&(I=!1);var $=T.call(this)||this;return $._buffer=new Buffer$2(null,I,!1),$._indexBuffer=new Buffer$2(null,I,!0),$.addAttribute("aVertexPosition",$._buffer,2,!1,TYPES$5.FLOAT).addAttribute("aTextureCoord",$._buffer,2,!1,TYPES$5.FLOAT).addAttribute("aColor",$._buffer,4,!0,TYPES$5.UNSIGNED_BYTE).addAttribute("aTextureId",$._buffer,1,!0,TYPES$5.FLOAT).addIndex($._indexBuffer),$}return R}(Geometry),defaultVertex=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,defaultFragment=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,BatchPluginFactory=function(){function T(){}return T.create=function(R){var I=Object.assign({vertex:defaultVertex,fragment:defaultFragment,geometryClass:BatchGeometry,vertexSize:6},R),$=I.vertex,N=I.fragment,M=I.vertexSize,L=I.geometryClass;return function(B){__extends$i(k,B);function k(U){var H=B.call(this,U)||this;return H.shaderGenerator=new BatchShaderGenerator($,N),H.geometryClass=L,H.vertexSize=M,H}return k}(AbstractBatchRenderer)},Object.defineProperty(T,"defaultVertexSrc",{get:function(){return defaultVertex},enumerable:!1,configurable:!0}),Object.defineProperty(T,"defaultFragmentTemplate",{get:function(){return defaultFragment},enumerable:!1,configurable:!0}),T}(),BatchRenderer=BatchPluginFactory.create();Object.assign(BatchRenderer,{extension:{name:"batch",type:ExtensionType.RendererPlugin}});var resources={},_loop_1=function(T){Object.defineProperty(resources,T,{get:function(){return deprecation$1("6.0.0","PIXI.systems."+T+" has moved to PIXI."+T),_resources[T]}})};for(var name in _resources)_loop_1(name);var systems={},_loop_2=function(T){Object.defineProperty(systems,T,{get:function(){return deprecation$1("6.0.0","PIXI.resources."+T+" has moved to PIXI."+T),_systems[T]}})};for(var name in _systems)_loop_2(name);var VERSION="6.5.1";/*!
 * @pixi/accessibility - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};DisplayObject.mixin(accessibleTarget);var KEY_CODE_TAB=9,DIV_TOUCH_SIZE=100,DIV_TOUCH_POS_X=0,DIV_TOUCH_POS_Y=0,DIV_TOUCH_ZINDEX=2,DIV_HOOK_SIZE=1,DIV_HOOK_POS_X=-1e3,DIV_HOOK_POS_Y=-1e3,DIV_HOOK_ZINDEX=2,AccessibilityManager=function(){function T(R){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(isMobile$2.tablet||isMobile$2.phone)&&this.createTouchHook();var I=document.createElement("div");I.style.width=DIV_TOUCH_SIZE+"px",I.style.height=DIV_TOUCH_SIZE+"px",I.style.position="absolute",I.style.top=DIV_TOUCH_POS_X+"px",I.style.left=DIV_TOUCH_POS_Y+"px",I.style.zIndex=DIV_TOUCH_ZINDEX.toString(),this.div=I,this.renderer=R,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(T.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),T.prototype.createTouchHook=function(){var R=this,I=document.createElement("button");I.style.width=DIV_HOOK_SIZE+"px",I.style.height=DIV_HOOK_SIZE+"px",I.style.position="absolute",I.style.top=DIV_HOOK_POS_X+"px",I.style.left=DIV_HOOK_POS_Y+"px",I.style.zIndex=DIV_HOOK_ZINDEX.toString(),I.style.backgroundColor="#FF0000",I.title="select to enable accessibility for this content",I.addEventListener("focus",function(){R._isMobileAccessibility=!0,R.activate(),R.destroyTouchHook()}),document.body.appendChild(I),this._hookDiv=I},T.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},T.prototype.activate=function(){var R;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(R=this.renderer.view.parentNode)===null||R===void 0||R.appendChild(this.div))},T.prototype.deactivate=function(){var R;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(R=this.div.parentNode)===null||R===void 0||R.removeChild(this.div))},T.prototype.updateAccessibleObjects=function(R){if(!(!R.visible||!R.accessibleChildren)){R.accessible&&R.interactive&&(R._accessibleActive||this.addChild(R),R.renderId=this.renderId);var I=R.children;if(I)for(var $=0;$<I.length;$++)this.updateAccessibleObjects(I[$])}},T.prototype.update=function(){var R=performance.now();if(!(isMobile$2.android.device&&R<this.androidUpdateCount)&&(this.androidUpdateCount=R+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var I=this.renderer.view.getBoundingClientRect(),$=I.left,N=I.top,M=I.width,L=I.height,B=this.renderer,k=B.width,U=B.height,H=B.resolution,z=M/k*H,V=L/U*H,W=this.div;W.style.left=$+"px",W.style.top=N+"px",W.style.width=k+"px",W.style.height=U+"px";for(var K=0;K<this.children.length;K++){var Y=this.children[K];if(Y.renderId!==this.renderId)Y._accessibleActive=!1,removeItems(this.children,K,1),this.div.removeChild(Y._accessibleDiv),this.pool.push(Y._accessibleDiv),Y._accessibleDiv=null,K--;else{W=Y._accessibleDiv;var q=Y.hitArea,Z=Y.worldTransform;Y.hitArea?(W.style.left=(Z.tx+q.x*Z.a)*z+"px",W.style.top=(Z.ty+q.y*Z.d)*V+"px",W.style.width=q.width*Z.a*z+"px",W.style.height=q.height*Z.d*V+"px"):(q=Y.getBounds(),this.capHitArea(q),W.style.left=q.x*z+"px",W.style.top=q.y*V+"px",W.style.width=q.width*z+"px",W.style.height=q.height*V+"px",W.title!==Y.accessibleTitle&&Y.accessibleTitle!==null&&(W.title=Y.accessibleTitle),W.getAttribute("aria-label")!==Y.accessibleHint&&Y.accessibleHint!==null&&W.setAttribute("aria-label",Y.accessibleHint)),(Y.accessibleTitle!==W.title||Y.tabIndex!==W.tabIndex)&&(W.title=Y.accessibleTitle,W.tabIndex=Y.tabIndex,this.debug&&this.updateDebugHTML(W))}}this.renderId++}},T.prototype.updateDebugHTML=function(R){R.innerHTML="type: "+R.type+"</br> title : "+R.title+"</br> tabIndex: "+R.tabIndex},T.prototype.capHitArea=function(R){R.x<0&&(R.width+=R.x,R.x=0),R.y<0&&(R.height+=R.y,R.y=0);var I=this.renderer,$=I.width,N=I.height;R.x+R.width>$&&(R.width=$-R.x),R.y+R.height>N&&(R.height=N-R.y)},T.prototype.addChild=function(R){var I=this.pool.pop();I||(I=document.createElement("button"),I.style.width=DIV_TOUCH_SIZE+"px",I.style.height=DIV_TOUCH_SIZE+"px",I.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",I.style.position="absolute",I.style.zIndex=DIV_TOUCH_ZINDEX.toString(),I.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?I.setAttribute("aria-live","off"):I.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?I.setAttribute("aria-relevant","additions"):I.setAttribute("aria-relevant","text"),I.addEventListener("click",this._onClick.bind(this)),I.addEventListener("focus",this._onFocus.bind(this)),I.addEventListener("focusout",this._onFocusOut.bind(this))),I.style.pointerEvents=R.accessiblePointerEvents,I.type=R.accessibleType,R.accessibleTitle&&R.accessibleTitle!==null?I.title=R.accessibleTitle:(!R.accessibleHint||R.accessibleHint===null)&&(I.title="displayObject "+R.tabIndex),R.accessibleHint&&R.accessibleHint!==null&&I.setAttribute("aria-label",R.accessibleHint),this.debug&&this.updateDebugHTML(I),R._accessibleActive=!0,R._accessibleDiv=I,I.displayObject=R,this.children.push(R),this.div.appendChild(R._accessibleDiv),R._accessibleDiv.tabIndex=R.tabIndex},T.prototype._onClick=function(R){var I=this.renderer.plugins.interaction,$=R.target.displayObject,N=I.eventData;I.dispatchEvent($,"click",N),I.dispatchEvent($,"pointertap",N),I.dispatchEvent($,"tap",N)},T.prototype._onFocus=function(R){R.target.getAttribute("aria-live")||R.target.setAttribute("aria-live","assertive");var I=this.renderer.plugins.interaction,$=R.target.displayObject,N=I.eventData;I.dispatchEvent($,"mouseover",N)},T.prototype._onFocusOut=function(R){R.target.getAttribute("aria-live")||R.target.setAttribute("aria-live","polite");var I=this.renderer.plugins.interaction,$=R.target.displayObject,N=I.eventData;I.dispatchEvent($,"mouseout",N)},T.prototype._onKeyDown=function(R){R.keyCode===KEY_CODE_TAB&&this.activate()},T.prototype._onMouseMove=function(R){R.movementX===0&&R.movementY===0||this.deactivate()},T.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},T.extension={name:"accessibility",type:[ExtensionType.RendererPlugin,ExtensionType.CanvasRendererPlugin]},T}();/*!
 * @pixi/interaction - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var InteractionData=function(){function T(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(T.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),T.prototype.getLocalPosition=function(R,I,$){return R.worldTransform.applyInverse($||this.global,I)},T.prototype.copyEvent=function(R){"isPrimary"in R&&R.isPrimary&&(this.isPrimary=!0),this.button="button"in R&&R.button;var I="buttons"in R&&R.buttons;this.buttons=Number.isInteger(I)?I:"which"in R&&R.which,this.width="width"in R&&R.width,this.height="height"in R&&R.height,this.tiltX="tiltX"in R&&R.tiltX,this.tiltY="tiltY"in R&&R.tiltY,this.pointerType="pointerType"in R&&R.pointerType,this.pressure="pressure"in R&&R.pressure,this.rotationAngle="rotationAngle"in R&&R.rotationAngle,this.twist="twist"in R&&R.twist||0,this.tangentialPressure="tangentialPressure"in R&&R.tangentialPressure||0},T.prototype.reset=function(){this.isPrimary=!1},T}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$h=function(T,R){return extendStatics$h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$h(T,R)};function __extends$h(T,R){extendStatics$h(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var InteractionEvent=function(){function T(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return T.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},T.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},T}(),InteractionTrackingData=function(){function T(R){this._pointerId=R,this._flags=T.FLAGS.NONE}return T.prototype._doSet=function(R,I){I?this._flags=this._flags|R:this._flags=this._flags&~R},Object.defineProperty(T.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"flags",{get:function(){return this._flags},set:function(R){this._flags=R},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"none",{get:function(){return this._flags===T.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"over",{get:function(){return(this._flags&T.FLAGS.OVER)!==0},set:function(R){this._doSet(T.FLAGS.OVER,R)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"rightDown",{get:function(){return(this._flags&T.FLAGS.RIGHT_DOWN)!==0},set:function(R){this._doSet(T.FLAGS.RIGHT_DOWN,R)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"leftDown",{get:function(){return(this._flags&T.FLAGS.LEFT_DOWN)!==0},set:function(R){this._doSet(T.FLAGS.LEFT_DOWN,R)},enumerable:!1,configurable:!0}),T.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),T}(),TreeSearch=function(){function T(){this._tempPoint=new Point}return T.prototype.recursiveFindHit=function(R,I,$,N,M){var L;if(!I||!I.visible)return!1;var B=R.data.global;M=I.interactive||M;var k=!1,U=M,H=!0;if(I.hitArea)N&&(I.worldTransform.applyInverse(B,this._tempPoint),I.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?k=!0:(N=!1,H=!1)),U=!1;else if(I._mask&&N){var z=I._mask.isMaskData?I._mask.maskObject:I._mask;z&&!(!((L=z.containsPoint)===null||L===void 0)&&L.call(z,B))&&(N=!1)}if(H&&I.interactiveChildren&&I.children)for(var V=I.children,W=V.length-1;W>=0;W--){var K=V[W],Y=this.recursiveFindHit(R,K,$,N,U);if(Y){if(!K.parent)continue;U=!1,Y&&(R.target&&(N=!1),k=!0)}}return M&&(N&&!R.target&&!I.hitArea&&I.containsPoint&&I.containsPoint(B)&&(k=!0),I.interactive&&(k&&!R.target&&(R.target=I),$&&$(R,I,!!k))),k},T.prototype.findHit=function(R,I,$,N){this.recursiveFindHit(R,I,$,N,!1)},T}(),interactiveTarget={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(T){T?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};DisplayObject.mixin(interactiveTarget);var MOUSE_POINTER_ID=1,hitTestEvent={target:null,data:{global:null}},InteractionManager=function(T){__extends$h(R,T);function R(I,$){var N=T.call(this)||this;return $=$||{},N.renderer=I,N.autoPreventDefault=$.autoPreventDefault!==void 0?$.autoPreventDefault:!0,N.interactionFrequency=$.interactionFrequency||10,N.mouse=new InteractionData,N.mouse.identifier=MOUSE_POINTER_ID,N.mouse.global.set(-999999),N.activeInteractionData={},N.activeInteractionData[MOUSE_POINTER_ID]=N.mouse,N.interactionDataPool=[],N.eventData=new InteractionEvent,N.interactionDOMElement=null,N.moveWhenInside=!1,N.eventsAdded=!1,N.tickerAdded=!1,N.mouseOverRenderer=!("PointerEvent"in globalThis),N.supportsTouchEvents="ontouchstart"in globalThis,N.supportsPointerEvents=!!globalThis.PointerEvent,N.onPointerUp=N.onPointerUp.bind(N),N.processPointerUp=N.processPointerUp.bind(N),N.onPointerCancel=N.onPointerCancel.bind(N),N.processPointerCancel=N.processPointerCancel.bind(N),N.onPointerDown=N.onPointerDown.bind(N),N.processPointerDown=N.processPointerDown.bind(N),N.onPointerMove=N.onPointerMove.bind(N),N.processPointerMove=N.processPointerMove.bind(N),N.onPointerOut=N.onPointerOut.bind(N),N.processPointerOverOut=N.processPointerOverOut.bind(N),N.onPointerOver=N.onPointerOver.bind(N),N.cursorStyles={default:"inherit",pointer:"pointer"},N.currentCursorMode=null,N.cursor=null,N.resolution=1,N.delayedEvents=[],N.search=new TreeSearch,N._tempDisplayObject=new TemporaryDisplayObject,N._eventListenerOptions={capture:!0,passive:!1},N._useSystemTicker=$.useSystemTicker!==void 0?$.useSystemTicker:!0,N.setTargetElement(N.renderer.view,N.renderer.resolution),N}return Object.defineProperty(R.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(I){this._useSystemTicker=I,I?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),R.prototype.hitTest=function(I,$){return hitTestEvent.target=null,hitTestEvent.data.global=I,$||($=this.lastObjectRendered),this.processInteractive(hitTestEvent,$,null,!0),hitTestEvent.target},R.prototype.setTargetElement=function(I,$){$===void 0&&($=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=I,this.resolution=$,this.addEvents(),this.addTickerListener()},R.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Ticker.system.add(this.tickerUpdate,this,UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)},R.prototype.removeTickerListener=function(){!this.tickerAdded||(Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},R.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var I=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(I.msContentZooming="none",I.msTouchAction="none"):this.supportsPointerEvents&&(I.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},R.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var I=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(I.msContentZooming="",I.msTouchAction=""):this.supportsPointerEvents&&(I.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},R.prototype.tickerUpdate=function(I){this._deltaTime+=I,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},R.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var I in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(I)){var $=this.activeInteractionData[I];if($.originalEvent&&$.pointerType!=="touch"){var N=this.configureInteractionEventForDOMEvent(this.eventData,$.originalEvent,$);this.processInteractive(N,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},R.prototype.setCursorMode=function(I){I=I||"default";var $=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&($=!1),this.currentCursorMode!==I){this.currentCursorMode=I;var N=this.cursorStyles[I];if(N)switch(typeof N){case"string":$&&(this.interactionDOMElement.style.cursor=N);break;case"function":N(I);break;case"object":$&&Object.assign(this.interactionDOMElement.style,N);break}else $&&typeof I=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,I)&&(this.interactionDOMElement.style.cursor=I)}},R.prototype.dispatchEvent=function(I,$,N){(!N.stopPropagationHint||I===N.stopsPropagatingAt)&&(N.currentTarget=I,N.type=$,I.emit($,N),I[$]&&I[$](N))},R.prototype.delayDispatchEvent=function(I,$,N){this.delayedEvents.push({displayObject:I,eventString:$,eventData:N})},R.prototype.mapPositionToPoint=function(I,$,N){var M;this.interactionDOMElement.parentElement?M=this.interactionDOMElement.getBoundingClientRect():M={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var L=1/this.resolution;I.x=($-M.left)*(this.interactionDOMElement.width/M.width)*L,I.y=(N-M.top)*(this.interactionDOMElement.height/M.height)*L},R.prototype.processInteractive=function(I,$,N,M){var L=this.search.findHit(I,$,N,M),B=this.delayedEvents;if(!B.length)return L;I.stopPropagationHint=!1;var k=B.length;this.delayedEvents=[];for(var U=0;U<k;U++){var H=B[U],z=H.displayObject,V=H.eventString,W=H.eventData;W.stopsPropagatingAt===z&&(W.stopPropagationHint=!0),this.dispatchEvent(z,V,W)}return L},R.prototype.onPointerDown=function(I){if(!(this.supportsTouchEvents&&I.pointerType==="touch")){var $=this.normalizeToPointerData(I);if(this.autoPreventDefault&&$[0].isNormalized){var N=I.cancelable||!("cancelable"in I);N&&I.preventDefault()}for(var M=$.length,L=0;L<M;L++){var B=$[L],k=this.getInteractionDataForPointerId(B),U=this.configureInteractionEventForDOMEvent(this.eventData,B,k);if(U.data.originalEvent=I,this.processInteractive(U,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",U),B.pointerType==="touch")this.emit("touchstart",U);else if(B.pointerType==="mouse"||B.pointerType==="pen"){var H=B.button===2;this.emit(H?"rightdown":"mousedown",this.eventData)}}}},R.prototype.processPointerDown=function(I,$,N){var M=I.data,L=I.data.identifier;if(N){if($.trackedPointers[L]||($.trackedPointers[L]=new InteractionTrackingData(L)),this.dispatchEvent($,"pointerdown",I),M.pointerType==="touch")this.dispatchEvent($,"touchstart",I);else if(M.pointerType==="mouse"||M.pointerType==="pen"){var B=M.button===2;B?$.trackedPointers[L].rightDown=!0:$.trackedPointers[L].leftDown=!0,this.dispatchEvent($,B?"rightdown":"mousedown",I)}}},R.prototype.onPointerComplete=function(I,$,N){var M=this.normalizeToPointerData(I),L=M.length,B=I.target;I.composedPath&&I.composedPath().length>0&&(B=I.composedPath()[0]);for(var k=B!==this.interactionDOMElement?"outside":"",U=0;U<L;U++){var H=M[U],z=this.getInteractionDataForPointerId(H),V=this.configureInteractionEventForDOMEvent(this.eventData,H,z);if(V.data.originalEvent=I,this.processInteractive(V,this.lastObjectRendered,N,$||!k),this.emit($?"pointercancel":"pointerup"+k,V),H.pointerType==="mouse"||H.pointerType==="pen"){var W=H.button===2;this.emit(W?"rightup"+k:"mouseup"+k,V)}else H.pointerType==="touch"&&(this.emit($?"touchcancel":"touchend"+k,V),this.releaseInteractionDataForPointerId(H.pointerId))}},R.prototype.onPointerCancel=function(I){this.supportsTouchEvents&&I.pointerType==="touch"||this.onPointerComplete(I,!0,this.processPointerCancel)},R.prototype.processPointerCancel=function(I,$){var N=I.data,M=I.data.identifier;$.trackedPointers[M]!==void 0&&(delete $.trackedPointers[M],this.dispatchEvent($,"pointercancel",I),N.pointerType==="touch"&&this.dispatchEvent($,"touchcancel",I))},R.prototype.onPointerUp=function(I){this.supportsTouchEvents&&I.pointerType==="touch"||this.onPointerComplete(I,!1,this.processPointerUp)},R.prototype.processPointerUp=function(I,$,N){var M=I.data,L=I.data.identifier,B=$.trackedPointers[L],k=M.pointerType==="touch",U=M.pointerType==="mouse"||M.pointerType==="pen",H=!1;if(U){var z=M.button===2,V=InteractionTrackingData.FLAGS,W=z?V.RIGHT_DOWN:V.LEFT_DOWN,K=B!==void 0&&B.flags&W;N?(this.dispatchEvent($,z?"rightup":"mouseup",I),K&&(this.dispatchEvent($,z?"rightclick":"click",I),H=!0)):K&&this.dispatchEvent($,z?"rightupoutside":"mouseupoutside",I),B&&(z?B.rightDown=!1:B.leftDown=!1)}N?(this.dispatchEvent($,"pointerup",I),k&&this.dispatchEvent($,"touchend",I),B&&((!U||H)&&this.dispatchEvent($,"pointertap",I),k&&(this.dispatchEvent($,"tap",I),B.over=!1))):B&&(this.dispatchEvent($,"pointerupoutside",I),k&&this.dispatchEvent($,"touchendoutside",I)),B&&B.none&&delete $.trackedPointers[L]},R.prototype.onPointerMove=function(I){if(!(this.supportsTouchEvents&&I.pointerType==="touch")){var $=this.normalizeToPointerData(I);($[0].pointerType==="mouse"||$[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var N=$.length,M=0;M<N;M++){var L=$[M],B=this.getInteractionDataForPointerId(L),k=this.configureInteractionEventForDOMEvent(this.eventData,L,B);k.data.originalEvent=I,this.processInteractive(k,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",k),L.pointerType==="touch"&&this.emit("touchmove",k),(L.pointerType==="mouse"||L.pointerType==="pen")&&this.emit("mousemove",k)}$[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},R.prototype.processPointerMove=function(I,$,N){var M=I.data,L=M.pointerType==="touch",B=M.pointerType==="mouse"||M.pointerType==="pen";B&&this.processPointerOverOut(I,$,N),(!this.moveWhenInside||N)&&(this.dispatchEvent($,"pointermove",I),L&&this.dispatchEvent($,"touchmove",I),B&&this.dispatchEvent($,"mousemove",I))},R.prototype.onPointerOut=function(I){if(!(this.supportsTouchEvents&&I.pointerType==="touch")){var $=this.normalizeToPointerData(I),N=$[0];N.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var M=this.getInteractionDataForPointerId(N),L=this.configureInteractionEventForDOMEvent(this.eventData,N,M);L.data.originalEvent=N,this.processInteractive(L,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",L),N.pointerType==="mouse"||N.pointerType==="pen"?this.emit("mouseout",L):this.releaseInteractionDataForPointerId(M.identifier)}},R.prototype.processPointerOverOut=function(I,$,N){var M=I.data,L=I.data.identifier,B=M.pointerType==="mouse"||M.pointerType==="pen",k=$.trackedPointers[L];N&&!k&&(k=$.trackedPointers[L]=new InteractionTrackingData(L)),k!==void 0&&(N&&this.mouseOverRenderer?(k.over||(k.over=!0,this.delayDispatchEvent($,"pointerover",I),B&&this.delayDispatchEvent($,"mouseover",I)),B&&this.cursor===null&&(this.cursor=$.cursor)):k.over&&(k.over=!1,this.dispatchEvent($,"pointerout",this.eventData),B&&this.dispatchEvent($,"mouseout",I),k.none&&delete $.trackedPointers[L]))},R.prototype.onPointerOver=function(I){var $=this.normalizeToPointerData(I),N=$[0],M=this.getInteractionDataForPointerId(N),L=this.configureInteractionEventForDOMEvent(this.eventData,N,M);L.data.originalEvent=N,N.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",L),(N.pointerType==="mouse"||N.pointerType==="pen")&&this.emit("mouseover",L)},R.prototype.getInteractionDataForPointerId=function(I){var $=I.pointerId,N;return $===MOUSE_POINTER_ID||I.pointerType==="mouse"?N=this.mouse:this.activeInteractionData[$]?N=this.activeInteractionData[$]:(N=this.interactionDataPool.pop()||new InteractionData,N.identifier=$,this.activeInteractionData[$]=N),N.copyEvent(I),N},R.prototype.releaseInteractionDataForPointerId=function(I){var $=this.activeInteractionData[I];$&&(delete this.activeInteractionData[I],$.reset(),this.interactionDataPool.push($))},R.prototype.configureInteractionEventForDOMEvent=function(I,$,N){return I.data=N,this.mapPositionToPoint(N.global,$.clientX,$.clientY),$.pointerType==="touch"&&($.globalX=N.global.x,$.globalY=N.global.y),N.originalEvent=$,I.reset(),I},R.prototype.normalizeToPointerData=function(I){var $=[];if(this.supportsTouchEvents&&I instanceof TouchEvent)for(var N=0,M=I.changedTouches.length;N<M;N++){var L=I.changedTouches[N];typeof L.button>"u"&&(L.button=I.touches.length?1:0),typeof L.buttons>"u"&&(L.buttons=I.touches.length?1:0),typeof L.isPrimary>"u"&&(L.isPrimary=I.touches.length===1&&I.type==="touchstart"),typeof L.width>"u"&&(L.width=L.radiusX||1),typeof L.height>"u"&&(L.height=L.radiusY||1),typeof L.tiltX>"u"&&(L.tiltX=0),typeof L.tiltY>"u"&&(L.tiltY=0),typeof L.pointerType>"u"&&(L.pointerType="touch"),typeof L.pointerId>"u"&&(L.pointerId=L.identifier||0),typeof L.pressure>"u"&&(L.pressure=L.force||.5),typeof L.twist>"u"&&(L.twist=0),typeof L.tangentialPressure>"u"&&(L.tangentialPressure=0),typeof L.layerX>"u"&&(L.layerX=L.offsetX=L.clientX),typeof L.layerY>"u"&&(L.layerY=L.offsetY=L.clientY),L.isNormalized=!0,$.push(L)}else if(!globalThis.MouseEvent||I instanceof MouseEvent&&(!this.supportsPointerEvents||!(I instanceof globalThis.PointerEvent))){var B=I;typeof B.isPrimary>"u"&&(B.isPrimary=!0),typeof B.width>"u"&&(B.width=1),typeof B.height>"u"&&(B.height=1),typeof B.tiltX>"u"&&(B.tiltX=0),typeof B.tiltY>"u"&&(B.tiltY=0),typeof B.pointerType>"u"&&(B.pointerType="mouse"),typeof B.pointerId>"u"&&(B.pointerId=MOUSE_POINTER_ID),typeof B.pressure>"u"&&(B.pressure=.5),typeof B.twist>"u"&&(B.twist=0),typeof B.tangentialPressure>"u"&&(B.tangentialPressure=0),B.isNormalized=!0,$.push(B)}else $.push(I);return $},R.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},R.extension={name:"interaction",type:[ExtensionType.RendererPlugin,ExtensionType.CanvasRendererPlugin]},R}(n$1);/*!
 * @pixi/extract - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var TEMP_RECT=new Rectangle,BYTES_PER_PIXEL=4,Extract=function(){function T(R){this.renderer=R}return T.prototype.image=function(R,I,$){var N=new Image;return N.src=this.base64(R,I,$),N},T.prototype.base64=function(R,I,$){return this.canvas(R).toDataURL(I,$)},T.prototype.canvas=function(R,I){var $=this.renderer,N,M=!1,L,B=!1;R&&(R instanceof RenderTexture?L=R:(L=this.renderer.generateTexture(R),B=!0)),L?(N=L.baseTexture.resolution,I=I!=null?I:L.frame,M=!1,$.renderTexture.bind(L)):(N=$.resolution,I||(I=TEMP_RECT,I.width=$.width,I.height=$.height),M=!0,$.renderTexture.bind(null));var k=Math.round(I.width*N),U=Math.round(I.height*N),H=new CanvasRenderTarget(k,U,1),z=new Uint8Array(BYTES_PER_PIXEL*k*U),V=$.gl;V.readPixels(Math.round(I.x*N),Math.round(I.y*N),k,U,V.RGBA,V.UNSIGNED_BYTE,z);var W=H.context.getImageData(0,0,k,U);if(T.arrayPostDivide(z,W.data),H.context.putImageData(W,0,0),M){var K=new CanvasRenderTarget(H.width,H.height,1);K.context.scale(1,-1),K.context.drawImage(H.canvas,0,-U),H.destroy(),H=K}return B&&L.destroy(!0),H.canvas},T.prototype.pixels=function(R,I){var $=this.renderer,N,M,L=!1;R&&(R instanceof RenderTexture?M=R:(M=this.renderer.generateTexture(R),L=!0)),M?(N=M.baseTexture.resolution,I=I!=null?I:M.frame,$.renderTexture.bind(M)):(N=$.resolution,I||(I=TEMP_RECT,I.width=$.width,I.height=$.height),$.renderTexture.bind(null));var B=Math.round(I.width*N),k=Math.round(I.height*N),U=new Uint8Array(BYTES_PER_PIXEL*B*k),H=$.gl;return H.readPixels(Math.round(I.x*N),Math.round(I.y*N),B,k,H.RGBA,H.UNSIGNED_BYTE,U),L&&M.destroy(!0),T.arrayPostDivide(U,U),U},T.prototype.destroy=function(){this.renderer=null},T.arrayPostDivide=function(R,I){for(var $=0;$<R.length;$+=4){var N=I[$+3]=R[$+3];N!==0?(I[$]=Math.round(Math.min(R[$]*255/N,255)),I[$+1]=Math.round(Math.min(R[$+1]*255/N,255)),I[$+2]=Math.round(Math.min(R[$+2]*255/N,255))):(I[$]=R[$],I[$+1]=R[$+1],I[$+2]=R[$+2])}},T.extension={name:"extract",type:ExtensionType.RendererPlugin},T}();/*!
 * @pixi/loaders - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var SignalBinding=function(){function T(R,I,$){I===void 0&&(I=!1),this._fn=R,this._once=I,this._thisArg=$,this._next=this._prev=this._owner=null}return T.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},T}();function _addSignalBinding(T,R){return T._head?(T._tail._next=R,R._prev=T._tail,T._tail=R):(T._head=R,T._tail=R),R._owner=T,R}var Signal=function(){function T(){this._head=this._tail=void 0}return T.prototype.handlers=function(R){R===void 0&&(R=!1);var I=this._head;if(R)return!!I;for(var $=[];I;)$.push(I),I=I._next;return $},T.prototype.has=function(R){if(!(R instanceof SignalBinding))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return R._owner===this},T.prototype.dispatch=function(){for(var R=arguments,I=[],$=0;$<arguments.length;$++)I[$]=R[$];var N=this._head;if(!N)return!1;for(;N;)N._once&&this.detach(N),N._fn.apply(N._thisArg,I),N=N._next;return!0},T.prototype.add=function(R,I){if(I===void 0&&(I=null),typeof R!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return _addSignalBinding(this,new SignalBinding(R,!1,I))},T.prototype.once=function(R,I){if(I===void 0&&(I=null),typeof R!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return _addSignalBinding(this,new SignalBinding(R,!0,I))},T.prototype.detach=function(R){if(!(R instanceof SignalBinding))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return R._owner!==this?this:(R._prev&&(R._prev._next=R._next),R._next&&(R._next._prev=R._prev),R===this._head?(this._head=R._next,R._next===null&&(this._tail=null)):R===this._tail&&(this._tail=R._prev,this._tail._next=null),R._owner=null,this)},T.prototype.detachAll=function(){var R=this._head;if(!R)return this;for(this._head=this._tail=null;R;)R._owner=null,R=R._next;return this},T}();function parseUri(T,R){R=R||{};for(var I={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},$=I.parser[R.strictMode?"strict":"loose"].exec(T),N={},M=14;M--;)N[I.key[M]]=$[M]||"";return N[I.q.name]={},N[I.key[12]].replace(I.q.parser,function(L,B,k){B&&(N[I.q.name][B]=k)}),N}var useXdr,tempAnchor=null,STATUS_NONE=0,STATUS_OK=200,STATUS_EMPTY=204,STATUS_IE_BUG_EMPTY=1223,STATUS_TYPE_OK=2;function _noop$1(){}function setExtMap(T,R,I){R&&R.indexOf(".")===0&&(R=R.substring(1)),R&&(T[R]=I)}function reqType(T){return T.toString().replace("object ","")}var LoaderResource=function(){function T(R,I,$){if(this._dequeue=_noop$1,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof R!="string"||typeof I!="string")throw new Error("Both name and url are required for constructing a resource.");$=$||{},this._flags=0,this._setFlag(T.STATUS_FLAGS.DATA_URL,I.indexOf("data:")===0),this.name=R,this.url=I,this.extension=this._getExtension(),this.data=null,this.crossOrigin=$.crossOrigin===!0?"anonymous":$.crossOrigin,this.timeout=$.timeout||0,this.loadType=$.loadType||this._determineLoadType(),this.xhrType=$.xhrType,this.metadata=$.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=T.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_noop$1,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Signal,this.onProgress=new Signal,this.onComplete=new Signal,this.onAfterMiddleware=new Signal}return T.setExtensionLoadType=function(R,I){setExtMap(T._loadTypeMap,R,I)},T.setExtensionXhrType=function(R,I){setExtMap(T._xhrTypeMap,R,I)},Object.defineProperty(T.prototype,"isDataUrl",{get:function(){return this._hasFlag(T.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"isComplete",{get:function(){return this._hasFlag(T.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"isLoading",{get:function(){return this._hasFlag(T.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),T.prototype.complete=function(){this._clearEvents(),this._finish()},T.prototype.abort=function(R){if(!this.error){if(this.error=new Error(R),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=T.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},T.prototype.load=function(R){var I=this;if(!this.isLoading){if(this.isComplete){R&&setTimeout(function(){return R(I)},1);return}else R&&this.onComplete.once(R);switch(this._setFlag(T.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case T.LOAD_TYPE.IMAGE:this.type=T.TYPE.IMAGE,this._loadElement("image");break;case T.LOAD_TYPE.AUDIO:this.type=T.TYPE.AUDIO,this._loadSourceElement("audio");break;case T.LOAD_TYPE.VIDEO:this.type=T.TYPE.VIDEO,this._loadSourceElement("video");break;case T.LOAD_TYPE.XHR:default:typeof useXdr>"u"&&(useXdr=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),useXdr&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},T.prototype._hasFlag=function(R){return(this._flags&R)!==0},T.prototype._setFlag=function(R,I){this._flags=I?this._flags|R:this._flags&~R},T.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},T.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(T.STATUS_FLAGS.COMPLETE,!0),this._setFlag(T.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},T.prototype._loadElement=function(R){this.metadata.loadElement?this.data=this.metadata.loadElement:R==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(R),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},T.prototype._loadSourceElement=function(R){if(this.metadata.loadElement?this.data=this.metadata.loadElement:R==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(R),this.data===null){this.abort("Unsupported element: "+R);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var I=this.metadata.mimeType,$=0;$<this.url.length;++$)this.data.appendChild(this._createSource(R,this.url[$],Array.isArray(I)?I[$]:I));else{var I=this.metadata.mimeType;this.data.appendChild(this._createSource(R,this.url,Array.isArray(I)?I[0]:I))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},T.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var R=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(R.withCredentials=!0),R.open("GET",this.url,!0),R.timeout=this.timeout,this.xhrType===T.XHR_RESPONSE_TYPE.JSON||this.xhrType===T.XHR_RESPONSE_TYPE.DOCUMENT?R.responseType=T.XHR_RESPONSE_TYPE.TEXT:R.responseType=this.xhrType,R.addEventListener("error",this._boundXhrOnError,!1),R.addEventListener("timeout",this._boundXhrOnTimeout,!1),R.addEventListener("abort",this._boundXhrOnAbort,!1),R.addEventListener("progress",this._boundOnProgress,!1),R.addEventListener("load",this._boundXhrOnLoad,!1),R.send()},T.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var R=this.xhr=new globalThis.XDomainRequest;R.timeout=this.timeout||5e3,R.onerror=this._boundXhrOnError,R.ontimeout=this._boundXhrOnTimeout,R.onprogress=this._boundOnProgress,R.onload=this._boundXhrOnLoad,R.open("GET",this.url,!0),setTimeout(function(){return R.send()},1)},T.prototype._createSource=function(R,I,$){$||($=R+"/"+this._getExtension(I));var N=document.createElement("source");return N.src=I,N.type=$,N},T.prototype._onError=function(R){this.abort("Failed to load element using: "+R.target.nodeName)},T.prototype._onProgress=function(R){R&&R.lengthComputable&&this.onProgress.dispatch(this,R.loaded/R.total)},T.prototype._onTimeout=function(){this.abort("Load timed out.")},T.prototype._xhrOnError=function(){var R=this.xhr;this.abort(reqType(R)+" Request failed. Status: "+R.status+', text: "'+R.statusText+'"')},T.prototype._xhrOnTimeout=function(){var R=this.xhr;this.abort(reqType(R)+" Request timed out.")},T.prototype._xhrOnAbort=function(){var R=this.xhr;this.abort(reqType(R)+" Request was aborted by the user.")},T.prototype._xhrOnLoad=function(){var R=this.xhr,I="",$=typeof R.status>"u"?STATUS_OK:R.status;(R.responseType===""||R.responseType==="text"||typeof R.responseType>"u")&&(I=R.responseText),$===STATUS_NONE&&(I.length>0||R.responseType===T.XHR_RESPONSE_TYPE.BUFFER)?$=STATUS_OK:$===STATUS_IE_BUG_EMPTY&&($=STATUS_EMPTY);var N=$/100|0;if(N===STATUS_TYPE_OK)if(this.xhrType===T.XHR_RESPONSE_TYPE.TEXT)this.data=I,this.type=T.TYPE.TEXT;else if(this.xhrType===T.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(I),this.type=T.TYPE.JSON}catch(B){this.abort("Error trying to parse loaded json: "+B);return}else if(this.xhrType===T.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var M=new DOMParser;this.data=M.parseFromString(I,"text/xml")}else{var L=document.createElement("div");L.innerHTML=I,this.data=L}this.type=T.TYPE.XML}catch(B){this.abort("Error trying to parse loaded xml: "+B);return}else this.data=R.response||I;else{this.abort("["+R.status+"] "+R.statusText+": "+R.responseURL);return}this.complete()},T.prototype._determineCrossOrigin=function(R,I){if(R.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";I=I||globalThis.location,tempAnchor||(tempAnchor=document.createElement("a")),tempAnchor.href=R;var $=parseUri(tempAnchor.href,{strictMode:!0}),N=!$.port&&I.port===""||$.port===I.port,M=$.protocol?$.protocol+":":"";return $.host!==I.hostname||!N||M!==I.protocol?"anonymous":""},T.prototype._determineXhrType=function(){return T._xhrTypeMap[this.extension]||T.XHR_RESPONSE_TYPE.TEXT},T.prototype._determineLoadType=function(){return T._loadTypeMap[this.extension]||T.LOAD_TYPE.XHR},T.prototype._getExtension=function(R){R===void 0&&(R=this.url);var I="";if(this.isDataUrl){var $=R.indexOf("/");I=R.substring($+1,R.indexOf(";",$))}else{var N=R.indexOf("?"),M=R.indexOf("#"),L=Math.min(N>-1?N:R.length,M>-1?M:R.length);R=R.substring(0,L),I=R.substring(R.lastIndexOf(".")+1)}return I.toLowerCase()},T.prototype._getMimeFromXhrType=function(R){switch(R){case T.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case T.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case T.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case T.XHR_RESPONSE_TYPE.JSON:return"application/json";case T.XHR_RESPONSE_TYPE.DEFAULT:case T.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},T}();(function(T){(function(R){R[R.NONE=0]="NONE",R[R.DATA_URL=1]="DATA_URL",R[R.COMPLETE=2]="COMPLETE",R[R.LOADING=4]="LOADING"})(T.STATUS_FLAGS||(T.STATUS_FLAGS={})),function(R){R[R.UNKNOWN=0]="UNKNOWN",R[R.JSON=1]="JSON",R[R.XML=2]="XML",R[R.IMAGE=3]="IMAGE",R[R.AUDIO=4]="AUDIO",R[R.VIDEO=5]="VIDEO",R[R.TEXT=6]="TEXT"}(T.TYPE||(T.TYPE={})),function(R){R[R.XHR=1]="XHR",R[R.IMAGE=2]="IMAGE",R[R.AUDIO=3]="AUDIO",R[R.VIDEO=4]="VIDEO"}(T.LOAD_TYPE||(T.LOAD_TYPE={})),function(R){R.DEFAULT="text",R.BUFFER="arraybuffer",R.BLOB="blob",R.DOCUMENT="document",R.JSON="json",R.TEXT="text"}(T.XHR_RESPONSE_TYPE||(T.XHR_RESPONSE_TYPE={})),T._loadTypeMap={gif:T.LOAD_TYPE.IMAGE,png:T.LOAD_TYPE.IMAGE,bmp:T.LOAD_TYPE.IMAGE,jpg:T.LOAD_TYPE.IMAGE,jpeg:T.LOAD_TYPE.IMAGE,tif:T.LOAD_TYPE.IMAGE,tiff:T.LOAD_TYPE.IMAGE,webp:T.LOAD_TYPE.IMAGE,tga:T.LOAD_TYPE.IMAGE,svg:T.LOAD_TYPE.IMAGE,"svg+xml":T.LOAD_TYPE.IMAGE,mp3:T.LOAD_TYPE.AUDIO,ogg:T.LOAD_TYPE.AUDIO,wav:T.LOAD_TYPE.AUDIO,mp4:T.LOAD_TYPE.VIDEO,webm:T.LOAD_TYPE.VIDEO},T._xhrTypeMap={xhtml:T.XHR_RESPONSE_TYPE.DOCUMENT,html:T.XHR_RESPONSE_TYPE.DOCUMENT,htm:T.XHR_RESPONSE_TYPE.DOCUMENT,xml:T.XHR_RESPONSE_TYPE.DOCUMENT,tmx:T.XHR_RESPONSE_TYPE.DOCUMENT,svg:T.XHR_RESPONSE_TYPE.DOCUMENT,tsx:T.XHR_RESPONSE_TYPE.DOCUMENT,gif:T.XHR_RESPONSE_TYPE.BLOB,png:T.XHR_RESPONSE_TYPE.BLOB,bmp:T.XHR_RESPONSE_TYPE.BLOB,jpg:T.XHR_RESPONSE_TYPE.BLOB,jpeg:T.XHR_RESPONSE_TYPE.BLOB,tif:T.XHR_RESPONSE_TYPE.BLOB,tiff:T.XHR_RESPONSE_TYPE.BLOB,webp:T.XHR_RESPONSE_TYPE.BLOB,tga:T.XHR_RESPONSE_TYPE.BLOB,json:T.XHR_RESPONSE_TYPE.JSON,text:T.XHR_RESPONSE_TYPE.TEXT,txt:T.XHR_RESPONSE_TYPE.TEXT,ttf:T.XHR_RESPONSE_TYPE.BUFFER,otf:T.XHR_RESPONSE_TYPE.BUFFER},T.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(LoaderResource||(LoaderResource={}));function _noop(){}function onlyOnce(T){return function(){for(var I=arguments,$=[],N=0;N<arguments.length;N++)$[N]=I[N];if(T===null)throw new Error("Callback was already called.");var M=T;T=null,M.apply(this,$)}}var AsyncQueueItem=function(){function T(R,I){this.data=R,this.callback=I}return T}(),AsyncQueue=function(){function T(R,I){var $=this;if(I===void 0&&(I=1),this.workers=0,this.saturated=_noop,this.unsaturated=_noop,this.empty=_noop,this.drain=_noop,this.error=_noop,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(N,M,L){if(L&&typeof L!="function")throw new Error("task callback must be a function");if($.started=!0,N==null&&$.idle()){setTimeout(function(){return $.drain()},1);return}var B=new AsyncQueueItem(N,typeof L=="function"?L:_noop);M?$._tasks.unshift(B):$._tasks.push(B),setTimeout($.process,1)},this.process=function(){for(;!$.paused&&$.workers<$.concurrency&&$._tasks.length;){var N=$._tasks.shift();$._tasks.length===0&&$.empty(),$.workers+=1,$.workers===$.concurrency&&$.saturated(),$._worker(N.data,onlyOnce($._next(N)))}},this._worker=R,I===0)throw new Error("Concurrency must not be zero");this.concurrency=I,this.buffer=I/4}return T.prototype._next=function(R){var I=this;return function(){for(var $=arguments,N=[],M=0;M<arguments.length;M++)N[M]=$[M];I.workers-=1,R.callback.apply(R,N),N[0]!=null&&I.error(N[0],R.data),I.workers<=I.concurrency-I.buffer&&I.unsaturated(),I.idle()&&I.drain(),I.process()}},T.prototype.push=function(R,I){this._insert(R,!1,I)},T.prototype.kill=function(){this.workers=0,this.drain=_noop,this.started=!1,this._tasks=[]},T.prototype.unshift=function(R,I){this._insert(R,!0,I)},T.prototype.length=function(){return this._tasks.length},T.prototype.running=function(){return this.workers},T.prototype.idle=function(){return this._tasks.length+this.workers===0},T.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},T.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var R=1;R<=this.concurrency;R++)this.process()}},T.eachSeries=function(R,I,$,N){var M=0,L=R.length;function B(k){if(k||M===L){$&&$(k);return}N?setTimeout(function(){I(R[M++],B)},1):I(R[M++],B)}B()},T.queue=function(R,I){return new T(R,I)},T}(),MAX_PROGRESS=100,rgxExtractUrlHash=/(#[\w-]+)?$/,Loader$1=function(){function T(R,I){var $=this;R===void 0&&(R=""),I===void 0&&(I=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(k,U){return $._loadResource(k,U)},this.resources={},this.baseUrl=R,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(k,U){return $._loadResource(k,U)},this._queue=AsyncQueue.queue(this._boundLoadResource,I),this._queue.pause(),this.resources={},this.onProgress=new Signal,this.onError=new Signal,this.onLoad=new Signal,this.onStart=new Signal,this.onComplete=new Signal;for(var N=0;N<T._plugins.length;++N){var M=T._plugins[N],L=M.pre,B=M.use;L&&this.pre(L),B&&this.use(B)}this._protected=!1}return T.prototype._add=function(R,I,$,N){if(this.loading&&(!$||!$.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[R])throw new Error('Resource named "'+R+'" already exists.');if(I=this._prepareUrl(I),this.resources[R]=new LoaderResource(R,I,$),typeof N=="function"&&this.resources[R].onAfterMiddleware.once(N),this.loading){for(var M=$.parentResource,L=[],B=0;B<M.children.length;++B)M.children[B].isComplete||L.push(M.children[B]);var k=M.progressChunk*(L.length+1),U=k/(L.length+2);M.children.push(this.resources[R]),M.progressChunk=U;for(var B=0;B<L.length;++B)L[B].progressChunk=U;this.resources[R].progressChunk=U}return this._queue.push(this.resources[R]),this},T.prototype.pre=function(R){return this._beforeMiddleware.push(R),this},T.prototype.use=function(R){return this._afterMiddleware.push(R),this},T.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var R in this.resources){var I=this.resources[R];I._onLoadBinding&&I._onLoadBinding.detach(),I.isLoading&&I.abort("loader reset")}return this.resources={},this},T.prototype.load=function(R){if(deprecation$1("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof R=="function"&&this.onComplete.once(R),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var I=this._queue._tasks.length,$=MAX_PROGRESS/I,N=0;N<this._queue._tasks.length;++N)this._queue._tasks[N].data.progressChunk=$;this._onStart(),this._queue.resume()}return this},Object.defineProperty(T.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(R){this._queue.concurrency=R},enumerable:!1,configurable:!0}),T.prototype._prepareUrl=function(R){var I=parseUri(R,{strictMode:!0}),$;if(I.protocol||!I.path||R.indexOf("//")===0?$=R:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&R.charAt(0)!=="/"?$=this.baseUrl+"/"+R:$=this.baseUrl+R,this.defaultQueryString){var N=rgxExtractUrlHash.exec($)[0];$=$.slice(0,$.length-N.length),$.indexOf("?")!==-1?$+="&"+this.defaultQueryString:$+="?"+this.defaultQueryString,$+=N}return $},T.prototype._loadResource=function(R,I){var $=this;R._dequeue=I,AsyncQueue.eachSeries(this._beforeMiddleware,function(N,M){N.call($,R,function(){M(R.isComplete?{}:null)})},function(){R.isComplete?$._onLoad(R):(R._onLoadBinding=R.onComplete.once($._onLoad,$),R.load())},!0)},T.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},T.prototype._onComplete=function(){this.progress=MAX_PROGRESS,this.loading=!1,this.onComplete.dispatch(this,this.resources)},T.prototype._onLoad=function(R){var I=this;R._onLoadBinding=null,this._resourcesParsing.push(R),R._dequeue(),AsyncQueue.eachSeries(this._afterMiddleware,function($,N){$.call(I,R,N)},function(){R.onAfterMiddleware.dispatch(R),I.progress=Math.min(MAX_PROGRESS,I.progress+R.progressChunk),I.onProgress.dispatch(I,R),R.error?I.onError.dispatch(R.error,I,R):I.onLoad.dispatch(I,R),I._resourcesParsing.splice(I._resourcesParsing.indexOf(R),1),I._queue.idle()&&I._resourcesParsing.length===0&&I._onComplete()},!0)},T.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(T,"shared",{get:function(){var R=T._shared;return R||(R=new T,R._protected=!0,T._shared=R),R},enumerable:!1,configurable:!0}),T.registerPlugin=function(R){return deprecation$1("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),extensions$1.add({type:ExtensionType.Loader,ref:R}),T},T._plugins=[],T}();extensions$1.handleByList(ExtensionType.Loader,Loader$1._plugins);Loader$1.prototype.add=function(R,I,$,N){if(Array.isArray(R)){for(var M=0;M<R.length;++M)this.add(R[M]);return this}if(typeof R=="object"&&($=R,N=I||$.callback||$.onComplete,I=$.url,R=$.name||$.key||$.url),typeof I!="string"&&(N=$,$=I,I=R),typeof I!="string")throw new Error("No url passed to add resource to loader.");return typeof $=="function"&&(N=$,$=null),this._add(R,I,$,N)};var AppLoaderPlugin=function(){function T(){}return T.init=function(R){R=Object.assign({sharedLoader:!1},R),this.loader=R.sharedLoader?Loader$1.shared:new Loader$1},T.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},T.extension=ExtensionType.Application,T}(),TextureLoader=function(){function T(){}return T.add=function(){LoaderResource.setExtensionLoadType("svg",LoaderResource.LOAD_TYPE.XHR),LoaderResource.setExtensionXhrType("svg",LoaderResource.XHR_RESPONSE_TYPE.TEXT)},T.use=function(R,I){if(R.data&&(R.type===LoaderResource.TYPE.IMAGE||R.extension==="svg")){var $=R.data,N=R.url,M=R.name,L=R.metadata;Texture.fromLoader($,N,M,L).then(function(B){R.texture=B,I()}).catch(I)}else I()},T.extension=ExtensionType.Loader,T}(),_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function encodeBinary(T){for(var R="",I=0;I<T.length;){for(var $=[0,0,0],N=[0,0,0,0],M=0;M<$.length;++M)I<T.length?$[M]=T.charCodeAt(I++)&255:$[M]=0;N[0]=$[0]>>2,N[1]=($[0]&3)<<4|$[1]>>4,N[2]=($[1]&15)<<2|$[2]>>6,N[3]=$[2]&63;var L=I-(T.length-1);switch(L){case 2:N[3]=64,N[2]=64;break;case 1:N[3]=64;break}for(var M=0;M<N.length;++M)R+=_keyStr.charAt(N[M])}return R}function parsing(T,R){if(!T.data){R();return}if(T.xhr&&T.xhrType===LoaderResource.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof T.data=="string"){var I=T.xhr.getResponseHeader("content-type");if(I&&I.indexOf("image")===0){T.data=new Image,T.data.src="data:"+I+";base64,"+encodeBinary(T.xhr.responseText),T.type=LoaderResource.TYPE.IMAGE,T.data.onload=function(){T.data.onload=null,R()};return}}else if(T.data.type.indexOf("image")===0){var $=globalThis.URL||globalThis.webkitURL,N=$.createObjectURL(T.data);T.blob=T.data,T.data=new Image,T.data.src=N,T.type=LoaderResource.TYPE.IMAGE,T.data.onload=function(){$.revokeObjectURL(N),T.data.onload=null,R()};return}}R()}var ParsingLoader=function(){function T(){}return T.extension=ExtensionType.Loader,T.use=parsing,T}();extensions$1.add(TextureLoader,ParsingLoader);/*!
 * @pixi/compressed-textures - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _a$2,INTERNAL_FORMATS;(function(T){T[T.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",T[T.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",T[T.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",T[T.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",T[T.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",T[T.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",T[T.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",T[T.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",T[T.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",T[T.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",T[T.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",T[T.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",T[T.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",T[T.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",T[T.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",T[T.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",T[T.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",T[T.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",T[T.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",T[T.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",T[T.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",T[T.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",T[T.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",T[T.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",T[T.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",T[T.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(INTERNAL_FORMATS||(INTERNAL_FORMATS={}));var INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=(_a$2={},_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_R11_EAC]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SIGNED_R11_EAC]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RG11_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SIGNED_RG11_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB8_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA8_ETC2_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_ETC1_WEBGL]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_ATC_WEBGL]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,_a$2);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$g=function(T,R){return extendStatics$g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$g(T,R)};function __extends$g(T,R){extendStatics$g(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}function __awaiter$5(T,R,I,$){function N(M){return M instanceof I?M:new I(function(L){L(M)})}return new(I||(I=Promise))(function(M,L){function B(H){try{U($.next(H))}catch(z){L(z)}}function k(H){try{U($.throw(H))}catch(z){L(z)}}function U(H){H.done?M(H.value):N(H.value).then(B,k)}U(($=$.apply(T,R||[])).next())})}function __generator$2(T,R){var I={label:0,sent:function(){if(M[0]&1)throw M[1];return M[1]},trys:[],ops:[]},$,N,M,L;return L={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(L[Symbol.iterator]=function(){return this}),L;function B(U){return function(H){return k([U,H])}}function k(U){if($)throw new TypeError("Generator is already executing.");for(;I;)try{if($=1,N&&(M=U[0]&2?N.return:U[0]?N.throw||((M=N.return)&&M.call(N),0):N.next)&&!(M=M.call(N,U[1])).done)return M;switch(N=0,M&&(U=[U[0]&2,M.value]),U[0]){case 0:case 1:M=U;break;case 4:return I.label++,{value:U[1],done:!1};case 5:I.label++,N=U[1],U=[0];continue;case 7:U=I.ops.pop(),I.trys.pop();continue;default:if(M=I.trys,!(M=M.length>0&&M[M.length-1])&&(U[0]===6||U[0]===2)){I=0;continue}if(U[0]===3&&(!M||U[1]>M[0]&&U[1]<M[3])){I.label=U[1];break}if(U[0]===6&&I.label<M[1]){I.label=M[1],M=U;break}if(M&&I.label<M[2]){I.label=M[2],I.ops.push(U);break}M[2]&&I.ops.pop(),I.trys.pop();continue}U=R.call(T,I)}catch(H){U=[6,H],N=0}finally{$=M=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}}var BlobResource=function(T){__extends$g(R,T);function R(I,$){$===void 0&&($={width:1,height:1,autoLoad:!0});var N=this,M,L;return typeof I=="string"?(M=I,L=new Uint8Array):(M=null,L=I),N=T.call(this,L,$)||this,N.origin=M,N.buffer=L?new ViewableBuffer(L):null,N.origin&&$.autoLoad!==!1&&N.load(),L&&L.length&&(N.loaded=!0,N.onBlobLoaded(N.buffer.rawBinaryData)),N}return R.prototype.onBlobLoaded=function(I){},R.prototype.load=function(){return __awaiter$5(this,void 0,Promise,function(){var I,$,N;return __generator$2(this,function(M){switch(M.label){case 0:return[4,fetch(this.origin)];case 1:return I=M.sent(),[4,I.blob()];case 2:return $=M.sent(),[4,$.arrayBuffer()];case 3:return N=M.sent(),this.data=new Uint32Array(N),this.buffer=new ViewableBuffer(N),this.loaded=!0,this.onBlobLoaded(N),this.update(),[2,this]}})})},R}(BufferResource),CompressedTextureResource=function(T){__extends$g(R,T);function R(I,$){var N=T.call(this,I,$)||this;return N.format=$.format,N.levels=$.levels||1,N._width=$.width,N._height=$.height,N._extension=R._formatToExtension(N.format),($.levelBuffers||N.buffer)&&(N._levelBuffers=$.levelBuffers||R._createLevelBuffers(I instanceof Uint8Array?I:N.buffer.uint8View,N.format,N.levels,4,4,N.width,N.height)),N}return R.prototype.upload=function(I,$,N){var M=I.gl,L=I.context.extensions[this._extension];if(!L)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var B=0,k=this.levels;B<k;B++){var U=this._levelBuffers[B],H=U.levelID,z=U.levelWidth,V=U.levelHeight,W=U.levelBuffer;M.compressedTexImage2D(M.TEXTURE_2D,H,this.format,z,V,0,W)}return!0},R.prototype.onBlobLoaded=function(){this._levelBuffers=R._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},R._formatToExtension=function(I){if(I>=33776&&I<=33779)return"s3tc";if(I>=37488&&I<=37497)return"etc";if(I>=35840&&I<=35843)return"pvrtc";if(I>=36196)return"etc1";if(I>=35986&&I<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},R._createLevelBuffers=function(I,$,N,M,L,B,k){for(var U=new Array(N),H=I.byteOffset,z=B,V=k,W=z+M-1&~(M-1),K=V+L-1&~(L-1),Y=W*K*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[$],q=0;q<N;q++)U[q]={levelID:q,levelWidth:N>1?z:W,levelHeight:N>1?V:K,levelBuffer:new Uint8Array(I.buffer,H,Y)},H+=Y,z=z>>1||1,V=V>>1||1,W=z+M-1&~(M-1),K=V+L-1&~(L-1),Y=W*K*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[$];return U},R}(BlobResource),CompressedTextureLoader=function(){function T(){}return T.use=function(R,I){var $=R.data,N=this;if(R.type===LoaderResource.TYPE.JSON&&$&&$.cacheID&&$.textures){for(var M=$.textures,L=void 0,B=void 0,k=0,U=M.length;k<U;k++){var H=M[k],z=H.src,V=H.format;if(V||(B=z),T.textureFormats[V]){L=z;break}}if(L=L||B,!L){I(new Error("Cannot load compressed-textures in "+R.url+", make sure you provide a fallback"));return}if(L===R.url){I(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var W={crossOrigin:R.crossOrigin,metadata:R.metadata.imageMetadata,parentResource:R},K=url.resolve(R.url.replace(N.baseUrl,""),L),Y=$.cacheID;N.add(Y,K,W,function(q){if(q.error){I(q.error);return}var Z=q.texture,Q=Z===void 0?null:Z,ee=q.textures,ne=ee===void 0?{}:ee;Object.assign(R,{texture:Q,textures:ne}),I()})}else I()},Object.defineProperty(T,"textureExtensions",{get:function(){if(!T._textureExtensions){var R=document.createElement("canvas"),I=R.getContext("webgl");if(!I)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var $={s3tc:I.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:I.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:I.getExtension("WEBGL_compressed_texture_etc"),etc1:I.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:I.getExtension("WEBGL_compressed_texture_pvrtc")||I.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:I.getExtension("WEBGL_compressed_texture_atc"),astc:I.getExtension("WEBGL_compressed_texture_astc")};T._textureExtensions=$}return T._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(T,"textureFormats",{get:function(){if(!T._textureFormats){var R=T.textureExtensions;T._textureFormats={};for(var I in R){var $=R[I];!$||Object.assign(T._textureFormats,Object.getPrototypeOf($))}}return T._textureFormats},enumerable:!1,configurable:!0}),T.extension=ExtensionType.Loader,T}();function registerCompressedTextures(T,R,I){var $={textures:{},texture:null};if(!R)return $;var N=R.map(function(M){return new Texture(new BaseTexture(M,Object.assign({mipmap:MIPMAP_MODES$5.OFF,alphaMode:ALPHA_MODES$5.NO_PREMULTIPLIED_ALPHA},I)))});return N.forEach(function(M,L){var B=M.baseTexture,k=T+"-"+(L+1);BaseTexture.addToCache(B,k),Texture.addToCache(M,k),L===0&&(BaseTexture.addToCache(B,T),Texture.addToCache(M,T),$.texture=M),$.textures[k]=M}),$}var _a$1$1,_b$1,DDS_MAGIC_SIZE=4,DDS_HEADER_SIZE=124,DDS_HEADER_PF_SIZE=32,DDS_HEADER_DX10_SIZE=20,DDS_MAGIC=542327876,DDS_FIELDS={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},DDS_PF_FIELDS={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},DDS_DX10_FIELDS={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},DXGI_FORMAT;(function(T){T[T.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",T[T.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",T[T.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",T[T.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",T[T.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",T[T.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",T[T.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",T[T.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",T[T.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",T[T.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",T[T.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",T[T.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",T[T.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",T[T.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",T[T.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",T[T.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",T[T.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",T[T.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",T[T.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",T[T.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",T[T.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",T[T.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",T[T.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",T[T.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",T[T.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",T[T.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",T[T.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",T[T.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",T[T.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",T[T.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",T[T.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",T[T.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",T[T.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",T[T.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",T[T.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",T[T.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",T[T.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",T[T.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",T[T.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",T[T.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",T[T.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",T[T.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",T[T.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",T[T.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",T[T.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",T[T.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",T[T.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",T[T.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",T[T.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",T[T.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",T[T.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",T[T.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",T[T.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",T[T.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",T[T.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",T[T.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",T[T.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",T[T.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",T[T.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",T[T.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",T[T.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",T[T.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",T[T.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",T[T.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",T[T.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",T[T.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",T[T.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",T[T.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",T[T.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",T[T.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",T[T.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",T[T.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",T[T.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",T[T.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",T[T.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",T[T.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",T[T.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",T[T.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",T[T.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",T[T.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",T[T.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",T[T.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",T[T.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",T[T.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",T[T.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",T[T.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",T[T.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",T[T.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",T[T.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",T[T.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",T[T.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",T[T.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",T[T.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",T[T.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",T[T.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",T[T.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",T[T.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",T[T.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",T[T.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",T[T.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",T[T.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",T[T.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",T[T.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",T[T.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",T[T.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",T[T.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",T[T.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",T[T.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",T[T.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",T[T.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",T[T.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",T[T.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",T[T.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",T[T.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",T[T.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",T[T.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",T[T.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",T[T.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",T[T.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",T[T.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",T[T.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",T[T.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(DXGI_FORMAT||(DXGI_FORMAT={}));var D3D10_RESOURCE_DIMENSION;(function(T){T[T.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",T[T.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",T[T.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(D3D10_RESOURCE_DIMENSION||(D3D10_RESOURCE_DIMENSION={}));var PF_FLAGS=1,DDPF_ALPHA=2,DDPF_FOURCC=4,DDPF_RGB=64,DDPF_YUV=512,DDPF_LUMINANCE=131072,FOURCC_DXT1=827611204,FOURCC_DXT3=861165636,FOURCC_DXT5=894720068,FOURCC_DX10=808540228,DDS_RESOURCE_MISC_TEXTURECUBE=4,FOURCC_TO_FORMAT=(_a$1$1={},_a$1$1[FOURCC_DXT1]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_a$1$1[FOURCC_DXT3]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_a$1$1[FOURCC_DXT5]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_a$1$1),DXGI_TO_FORMAT=(_b$1={},_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,_b$1);function parseDDS(T){var R=new Uint32Array(T),I=R[0];if(I!==DDS_MAGIC)throw new Error("Invalid DDS file magic word");var $=new Uint32Array(T,0,DDS_HEADER_SIZE/Uint32Array.BYTES_PER_ELEMENT),N=$[DDS_FIELDS.HEIGHT],M=$[DDS_FIELDS.WIDTH],L=$[DDS_FIELDS.MIPMAP_COUNT],B=new Uint32Array(T,DDS_FIELDS.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,DDS_HEADER_PF_SIZE/Uint32Array.BYTES_PER_ELEMENT),k=B[PF_FLAGS];if(k&DDPF_FOURCC){var U=B[DDS_PF_FIELDS.FOURCC];if(U!==FOURCC_DX10){var H=FOURCC_TO_FORMAT[U],z=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,V=new Uint8Array(T,z),W=new CompressedTextureResource(V,{format:H,width:M,height:N,levels:L});return[W]}var K=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,Y=new Uint32Array(R.buffer,K,DDS_HEADER_DX10_SIZE/Uint32Array.BYTES_PER_ELEMENT),q=Y[DDS_DX10_FIELDS.DXGI_FORMAT],Z=Y[DDS_DX10_FIELDS.RESOURCE_DIMENSION],Q=Y[DDS_DX10_FIELDS.MISC_FLAG],ee=Y[DDS_DX10_FIELDS.ARRAY_SIZE],ne=DXGI_TO_FORMAT[q];if(ne===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+q);if(Q===DDS_RESOURCE_MISC_TEXTURECUBE)throw new Error("DDSParser does not support cubemap textures");if(Z===D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var te=new Array,re=DDS_MAGIC_SIZE+DDS_HEADER_SIZE+DDS_HEADER_DX10_SIZE;if(ee===1)te.push(new Uint8Array(T,re));else{for(var ie=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[ne],se=0,le=M,he=N,pe=0;pe<L;pe++){var fe=Math.max(1,le+3&-4),Se=Math.max(1,he+3&-4),Pe=fe*Se*ie;se+=Pe,le=le>>>1,he=he>>>1}for(var ye=re,pe=0;pe<ee;pe++)te.push(new Uint8Array(T,ye,se)),ye+=se}return te.map(function(we){return new CompressedTextureResource(we,{format:ne,width:M,height:N,levels:L})})}throw k&DDPF_RGB?new Error("DDSParser does not support uncompressed texture data."):k&DDPF_YUV?new Error("DDSParser does not supported YUV uncompressed texture data."):k&DDPF_LUMINANCE?new Error("DDSParser does not support single-channel (lumninance) texture data!"):k&DDPF_ALPHA?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var _a$3,_b$2,_c$1,FILE_IDENTIFIER=[171,75,84,88,32,49,49,187,13,10,26,10],ENDIANNESS=67305985,KTX_FIELDS={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},FILE_HEADER_SIZE=64,TYPES_TO_BYTES_PER_COMPONENT=(_a$3={},_a$3[TYPES$5.UNSIGNED_BYTE]=1,_a$3[TYPES$5.UNSIGNED_SHORT]=2,_a$3[TYPES$5.INT]=4,_a$3[TYPES$5.UNSIGNED_INT]=4,_a$3[TYPES$5.FLOAT]=4,_a$3[TYPES$5.HALF_FLOAT]=8,_a$3),FORMATS_TO_COMPONENTS=(_b$2={},_b$2[FORMATS$5.RGBA]=4,_b$2[FORMATS$5.RGB]=3,_b$2[FORMATS$5.RG]=2,_b$2[FORMATS$5.RED]=1,_b$2[FORMATS$5.LUMINANCE]=1,_b$2[FORMATS$5.LUMINANCE_ALPHA]=2,_b$2[FORMATS$5.ALPHA]=1,_b$2),TYPES_TO_BYTES_PER_PIXEL=(_c$1={},_c$1[TYPES$5.UNSIGNED_SHORT_4_4_4_4]=2,_c$1[TYPES$5.UNSIGNED_SHORT_5_5_5_1]=2,_c$1[TYPES$5.UNSIGNED_SHORT_5_6_5]=2,_c$1);function parseKTX(T,R,I){I===void 0&&(I=!1);var $=new DataView(R);if(!validate(T,$))return null;var N=$.getUint32(KTX_FIELDS.ENDIANNESS,!0)===ENDIANNESS,M=$.getUint32(KTX_FIELDS.GL_TYPE,N),L=$.getUint32(KTX_FIELDS.GL_FORMAT,N),B=$.getUint32(KTX_FIELDS.GL_INTERNAL_FORMAT,N),k=$.getUint32(KTX_FIELDS.PIXEL_WIDTH,N),U=$.getUint32(KTX_FIELDS.PIXEL_HEIGHT,N)||1,H=$.getUint32(KTX_FIELDS.PIXEL_DEPTH,N)||1,z=$.getUint32(KTX_FIELDS.NUMBER_OF_ARRAY_ELEMENTS,N)||1,V=$.getUint32(KTX_FIELDS.NUMBER_OF_FACES,N),W=$.getUint32(KTX_FIELDS.NUMBER_OF_MIPMAP_LEVELS,N),K=$.getUint32(KTX_FIELDS.BYTES_OF_KEY_VALUE_DATA,N);if(U===0||H!==1)throw new Error("Only 2D textures are supported");if(V!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(z!==1)throw new Error("WebGL does not support array textures");var Y=4,q=4,Z=k+3&-4,Q=U+3&-4,ee=new Array(z),ne=k*U;M===0&&(ne=Z*Q);var te;if(M!==0?TYPES_TO_BYTES_PER_COMPONENT[M]?te=TYPES_TO_BYTES_PER_COMPONENT[M]*FORMATS_TO_COMPONENTS[L]:te=TYPES_TO_BYTES_PER_PIXEL[M]:te=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[B],te===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var re=I?parseKvData($,K,N):null,ie=ne*te,se=ie,le=k,he=U,pe=Z,fe=Q,Se=FILE_HEADER_SIZE+K,Pe=0;Pe<W;Pe++){for(var ye=$.getUint32(Se,N),we=Se+4,Ee=0;Ee<z;Ee++){var He=ee[Ee];He||(He=ee[Ee]=new Array(W)),He[Pe]={levelID:Pe,levelWidth:W>1||M!==0?le:pe,levelHeight:W>1||M!==0?he:fe,levelBuffer:new Uint8Array(R,we,se)},we+=se}Se+=ye+4,Se=Se%4!==0?Se+4-Se%4:Se,le=le>>1||1,he=he>>1||1,pe=le+Y-1&~(Y-1),fe=he+q-1&~(q-1),se=pe*fe*te}return M!==0?{uncompressed:ee.map(function(Ae){var de=Ae[0].levelBuffer,Oe=!1;return M===TYPES$5.FLOAT?de=new Float32Array(Ae[0].levelBuffer.buffer,Ae[0].levelBuffer.byteOffset,Ae[0].levelBuffer.byteLength/4):M===TYPES$5.UNSIGNED_INT?(Oe=!0,de=new Uint32Array(Ae[0].levelBuffer.buffer,Ae[0].levelBuffer.byteOffset,Ae[0].levelBuffer.byteLength/4)):M===TYPES$5.INT&&(Oe=!0,de=new Int32Array(Ae[0].levelBuffer.buffer,Ae[0].levelBuffer.byteOffset,Ae[0].levelBuffer.byteLength/4)),{resource:new BufferResource(de,{width:Ae[0].levelWidth,height:Ae[0].levelHeight}),type:M,format:Oe?convertFormatToInteger(L):L}}),kvData:re}:{compressed:ee.map(function(Ae){return new CompressedTextureResource(null,{format:B,width:k,height:U,levels:W,levelBuffers:Ae})}),kvData:re}}function validate(T,R){for(var I=0;I<FILE_IDENTIFIER.length;I++)if(R.getUint8(I)!==FILE_IDENTIFIER[I])return console.error(T+" is not a valid *.ktx file!"),!1;return!0}function convertFormatToInteger(T){switch(T){case FORMATS$5.RGBA:return FORMATS$5.RGBA_INTEGER;case FORMATS$5.RGB:return FORMATS$5.RGB_INTEGER;case FORMATS$5.RG:return FORMATS$5.RG_INTEGER;case FORMATS$5.RED:return FORMATS$5.RED_INTEGER;default:return T}}function parseKvData(T,R,I){for(var $=new Map,N=0;N<R;){var M=T.getUint32(FILE_HEADER_SIZE+N,I),L=FILE_HEADER_SIZE+N+4,B=3-(M+3)%4;if(M===0||M>R-N){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var k=0;k<M&&T.getUint8(L+k)!==0;k++);if(k===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var U=new TextDecoder().decode(new Uint8Array(T.buffer,L,k)),H=new DataView(T.buffer,L+k+1,M-k-1);$.set(U,H),N+=4+M+B}return $}LoaderResource.setExtensionXhrType("dds",LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var DDSLoader=function(){function T(){}return T.use=function(R,I){if(R.extension==="dds"&&R.data)try{Object.assign(R,registerCompressedTextures(R.name||R.url,parseDDS(R.data),R.metadata))}catch($){I($);return}I()},T.extension=ExtensionType.Loader,T}();LoaderResource.setExtensionXhrType("ktx",LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var KTXLoader=function(){function T(){}return T.use=function(R,I){if(R.extension==="ktx"&&R.data)try{var $=R.name||R.url,N=parseKTX($,R.data,this.loadKeyValueData),M=N.compressed,L=N.uncompressed,B=N.kvData;if(M){var k=registerCompressedTextures($,M,R.metadata);if(B&&k.textures)for(var U in k.textures)k.textures[U].baseTexture.ktxKeyValueData=B;Object.assign(R,k)}else if(L){var H={};L.forEach(function(z,V){var W=new Texture(new BaseTexture(z.resource,{mipmap:MIPMAP_MODES$5.OFF,alphaMode:ALPHA_MODES$5.NO_PREMULTIPLIED_ALPHA,type:z.type,format:z.format})),K=$+"-"+(V+1);B&&(W.baseTexture.ktxKeyValueData=B),BaseTexture.addToCache(W.baseTexture,K),Texture.addToCache(W,K),V===0&&(H[$]=W,BaseTexture.addToCache(W.baseTexture,$),Texture.addToCache(W,$)),H[K]=W}),Object.assign(R,{textures:H})}}catch(z){I(z);return}I()},T.extension=ExtensionType.Loader,T.loadKeyValueData=!1,T}();/*!
 * @pixi/particle-container - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$f=function(T,R){return extendStatics$f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$f(T,R)};function __extends$f(T,R){extendStatics$f(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var ParticleContainer=function(T){__extends$f(R,T);function R(I,$,N,M){I===void 0&&(I=1500),N===void 0&&(N=16384),M===void 0&&(M=!1);var L=T.call(this)||this,B=16384;return N>B&&(N=B),L._properties=[!1,!0,!1,!1,!1],L._maxSize=I,L._batchSize=N,L._buffers=null,L._bufferUpdateIDs=[],L._updateID=0,L.interactiveChildren=!1,L.blendMode=BLEND_MODES$5.NORMAL,L.autoResize=M,L.roundPixels=!0,L.baseTexture=null,L.setProperties($),L._tint=0,L.tintRgb=new Float32Array(4),L.tint=16777215,L}return R.prototype.setProperties=function(I){I&&(this._properties[0]="vertices"in I||"scale"in I?!!I.vertices||!!I.scale:this._properties[0],this._properties[1]="position"in I?!!I.position:this._properties[1],this._properties[2]="rotation"in I?!!I.rotation:this._properties[2],this._properties[3]="uvs"in I?!!I.uvs:this._properties[3],this._properties[4]="tint"in I||"alpha"in I?!!I.tint||!!I.alpha:this._properties[4])},R.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(R.prototype,"tint",{get:function(){return this._tint},set:function(I){this._tint=I,hex2rgb(I,this.tintRgb)},enumerable:!1,configurable:!0}),R.prototype.render=function(I){var $=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return $.onChildrenChange(0)})),I.batch.setObjectRenderer(I.plugins.particle),I.plugins.particle.render(this))},R.prototype.onChildrenChange=function(I){for(var $=Math.floor(I/this._batchSize);this._bufferUpdateIDs.length<$;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[$]=++this._updateID},R.prototype.dispose=function(){if(this._buffers){for(var I=0;I<this._buffers.length;++I)this._buffers[I].destroy();this._buffers=null}},R.prototype.destroy=function(I){T.prototype.destroy.call(this,I),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},R}(Container),ParticleBuffer=function(){function T(R,I,$){this.geometry=new Geometry,this.indexBuffer=null,this.size=$,this.dynamicProperties=[],this.staticProperties=[];for(var N=0;N<R.length;++N){var M=R[N];M={attributeName:M.attributeName,size:M.size,uploadFunction:M.uploadFunction,type:M.type||TYPES$5.FLOAT,offset:M.offset},I[N]?this.dynamicProperties.push(M):this.staticProperties.push(M)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return T.prototype.initBuffers=function(){var R=this.geometry,I=0;this.indexBuffer=new Buffer$2(createIndicesForQuads(this.size),!0,!0),R.addIndex(this.indexBuffer),this.dynamicStride=0;for(var $=0;$<this.dynamicProperties.length;++$){var N=this.dynamicProperties[$];N.offset=I,I+=N.size,this.dynamicStride+=N.size}var M=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(M),this.dynamicDataUint32=new Uint32Array(M),this.dynamicBuffer=new Buffer$2(this.dynamicData,!1,!1);var L=0;this.staticStride=0;for(var $=0;$<this.staticProperties.length;++$){var N=this.staticProperties[$];N.offset=L,L+=N.size,this.staticStride+=N.size}var B=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(B),this.staticDataUint32=new Uint32Array(B),this.staticBuffer=new Buffer$2(this.staticData,!0,!1);for(var $=0;$<this.dynamicProperties.length;++$){var N=this.dynamicProperties[$];R.addAttribute(N.attributeName,this.dynamicBuffer,0,N.type===TYPES$5.UNSIGNED_BYTE,N.type,this.dynamicStride*4,N.offset*4)}for(var $=0;$<this.staticProperties.length;++$){var N=this.staticProperties[$];R.addAttribute(N.attributeName,this.staticBuffer,0,N.type===TYPES$5.UNSIGNED_BYTE,N.type,this.staticStride*4,N.offset*4)}},T.prototype.uploadDynamic=function(R,I,$){for(var N=0;N<this.dynamicProperties.length;N++){var M=this.dynamicProperties[N];M.uploadFunction(R,I,$,M.type===TYPES$5.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,M.offset)}this.dynamicBuffer._updateID++},T.prototype.uploadStatic=function(R,I,$){for(var N=0;N<this.staticProperties.length;N++){var M=this.staticProperties[N];M.uploadFunction(R,I,$,M.type===TYPES$5.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,M.offset)}this.staticBuffer._updateID++},T.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},T}(),fragment$6=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,vertex$3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,ParticleRenderer=function(T){__extends$f(R,T);function R(I){var $=T.call(this,I)||this;return $.shader=null,$.properties=null,$.tempMatrix=new Matrix,$.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:$.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:$.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:$.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:$.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:TYPES$5.UNSIGNED_BYTE,uploadFunction:$.uploadTint,offset:0}],$.shader=Shader.from(vertex$3,fragment$6,{}),$.state=State$1.for2d(),$}return R.prototype.render=function(I){var $=I.children,N=I._maxSize,M=I._batchSize,L=this.renderer,B=$.length;if(B!==0){B>N&&!I.autoResize&&(B=N);var k=I._buffers;k||(k=I._buffers=this.generateBuffers(I));var U=$[0]._texture.baseTexture,H=U.alphaMode>0;this.state.blendMode=correctBlendMode(I.blendMode,H),L.state.set(this.state);var z=L.gl,V=I.worldTransform.copyTo(this.tempMatrix);V.prepend(L.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=V.toArray(!0),this.shader.uniforms.uColor=premultiplyRgba(I.tintRgb,I.worldAlpha,this.shader.uniforms.uColor,H),this.shader.uniforms.uSampler=U,this.renderer.shader.bind(this.shader);for(var W=!1,K=0,Y=0;K<B;K+=M,Y+=1){var q=B-K;q>M&&(q=M),Y>=k.length&&k.push(this._generateOneMoreBuffer(I));var Z=k[Y];Z.uploadDynamic($,K,q);var Q=I._bufferUpdateIDs[Y]||0;W=W||Z._updateID<Q,W&&(Z._updateID=I._updateID,Z.uploadStatic($,K,q)),L.geometry.bind(Z.geometry),z.drawElements(z.TRIANGLES,q*6,z.UNSIGNED_SHORT,0)}}},R.prototype.generateBuffers=function(I){for(var $=[],N=I._maxSize,M=I._batchSize,L=I._properties,B=0;B<N;B+=M)$.push(new ParticleBuffer(this.properties,L,M));return $},R.prototype._generateOneMoreBuffer=function(I){var $=I._batchSize,N=I._properties;return new ParticleBuffer(this.properties,N,$)},R.prototype.uploadVertices=function(I,$,N,M,L,B){for(var k=0,U=0,H=0,z=0,V=0;V<N;++V){var W=I[$+V],K=W._texture,Y=W.scale.x,q=W.scale.y,Z=K.trim,Q=K.orig;Z?(U=Z.x-W.anchor.x*Q.width,k=U+Z.width,z=Z.y-W.anchor.y*Q.height,H=z+Z.height):(k=Q.width*(1-W.anchor.x),U=Q.width*-W.anchor.x,H=Q.height*(1-W.anchor.y),z=Q.height*-W.anchor.y),M[B]=U*Y,M[B+1]=z*q,M[B+L]=k*Y,M[B+L+1]=z*q,M[B+L*2]=k*Y,M[B+L*2+1]=H*q,M[B+L*3]=U*Y,M[B+L*3+1]=H*q,B+=L*4}},R.prototype.uploadPosition=function(I,$,N,M,L,B){for(var k=0;k<N;k++){var U=I[$+k].position;M[B]=U.x,M[B+1]=U.y,M[B+L]=U.x,M[B+L+1]=U.y,M[B+L*2]=U.x,M[B+L*2+1]=U.y,M[B+L*3]=U.x,M[B+L*3+1]=U.y,B+=L*4}},R.prototype.uploadRotation=function(I,$,N,M,L,B){for(var k=0;k<N;k++){var U=I[$+k].rotation;M[B]=U,M[B+L]=U,M[B+L*2]=U,M[B+L*3]=U,B+=L*4}},R.prototype.uploadUvs=function(I,$,N,M,L,B){for(var k=0;k<N;++k){var U=I[$+k]._texture._uvs;U?(M[B]=U.x0,M[B+1]=U.y0,M[B+L]=U.x1,M[B+L+1]=U.y1,M[B+L*2]=U.x2,M[B+L*2+1]=U.y2,M[B+L*3]=U.x3,M[B+L*3+1]=U.y3,B+=L*4):(M[B]=0,M[B+1]=0,M[B+L]=0,M[B+L+1]=0,M[B+L*2]=0,M[B+L*2+1]=0,M[B+L*3]=0,M[B+L*3+1]=0,B+=L*4)}},R.prototype.uploadTint=function(I,$,N,M,L,B){for(var k=0;k<N;++k){var U=I[$+k],H=U._texture.baseTexture.alphaMode>0,z=U.alpha,V=z<1&&H?premultiplyTint(U._tintRGB,z):U._tintRGB+(z*255<<24);M[B]=V,M[B+L]=V,M[B+L*2]=V,M[B+L*3]=V,B+=L*4}},R.prototype.destroy=function(){T.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},R.extension={name:"particle",type:ExtensionType.RendererPlugin},R}(ObjectRenderer);/*!
 * @pixi/graphics - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var LINE_JOIN;(function(T){T.MITER="miter",T.BEVEL="bevel",T.ROUND="round"})(LINE_JOIN||(LINE_JOIN={}));var LINE_CAP;(function(T){T.BUTT="butt",T.ROUND="round",T.SQUARE="square"})(LINE_CAP||(LINE_CAP={}));var GRAPHICS_CURVES={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(T,R){if(R===void 0&&(R=20),!this.adaptive||!T||isNaN(T))return R;var I=Math.ceil(T/this.maxLength);return I<this.minSegments?I=this.minSegments:I>this.maxSegments&&(I=this.maxSegments),I}},FillStyle=function(){function T(){this.color=16777215,this.alpha=1,this.texture=Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}return T.prototype.clone=function(){var R=new T;return R.color=this.color,R.alpha=this.alpha,R.texture=this.texture,R.matrix=this.matrix,R.visible=this.visible,R},T.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Texture.WHITE,this.matrix=null,this.visible=!1},T.prototype.destroy=function(){this.texture=null,this.matrix=null},T}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$e=function(T,R){return extendStatics$e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$e(T,R)};function __extends$e(T,R){extendStatics$e(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}function fixOrientation(T,R){var I,$;R===void 0&&(R=!1);var N=T.length;if(!(N<6)){for(var M=0,L=0,B=T[N-2],k=T[N-1];L<N;L+=2){var U=T[L],H=T[L+1];M+=(U-B)*(H+k),B=U,k=H}if(!R&&M>0||R&&M<=0)for(var z=N/2,L=z+z%2;L<N;L+=2){var V=N-L-2,W=N-L-1,K=L,Y=L+1;I=[T[K],T[V]],T[V]=I[0],T[K]=I[1],$=[T[Y],T[W]],T[W]=$[0],T[Y]=$[1]}}}var buildPoly={build:function(T){T.points=T.shape.points.slice()},triangulate:function(T,R){var I=T.points,$=T.holes,N=R.points,M=R.indices;if(I.length>=6){fixOrientation(I,!1);for(var L=[],B=0;B<$.length;B++){var k=$[B];fixOrientation(k.points,!0),L.push(I.length/2),I=I.concat(k.points)}var U=earcut$1.exports(I,L,2);if(!U)return;for(var H=N.length/2,B=0;B<U.length;B+=3)M.push(U[B]+H),M.push(U[B+1]+H),M.push(U[B+2]+H);for(var B=0;B<I.length;B++)N.push(I[B])}}},buildCircle={build:function(T){var R=T.points,I,$,N,M,L,B;if(T.type===SHAPES.CIRC){var k=T.shape;I=k.x,$=k.y,L=B=k.radius,N=M=0}else if(T.type===SHAPES.ELIP){var U=T.shape;I=U.x,$=U.y,L=U.width,B=U.height,N=M=0}else{var H=T.shape,z=H.width/2,V=H.height/2;I=H.x+z,$=H.y+V,L=B=Math.max(0,Math.min(H.radius,Math.min(z,V))),N=z-L,M=V-B}if(!(L>=0&&B>=0&&N>=0&&M>=0)){R.length=0;return}var W=Math.ceil(2.3*Math.sqrt(L+B)),K=W*8+(N?4:0)+(M?4:0);if(R.length=K,K!==0){if(W===0){R.length=8,R[0]=R[6]=I+N,R[1]=R[3]=$+M,R[2]=R[4]=I-N,R[5]=R[7]=$-M;return}var Y=0,q=W*4+(N?2:0)+2,Z=q,Q=K;{var ee=N+L,ne=M,te=I+ee,re=I-ee,ie=$+ne;if(R[Y++]=te,R[Y++]=ie,R[--q]=ie,R[--q]=re,M){var se=$-ne;R[Z++]=re,R[Z++]=se,R[--Q]=se,R[--Q]=te}}for(var le=1;le<W;le++){var he=Math.PI/2*(le/W),ee=N+Math.cos(he)*L,ne=M+Math.sin(he)*B,te=I+ee,re=I-ee,ie=$+ne,se=$-ne;R[Y++]=te,R[Y++]=ie,R[--q]=ie,R[--q]=re,R[Z++]=re,R[Z++]=se,R[--Q]=se,R[--Q]=te}{var ee=N,ne=M+B,te=I+ee,re=I-ee,ie=$+ne,se=$-ne;R[Y++]=te,R[Y++]=ie,R[--Q]=se,R[--Q]=te,N&&(R[Y++]=re,R[Y++]=ie,R[--Q]=se,R[--Q]=re)}}},triangulate:function(T,R){var I=T.points,$=R.points,N=R.indices;if(I.length!==0){var M=$.length/2,L=M,B,k;if(T.type!==SHAPES.RREC){var U=T.shape;B=U.x,k=U.y}else{var H=T.shape;B=H.x+H.width/2,k=H.y+H.height/2}var z=T.matrix;$.push(T.matrix?z.a*B+z.c*k+z.tx:B,T.matrix?z.b*B+z.d*k+z.ty:k),M++,$.push(I[0],I[1]);for(var V=2;V<I.length;V+=2)$.push(I[V],I[V+1]),N.push(M++,L,M);N.push(L+1,L,M)}}},buildRectangle={build:function(T){var R=T.shape,I=R.x,$=R.y,N=R.width,M=R.height,L=T.points;L.length=0,L.push(I,$,I+N,$,I+N,$+M,I,$+M)},triangulate:function(T,R){var I=T.points,$=R.points,N=$.length/2;$.push(I[0],I[1],I[2],I[3],I[6],I[7],I[4],I[5]),R.indices.push(N,N+1,N+2,N+1,N+2,N+3)}};function getPt(T,R,I){var $=R-T;return T+$*I}function quadraticBezierCurve(T,R,I,$,N,M,L){L===void 0&&(L=[]);for(var B=20,k=L,U=0,H=0,z=0,V=0,W=0,K=0,Y=0,q=0;Y<=B;++Y)q=Y/B,U=getPt(T,I,q),H=getPt(R,$,q),z=getPt(I,N,q),V=getPt($,M,q),W=getPt(U,z,q),K=getPt(H,V,q),!(Y===0&&k[k.length-2]===W&&k[k.length-1]===K)&&k.push(W,K);return k}var buildRoundedRectangle={build:function(T){if(Graphics.nextRoundedRectBehavior){buildCircle.build(T);return}var R=T.shape,I=T.points,$=R.x,N=R.y,M=R.width,L=R.height,B=Math.max(0,Math.min(R.radius,Math.min(M,L)/2));I.length=0,B?(quadraticBezierCurve($,N+B,$,N,$+B,N,I),quadraticBezierCurve($+M-B,N,$+M,N,$+M,N+B,I),quadraticBezierCurve($+M,N+L-B,$+M,N+L,$+M-B,N+L,I),quadraticBezierCurve($+B,N+L,$,N+L,$,N+L-B,I)):I.push($,N,$+M,N,$+M,N+L,$,N+L)},triangulate:function(T,R){if(Graphics.nextRoundedRectBehavior){buildCircle.triangulate(T,R);return}for(var I=T.points,$=R.points,N=R.indices,M=$.length/2,L=earcut$1.exports(I,null,2),B=0,k=L.length;B<k;B+=3)N.push(L[B]+M),N.push(L[B+1]+M),N.push(L[B+2]+M);for(var B=0,k=I.length;B<k;B++)$.push(I[B],I[++B])}};function square(T,R,I,$,N,M,L,B){var k=T-I*N,U=R-$*N,H=T+I*M,z=R+$*M,V,W;L?(V=$,W=-I):(V=-$,W=I);var K=k+V,Y=U+W,q=H+V,Z=z+W;return B.push(K,Y),B.push(q,Z),2}function round(T,R,I,$,N,M,L,B){var k=I-T,U=$-R,H=Math.atan2(k,U),z=Math.atan2(N-T,M-R);B&&H<z?H+=Math.PI*2:!B&&H>z&&(z+=Math.PI*2);var V=H,W=z-H,K=Math.abs(W),Y=Math.sqrt(k*k+U*U),q=(15*K*Math.sqrt(Y)/Math.PI>>0)+1,Z=W/q;if(V+=Z,B){L.push(T,R),L.push(I,$);for(var Q=1,ee=V;Q<q;Q++,ee+=Z)L.push(T,R),L.push(T+Math.sin(ee)*Y,R+Math.cos(ee)*Y);L.push(T,R),L.push(N,M)}else{L.push(I,$),L.push(T,R);for(var Q=1,ee=V;Q<q;Q++,ee+=Z)L.push(T+Math.sin(ee)*Y,R+Math.cos(ee)*Y),L.push(T,R);L.push(N,M),L.push(T,R)}return q*2}function buildNonNativeLine(T,R){var I=T.shape,$=T.points||I.points.slice(),N=R.closePointEps;if($.length!==0){var M=T.lineStyle,L=new Point($[0],$[1]),B=new Point($[$.length-2],$[$.length-1]),k=I.type!==SHAPES.POLY||I.closeStroke,U=Math.abs(L.x-B.x)<N&&Math.abs(L.y-B.y)<N;if(k){$=$.slice(),U&&($.pop(),$.pop(),B.set($[$.length-2],$[$.length-1]));var H=(L.x+B.x)*.5,z=(B.y+L.y)*.5;$.unshift(H,z),$.push(H,z)}var V=R.points,W=$.length/2,K=$.length,Y=V.length/2,q=M.width/2,Z=q*q,Q=M.miterLimit*M.miterLimit,ee=$[0],ne=$[1],te=$[2],re=$[3],ie=0,se=0,le=-(ne-re),he=ee-te,pe=0,fe=0,Se=Math.sqrt(le*le+he*he);le/=Se,he/=Se,le*=q,he*=q;var Pe=M.alignment,ye=(1-Pe)*2,we=Pe*2;k||(M.cap===LINE_CAP.ROUND?K+=round(ee-le*(ye-we)*.5,ne-he*(ye-we)*.5,ee-le*ye,ne-he*ye,ee+le*we,ne+he*we,V,!0)+2:M.cap===LINE_CAP.SQUARE&&(K+=square(ee,ne,le,he,ye,we,!0,V))),V.push(ee-le*ye,ne-he*ye),V.push(ee+le*we,ne+he*we);for(var Ee=1;Ee<W-1;++Ee){ee=$[(Ee-1)*2],ne=$[(Ee-1)*2+1],te=$[Ee*2],re=$[Ee*2+1],ie=$[(Ee+1)*2],se=$[(Ee+1)*2+1],le=-(ne-re),he=ee-te,Se=Math.sqrt(le*le+he*he),le/=Se,he/=Se,le*=q,he*=q,pe=-(re-se),fe=te-ie,Se=Math.sqrt(pe*pe+fe*fe),pe/=Se,fe/=Se,pe*=q,fe*=q;var He=te-ee,Ae=ne-re,de=te-ie,Oe=se-re,Ve=Ae*de-Oe*He,Ze=Ve<0;if(Math.abs(Ve)<.1){V.push(te-le*ye,re-he*ye),V.push(te+le*we,re+he*we);continue}var nt=(-le+ee)*(-he+re)-(-le+te)*(-he+ne),xe=(-pe+ie)*(-fe+re)-(-pe+te)*(-fe+se),Le=(He*xe-de*nt)/Ve,Ue=(Oe*nt-Ae*xe)/Ve,Xe=(Le-te)*(Le-te)+(Ue-re)*(Ue-re),je=te+(Le-te)*ye,st=re+(Ue-re)*ye,Ye=te-(Le-te)*we,Qe=re-(Ue-re)*we,ce=Math.min(He*He+Ae*Ae,de*de+Oe*Oe),ge=Ze?ye:we,Re=ce+ge*ge*Z,ke=Xe<=Re;ke?M.join===LINE_JOIN.BEVEL||Xe/Z>Q?(Ze?(V.push(je,st),V.push(te+le*we,re+he*we),V.push(je,st),V.push(te+pe*we,re+fe*we)):(V.push(te-le*ye,re-he*ye),V.push(Ye,Qe),V.push(te-pe*ye,re-fe*ye),V.push(Ye,Qe)),K+=2):M.join===LINE_JOIN.ROUND?Ze?(V.push(je,st),V.push(te+le*we,re+he*we),K+=round(te,re,te+le*we,re+he*we,te+pe*we,re+fe*we,V,!0)+4,V.push(je,st),V.push(te+pe*we,re+fe*we)):(V.push(te-le*ye,re-he*ye),V.push(Ye,Qe),K+=round(te,re,te-le*ye,re-he*ye,te-pe*ye,re-fe*ye,V,!1)+4,V.push(te-pe*ye,re-fe*ye),V.push(Ye,Qe)):(V.push(je,st),V.push(Ye,Qe)):(V.push(te-le*ye,re-he*ye),V.push(te+le*we,re+he*we),M.join===LINE_JOIN.ROUND?Ze?K+=round(te,re,te+le*we,re+he*we,te+pe*we,re+fe*we,V,!0)+2:K+=round(te,re,te-le*ye,re-he*ye,te-pe*ye,re-fe*ye,V,!1)+2:M.join===LINE_JOIN.MITER&&Xe/Z<=Q&&(Ze?(V.push(Ye,Qe),V.push(Ye,Qe)):(V.push(je,st),V.push(je,st)),K+=2),V.push(te-pe*ye,re-fe*ye),V.push(te+pe*we,re+fe*we),K+=2)}ee=$[(W-2)*2],ne=$[(W-2)*2+1],te=$[(W-1)*2],re=$[(W-1)*2+1],le=-(ne-re),he=ee-te,Se=Math.sqrt(le*le+he*he),le/=Se,he/=Se,le*=q,he*=q,V.push(te-le*ye,re-he*ye),V.push(te+le*we,re+he*we),k||(M.cap===LINE_CAP.ROUND?K+=round(te-le*(ye-we)*.5,re-he*(ye-we)*.5,te-le*ye,re-he*ye,te+le*we,re+he*we,V,!1)+2:M.cap===LINE_CAP.SQUARE&&(K+=square(te,re,le,he,ye,we,!1,V)));for(var be=R.indices,Be=GRAPHICS_CURVES.epsilon*GRAPHICS_CURVES.epsilon,Ee=Y;Ee<K+Y-2;++Ee)ee=V[Ee*2],ne=V[Ee*2+1],te=V[(Ee+1)*2],re=V[(Ee+1)*2+1],ie=V[(Ee+2)*2],se=V[(Ee+2)*2+1],!(Math.abs(ee*(re-se)+te*(se-ne)+ie*(ne-re))<Be)&&be.push(Ee,Ee+1,Ee+2)}}function buildNativeLine(T,R){var I=0,$=T.shape,N=T.points||$.points,M=$.type!==SHAPES.POLY||$.closeStroke;if(N.length!==0){var L=R.points,B=R.indices,k=N.length/2,U=L.length/2,H=U;for(L.push(N[0],N[1]),I=1;I<k;I++)L.push(N[I*2],N[I*2+1]),B.push(H,H+1),H++;M&&B.push(H,U)}}function buildLine(T,R){T.lineStyle.native?buildNativeLine(T,R):buildNonNativeLine(T,R)}var ArcUtils=function(){function T(){}return T.curveTo=function(R,I,$,N,M,L){var B=L[L.length-2],k=L[L.length-1],U=k-I,H=B-R,z=N-I,V=$-R,W=Math.abs(U*V-H*z);if(W<1e-8||M===0)return(L[L.length-2]!==R||L[L.length-1]!==I)&&L.push(R,I),null;var K=U*U+H*H,Y=z*z+V*V,q=U*z+H*V,Z=M*Math.sqrt(K)/W,Q=M*Math.sqrt(Y)/W,ee=Z*q/K,ne=Q*q/Y,te=Z*V+Q*H,re=Z*z+Q*U,ie=H*(Q+ee),se=U*(Q+ee),le=V*(Z+ne),he=z*(Z+ne),pe=Math.atan2(se-re,ie-te),fe=Math.atan2(he-re,le-te);return{cx:te+R,cy:re+I,radius:M,startAngle:pe,endAngle:fe,anticlockwise:H*z>V*U}},T.arc=function(R,I,$,N,M,L,B,k,U){for(var H=B-L,z=GRAPHICS_CURVES._segmentsCount(Math.abs(H)*M,Math.ceil(Math.abs(H)/PI_2)*40),V=H/(z*2),W=V*2,K=Math.cos(V),Y=Math.sin(V),q=z-1,Z=q%1/q,Q=0;Q<=q;++Q){var ee=Q+Z*Q,ne=V+L+W*ee,te=Math.cos(ne),re=-Math.sin(ne);U.push((K*te+Y*re)*M+$,(K*-re+Y*te)*M+N)}},T}(),BezierUtils=function(){function T(){}return T.curveLength=function(R,I,$,N,M,L,B,k){for(var U=10,H=0,z=0,V=0,W=0,K=0,Y=0,q=0,Z=0,Q=0,ee=0,ne=0,te=R,re=I,ie=1;ie<=U;++ie)z=ie/U,V=z*z,W=V*z,K=1-z,Y=K*K,q=Y*K,Z=q*R+3*Y*z*$+3*K*V*M+W*B,Q=q*I+3*Y*z*N+3*K*V*L+W*k,ee=te-Z,ne=re-Q,te=Z,re=Q,H+=Math.sqrt(ee*ee+ne*ne);return H},T.curveTo=function(R,I,$,N,M,L,B){var k=B[B.length-2],U=B[B.length-1];B.length-=2;var H=GRAPHICS_CURVES._segmentsCount(T.curveLength(k,U,R,I,$,N,M,L)),z=0,V=0,W=0,K=0,Y=0;B.push(k,U);for(var q=1,Z=0;q<=H;++q)Z=q/H,z=1-Z,V=z*z,W=V*z,K=Z*Z,Y=K*Z,B.push(W*k+3*V*Z*R+3*z*K*$+Y*M,W*U+3*V*Z*I+3*z*K*N+Y*L)},T}(),QuadraticUtils=function(){function T(){}return T.curveLength=function(R,I,$,N,M,L){var B=R-2*$+M,k=I-2*N+L,U=2*$-2*R,H=2*N-2*I,z=4*(B*B+k*k),V=4*(B*U+k*H),W=U*U+H*H,K=2*Math.sqrt(z+V+W),Y=Math.sqrt(z),q=2*z*Y,Z=2*Math.sqrt(W),Q=V/Y;return(q*K+Y*V*(K-Z)+(4*W*z-V*V)*Math.log((2*Y+Q+K)/(Q+Z)))/(4*q)},T.curveTo=function(R,I,$,N,M){for(var L=M[M.length-2],B=M[M.length-1],k=GRAPHICS_CURVES._segmentsCount(T.curveLength(L,B,R,I,$,N)),U=0,H=0,z=1;z<=k;++z){var V=z/k;U=L+(R-L)*V,H=B+(I-B)*V,M.push(U+(R+($-R)*V-U)*V,H+(I+(N-I)*V-H)*V)}},T}(),BatchPart=function(){function T(){this.reset()}return T.prototype.begin=function(R,I,$){this.reset(),this.style=R,this.start=I,this.attribStart=$},T.prototype.end=function(R,I){this.attribSize=I-this.attribStart,this.size=R-this.start},T.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},T}(),_a$1,FILL_COMMANDS=(_a$1={},_a$1[SHAPES.POLY]=buildPoly,_a$1[SHAPES.CIRC]=buildCircle,_a$1[SHAPES.ELIP]=buildCircle,_a$1[SHAPES.RECT]=buildRectangle,_a$1[SHAPES.RREC]=buildRoundedRectangle,_a$1),BATCH_POOL=[],DRAW_CALL_POOL=[],GraphicsData=function(){function T(R,I,$,N){I===void 0&&(I=null),$===void 0&&($=null),N===void 0&&(N=null),this.points=[],this.holes=[],this.shape=R,this.lineStyle=$,this.fillStyle=I,this.matrix=N,this.type=R.type}return T.prototype.clone=function(){return new T(this.shape,this.fillStyle,this.lineStyle,this.matrix)},T.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},T}(),tmpPoint=new Point,GraphicsGeometry=function(T){__extends$e(R,T);function R(){var I=T.call(this)||this;return I.closePointEps=1e-4,I.boundsPadding=0,I.uvsFloat32=null,I.indicesUint16=null,I.batchable=!1,I.points=[],I.colors=[],I.uvs=[],I.indices=[],I.textureIds=[],I.graphicsData=[],I.drawCalls=[],I.batchDirty=-1,I.batches=[],I.dirty=0,I.cacheDirty=-1,I.clearDirty=0,I.shapeIndex=0,I._bounds=new Bounds$1,I.boundsDirty=-1,I}return Object.defineProperty(R.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),R.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var I=0;I<this.drawCalls.length;I++)this.drawCalls[I].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[I]);this.drawCalls.length=0;for(var I=0;I<this.batches.length;I++){var $=this.batches[I];$.reset(),BATCH_POOL.push($)}this.batches.length=0},R.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},R.prototype.drawShape=function(I,$,N,M){$===void 0&&($=null),N===void 0&&(N=null),M===void 0&&(M=null);var L=new GraphicsData(I,$,N,M);return this.graphicsData.push(L),this.dirty++,this},R.prototype.drawHole=function(I,$){if($===void 0&&($=null),!this.graphicsData.length)return null;var N=new GraphicsData(I,null,null,$),M=this.graphicsData[this.graphicsData.length-1];return N.lineStyle=M.lineStyle,M.holes.push(N),this.dirty++,this},R.prototype.destroy=function(){T.prototype.destroy.call(this);for(var I=0;I<this.graphicsData.length;++I)this.graphicsData[I].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},R.prototype.containsPoint=function(I){for(var $=this.graphicsData,N=0;N<$.length;++N){var M=$[N];if(!!M.fillStyle.visible&&M.shape&&(M.matrix?M.matrix.applyInverse(I,tmpPoint):tmpPoint.copyFrom(I),M.shape.contains(tmpPoint.x,tmpPoint.y))){var L=!1;if(M.holes)for(var B=0;B<M.holes.length;B++){var k=M.holes[B];if(k.shape.contains(tmpPoint.x,tmpPoint.y)){L=!0;break}}if(!L)return!0}}return!1},R.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(!!this.validateBatching()){this.cacheDirty=this.dirty;var I=this.uvs,$=this.graphicsData,N=null,M=null;this.batches.length>0&&(N=this.batches[this.batches.length-1],M=N.style);for(var L=this.shapeIndex;L<$.length;L++){this.shapeIndex++;var B=$[L],k=B.fillStyle,U=B.lineStyle,H=FILL_COMMANDS[B.type];H.build(B),B.matrix&&this.transformPoints(B.points,B.matrix),(k.visible||U.visible)&&this.processHoles(B.holes);for(var z=0;z<2;z++){var V=z===0?k:U;if(!!V.visible){var W=V.texture.baseTexture,K=this.indices.length,Y=this.points.length/2;W.wrapMode=WRAP_MODES$5.REPEAT,z===0?this.processFill(B):this.processLine(B);var q=this.points.length/2-Y;q!==0&&(N&&!this._compareStyles(M,V)&&(N.end(K,Y),N=null),N||(N=BATCH_POOL.pop()||new BatchPart,N.begin(V,K,Y),this.batches.push(N),M=V),this.addUvs(this.points,I,V.texture,Y,q,V.matrix))}}}var Z=this.indices.length,Q=this.points.length/2;if(N&&N.end(Z,Q),this.batches.length===0){this.batchable=!0;return}var ee=Q>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&ee===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=ee?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},R.prototype._compareStyles=function(I,$){return!(!I||!$||I.texture.baseTexture!==$.texture.baseTexture||I.color+I.alpha!==$.color+$.alpha||!!I.native!=!!$.native)},R.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var I=0,$=this.graphicsData.length;I<$;I++){var N=this.graphicsData[I],M=N.fillStyle,L=N.lineStyle;if(M&&!M.texture.baseTexture.valid||L&&!L.texture.baseTexture.valid)return!1}return!0},R.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var I=this.batches,$=0,N=I.length;$<N;$++)for(var M=I[$],L=0;L<M.size;L++){var B=M.start+L;this.indicesUint16[B]=this.indicesUint16[B]-M.attribStart}},R.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var I=this.batches,$=0;$<I.length;$++)if(I[$].style.native)return!1;return this.points.length<R.BATCHABLE_SIZE*2},R.prototype.buildDrawCalls=function(){for(var I=++BaseTexture._globalBatch,$=0;$<this.drawCalls.length;$++)this.drawCalls[$].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[$]);this.drawCalls.length=0;var N=this.colors,M=this.textureIds,L=DRAW_CALL_POOL.pop();L||(L=new BatchDrawCall,L.texArray=new BatchTextureArray),L.texArray.count=0,L.start=0,L.size=0,L.type=DRAW_MODES$5.TRIANGLES;var B=0,k=null,U=0,H=!1,z=DRAW_MODES$5.TRIANGLES,V=0;this.drawCalls.push(L);for(var $=0;$<this.batches.length;$++){var W=this.batches[$],K=8,Y=W.style,q=Y.texture.baseTexture;H!==!!Y.native&&(H=!!Y.native,z=H?DRAW_MODES$5.LINES:DRAW_MODES$5.TRIANGLES,k=null,B=K,I++),k!==q&&(k=q,q._batchEnabled!==I&&(B===K&&(I++,B=0,L.size>0&&(L=DRAW_CALL_POOL.pop(),L||(L=new BatchDrawCall,L.texArray=new BatchTextureArray),this.drawCalls.push(L)),L.start=V,L.size=0,L.texArray.count=0,L.type=z),q.touched=1,q._batchEnabled=I,q._batchLocation=B,q.wrapMode=WRAP_MODES$5.REPEAT,L.texArray.elements[L.texArray.count++]=q,B++)),L.size+=W.size,V+=W.size,U=q._batchLocation,this.addColors(N,Y.color,Y.alpha,W.attribSize,W.attribStart),this.addTextureIds(M,U,W.attribSize,W.attribStart)}BaseTexture._globalBatch=I,this.packAttributes()},R.prototype.packAttributes=function(){for(var I=this.points,$=this.uvs,N=this.colors,M=this.textureIds,L=new ArrayBuffer(I.length*3*4),B=new Float32Array(L),k=new Uint32Array(L),U=0,H=0;H<I.length/2;H++)B[U++]=I[H*2],B[U++]=I[H*2+1],B[U++]=$[H*2],B[U++]=$[H*2+1],k[U++]=N[H],B[U++]=M[H];this._buffer.update(L),this._indexBuffer.update(this.indicesUint16)},R.prototype.processFill=function(I){if(I.holes.length)buildPoly.triangulate(I,this);else{var $=FILL_COMMANDS[I.type];$.triangulate(I,this)}},R.prototype.processLine=function(I){buildLine(I,this);for(var $=0;$<I.holes.length;$++)buildLine(I.holes[$],this)},R.prototype.processHoles=function(I){for(var $=0;$<I.length;$++){var N=I[$],M=FILL_COMMANDS[N.type];M.build(N),N.matrix&&this.transformPoints(N.points,N.matrix)}},R.prototype.calculateBounds=function(){var I=this._bounds;I.clear(),I.addVertexData(this.points,0,this.points.length),I.pad(this.boundsPadding,this.boundsPadding)},R.prototype.transformPoints=function(I,$){for(var N=0;N<I.length/2;N++){var M=I[N*2],L=I[N*2+1];I[N*2]=$.a*M+$.c*L+$.tx,I[N*2+1]=$.b*M+$.d*L+$.ty}},R.prototype.addColors=function(I,$,N,M,L){L===void 0&&(L=0);var B=($>>16)+($&65280)+(($&255)<<16),k=premultiplyTint(B,N);I.length=Math.max(I.length,L+M);for(var U=0;U<M;U++)I[L+U]=k},R.prototype.addTextureIds=function(I,$,N,M){M===void 0&&(M=0),I.length=Math.max(I.length,M+N);for(var L=0;L<N;L++)I[M+L]=$},R.prototype.addUvs=function(I,$,N,M,L,B){B===void 0&&(B=null);for(var k=0,U=$.length,H=N.frame;k<L;){var z=I[(M+k)*2],V=I[(M+k)*2+1];if(B){var W=B.a*z+B.c*V+B.tx;V=B.b*z+B.d*V+B.ty,z=W}k++,$.push(z/H.width,V/H.height)}var K=N.baseTexture;(H.width<K.width||H.height<K.height)&&this.adjustUvs($,N,U,L)},R.prototype.adjustUvs=function(I,$,N,M){for(var L=$.baseTexture,B=1e-6,k=N+M*2,U=$.frame,H=U.width/L.width,z=U.height/L.height,V=U.x/U.width,W=U.y/U.height,K=Math.floor(I[N]+B),Y=Math.floor(I[N+1]+B),q=N+2;q<k;q+=2)K=Math.min(K,Math.floor(I[q]+B)),Y=Math.min(Y,Math.floor(I[q+1]+B));V-=K,W-=Y;for(var q=N;q<k;q+=2)I[q]=(I[q]+V)*H,I[q+1]=(I[q+1]+W)*z},R.BATCHABLE_SIZE=100,R}(BatchGeometry),LineStyle=function(T){__extends$e(R,T);function R(){var I=T!==null&&T.apply(this,arguments)||this;return I.width=0,I.alignment=.5,I.native=!1,I.cap=LINE_CAP.BUTT,I.join=LINE_JOIN.MITER,I.miterLimit=10,I}return R.prototype.clone=function(){var I=new R;return I.color=this.color,I.alpha=this.alpha,I.texture=this.texture,I.matrix=this.matrix,I.visible=this.visible,I.width=this.width,I.alignment=this.alignment,I.native=this.native,I.cap=this.cap,I.join=this.join,I.miterLimit=this.miterLimit,I},R.prototype.reset=function(){T.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},R}(FillStyle),temp=new Float32Array(3),DEFAULT_SHADERS={},Graphics=function(T){__extends$e(R,T);function R(I){I===void 0&&(I=null);var $=T.call(this)||this;return $.shader=null,$.pluginName="batch",$.currentPath=null,$.batches=[],$.batchTint=-1,$.batchDirty=-1,$.vertexData=null,$._fillStyle=new FillStyle,$._lineStyle=new LineStyle,$._matrix=null,$._holeMode=!1,$.state=State$1.for2d(),$._geometry=I||new GraphicsGeometry,$._geometry.refCount++,$._transformID=-1,$.tint=16777215,$.blendMode=BLEND_MODES$5.NORMAL,$}return Object.defineProperty(R.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),R.prototype.clone=function(){return this.finishPoly(),new R(this._geometry)},Object.defineProperty(R.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(I){this.state.blendMode=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"tint",{get:function(){return this._tint},set:function(I){this._tint=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),R.prototype.lineStyle=function(I,$,N,M,L){return I===void 0&&(I=null),$===void 0&&($=0),N===void 0&&(N=1),M===void 0&&(M=.5),L===void 0&&(L=!1),typeof I=="number"&&(I={width:I,color:$,alpha:N,alignment:M,native:L}),this.lineTextureStyle(I)},R.prototype.lineTextureStyle=function(I){I=Object.assign({width:0,texture:Texture.WHITE,color:I&&I.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:LINE_CAP.BUTT,join:LINE_JOIN.MITER,miterLimit:10},I),this.currentPath&&this.startPoly();var $=I.width>0&&I.alpha>0;return $?(I.matrix&&(I.matrix=I.matrix.clone(),I.matrix.invert()),Object.assign(this._lineStyle,{visible:$},I)):this._lineStyle.reset(),this},R.prototype.startPoly=function(){if(this.currentPath){var I=this.currentPath.points,$=this.currentPath.points.length;$>2&&(this.drawShape(this.currentPath),this.currentPath=new Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(I[$-2],I[$-1]))}else this.currentPath=new Polygon,this.currentPath.closeStroke=!1},R.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},R.prototype.moveTo=function(I,$){return this.startPoly(),this.currentPath.points[0]=I,this.currentPath.points[1]=$,this},R.prototype.lineTo=function(I,$){this.currentPath||this.moveTo(0,0);var N=this.currentPath.points,M=N[N.length-2],L=N[N.length-1];return(M!==I||L!==$)&&N.push(I,$),this},R.prototype._initCurve=function(I,$){I===void 0&&(I=0),$===void 0&&($=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[I,$]):this.moveTo(I,$)},R.prototype.quadraticCurveTo=function(I,$,N,M){this._initCurve();var L=this.currentPath.points;return L.length===0&&this.moveTo(0,0),QuadraticUtils.curveTo(I,$,N,M,L),this},R.prototype.bezierCurveTo=function(I,$,N,M,L,B){return this._initCurve(),BezierUtils.curveTo(I,$,N,M,L,B,this.currentPath.points),this},R.prototype.arcTo=function(I,$,N,M,L){this._initCurve(I,$);var B=this.currentPath.points,k=ArcUtils.curveTo(I,$,N,M,L,B);if(k){var U=k.cx,H=k.cy,z=k.radius,V=k.startAngle,W=k.endAngle,K=k.anticlockwise;this.arc(U,H,z,V,W,K)}return this},R.prototype.arc=function(I,$,N,M,L,B){if(B===void 0&&(B=!1),M===L)return this;!B&&L<=M?L+=PI_2:B&&M<=L&&(M+=PI_2);var k=L-M;if(k===0)return this;var U=I+Math.cos(M)*N,H=$+Math.sin(M)*N,z=this._geometry.closePointEps,V=this.currentPath?this.currentPath.points:null;if(V){var W=Math.abs(V[V.length-2]-U),K=Math.abs(V[V.length-1]-H);W<z&&K<z||V.push(U,H)}else this.moveTo(U,H),V=this.currentPath.points;return ArcUtils.arc(U,H,I,$,N,M,L,B,V),this},R.prototype.beginFill=function(I,$){return I===void 0&&(I=0),$===void 0&&($=1),this.beginTextureFill({texture:Texture.WHITE,color:I,alpha:$})},R.prototype.beginTextureFill=function(I){I=Object.assign({texture:Texture.WHITE,color:16777215,alpha:1,matrix:null},I),this.currentPath&&this.startPoly();var $=I.alpha>0;return $?(I.matrix&&(I.matrix=I.matrix.clone(),I.matrix.invert()),Object.assign(this._fillStyle,{visible:$},I)):this._fillStyle.reset(),this},R.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},R.prototype.drawRect=function(I,$,N,M){return this.drawShape(new Rectangle(I,$,N,M))},R.prototype.drawRoundedRect=function(I,$,N,M,L){return this.drawShape(new RoundedRectangle(I,$,N,M,L))},R.prototype.drawCircle=function(I,$,N){return this.drawShape(new Circle(I,$,N))},R.prototype.drawEllipse=function(I,$,N,M){return this.drawShape(new Ellipse(I,$,N,M))},R.prototype.drawPolygon=function(){for(var I=arguments,$=[],N=0;N<arguments.length;N++)$[N]=I[N];var M,L=!0,B=$[0];B.points?(L=B.closeStroke,M=B.points):Array.isArray($[0])?M=$[0]:M=$;var k=new Polygon(M);return k.closeStroke=L,this.drawShape(k),this},R.prototype.drawShape=function(I){return this._holeMode?this._geometry.drawHole(I,this._matrix):this._geometry.drawShape(I,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},R.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},R.prototype.isFastRect=function(){var I=this._geometry.graphicsData;return I.length===1&&I[0].shape.type===SHAPES.RECT&&!I[0].matrix&&!I[0].holes.length&&!(I[0].lineStyle.visible&&I[0].lineStyle.width)},R.prototype._render=function(I){this.finishPoly();var $=this._geometry;$.updateBatches(),$.batchable?(this.batchDirty!==$.batchDirty&&this._populateBatches(),this._renderBatched(I)):(I.batch.flush(),this._renderDirect(I))},R.prototype._populateBatches=function(){var I=this._geometry,$=this.blendMode,N=I.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=I.batchDirty,this.batches.length=N,this.vertexData=new Float32Array(I.points);for(var M=0;M<N;M++){var L=I.batches[M],B=L.style.color,k=new Float32Array(this.vertexData.buffer,L.attribStart*4*2,L.attribSize*2),U=new Float32Array(I.uvsFloat32.buffer,L.attribStart*4*2,L.attribSize*2),H=new Uint16Array(I.indicesUint16.buffer,L.start*2,L.size),z={vertexData:k,blendMode:$,indices:H,uvs:U,_batchRGB:hex2rgb(B),_tintRGB:B,_texture:L.style.texture,alpha:L.style.alpha,worldAlpha:1};this.batches[M]=z}},R.prototype._renderBatched=function(I){if(!!this.batches.length){I.batch.setObjectRenderer(I.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var $=0,N=this.batches.length;$<N;$++){var M=this.batches[$];M.worldAlpha=this.worldAlpha*M.alpha,I.plugins[this.pluginName].render(M)}}},R.prototype._renderDirect=function(I){var $=this._resolveDirectShader(I),N=this._geometry,M=this.tint,L=this.worldAlpha,B=$.uniforms,k=N.drawCalls;B.translationMatrix=this.transform.worldTransform,B.tint[0]=(M>>16&255)/255*L,B.tint[1]=(M>>8&255)/255*L,B.tint[2]=(M&255)/255*L,B.tint[3]=L,I.shader.bind($),I.geometry.bind(N,$),I.state.set(this.state);for(var U=0,H=k.length;U<H;U++)this._renderDrawCallDirect(I,N.drawCalls[U])},R.prototype._renderDrawCallDirect=function(I,$){for(var N=$.texArray,M=$.type,L=$.size,B=$.start,k=N.count,U=0;U<k;U++)I.texture.bind(N.elements[U],U);I.geometry.draw(M,L,B)},R.prototype._resolveDirectShader=function(I){var $=this.shader,N=this.pluginName;if(!$){if(!DEFAULT_SHADERS[N]){for(var M=I.plugins[N].MAX_TEXTURES,L=new Int32Array(M),B=0;B<M;B++)L[B]=B;var k={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,default:UniformGroup.from({uSamplers:L},!0)},U=I.plugins[N]._shader.program;DEFAULT_SHADERS[N]=new Shader(U,k)}$=DEFAULT_SHADERS[N]}return $},R.prototype._calculateBounds=function(){this.finishPoly();var I=this._geometry;if(!!I.graphicsData.length){var $=I.bounds,N=$.minX,M=$.minY,L=$.maxX,B=$.maxY;this._bounds.addFrame(this.transform,N,M,L,B)}},R.prototype.containsPoint=function(I){return this.worldTransform.applyInverse(I,R._TEMP_POINT),this._geometry.containsPoint(R._TEMP_POINT)},R.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var I=hex2rgb(this.tint,temp),$=0;$<this.batches.length;$++){var N=this.batches[$],M=N._batchRGB,L=I[0]*M[0]*255,B=I[1]*M[1]*255,k=I[2]*M[2]*255,U=(L<<16)+(B<<8)+(k|0);N._tintRGB=(U>>16)+(U&65280)+((U&255)<<16)}}},R.prototype.calculateVertices=function(){var I=this.transform._worldID;if(this._transformID!==I){this._transformID=I;for(var $=this.transform.worldTransform,N=$.a,M=$.b,L=$.c,B=$.d,k=$.tx,U=$.ty,H=this._geometry.points,z=this.vertexData,V=0,W=0;W<H.length;W+=2){var K=H[W],Y=H[W+1];z[V++]=N*K+L*Y+k,z[V++]=B*Y+M*K+U}}},R.prototype.closePath=function(){var I=this.currentPath;return I&&(I.closeStroke=!0,this.finishPoly()),this},R.prototype.setMatrix=function(I){return this._matrix=I,this},R.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},R.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},R.prototype.destroy=function(I){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,T.prototype.destroy.call(this,I)},R.nextRoundedRectBehavior=!1,R._TEMP_POINT=new Point,R}(Container),graphicsUtils={buildPoly,buildCircle,buildRectangle,buildRoundedRectangle,buildLine,ArcUtils,BezierUtils,QuadraticUtils,BatchPart,FILL_COMMANDS,BATCH_POOL,DRAW_CALL_POOL};/*!
 * @pixi/sprite - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$d=function(T,R){return extendStatics$d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$d(T,R)};function __extends$d(T,R){extendStatics$d(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var tempPoint$2=new Point,indices=new Uint16Array([0,1,2,0,2,3]),Sprite=function(T){__extends$d(R,T);function R(I){var $=T.call(this)||this;return $._anchor=new ObservablePoint($._onAnchorUpdate,$,I?I.defaultAnchor.x:0,I?I.defaultAnchor.y:0),$._texture=null,$._width=0,$._height=0,$._tint=null,$._tintRGB=null,$.tint=16777215,$.blendMode=BLEND_MODES$5.NORMAL,$._cachedTint=16777215,$.uvs=null,$.texture=I||Texture.EMPTY,$.vertexData=new Float32Array(8),$.vertexTrimmedData=null,$._transformID=-1,$._textureID=-1,$._transformTrimmedID=-1,$._textureTrimmedID=-1,$.indices=indices,$.pluginName="batch",$.isSprite=!0,$._roundPixels=settings$1.ROUND_PIXELS,$}return R.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=sign(this.scale.y)*this._height/this._texture.orig.height)},R.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},R.prototype.calculateVertices=function(){var I=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===I._updateID)){this._textureID!==I._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=I._updateID;var $=this.transform.worldTransform,N=$.a,M=$.b,L=$.c,B=$.d,k=$.tx,U=$.ty,H=this.vertexData,z=I.trim,V=I.orig,W=this._anchor,K=0,Y=0,q=0,Z=0;if(z?(Y=z.x-W._x*V.width,K=Y+z.width,Z=z.y-W._y*V.height,q=Z+z.height):(Y=-W._x*V.width,K=Y+V.width,Z=-W._y*V.height,q=Z+V.height),H[0]=N*Y+L*Z+k,H[1]=B*Z+M*Y+U,H[2]=N*K+L*Z+k,H[3]=B*Z+M*K+U,H[4]=N*K+L*q+k,H[5]=B*q+M*K+U,H[6]=N*Y+L*q+k,H[7]=B*q+M*Y+U,this._roundPixels)for(var Q=settings$1.RESOLUTION,ee=0;ee<H.length;++ee)H[ee]=Math.round((H[ee]*Q|0)/Q)}},R.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var I=this._texture,$=this.vertexTrimmedData,N=I.orig,M=this._anchor,L=this.transform.worldTransform,B=L.a,k=L.b,U=L.c,H=L.d,z=L.tx,V=L.ty,W=-M._x*N.width,K=W+N.width,Y=-M._y*N.height,q=Y+N.height;$[0]=B*W+U*Y+z,$[1]=H*Y+k*W+V,$[2]=B*K+U*Y+z,$[3]=H*Y+k*K+V,$[4]=B*K+U*q+z,$[5]=H*q+k*K+V,$[6]=B*W+U*q+z,$[7]=H*q+k*W+V},R.prototype._render=function(I){this.calculateVertices(),I.batch.setObjectRenderer(I.plugins[this.pluginName]),I.plugins[this.pluginName].render(this)},R.prototype._calculateBounds=function(){var I=this._texture.trim,$=this._texture.orig;!I||I.width===$.width&&I.height===$.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},R.prototype.getLocalBounds=function(I){return this.children.length===0?(this._localBounds||(this._localBounds=new Bounds$1),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),I||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),I=this._localBoundsRect),this._localBounds.getRectangle(I)):T.prototype.getLocalBounds.call(this,I)},R.prototype.containsPoint=function(I){this.worldTransform.applyInverse(I,tempPoint$2);var $=this._texture.orig.width,N=this._texture.orig.height,M=-$*this.anchor.x,L=0;return tempPoint$2.x>=M&&tempPoint$2.x<M+$&&(L=-N*this.anchor.y,tempPoint$2.y>=L&&tempPoint$2.y<L+N)},R.prototype.destroy=function(I){T.prototype.destroy.call(this,I),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var $=typeof I=="boolean"?I:I&&I.texture;if($){var N=typeof I=="boolean"?I:I&&I.baseTexture;this._texture.destroy(!!N)}this._texture=null},R.from=function(I,$){var N=I instanceof Texture?I:Texture.from(I,$);return new R(N)},Object.defineProperty(R.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(I){this._roundPixels!==I&&(this._transformID=-1),this._roundPixels=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(I){var $=sign(this.scale.x)||1;this.scale.x=$*I/this._texture.orig.width,this._width=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(I){var $=sign(this.scale.y)||1;this.scale.y=$*I/this._texture.orig.height,this._height=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"anchor",{get:function(){return this._anchor},set:function(I){this._anchor.copyFrom(I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"tint",{get:function(){return this._tint},set:function(I){this._tint=I,this._tintRGB=(I>>16)+(I&65280)+((I&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"texture",{get:function(){return this._texture},set:function(I){this._texture!==I&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=I||Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,I&&(I.baseTexture.valid?this._onTextureUpdate():I.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),R}(Container);/*!
 * @pixi/text - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$c=function(T,R){return extendStatics$c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$c(T,R)};function __extends$c(T,R){extendStatics$c(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var TEXT_GRADIENT;(function(T){T[T.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",T[T.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(TEXT_GRADIENT||(TEXT_GRADIENT={}));var defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},genericFontFamilies=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],TextStyle=function(){function T(R){this.styleID=0,this.reset(),deepCopyProperties(this,R,R)}return T.prototype.clone=function(){var R={};return deepCopyProperties(R,this,defaultStyle),new T(R)},T.prototype.reset=function(){deepCopyProperties(this,defaultStyle,defaultStyle)},Object.defineProperty(T.prototype,"align",{get:function(){return this._align},set:function(R){this._align!==R&&(this._align=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"breakWords",{get:function(){return this._breakWords},set:function(R){this._breakWords!==R&&(this._breakWords=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(R){this._dropShadow!==R&&(this._dropShadow=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(R){this._dropShadowAlpha!==R&&(this._dropShadowAlpha=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(R){this._dropShadowAngle!==R&&(this._dropShadowAngle=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(R){this._dropShadowBlur!==R&&(this._dropShadowBlur=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(R){var I=getColor(R);this._dropShadowColor!==I&&(this._dropShadowColor=I,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(R){this._dropShadowDistance!==R&&(this._dropShadowDistance=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"fill",{get:function(){return this._fill},set:function(R){var I=getColor(R);this._fill!==I&&(this._fill=I,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(R){this._fillGradientType!==R&&(this._fillGradientType=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(R){areArraysEqual(this._fillGradientStops,R)||(this._fillGradientStops=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(R){this.fontFamily!==R&&(this._fontFamily=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"fontSize",{get:function(){return this._fontSize},set:function(R){this._fontSize!==R&&(this._fontSize=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(R){this._fontStyle!==R&&(this._fontStyle=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(R){this._fontVariant!==R&&(this._fontVariant=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(R){this._fontWeight!==R&&(this._fontWeight=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(R){this._letterSpacing!==R&&(this._letterSpacing=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(R){this._lineHeight!==R&&(this._lineHeight=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"leading",{get:function(){return this._leading},set:function(R){this._leading!==R&&(this._leading=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(R){this._lineJoin!==R&&(this._lineJoin=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(R){this._miterLimit!==R&&(this._miterLimit=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"padding",{get:function(){return this._padding},set:function(R){this._padding!==R&&(this._padding=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"stroke",{get:function(){return this._stroke},set:function(R){var I=getColor(R);this._stroke!==I&&(this._stroke=I,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(R){this._strokeThickness!==R&&(this._strokeThickness=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(R){this._textBaseline!==R&&(this._textBaseline=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"trim",{get:function(){return this._trim},set:function(R){this._trim!==R&&(this._trim=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(R){this._whiteSpace!==R&&(this._whiteSpace=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(R){this._wordWrap!==R&&(this._wordWrap=R,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(R){this._wordWrapWidth!==R&&(this._wordWrapWidth=R,this.styleID++)},enumerable:!1,configurable:!0}),T.prototype.toFontString=function(){var R=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,I=this.fontFamily;Array.isArray(this.fontFamily)||(I=this.fontFamily.split(","));for(var $=I.length-1;$>=0;$--){var N=I[$].trim();!/([\"\'])[^\'\"]+\1/.test(N)&&genericFontFamilies.indexOf(N)<0&&(N='"'+N+'"'),I[$]=N}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+R+" "+I.join(",")},T}();function getSingleColor(T){return typeof T=="number"?hex2string(T):(typeof T=="string"&&T.indexOf("0x")===0&&(T=T.replace("0x","#")),T)}function getColor(T){if(Array.isArray(T)){for(var R=0;R<T.length;++R)T[R]=getSingleColor(T[R]);return T}else return getSingleColor(T)}function areArraysEqual(T,R){if(!Array.isArray(T)||!Array.isArray(R)||T.length!==R.length)return!1;for(var I=0;I<T.length;++I)if(T[I]!==R[I])return!1;return!0}function deepCopyProperties(T,R,I){for(var $ in I)Array.isArray(R[$])?T[$]=R[$].slice():T[$]=R[$]}var TextMetrics=function(){function T(R,I,$,N,M,L,B,k,U){this.text=R,this.style=I,this.width=$,this.height=N,this.lines=M,this.lineWidths=L,this.lineHeight=B,this.maxLineWidth=k,this.fontProperties=U}return T.measureText=function(R,I,$,N){N===void 0&&(N=T._canvas),$=$==null?I.wordWrap:$;var M=I.toFontString(),L=T.measureFont(M);L.fontSize===0&&(L.fontSize=I.fontSize,L.ascent=I.fontSize);var B=N.getContext("2d");B.font=M;for(var k=$?T.wordWrap(R,I,N):R,U=k.split(/(?:\r\n|\r|\n)/),H=new Array(U.length),z=0,V=0;V<U.length;V++){var W=B.measureText(U[V]).width+(U[V].length-1)*I.letterSpacing;H[V]=W,z=Math.max(z,W)}var K=z+I.strokeThickness;I.dropShadow&&(K+=I.dropShadowDistance);var Y=I.lineHeight||L.fontSize+I.strokeThickness,q=Math.max(Y,L.fontSize+I.strokeThickness)+(U.length-1)*(Y+I.leading);return I.dropShadow&&(q+=I.dropShadowDistance),new T(R,I,K,q,U,H,Y+I.leading,z,L)},T.wordWrap=function(R,I,$){$===void 0&&($=T._canvas);for(var N=$.getContext("2d"),M=0,L="",B="",k=Object.create(null),U=I.letterSpacing,H=I.whiteSpace,z=T.collapseSpaces(H),V=T.collapseNewlines(H),W=!z,K=I.wordWrapWidth+U,Y=T.tokenize(R),q=0;q<Y.length;q++){var Z=Y[q];if(T.isNewline(Z)){if(!V){B+=T.addLine(L),W=!z,L="",M=0;continue}Z=" "}if(z){var Q=T.isBreakingSpace(Z),ee=T.isBreakingSpace(L[L.length-1]);if(Q&&ee)continue}var ne=T.getFromCache(Z,U,k,N);if(ne>K)if(L!==""&&(B+=T.addLine(L),L="",M=0),T.canBreakWords(Z,I.breakWords))for(var te=T.wordWrapSplit(Z),re=0;re<te.length;re++){for(var ie=te[re],se=1;te[re+se];){var le=te[re+se],he=ie[ie.length-1];if(!T.canBreakChars(he,le,Z,re,I.breakWords))ie+=le;else break;se++}re+=ie.length-1;var pe=T.getFromCache(ie,U,k,N);pe+M>K&&(B+=T.addLine(L),W=!1,L="",M=0),L+=ie,M+=pe}else{L.length>0&&(B+=T.addLine(L),L="",M=0);var fe=q===Y.length-1;B+=T.addLine(Z,!fe),W=!1,L="",M=0}else ne+M>K&&(W=!1,B+=T.addLine(L),L="",M=0),(L.length>0||!T.isBreakingSpace(Z)||W)&&(L+=Z,M+=ne)}return B+=T.addLine(L,!1),B},T.addLine=function(R,I){return I===void 0&&(I=!0),R=T.trimRight(R),R=I?R+`
`:R,R},T.getFromCache=function(R,I,$,N){var M=$[R];if(typeof M!="number"){var L=R.length*I;M=N.measureText(R).width+L,$[R]=M}return M},T.collapseSpaces=function(R){return R==="normal"||R==="pre-line"},T.collapseNewlines=function(R){return R==="normal"},T.trimRight=function(R){if(typeof R!="string")return"";for(var I=R.length-1;I>=0;I--){var $=R[I];if(!T.isBreakingSpace($))break;R=R.slice(0,-1)}return R},T.isNewline=function(R){return typeof R!="string"?!1:T._newlines.indexOf(R.charCodeAt(0))>=0},T.isBreakingSpace=function(R,I){return typeof R!="string"?!1:T._breakingSpaces.indexOf(R.charCodeAt(0))>=0},T.tokenize=function(R){var I=[],$="";if(typeof R!="string")return I;for(var N=0;N<R.length;N++){var M=R[N],L=R[N+1];if(T.isBreakingSpace(M,L)||T.isNewline(M)){$!==""&&(I.push($),$=""),I.push(M);continue}$+=M}return $!==""&&I.push($),I},T.canBreakWords=function(R,I){return I},T.canBreakChars=function(R,I,$,N,M){return!0},T.wordWrapSplit=function(R){return R.split("")},T.measureFont=function(R){if(T._fonts[R])return T._fonts[R];var I={ascent:0,descent:0,fontSize:0},$=T._canvas,N=T._context;N.font=R;var M=T.METRICS_STRING+T.BASELINE_SYMBOL,L=Math.ceil(N.measureText(M).width),B=Math.ceil(N.measureText(T.BASELINE_SYMBOL).width),k=Math.ceil(T.HEIGHT_MULTIPLIER*B);B=B*T.BASELINE_MULTIPLIER|0,$.width=L,$.height=k,N.fillStyle="#f00",N.fillRect(0,0,L,k),N.font=R,N.textBaseline="alphabetic",N.fillStyle="#000",N.fillText(M,0,B);var U=N.getImageData(0,0,L,k).data,H=U.length,z=L*4,V=0,W=0,K=!1;for(V=0;V<B;++V){for(var Y=0;Y<z;Y+=4)if(U[W+Y]!==255){K=!0;break}if(!K)W+=z;else break}for(I.ascent=B-V,W=H-z,K=!1,V=k;V>B;--V){for(var Y=0;Y<z;Y+=4)if(U[W+Y]!==255){K=!0;break}if(!K)W-=z;else break}return I.descent=V-B,I.fontSize=I.ascent+I.descent,T._fonts[R]=I,I},T.clearMetrics=function(R){R===void 0&&(R=""),R?delete T._fonts[R]:T._fonts={}},Object.defineProperty(T,"_canvas",{get:function(){if(!T.__canvas){var R=void 0;try{var I=new OffscreenCanvas(0,0),$=I.getContext("2d");if($&&$.measureText)return T.__canvas=I,I;R=settings$1.ADAPTER.createCanvas()}catch{R=settings$1.ADAPTER.createCanvas()}R.width=R.height=10,T.__canvas=R}return T.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(T,"_context",{get:function(){return T.__context||(T.__context=T._canvas.getContext("2d")),T.__context},enumerable:!1,configurable:!0}),T}();TextMetrics._fonts={};TextMetrics.METRICS_STRING="|\xC9q\xC5";TextMetrics.BASELINE_SYMBOL="M";TextMetrics.BASELINE_MULTIPLIER=1.4;TextMetrics.HEIGHT_MULTIPLIER=2;TextMetrics._newlines=[10,13];TextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Text=function(T){__extends$c(R,T);function R(I,$,N){var M=this,L=!1;N||(N=settings$1.ADAPTER.createCanvas(),L=!0),N.width=3,N.height=3;var B=Texture.from(N);return B.orig=new Rectangle,B.trim=new Rectangle,M=T.call(this,B)||this,M._ownCanvas=L,M.canvas=N,M.context=N.getContext("2d"),M._resolution=settings$1.RESOLUTION,M._autoResolution=!0,M._text=null,M._style=null,M._styleListener=null,M._font="",M.text=I,M.style=$,M.localStyleID=-1,M}return R.prototype.updateText=function(I){var $=this._style;if(this.localStyleID!==$.styleID&&(this.dirty=!0,this.localStyleID=$.styleID),!(!this.dirty&&I)){this._font=this._style.toFontString();var N=this.context,M=TextMetrics.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),L=M.width,B=M.height,k=M.lines,U=M.lineHeight,H=M.lineWidths,z=M.maxLineWidth,V=M.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,L)+$.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,B)+$.padding*2)*this._resolution),N.scale(this._resolution,this._resolution),N.clearRect(0,0,this.canvas.width,this.canvas.height),N.font=this._font,N.lineWidth=$.strokeThickness,N.textBaseline=$.textBaseline,N.lineJoin=$.lineJoin,N.miterLimit=$.miterLimit;for(var W,K,Y=$.dropShadow?2:1,q=0;q<Y;++q){var Z=$.dropShadow&&q===0,Q=Z?Math.ceil(Math.max(1,B)+$.padding*2):0,ee=Q*this._resolution;if(Z){N.fillStyle="black",N.strokeStyle="black";var ne=$.dropShadowColor,te=hex2rgb(typeof ne=="number"?ne:string2hex(ne)),re=$.dropShadowBlur*this._resolution,ie=$.dropShadowDistance*this._resolution;N.shadowColor="rgba("+te[0]*255+","+te[1]*255+","+te[2]*255+","+$.dropShadowAlpha+")",N.shadowBlur=re,N.shadowOffsetX=Math.cos($.dropShadowAngle)*ie,N.shadowOffsetY=Math.sin($.dropShadowAngle)*ie+ee}else N.fillStyle=this._generateFillStyle($,k,M),N.strokeStyle=$.stroke,N.shadowColor="black",N.shadowBlur=0,N.shadowOffsetX=0,N.shadowOffsetY=0;var se=(U-V.fontSize)/2;(!R.nextLineHeightBehavior||U-V.fontSize<0)&&(se=0);for(var le=0;le<k.length;le++)W=$.strokeThickness/2,K=$.strokeThickness/2+le*U+V.ascent+se,$.align==="right"?W+=z-H[le]:$.align==="center"&&(W+=(z-H[le])/2),$.stroke&&$.strokeThickness&&this.drawLetterSpacing(k[le],W+$.padding,K+$.padding-Q,!0),$.fill&&this.drawLetterSpacing(k[le],W+$.padding,K+$.padding-Q)}this.updateTexture()}},R.prototype.drawLetterSpacing=function(I,$,N,M){M===void 0&&(M=!1);var L=this._style,B=L.letterSpacing,k=R.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(B===0||k){k&&(this.context.letterSpacing=B,this.context.textLetterSpacing=B),M?this.context.strokeText(I,$,N):this.context.fillText(I,$,N);return}for(var U=$,H=Array.from?Array.from(I):I.split(""),z=this.context.measureText(I).width,V=0,W=0;W<H.length;++W){var K=H[W];M?this.context.strokeText(K,U,N):this.context.fillText(K,U,N);for(var Y="",q=W+1;q<H.length;++q)Y+=H[q];V=this.context.measureText(Y).width,U+=z-V+B,z=V}},R.prototype.updateTexture=function(){var I=this.canvas;if(this._style.trim){var $=trimCanvas(I);$.data&&(I.width=$.width,I.height=$.height,this.context.putImageData($.data,0,0))}var N=this._texture,M=this._style,L=M.trim?0:M.padding,B=N.baseTexture;N.trim.width=N._frame.width=I.width/this._resolution,N.trim.height=N._frame.height=I.height/this._resolution,N.trim.x=-L,N.trim.y=-L,N.orig.width=N._frame.width-L*2,N.orig.height=N._frame.height-L*2,this._onTextureUpdate(),B.setRealSize(I.width,I.height,this._resolution),N.updateUvs(),this.dirty=!1},R.prototype._render=function(I){this._autoResolution&&this._resolution!==I.resolution&&(this._resolution=I.resolution,this.dirty=!0),this.updateText(!0),T.prototype._render.call(this,I)},R.prototype.updateTransform=function(){this.updateText(!0),T.prototype.updateTransform.call(this)},R.prototype.getBounds=function(I,$){return this.updateText(!0),this._textureID===-1&&(I=!1),T.prototype.getBounds.call(this,I,$)},R.prototype.getLocalBounds=function(I){return this.updateText(!0),T.prototype.getLocalBounds.call(this,I)},R.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},R.prototype._generateFillStyle=function(I,$,N){var M=I.fill;if(Array.isArray(M)){if(M.length===1)return M[0]}else return M;var L,B=I.dropShadow?I.dropShadowDistance:0,k=I.padding||0,U=this.canvas.width/this._resolution-B-k*2,H=this.canvas.height/this._resolution-B-k*2,z=M.slice(),V=I.fillGradientStops.slice();if(!V.length)for(var W=z.length+1,K=1;K<W;++K)V.push(K/W);if(z.unshift(M[0]),V.unshift(0),z.push(M[M.length-1]),V.push(1),I.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){L=this.context.createLinearGradient(U/2,k,U/2,H+k);for(var Y=N.fontProperties.fontSize+I.strokeThickness,K=0;K<$.length;K++){var q=N.lineHeight*(K-1)+Y,Z=N.lineHeight*K,Q=Z;K>0&&q>Z&&(Q=(Z+q)/2);var ee=Z+Y,ne=N.lineHeight*(K+1),te=ee;K+1<$.length&&ne<ee&&(te=(ee+ne)/2);for(var re=(te-Q)/H,ie=0;ie<z.length;ie++){var se=0;typeof V[ie]=="number"?se=V[ie]:se=ie/z.length;var le=Math.min(1,Math.max(0,Q/H+se*re));le=Number(le.toFixed(5)),L.addColorStop(le,z[ie])}}}else{L=this.context.createLinearGradient(k,H/2,U+k,H/2);for(var he=z.length+1,pe=1,K=0;K<z.length;K++){var fe=void 0;typeof V[K]=="number"?fe=V[K]:fe=pe/he,L.addColorStop(fe,z[K]),pe++}}return L},R.prototype.destroy=function(I){typeof I=="boolean"&&(I={children:I}),I=Object.assign({},defaultDestroyOptions,I),T.prototype.destroy.call(this,I),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(R.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(I){this.updateText(!0);var $=sign(this.scale.x)||1;this.scale.x=$*I/this._texture.orig.width,this._width=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(I){this.updateText(!0);var $=sign(this.scale.y)||1;this.scale.y=$*I/this._texture.orig.height,this._height=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"style",{get:function(){return this._style},set:function(I){I=I||{},I instanceof TextStyle?this._style=I:this._style=new TextStyle(I),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"text",{get:function(){return this._text},set:function(I){I=String(I==null?"":I),this._text!==I&&(this._text=I,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"resolution",{get:function(){return this._resolution},set:function(I){this._autoResolution=!1,this._resolution!==I&&(this._resolution=I,this.dirty=!0)},enumerable:!1,configurable:!0}),R.nextLineHeightBehavior=!1,R.experimentalLetterSpacing=!1,R}(Sprite);/*!
 * @pixi/prepare - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings$1.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$b=function(T,R){return extendStatics$b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$b(T,R)};function __extends$b(T,R){extendStatics$b(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var CountLimiter=function(){function T(R){this.maxItemsPerFrame=R,this.itemsLeft=0}return T.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},T.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},T}();function findMultipleBaseTextures(T,R){var I=!1;if(T&&T._textures&&T._textures.length){for(var $=0;$<T._textures.length;$++)if(T._textures[$]instanceof Texture){var N=T._textures[$].baseTexture;R.indexOf(N)===-1&&(R.push(N),I=!0)}}return I}function findBaseTexture(T,R){if(T.baseTexture instanceof BaseTexture){var I=T.baseTexture;return R.indexOf(I)===-1&&R.push(I),!0}return!1}function findTexture(T,R){if(T._texture&&T._texture instanceof Texture){var I=T._texture.baseTexture;return R.indexOf(I)===-1&&R.push(I),!0}return!1}function drawText(T,R){return R instanceof Text?(R.updateText(!0),!0):!1}function calculateTextStyle(T,R){if(R instanceof TextStyle){var I=R.toFontString();return TextMetrics.measureFont(I),!0}return!1}function findText(T,R){if(T instanceof Text){R.indexOf(T.style)===-1&&R.push(T.style),R.indexOf(T)===-1&&R.push(T);var I=T._texture.baseTexture;return R.indexOf(I)===-1&&R.push(I),!0}return!1}function findTextStyle(T,R){return T instanceof TextStyle?(R.indexOf(T)===-1&&R.push(T),!0):!1}var BasePrepare=function(){function T(R){var I=this;this.limiter=new CountLimiter(settings$1.UPLOADS_PER_FRAME),this.renderer=R,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!I.queue||I.prepareItems()},this.registerFindHook(findText),this.registerFindHook(findTextStyle),this.registerFindHook(findMultipleBaseTextures),this.registerFindHook(findBaseTexture),this.registerFindHook(findTexture),this.registerUploadHook(drawText),this.registerUploadHook(calculateTextStyle)}return T.prototype.upload=function(R,I){var $=this;return typeof R=="function"&&(I=R,R=null),I&&deprecation$1("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise(function(N){R&&$.add(R);var M=function(){I==null||I(),N()};$.queue.length?($.completes.push(M),$.ticking||($.ticking=!0,Ticker.system.addOnce($.tick,$,UPDATE_PRIORITY.UTILITY))):M()})},T.prototype.tick=function(){setTimeout(this.delayedTick,0)},T.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var R=this.queue[0],I=!1;if(R&&!R._destroyed){for(var $=0,N=this.uploadHooks.length;$<N;$++)if(this.uploadHooks[$](this.uploadHookHelper,R)){this.queue.shift(),I=!0;break}}I||this.queue.shift()}if(this.queue.length)Ticker.system.addOnce(this.tick,this,UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var M=this.completes.slice(0);this.completes.length=0;for(var $=0,N=M.length;$<N;$++)M[$]()}},T.prototype.registerFindHook=function(R){return R&&this.addHooks.push(R),this},T.prototype.registerUploadHook=function(R){return R&&this.uploadHooks.push(R),this},T.prototype.add=function(R){for(var I=0,$=this.addHooks.length;I<$&&!this.addHooks[I](R,this.queue);I++);if(R instanceof Container)for(var I=R.children.length-1;I>=0;I--)this.add(R.children[I]);return this},T.prototype.destroy=function(){this.ticking&&Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},T}();function uploadBaseTextures(T,R){return R instanceof BaseTexture?(R._glTextures[T.CONTEXT_UID]||T.texture.bind(R),!0):!1}function uploadGraphics(T,R){if(!(R instanceof Graphics))return!1;var I=R.geometry;R.finishPoly(),I.updateBatches();for(var $=I.batches,N=0;N<$.length;N++){var M=$[N].style.texture;M&&uploadBaseTextures(T,M.baseTexture)}return I.batchable||T.geometry.bind(I,R._resolveDirectShader(T)),!0}function findGraphics(T,R){return T instanceof Graphics?(R.push(T),!0):!1}var Prepare=function(T){__extends$b(R,T);function R(I){var $=T.call(this,I)||this;return $.uploadHookHelper=$.renderer,$.registerFindHook(findGraphics),$.registerUploadHook(uploadBaseTextures),$.registerUploadHook(uploadGraphics),$}return R.extension={name:"prepare",type:ExtensionType.RendererPlugin},R}(BasePrepare),TimeLimiter=function(){function T(R){this.maxMilliseconds=R,this.frameStart=0}return T.prototype.beginFrame=function(){this.frameStart=Date.now()},T.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},T}();/*!
 * @pixi/spritesheet - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Spritesheet=function(){function T(R,I,$){$===void 0&&($=null),this.linkedSheets=[],this._texture=R instanceof Texture?R:null,this.baseTexture=R instanceof BaseTexture?R:this._texture.baseTexture,this.textures={},this.animations={},this.data=I;var N=this.baseTexture.resource;this.resolution=this._updateResolution($||(N?N.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return T.prototype._updateResolution=function(R){R===void 0&&(R=null);var I=this.data.meta.scale,$=getResolutionOfUrl(R,null);return $===null&&($=I!==void 0?parseFloat(I):1),$!==1&&this.baseTexture.setResolution($),$},T.prototype.parse=function(R){var I=this;return R&&deprecation$1("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function($){I._callback=function(N){R==null||R(N),$(N)},I._batchIndex=0,I._frameKeys.length<=T.BATCH_SIZE?(I._processFrames(0),I._processAnimations(),I._parseComplete()):I._nextBatch()})},T.prototype._processFrames=function(R){for(var I=R,$=T.BATCH_SIZE;I-R<$&&I<this._frameKeys.length;){var N=this._frameKeys[I],M=this._frames[N],L=M.frame;if(L){var B=null,k=null,U=M.trimmed!==!1&&M.sourceSize?M.sourceSize:M.frame,H=new Rectangle(0,0,Math.floor(U.w)/this.resolution,Math.floor(U.h)/this.resolution);M.rotated?B=new Rectangle(Math.floor(L.x)/this.resolution,Math.floor(L.y)/this.resolution,Math.floor(L.h)/this.resolution,Math.floor(L.w)/this.resolution):B=new Rectangle(Math.floor(L.x)/this.resolution,Math.floor(L.y)/this.resolution,Math.floor(L.w)/this.resolution,Math.floor(L.h)/this.resolution),M.trimmed!==!1&&M.spriteSourceSize&&(k=new Rectangle(Math.floor(M.spriteSourceSize.x)/this.resolution,Math.floor(M.spriteSourceSize.y)/this.resolution,Math.floor(L.w)/this.resolution,Math.floor(L.h)/this.resolution)),this.textures[N]=new Texture(this.baseTexture,B,H,k,M.rotated?2:0,M.anchor),Texture.addToCache(this.textures[N],N)}I++}},T.prototype._processAnimations=function(){var R=this.data.animations||{};for(var I in R){this.animations[I]=[];for(var $=0;$<R[I].length;$++){var N=R[I][$];this.animations[I].push(this.textures[N])}}},T.prototype._parseComplete=function(){var R=this._callback;this._callback=null,this._batchIndex=0,R.call(this,this.textures)},T.prototype._nextBatch=function(){var R=this;this._processFrames(this._batchIndex*T.BATCH_SIZE),this._batchIndex++,setTimeout(function(){R._batchIndex*T.BATCH_SIZE<R._frameKeys.length?R._nextBatch():(R._processAnimations(),R._parseComplete())},0)},T.prototype.destroy=function(R){var I;R===void 0&&(R=!1);for(var $ in this.textures)this.textures[$].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,R&&((I=this._texture)===null||I===void 0||I.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},T.BATCH_SIZE=1e3,T}(),SpritesheetLoader=function(){function T(){}return T.use=function(R,I){var $,N,M=this,L=R.name+"_image";if(!R.data||R.type!==LoaderResource.TYPE.JSON||!R.data.frames||M.resources[L]){I();return}var B=(N=($=R.data)===null||$===void 0?void 0:$.meta)===null||N===void 0?void 0:N.related_multi_packs;if(Array.isArray(B))for(var k=function(K){if(typeof K!="string")return"continue";var Y=K.replace(".json",""),q=url.resolve(R.url.replace(M.baseUrl,""),K);if(M.resources[Y]||Object.values(M.resources).some(function(Q){return url.format(url.parse(Q.url))===q}))return"continue";var Z={crossOrigin:R.crossOrigin,loadType:LoaderResource.LOAD_TYPE.XHR,xhrType:LoaderResource.XHR_RESPONSE_TYPE.JSON,parentResource:R,metadata:R.metadata};M.add(Y,q,Z)},U=0,H=B;U<H.length;U++){var z=H[U];k(z)}var V={crossOrigin:R.crossOrigin,metadata:R.metadata.imageMetadata,parentResource:R},W=T.getResourcePath(R,M.baseUrl);M.add(L,W,V,function(Y){if(Y.error){I(Y.error);return}var q=new Spritesheet(Y.texture,R.data,R.url);q.parse().then(function(){R.spritesheet=q,R.textures=q.textures,I()})})},T.getResourcePath=function(R,I){return R.isDataUrl?R.data.meta.image:url.resolve(R.url.replace(I,""),R.data.meta.image)},T.extension=ExtensionType.Loader,T}();/*!
 * @pixi/sprite-tiling - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$a=function(T,R){return extendStatics$a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$a(T,R)};function __extends$a(T,R){extendStatics$a(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var tempPoint$1=new Point,TilingSprite=function(T){__extends$a(R,T);function R(I,$,N){$===void 0&&($=100),N===void 0&&(N=100);var M=T.call(this,I)||this;return M.tileTransform=new Transform,M._width=$,M._height=N,M.uvMatrix=M.texture.uvMatrix||new TextureMatrix(I),M.pluginName="tilingSprite",M.uvRespectAnchor=!1,M}return Object.defineProperty(R.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(I){this.uvMatrix.clampMargin=I,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(I){this.tileTransform.scale.copyFrom(I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(I){this.tileTransform.position.copyFrom(I)},enumerable:!1,configurable:!0}),R.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},R.prototype._render=function(I){var $=this._texture;!$||!$.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),I.batch.setObjectRenderer(I.plugins[this.pluginName]),I.plugins[this.pluginName].render(this))},R.prototype._calculateBounds=function(){var I=this._width*-this._anchor._x,$=this._height*-this._anchor._y,N=this._width*(1-this._anchor._x),M=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,I,$,N,M)},R.prototype.getLocalBounds=function(I){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),I||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),I=this._localBoundsRect),this._bounds.getRectangle(I)):T.prototype.getLocalBounds.call(this,I)},R.prototype.containsPoint=function(I){this.worldTransform.applyInverse(I,tempPoint$1);var $=this._width,N=this._height,M=-$*this.anchor._x;if(tempPoint$1.x>=M&&tempPoint$1.x<M+$){var L=-N*this.anchor._y;if(tempPoint$1.y>=L&&tempPoint$1.y<L+N)return!0}return!1},R.prototype.destroy=function(I){T.prototype.destroy.call(this,I),this.tileTransform=null,this.uvMatrix=null},R.from=function(I,$){var N=I instanceof Texture?I:Texture.from(I,$);return new R(N,$.width,$.height)},Object.defineProperty(R.prototype,"width",{get:function(){return this._width},set:function(I){this._width=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"height",{get:function(){return this._height},set:function(I){this._height=I},enumerable:!1,configurable:!0}),R}(Sprite),fragmentSimpleSrc=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,gl1VertexSrc=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,gl1FragmentSrc=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,gl2VertexSrc=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,gl2FragmentSrc=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,tempMat=new Matrix,TilingSpriteRenderer=function(T){__extends$a(R,T);function R(I){var $=T.call(this,I)||this;return I.runners.contextChange.add($),$.quad=new QuadUv,$.state=State$1.for2d(),$}return R.prototype.contextChange=function(){var I=this.renderer,$={globals:I.globalUniforms};this.simpleShader=Shader.from(gl1VertexSrc,fragmentSimpleSrc,$),this.shader=I.context.webGLVersion>1?Shader.from(gl2VertexSrc,gl2FragmentSrc,$):Shader.from(gl1VertexSrc,gl1FragmentSrc,$)},R.prototype.render=function(I){var $=this.renderer,N=this.quad,M=N.vertices;M[0]=M[6]=I._width*-I.anchor.x,M[1]=M[3]=I._height*-I.anchor.y,M[2]=M[4]=I._width*(1-I.anchor.x),M[5]=M[7]=I._height*(1-I.anchor.y);var L=I.uvRespectAnchor?I.anchor.x:0,B=I.uvRespectAnchor?I.anchor.y:0;M=N.uvs,M[0]=M[6]=-L,M[1]=M[3]=-B,M[2]=M[4]=1-L,M[5]=M[7]=1-B,N.invalidate();var k=I._texture,U=k.baseTexture,H=U.alphaMode>0,z=I.tileTransform.localTransform,V=I.uvMatrix,W=U.isPowerOfTwo&&k.frame.width===U.width&&k.frame.height===U.height;W&&(U._glTextures[$.CONTEXT_UID]?W=U.wrapMode!==WRAP_MODES$5.CLAMP:U.wrapMode===WRAP_MODES$5.CLAMP&&(U.wrapMode=WRAP_MODES$5.REPEAT));var K=W?this.simpleShader:this.shader,Y=k.width,q=k.height,Z=I._width,Q=I._height;tempMat.set(z.a*Y/Z,z.b*Y/Q,z.c*q/Z,z.d*q/Q,z.tx/Z,z.ty/Q),tempMat.invert(),W?tempMat.prepend(V.mapCoord):(K.uniforms.uMapCoord=V.mapCoord.toArray(!0),K.uniforms.uClampFrame=V.uClampFrame,K.uniforms.uClampOffset=V.uClampOffset),K.uniforms.uTransform=tempMat.toArray(!0),K.uniforms.uColor=premultiplyTintToRgba(I.tint,I.worldAlpha,K.uniforms.uColor,H),K.uniforms.translationMatrix=I.transform.worldTransform.toArray(!0),K.uniforms.uSampler=k,$.shader.bind(K),$.geometry.bind(N),this.state.blendMode=correctBlendMode(I.blendMode,H),$.state.set(this.state),$.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},R.extension={name:"tilingSprite",type:ExtensionType.RendererPlugin},R}(ObjectRenderer);/*!
 * @pixi/mesh - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$9=function(T,R){return extendStatics$9=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$9(T,R)};function __extends$9(T,R){extendStatics$9(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var MeshBatchUvs=function(){function T(R,I){this.uvBuffer=R,this.uvMatrix=I,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return T.prototype.update=function(R){if(!(!R&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var I=this.uvBuffer.data;(!this.data||this.data.length!==I.length)&&(this.data=new Float32Array(I.length)),this.uvMatrix.multiplyUvs(I,this.data),this._updateID++}},T}(),tempPoint=new Point,tempPolygon=new Polygon,Mesh=function(T){__extends$9(R,T);function R(I,$,N,M){M===void 0&&(M=DRAW_MODES$5.TRIANGLES);var L=T.call(this)||this;return L.geometry=I,L.shader=$,L.state=N||State$1.for2d(),L.drawMode=M,L.start=0,L.size=0,L.uvs=null,L.indices=null,L.vertexData=new Float32Array(1),L.vertexDirty=-1,L._transformID=-1,L._roundPixels=settings$1.ROUND_PIXELS,L.batchUvs=null,L}return Object.defineProperty(R.prototype,"geometry",{get:function(){return this._geometry},set:function(I){this._geometry!==I&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=I,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"material",{get:function(){return this.shader},set:function(I){this.shader=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(I){this.state.blendMode=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(I){this._roundPixels!==I&&(this._transformID=-1),this._roundPixels=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(I){this.shader.tint=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(I){this.shader.texture=I},enumerable:!1,configurable:!0}),R.prototype._render=function(I){var $=this.geometry.buffers[0].data,N=this.shader;N.batchable&&this.drawMode===DRAW_MODES$5.TRIANGLES&&$.length<R.BATCHABLE_SIZE*2?this._renderToBatch(I):this._renderDefault(I)},R.prototype._renderDefault=function(I){var $=this.shader;$.alpha=this.worldAlpha,$.update&&$.update(),I.batch.flush(),$.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),I.shader.bind($),I.state.set(this.state),I.geometry.bind(this.geometry,$),I.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},R.prototype._renderToBatch=function(I){var $=this.geometry,N=this.shader;N.uvMatrix&&(N.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=$.indexBuffer.data,this._tintRGB=N._tintRGB,this._texture=N.texture;var M=this.material.pluginName;I.batch.setObjectRenderer(I.plugins[M]),I.plugins[M].render(this)},R.prototype.calculateVertices=function(){var I=this.geometry,$=I.buffers[0],N=$.data,M=$._updateID;if(!(M===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==N.length&&(this.vertexData=new Float32Array(N.length));for(var L=this.transform.worldTransform,B=L.a,k=L.b,U=L.c,H=L.d,z=L.tx,V=L.ty,W=this.vertexData,K=0;K<W.length/2;K++){var Y=N[K*2],q=N[K*2+1];W[K*2]=B*Y+U*q+z,W[K*2+1]=k*Y+H*q+V}if(this._roundPixels)for(var Z=settings$1.RESOLUTION,K=0;K<W.length;++K)W[K]=Math.round((W[K]*Z|0)/Z);this.vertexDirty=M}},R.prototype.calculateUvs=function(){var I=this.geometry.buffers[1],$=this.shader;$.uvMatrix.isSimple?this.uvs=I.data:(this.batchUvs||(this.batchUvs=new MeshBatchUvs(I,$.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},R.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},R.prototype.containsPoint=function(I){if(!this.getBounds().contains(I.x,I.y))return!1;this.worldTransform.applyInverse(I,tempPoint);for(var $=this.geometry.getBuffer("aVertexPosition").data,N=tempPolygon.points,M=this.geometry.getIndex().data,L=M.length,B=this.drawMode===4?3:1,k=0;k+2<L;k+=B){var U=M[k]*2,H=M[k+1]*2,z=M[k+2]*2;if(N[0]=$[U],N[1]=$[U+1],N[2]=$[H],N[3]=$[H+1],N[4]=$[z],N[5]=$[z+1],tempPolygon.contains(tempPoint.x,tempPoint.y))return!0}return!1},R.prototype.destroy=function(I){T.prototype.destroy.call(this,I),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},R.BATCHABLE_SIZE=100,R}(Container),fragment$5=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,vertex$2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,MeshMaterial=function(T){__extends$9(R,T);function R(I,$){var N=this,M={uSampler:I,alpha:1,uTextureMatrix:Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};return $=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},$),$.uniforms&&Object.assign(M,$.uniforms),N=T.call(this,$.program||Program.from(vertex$2,fragment$5),M)||this,N._colorDirty=!1,N.uvMatrix=new TextureMatrix(I),N.batchable=$.program===void 0,N.pluginName=$.pluginName,N.tint=$.tint,N.alpha=$.alpha,N}return Object.defineProperty(R.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(I){this.uniforms.uSampler!==I&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!I.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=I,this.uvMatrix.texture=I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"alpha",{get:function(){return this._alpha},set:function(I){I!==this._alpha&&(this._alpha=I,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"tint",{get:function(){return this._tint},set:function(I){I!==this._tint&&(this._tint=I,this._tintRGB=(I>>16)+(I&65280)+((I&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),R.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var I=this.texture.baseTexture;premultiplyTintToRgba(this._tint,this._alpha,this.uniforms.uColor,I.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},R}(Shader),MeshGeometry=function(T){__extends$9(R,T);function R(I,$,N){var M=T.call(this)||this,L=new Buffer$2(I),B=new Buffer$2($,!0),k=new Buffer$2(N,!0,!0);return M.addAttribute("aVertexPosition",L,2,!1,TYPES$5.FLOAT).addAttribute("aTextureCoord",B,2,!1,TYPES$5.FLOAT).addIndex(k),M._updateId=-1,M}return Object.defineProperty(R.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),R}(Geometry);/*!
 * @pixi/text-bitmap - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$8=function(T,R){return extendStatics$8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$8(T,R)};function __extends$8(T,R){extendStatics$8(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var BitmapFontData=function(){function T(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return T}(),TextFormat=function(){function T(){}return T.test=function(R){return typeof R=="string"&&R.indexOf("info face=")===0},T.parse=function(R){var I=R.match(/^[a-z]+\s+.+$/gm),$={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var N in I){var M=I[N].match(/^[a-z]+/gm)[0],L=I[N].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),B={};for(var k in L){var U=L[k].split("="),H=U[0],z=U[1].replace(/"/gm,""),V=parseFloat(z),W=isNaN(V)?z:V;B[H]=W}$[M].push(B)}var K=new BitmapFontData;return $.info.forEach(function(Y){return K.info.push({face:Y.face,size:parseInt(Y.size,10)})}),$.common.forEach(function(Y){return K.common.push({lineHeight:parseInt(Y.lineHeight,10)})}),$.page.forEach(function(Y){return K.page.push({id:parseInt(Y.id,10),file:Y.file})}),$.char.forEach(function(Y){return K.char.push({id:parseInt(Y.id,10),page:parseInt(Y.page,10),x:parseInt(Y.x,10),y:parseInt(Y.y,10),width:parseInt(Y.width,10),height:parseInt(Y.height,10),xoffset:parseInt(Y.xoffset,10),yoffset:parseInt(Y.yoffset,10),xadvance:parseInt(Y.xadvance,10)})}),$.kerning.forEach(function(Y){return K.kerning.push({first:parseInt(Y.first,10),second:parseInt(Y.second,10),amount:parseInt(Y.amount,10)})}),$.distanceField.forEach(function(Y){return K.distanceField.push({distanceRange:parseInt(Y.distanceRange,10),fieldType:Y.fieldType})}),K},T}(),XMLFormat=function(){function T(){}return T.test=function(R){return R instanceof XMLDocument&&R.getElementsByTagName("page").length&&R.getElementsByTagName("info")[0].getAttribute("face")!==null},T.parse=function(R){for(var I=new BitmapFontData,$=R.getElementsByTagName("info"),N=R.getElementsByTagName("common"),M=R.getElementsByTagName("page"),L=R.getElementsByTagName("char"),B=R.getElementsByTagName("kerning"),k=R.getElementsByTagName("distanceField"),U=0;U<$.length;U++)I.info.push({face:$[U].getAttribute("face"),size:parseInt($[U].getAttribute("size"),10)});for(var U=0;U<N.length;U++)I.common.push({lineHeight:parseInt(N[U].getAttribute("lineHeight"),10)});for(var U=0;U<M.length;U++)I.page.push({id:parseInt(M[U].getAttribute("id"),10)||0,file:M[U].getAttribute("file")});for(var U=0;U<L.length;U++){var H=L[U];I.char.push({id:parseInt(H.getAttribute("id"),10),page:parseInt(H.getAttribute("page"),10)||0,x:parseInt(H.getAttribute("x"),10),y:parseInt(H.getAttribute("y"),10),width:parseInt(H.getAttribute("width"),10),height:parseInt(H.getAttribute("height"),10),xoffset:parseInt(H.getAttribute("xoffset"),10),yoffset:parseInt(H.getAttribute("yoffset"),10),xadvance:parseInt(H.getAttribute("xadvance"),10)})}for(var U=0;U<B.length;U++)I.kerning.push({first:parseInt(B[U].getAttribute("first"),10),second:parseInt(B[U].getAttribute("second"),10),amount:parseInt(B[U].getAttribute("amount"),10)});for(var U=0;U<k.length;U++)I.distanceField.push({fieldType:k[U].getAttribute("fieldType"),distanceRange:parseInt(k[U].getAttribute("distanceRange"),10)});return I},T}(),XMLStringFormat=function(){function T(){}return T.test=function(R){if(typeof R=="string"&&R.indexOf("<font>")>-1){var I=new globalThis.DOMParser().parseFromString(R,"text/xml");return XMLFormat.test(I)}return!1},T.parse=function(R){var I=new globalThis.DOMParser().parseFromString(R,"text/xml");return XMLFormat.parse(I)},T}(),formats=[TextFormat,XMLFormat,XMLStringFormat];function autoDetectFormat(T){for(var R=0;R<formats.length;R++)if(formats[R].test(T))return formats[R];return null}function generateFillStyle(T,R,I,$,N,M){var L=I.fill;if(Array.isArray(L)){if(L.length===1)return L[0]}else return L;var B,k=I.dropShadow?I.dropShadowDistance:0,U=I.padding||0,H=T.width/$-k-U*2,z=T.height/$-k-U*2,V=L.slice(),W=I.fillGradientStops.slice();if(!W.length)for(var K=V.length+1,Y=1;Y<K;++Y)W.push(Y/K);if(V.unshift(L[0]),W.unshift(0),V.push(L[L.length-1]),W.push(1),I.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){B=R.createLinearGradient(H/2,U,H/2,z+U);for(var q=0,Z=M.fontProperties.fontSize+I.strokeThickness,Q=Z/z,Y=0;Y<N.length;Y++)for(var ee=M.lineHeight*Y,ne=0;ne<V.length;ne++){var te=0;typeof W[ne]=="number"?te=W[ne]:te=ne/V.length;var re=ee/z+te*Q,ie=Math.max(q,re);ie=Math.min(ie,1),B.addColorStop(ie,V[ne]),q=ie}}else{B=R.createLinearGradient(U,z/2,H+U,z/2);for(var se=V.length+1,le=1,Y=0;Y<V.length;Y++){var he=void 0;typeof W[Y]=="number"?he=W[Y]:he=le/se,B.addColorStop(he,V[Y]),le++}}return B}function drawGlyph(T,R,I,$,N,M,L){var B=I.text,k=I.fontProperties;R.translate($,N),R.scale(M,M);var U=L.strokeThickness/2,H=-(L.strokeThickness/2);if(R.font=L.toFontString(),R.lineWidth=L.strokeThickness,R.textBaseline=L.textBaseline,R.lineJoin=L.lineJoin,R.miterLimit=L.miterLimit,R.fillStyle=generateFillStyle(T,R,L,M,[B],I),R.strokeStyle=L.stroke,L.dropShadow){var z=L.dropShadowColor,V=hex2rgb(typeof z=="number"?z:string2hex(z)),W=L.dropShadowBlur*M,K=L.dropShadowDistance*M;R.shadowColor="rgba("+V[0]*255+","+V[1]*255+","+V[2]*255+","+L.dropShadowAlpha+")",R.shadowBlur=W,R.shadowOffsetX=Math.cos(L.dropShadowAngle)*K,R.shadowOffsetY=Math.sin(L.dropShadowAngle)*K}else R.shadowColor="black",R.shadowBlur=0,R.shadowOffsetX=0,R.shadowOffsetY=0;L.stroke&&L.strokeThickness&&R.strokeText(B,U,H+I.lineHeight-k.descent),L.fill&&R.fillText(B,U,H+I.lineHeight-k.descent),R.setTransform(1,0,0,1,0,0),R.fillStyle="rgba(0, 0, 0, 0)"}function splitTextToCharacters(T){return Array.from?Array.from(T):T.split("")}function resolveCharacters(T){typeof T=="string"&&(T=[T]);for(var R=[],I=0,$=T.length;I<$;I++){var N=T[I];if(Array.isArray(N)){if(N.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+N.length+".");var M=N[0].charCodeAt(0),L=N[1].charCodeAt(0);if(L<M)throw new Error("[BitmapFont]: Invalid character range.");for(var B=M,k=L;B<=k;B++)R.push(String.fromCharCode(B))}else R.push.apply(R,splitTextToCharacters(N))}if(R.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return R}function extractCharCode(T){return T.codePointAt?T.codePointAt(0):T.charCodeAt(0)}var BitmapFont=function(){function T(R,I,$){var N,M,L=R.info[0],B=R.common[0],k=R.page[0],U=R.distanceField[0],H=getResolutionOfUrl(k.file),z={};this._ownsTextures=$,this.font=L.face,this.size=L.size,this.lineHeight=B.lineHeight/H,this.chars={},this.pageTextures=z;for(var V=0;V<R.page.length;V++){var W=R.page[V],K=W.id,Y=W.file;z[K]=I instanceof Array?I[V]:I[Y],(U==null?void 0:U.fieldType)&&U.fieldType!=="none"&&(z[K].baseTexture.alphaMode=ALPHA_MODES$5.NO_PREMULTIPLIED_ALPHA)}for(var V=0;V<R.char.length;V++){var q=R.char[V],K=q.id,Z=q.page,Q=R.char[V],ee=Q.x,ne=Q.y,te=Q.width,re=Q.height,ie=Q.xoffset,se=Q.yoffset,le=Q.xadvance;ee/=H,ne/=H,te/=H,re/=H,ie/=H,se/=H,le/=H;var he=new Rectangle(ee+z[Z].frame.x/H,ne+z[Z].frame.y/H,te,re);this.chars[K]={xOffset:ie,yOffset:se,xAdvance:le,kerning:{},texture:new Texture(z[Z].baseTexture,he),page:Z}}for(var V=0;V<R.kerning.length;V++){var pe=R.kerning[V],fe=pe.first,Se=pe.second,Pe=pe.amount;fe/=H,Se/=H,Pe/=H,this.chars[Se]&&(this.chars[Se].kerning[fe]=Pe)}this.distanceFieldRange=U==null?void 0:U.distanceRange,this.distanceFieldType=(M=(N=U==null?void 0:U.fieldType)===null||N===void 0?void 0:N.toLowerCase())!==null&&M!==void 0?M:"none"}return T.prototype.destroy=function(){for(var R in this.chars)this.chars[R].texture.destroy(),this.chars[R].texture=null;for(var R in this.pageTextures)this._ownsTextures&&this.pageTextures[R].destroy(!0),this.pageTextures[R]=null;this.chars=null,this.pageTextures=null},T.install=function(R,I,$){var N;if(R instanceof BitmapFontData)N=R;else{var M=autoDetectFormat(R);if(!M)throw new Error("Unrecognized data format for font.");N=M.parse(R)}I instanceof Texture&&(I=[I]);var L=new T(N,I,$);return T.available[L.font]=L,L},T.uninstall=function(R){var I=T.available[R];if(!I)throw new Error("No font found named '"+R+"'");I.destroy(),delete T.available[R]},T.from=function(R,I,$){if(!R)throw new Error("[BitmapFont] Property `name` is required.");var N=Object.assign({},T.defaultOptions,$),M=N.chars,L=N.padding,B=N.resolution,k=N.textureWidth,U=N.textureHeight,H=resolveCharacters(M),z=I instanceof TextStyle?I:new TextStyle(I),V=k,W=new BitmapFontData;W.info[0]={face:z.fontFamily,size:z.fontSize},W.common[0]={lineHeight:z.fontSize};for(var K=0,Y=0,q,Z,Q,ee=0,ne=[],te=0;te<H.length;te++){q||(q=settings$1.ADAPTER.createCanvas(),q.width=k,q.height=U,Z=q.getContext("2d"),Q=new BaseTexture(q,{resolution:B}),ne.push(new Texture(Q)),W.page.push({id:ne.length-1,file:""}));var re=TextMetrics.measureText(H[te],z,!1,q),ie=re.width,se=Math.ceil(re.height),le=Math.ceil((z.fontStyle==="italic"?2:1)*ie);if(Y>=U-se*B){if(Y===0)throw new Error("[BitmapFont] textureHeight "+U+"px is "+("too small for "+z.fontSize+"px fonts"));--te,q=null,Z=null,Q=null,Y=0,K=0,ee=0;continue}if(ee=Math.max(se+re.fontProperties.descent,ee),le*B+K>=V){--te,Y+=ee*B,Y=Math.ceil(Y),K=0,ee=0;continue}drawGlyph(q,Z,re,K,Y,B,z);var he=extractCharCode(re.text);W.char.push({id:he,page:ne.length-1,x:K/B,y:Y/B,width:le,height:se,xoffset:0,yoffset:0,xadvance:Math.ceil(ie-(z.dropShadow?z.dropShadowDistance:0)-(z.stroke?z.strokeThickness:0))}),K+=(le+2*L)*B,K=Math.ceil(K)}for(var te=0,pe=H.length;te<pe;te++)for(var fe=H[te],Se=0;Se<pe;Se++){var Pe=H[Se],ye=Z.measureText(fe).width,we=Z.measureText(Pe).width,Ee=Z.measureText(fe+Pe).width,He=Ee-(ye+we);He&&W.kerning.push({first:extractCharCode(fe),second:extractCharCode(Pe),amount:He})}var Ae=new T(W,ne,!0);return T.available[R]!==void 0&&T.uninstall(R),T.available[R]=Ae,Ae},T.ALPHA=[["a","z"],["A","Z"]," "],T.NUMERIC=[["0","9"]],T.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],T.ASCII=[[" ","~"]],T.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:T.ALPHANUMERIC},T.available={},T}(),msdfFrag=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,msdfVert=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,pageMeshDataDefaultPageMeshData=[],pageMeshDataMSDFPageMeshData=[],charRenderDataPool=[],BitmapText=function(T){__extends$8(R,T);function R(I,$){$===void 0&&($={});var N=T.call(this)||this;N._tint=16777215;var M=Object.assign({},R.styleDefaults,$),L=M.align,B=M.tint,k=M.maxWidth,U=M.letterSpacing,H=M.fontName,z=M.fontSize;if(!BitmapFont.available[H])throw new Error('Missing BitmapFont "'+H+'"');return N._activePagesMeshData=[],N._textWidth=0,N._textHeight=0,N._align=L,N._tint=B,N._fontName=H,N._fontSize=z||BitmapFont.available[H].size,N.text=I,N._maxWidth=k,N._maxLineHeight=0,N._letterSpacing=U,N._anchor=new ObservablePoint(function(){N.dirty=!0},N,0,0),N._roundPixels=settings$1.ROUND_PIXELS,N.dirty=!0,N._resolution=settings$1.RESOLUTION,N._autoResolution=!0,N._textureCache={},N}return R.prototype.updateText=function(){for(var I,$=BitmapFont.available[this._fontName],N=this._fontSize/$.size,M=new Point,L=[],B=[],k=[],U=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",H=splitTextToCharacters(U),z=this._maxWidth*$.size/this._fontSize,V=$.distanceFieldType==="none"?pageMeshDataDefaultPageMeshData:pageMeshDataMSDFPageMeshData,W=null,K=0,Y=0,q=0,Z=-1,Q=0,ee=0,ne=0,te=0,re=0;re<H.length;re++){var ie=H[re],se=extractCharCode(ie);if(/(?:\s)/.test(ie)&&(Z=re,Q=K,te++),ie==="\r"||ie===`
`){B.push(K),k.push(-1),Y=Math.max(Y,K),++q,++ee,M.x=0,M.y+=$.lineHeight,W=null,te=0;continue}var le=$.chars[se];if(!!le){W&&le.kerning[W]&&(M.x+=le.kerning[W]);var he=charRenderDataPool.pop()||{texture:Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Point};he.texture=le.texture,he.line=q,he.charCode=se,he.position.x=M.x+le.xOffset+this._letterSpacing/2,he.position.y=M.y+le.yOffset,he.prevSpaces=te,L.push(he),K=he.position.x+Math.max(le.xAdvance,le.texture.orig.width),M.x+=le.xAdvance+this._letterSpacing,ne=Math.max(ne,le.yOffset+le.texture.height),W=se,Z!==-1&&z>0&&M.x>z&&(++ee,removeItems(L,1+Z-ee,1+re-Z),re=Z,Z=-1,B.push(Q),k.push(L.length>0?L[L.length-1].prevSpaces:0),Y=Math.max(Y,Q),q++,M.x=0,M.y+=$.lineHeight,W=null,te=0)}}var pe=H[H.length-1];pe!=="\r"&&pe!==`
`&&(/(?:\s)/.test(pe)&&(K=Q),B.push(K),Y=Math.max(Y,K),k.push(-1));for(var fe=[],re=0;re<=q;re++){var Se=0;this._align==="right"?Se=Y-B[re]:this._align==="center"?Se=(Y-B[re])/2:this._align==="justify"&&(Se=k[re]<0?0:(Y-B[re])/k[re]),fe.push(Se)}for(var Pe=L.length,ye={},we=[],Ee=this._activePagesMeshData,re=0;re<Ee.length;re++)V.push(Ee[re]);for(var re=0;re<Pe;re++){var He=L[re].texture,Ae=He.baseTexture.uid;if(!ye[Ae]){var de=V.pop();if(!de){var Oe=new MeshGeometry,Ve=void 0,Ze=void 0;$.distanceFieldType==="none"?(Ve=new MeshMaterial(Texture.EMPTY),Ze=BLEND_MODES$5.NORMAL):(Ve=new MeshMaterial(Texture.EMPTY,{program:Program.from(msdfVert,msdfFrag),uniforms:{uFWidth:0}}),Ze=BLEND_MODES$5.NORMAL_NPM);var nt=new Mesh(Oe,Ve);nt.blendMode=Ze,de={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:nt,vertices:null,uvs:null,indices:null}}de.index=0,de.indexCount=0,de.vertexCount=0,de.uvsCount=0,de.total=0;var xe=this._textureCache;xe[Ae]=xe[Ae]||new Texture(He.baseTexture),de.mesh.texture=xe[Ae],de.mesh.tint=this._tint,we.push(de),ye[Ae]=de}ye[Ae].total++}for(var re=0;re<Ee.length;re++)we.indexOf(Ee[re])===-1&&this.removeChild(Ee[re].mesh);for(var re=0;re<we.length;re++)we[re].mesh.parent!==this&&this.addChild(we[re].mesh);this._activePagesMeshData=we;for(var re in ye){var de=ye[re],Le=de.total;if(!(((I=de.indices)===null||I===void 0?void 0:I.length)>6*Le)||de.vertices.length<Mesh.BATCHABLE_SIZE*2)de.vertices=new Float32Array(4*2*Le),de.uvs=new Float32Array(4*2*Le),de.indices=new Uint16Array(6*Le);else for(var Ue=de.total,Xe=de.vertices,je=Ue*4*2;je<Xe.length;je++)Xe[je]=0;de.mesh.size=6*Le}for(var re=0;re<Pe;re++){var ie=L[re],st=ie.position.x+fe[ie.line]*(this._align==="justify"?ie.prevSpaces:1);this._roundPixels&&(st=Math.round(st));var Ye=st*N,Qe=ie.position.y*N,He=ie.texture,ce=ye[He.baseTexture.uid],ge=He.frame,Re=He._uvs,ke=ce.index++;ce.indices[ke*6+0]=0+ke*4,ce.indices[ke*6+1]=1+ke*4,ce.indices[ke*6+2]=2+ke*4,ce.indices[ke*6+3]=0+ke*4,ce.indices[ke*6+4]=2+ke*4,ce.indices[ke*6+5]=3+ke*4,ce.vertices[ke*8+0]=Ye,ce.vertices[ke*8+1]=Qe,ce.vertices[ke*8+2]=Ye+ge.width*N,ce.vertices[ke*8+3]=Qe,ce.vertices[ke*8+4]=Ye+ge.width*N,ce.vertices[ke*8+5]=Qe+ge.height*N,ce.vertices[ke*8+6]=Ye,ce.vertices[ke*8+7]=Qe+ge.height*N,ce.uvs[ke*8+0]=Re.x0,ce.uvs[ke*8+1]=Re.y0,ce.uvs[ke*8+2]=Re.x1,ce.uvs[ke*8+3]=Re.y1,ce.uvs[ke*8+4]=Re.x2,ce.uvs[ke*8+5]=Re.y2,ce.uvs[ke*8+6]=Re.x3,ce.uvs[ke*8+7]=Re.y3}this._textWidth=Y*N,this._textHeight=(M.y+$.lineHeight)*N;for(var re in ye){var de=ye[re];if(this.anchor.x!==0||this.anchor.y!==0)for(var be=0,Be=this._textWidth*this.anchor.x,We=this._textHeight*this.anchor.y,Fe=0;Fe<de.total;Fe++)de.vertices[be++]-=Be,de.vertices[be++]-=We,de.vertices[be++]-=Be,de.vertices[be++]-=We,de.vertices[be++]-=Be,de.vertices[be++]-=We,de.vertices[be++]-=Be,de.vertices[be++]-=We;this._maxLineHeight=ne*N;var Te=de.mesh.geometry.getBuffer("aVertexPosition"),Ie=de.mesh.geometry.getBuffer("aTextureCoord"),tt=de.mesh.geometry.getIndex();Te.data=de.vertices,Ie.data=de.uvs,tt.data=de.indices,Te.update(),Ie.update(),tt.update()}for(var re=0;re<L.length;re++)charRenderDataPool.push(L[re])},R.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},R.prototype._render=function(I){this._autoResolution&&this._resolution!==I.resolution&&(this._resolution=I.resolution,this.dirty=!0);var $=BitmapFont.available[this._fontName],N=$.distanceFieldRange,M=$.distanceFieldType,L=$.size;if(M!=="none")for(var B=this.worldTransform,k=B.a,U=B.b,H=B.c,z=B.d,V=Math.sqrt(k*k+U*U),W=Math.sqrt(H*H+z*z),K=(Math.abs(V)+Math.abs(W))/2,Y=this._fontSize/L,q=0,Z=this._activePagesMeshData;q<Z.length;q++){var Q=Z[q];Q.mesh.shader.uniforms.uFWidth=K*N*Y*this._resolution}T.prototype._render.call(this,I)},R.prototype.getLocalBounds=function(){return this.validate(),T.prototype.getLocalBounds.call(this)},R.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(R.prototype,"tint",{get:function(){return this._tint},set:function(I){if(this._tint!==I){this._tint=I;for(var $=0;$<this._activePagesMeshData.length;$++)this._activePagesMeshData[$].mesh.tint=I}},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"align",{get:function(){return this._align},set:function(I){this._align!==I&&(this._align=I,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"fontName",{get:function(){return this._fontName},set:function(I){if(!BitmapFont.available[I])throw new Error('Missing BitmapFont "'+I+'"');this._fontName!==I&&(this._fontName=I,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"fontSize",{get:function(){return this._fontSize},set:function(I){this._fontSize!==I&&(this._fontSize=I,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"anchor",{get:function(){return this._anchor},set:function(I){typeof I=="number"?this._anchor.set(I):this._anchor.copyFrom(I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"text",{get:function(){return this._text},set:function(I){I=String(I==null?"":I),this._text!==I&&(this._text=I,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(I){this._maxWidth!==I&&(this._maxWidth=I,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(I){this._letterSpacing!==I&&(this._letterSpacing=I,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(I){I!==this._roundPixels&&(this._roundPixels=I,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"resolution",{get:function(){return this._resolution},set:function(I){this._autoResolution=!1,this._resolution!==I&&(this._resolution=I,this.dirty=!0)},enumerable:!1,configurable:!0}),R.prototype.destroy=function(I){var $=this._textureCache;for(var N in $){var M=$[N];M.destroy(),delete $[N]}this._textureCache=null,T.prototype.destroy.call(this,I)},R.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},R}(Container),BitmapFontLoader=function(){function T(){}return T.add=function(){LoaderResource.setExtensionXhrType("fnt",LoaderResource.XHR_RESPONSE_TYPE.TEXT)},T.use=function(R,I){var $=autoDetectFormat(R.data);if(!$){I();return}for(var N=T.getBaseUrl(this,R),M=$.parse(R.data),L={},B=function(Y){L[Y.metadata.pageFile]=Y.texture,Object.keys(L).length===M.page.length&&(R.bitmapFont=BitmapFont.install(M,L,!0),I())},k=0;k<M.page.length;++k){var U=M.page[k].file,H=N+U,z=!1;for(var V in this.resources){var W=this.resources[V];if(W.url===H){W.metadata.pageFile=U,W.texture?B(W):W.onAfterMiddleware.add(B),z=!0;break}}if(!z){var K={crossOrigin:R.crossOrigin,loadType:LoaderResource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:U},R.metadata.imageMetadata),parentResource:R};this.add(H,K,B)}}},T.getBaseUrl=function(R,I){var $=I.isDataUrl?"":T.dirname(I.url);return I.isDataUrl&&($==="."&&($=""),R.baseUrl&&$&&R.baseUrl.charAt(R.baseUrl.length-1)==="/"&&($+="/")),$=$.replace(R.baseUrl,""),$&&$.charAt($.length-1)!=="/"&&($+="/"),$},T.dirname=function(R){var I=R.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return I===R?".":I===""?"/":I},T.extension=ExtensionType.Loader,T}();/*!
 * @pixi/filter-alpha - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$7=function(T,R){return extendStatics$7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$7(T,R)};function __extends$7(T,R){extendStatics$7(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var fragment$4=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,AlphaFilter=function(T){__extends$7(R,T);function R(I){I===void 0&&(I=1);var $=T.call(this,defaultVertex$1,fragment$4,{uAlpha:1})||this;return $.alpha=I,$}return Object.defineProperty(R.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(I){this.uniforms.uAlpha=I},enumerable:!1,configurable:!0}),R}(Filter);/*!
 * @pixi/filter-blur - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$6=function(T,R){return extendStatics$6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$6(T,R)};function __extends$6(T,R){extendStatics$6(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var vertTemplate=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function generateBlurVertSource(T,R){var I=Math.ceil(T/2),$=vertTemplate,N="",M;R?M="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":M="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var L=0;L<T;L++){var B=M.replace("%index%",L.toString());B=B.replace("%sampleIndex%",L-(I-1)+".0"),N+=B,N+=`
`}return $=$.replace("%blur%",N),$=$.replace("%size%",T.toString()),$}var GAUSSIAN_VALUES={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},fragTemplate=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function generateBlurFragSource(T){for(var R=GAUSSIAN_VALUES[T],I=R.length,$=fragTemplate,N="",M="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",L,B=0;B<T;B++){var k=M.replace("%index%",B.toString());L=B,B>=I&&(L=T-B-1),k=k.replace("%value%",R[L].toString()),N+=k,N+=`
`}return $=$.replace("%blur%",N),$=$.replace("%size%",T.toString()),$}/*!
 * @pixi/constants - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$3;(function(T){T[T.WEBGL_LEGACY=0]="WEBGL_LEGACY",T[T.WEBGL=1]="WEBGL",T[T.WEBGL2=2]="WEBGL2"})(ENV$3||(ENV$3={}));var RENDERER_TYPE$3;(function(T){T[T.UNKNOWN=0]="UNKNOWN",T[T.WEBGL=1]="WEBGL",T[T.CANVAS=2]="CANVAS"})(RENDERER_TYPE$3||(RENDERER_TYPE$3={}));var BUFFER_BITS$3;(function(T){T[T.COLOR=16384]="COLOR",T[T.DEPTH=256]="DEPTH",T[T.STENCIL=1024]="STENCIL"})(BUFFER_BITS$3||(BUFFER_BITS$3={}));var BLEND_MODES$3;(function(T){T[T.NORMAL=0]="NORMAL",T[T.ADD=1]="ADD",T[T.MULTIPLY=2]="MULTIPLY",T[T.SCREEN=3]="SCREEN",T[T.OVERLAY=4]="OVERLAY",T[T.DARKEN=5]="DARKEN",T[T.LIGHTEN=6]="LIGHTEN",T[T.COLOR_DODGE=7]="COLOR_DODGE",T[T.COLOR_BURN=8]="COLOR_BURN",T[T.HARD_LIGHT=9]="HARD_LIGHT",T[T.SOFT_LIGHT=10]="SOFT_LIGHT",T[T.DIFFERENCE=11]="DIFFERENCE",T[T.EXCLUSION=12]="EXCLUSION",T[T.HUE=13]="HUE",T[T.SATURATION=14]="SATURATION",T[T.COLOR=15]="COLOR",T[T.LUMINOSITY=16]="LUMINOSITY",T[T.NORMAL_NPM=17]="NORMAL_NPM",T[T.ADD_NPM=18]="ADD_NPM",T[T.SCREEN_NPM=19]="SCREEN_NPM",T[T.NONE=20]="NONE",T[T.SRC_OVER=0]="SRC_OVER",T[T.SRC_IN=21]="SRC_IN",T[T.SRC_OUT=22]="SRC_OUT",T[T.SRC_ATOP=23]="SRC_ATOP",T[T.DST_OVER=24]="DST_OVER",T[T.DST_IN=25]="DST_IN",T[T.DST_OUT=26]="DST_OUT",T[T.DST_ATOP=27]="DST_ATOP",T[T.ERASE=26]="ERASE",T[T.SUBTRACT=28]="SUBTRACT",T[T.XOR=29]="XOR"})(BLEND_MODES$3||(BLEND_MODES$3={}));var DRAW_MODES$3;(function(T){T[T.POINTS=0]="POINTS",T[T.LINES=1]="LINES",T[T.LINE_LOOP=2]="LINE_LOOP",T[T.LINE_STRIP=3]="LINE_STRIP",T[T.TRIANGLES=4]="TRIANGLES",T[T.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",T[T.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$3||(DRAW_MODES$3={}));var FORMATS$3;(function(T){T[T.RGBA=6408]="RGBA",T[T.RGB=6407]="RGB",T[T.RG=33319]="RG",T[T.RED=6403]="RED",T[T.RGBA_INTEGER=36249]="RGBA_INTEGER",T[T.RGB_INTEGER=36248]="RGB_INTEGER",T[T.RG_INTEGER=33320]="RG_INTEGER",T[T.RED_INTEGER=36244]="RED_INTEGER",T[T.ALPHA=6406]="ALPHA",T[T.LUMINANCE=6409]="LUMINANCE",T[T.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",T[T.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",T[T.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$3||(FORMATS$3={}));var TARGETS$3;(function(T){T[T.TEXTURE_2D=3553]="TEXTURE_2D",T[T.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",T[T.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",T[T.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",T[T.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",T[T.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",T[T.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",T[T.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",T[T.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$3||(TARGETS$3={}));var TYPES$3;(function(T){T[T.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",T[T.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",T[T.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",T[T.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",T[T.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",T[T.UNSIGNED_INT=5125]="UNSIGNED_INT",T[T.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",T[T.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",T[T.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",T[T.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",T[T.BYTE=5120]="BYTE",T[T.SHORT=5122]="SHORT",T[T.INT=5124]="INT",T[T.FLOAT=5126]="FLOAT",T[T.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",T[T.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$3||(TYPES$3={}));var SAMPLER_TYPES$3;(function(T){T[T.FLOAT=0]="FLOAT",T[T.INT=1]="INT",T[T.UINT=2]="UINT"})(SAMPLER_TYPES$3||(SAMPLER_TYPES$3={}));var SCALE_MODES$3;(function(T){T[T.NEAREST=0]="NEAREST",T[T.LINEAR=1]="LINEAR"})(SCALE_MODES$3||(SCALE_MODES$3={}));var WRAP_MODES$3;(function(T){T[T.CLAMP=33071]="CLAMP",T[T.REPEAT=10497]="REPEAT",T[T.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$3||(WRAP_MODES$3={}));var MIPMAP_MODES$3;(function(T){T[T.OFF=0]="OFF",T[T.POW2=1]="POW2",T[T.ON=2]="ON",T[T.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$3||(MIPMAP_MODES$3={}));var ALPHA_MODES$3;(function(T){T[T.NPM=0]="NPM",T[T.UNPACK=1]="UNPACK",T[T.PMA=2]="PMA",T[T.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",T[T.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",T[T.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",T[T.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$3||(ALPHA_MODES$3={}));var CLEAR_MODES$3;(function(T){T[T.NO=0]="NO",T[T.YES=1]="YES",T[T.AUTO=2]="AUTO",T[T.BLEND=0]="BLEND",T[T.CLEAR=1]="CLEAR",T[T.BLIT=2]="BLIT"})(CLEAR_MODES$3||(CLEAR_MODES$3={}));var GC_MODES$3;(function(T){T[T.AUTO=0]="AUTO",T[T.MANUAL=1]="MANUAL"})(GC_MODES$3||(GC_MODES$3={}));var PRECISION$3;(function(T){T.LOW="lowp",T.MEDIUM="mediump",T.HIGH="highp"})(PRECISION$3||(PRECISION$3={}));var MASK_TYPES$3;(function(T){T[T.NONE=0]="NONE",T[T.SCISSOR=1]="SCISSOR",T[T.STENCIL=2]="STENCIL",T[T.SPRITE=3]="SPRITE",T[T.COLOR=4]="COLOR"})(MASK_TYPES$3||(MASK_TYPES$3={}));var COLOR_MASK_BITS$3;(function(T){T[T.RED=1]="RED",T[T.GREEN=2]="GREEN",T[T.BLUE=4]="BLUE",T[T.ALPHA=8]="ALPHA"})(COLOR_MASK_BITS$3||(COLOR_MASK_BITS$3={}));var MSAA_QUALITY$3;(function(T){T[T.NONE=0]="NONE",T[T.LOW=2]="LOW",T[T.MEDIUM=4]="MEDIUM",T[T.HIGH=8]="HIGH"})(MSAA_QUALITY$3||(MSAA_QUALITY$3={}));var BUFFER_TYPE$3;(function(T){T[T.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",T[T.ARRAY_BUFFER=34962]="ARRAY_BUFFER",T[T.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$3||(BUFFER_TYPE$3={}));var BlurFilterPass=function(T){__extends$6(R,T);function R(I,$,N,M,L){$===void 0&&($=8),N===void 0&&(N=4),M===void 0&&(M=settings$1.FILTER_RESOLUTION),L===void 0&&(L=5);var B=this,k=generateBlurVertSource(L,I),U=generateBlurFragSource(L);return B=T.call(this,k,U)||this,B.horizontal=I,B.resolution=M,B._quality=0,B.quality=N,B.blur=$,B}return R.prototype.apply=function(I,$,N,M){if(N?this.horizontal?this.uniforms.strength=1/N.width*(N.width/$.width):this.uniforms.strength=1/N.height*(N.height/$.height):this.horizontal?this.uniforms.strength=1/I.renderer.width*(I.renderer.width/$.width):this.uniforms.strength=1/I.renderer.height*(I.renderer.height/$.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)I.applyFilter(this,$,N,M);else{var L=I.getFilterTexture(),B=I.renderer,k=$,U=L;this.state.blend=!1,I.applyFilter(this,k,U,CLEAR_MODES$3.CLEAR);for(var H=1;H<this.passes-1;H++){I.bindAndClear(k,CLEAR_MODES$3.BLIT),this.uniforms.uSampler=U;var z=U;U=k,k=z,B.shader.bind(this),B.geometry.draw(5)}this.state.blend=!0,I.applyFilter(this,U,N,M),I.returnFilterTexture(L)}},Object.defineProperty(R.prototype,"blur",{get:function(){return this.strength},set:function(I){this.padding=1+Math.abs(I)*2,this.strength=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"quality",{get:function(){return this._quality},set:function(I){this._quality=I,this.passes=I},enumerable:!1,configurable:!0}),R}(Filter),BlurFilter=function(T){__extends$6(R,T);function R(I,$,N,M){I===void 0&&(I=8),$===void 0&&($=4),N===void 0&&(N=settings$1.FILTER_RESOLUTION),M===void 0&&(M=5);var L=T.call(this)||this;return L.blurXFilter=new BlurFilterPass(!0,I,$,N,M),L.blurYFilter=new BlurFilterPass(!1,I,$,N,M),L.resolution=N,L.quality=$,L.blur=I,L.repeatEdgePixels=!1,L}return R.prototype.apply=function(I,$,N,M){var L=Math.abs(this.blurXFilter.strength),B=Math.abs(this.blurYFilter.strength);if(L&&B){var k=I.getFilterTexture();this.blurXFilter.apply(I,$,k,CLEAR_MODES$3.CLEAR),this.blurYFilter.apply(I,k,N,M),I.returnFilterTexture(k)}else B?this.blurYFilter.apply(I,$,N,M):this.blurXFilter.apply(I,$,N,M)},R.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(R.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(I){this.blurXFilter.blur=this.blurYFilter.blur=I,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(I){this.blurXFilter.quality=this.blurYFilter.quality=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(I){this.blurXFilter.blur=I,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(I){this.blurYFilter.blur=I,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(I){this.blurYFilter.blendMode=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(I){this._repeatEdgePixels=I,this.updatePadding()},enumerable:!1,configurable:!0}),R}(Filter);/*!
 * @pixi/filter-color-matrix - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$5=function(T,R){return extendStatics$5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$5(T,R)};function __extends$5(T,R){extendStatics$5(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var fragment$3=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,ColorMatrixFilter=function(T){__extends$5(R,T);function R(){var I=this,$={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return I=T.call(this,defaultFilterVertex,fragment$3,$)||this,I.alpha=1,I}return R.prototype._loadMatrix=function(I,$){$===void 0&&($=!1);var N=I;$&&(this._multiply(N,this.uniforms.m,I),N=this._colorMatrix(N)),this.uniforms.m=N},R.prototype._multiply=function(I,$,N){return I[0]=$[0]*N[0]+$[1]*N[5]+$[2]*N[10]+$[3]*N[15],I[1]=$[0]*N[1]+$[1]*N[6]+$[2]*N[11]+$[3]*N[16],I[2]=$[0]*N[2]+$[1]*N[7]+$[2]*N[12]+$[3]*N[17],I[3]=$[0]*N[3]+$[1]*N[8]+$[2]*N[13]+$[3]*N[18],I[4]=$[0]*N[4]+$[1]*N[9]+$[2]*N[14]+$[3]*N[19]+$[4],I[5]=$[5]*N[0]+$[6]*N[5]+$[7]*N[10]+$[8]*N[15],I[6]=$[5]*N[1]+$[6]*N[6]+$[7]*N[11]+$[8]*N[16],I[7]=$[5]*N[2]+$[6]*N[7]+$[7]*N[12]+$[8]*N[17],I[8]=$[5]*N[3]+$[6]*N[8]+$[7]*N[13]+$[8]*N[18],I[9]=$[5]*N[4]+$[6]*N[9]+$[7]*N[14]+$[8]*N[19]+$[9],I[10]=$[10]*N[0]+$[11]*N[5]+$[12]*N[10]+$[13]*N[15],I[11]=$[10]*N[1]+$[11]*N[6]+$[12]*N[11]+$[13]*N[16],I[12]=$[10]*N[2]+$[11]*N[7]+$[12]*N[12]+$[13]*N[17],I[13]=$[10]*N[3]+$[11]*N[8]+$[12]*N[13]+$[13]*N[18],I[14]=$[10]*N[4]+$[11]*N[9]+$[12]*N[14]+$[13]*N[19]+$[14],I[15]=$[15]*N[0]+$[16]*N[5]+$[17]*N[10]+$[18]*N[15],I[16]=$[15]*N[1]+$[16]*N[6]+$[17]*N[11]+$[18]*N[16],I[17]=$[15]*N[2]+$[16]*N[7]+$[17]*N[12]+$[18]*N[17],I[18]=$[15]*N[3]+$[16]*N[8]+$[17]*N[13]+$[18]*N[18],I[19]=$[15]*N[4]+$[16]*N[9]+$[17]*N[14]+$[18]*N[19]+$[19],I},R.prototype._colorMatrix=function(I){var $=new Float32Array(I);return $[4]/=255,$[9]/=255,$[14]/=255,$[19]/=255,$},R.prototype.brightness=function(I,$){var N=[I,0,0,0,0,0,I,0,0,0,0,0,I,0,0,0,0,0,1,0];this._loadMatrix(N,$)},R.prototype.tint=function(I,$){var N=I>>16&255,M=I>>8&255,L=I&255,B=[N/255,0,0,0,0,0,M/255,0,0,0,0,0,L/255,0,0,0,0,0,1,0];this._loadMatrix(B,$)},R.prototype.greyscale=function(I,$){var N=[I,I,I,0,0,I,I,I,0,0,I,I,I,0,0,0,0,0,1,0];this._loadMatrix(N,$)},R.prototype.blackAndWhite=function(I){var $=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix($,I)},R.prototype.hue=function(I,$){I=(I||0)/180*Math.PI;var N=Math.cos(I),M=Math.sin(I),L=Math.sqrt,B=1/3,k=L(B),U=N+(1-N)*B,H=B*(1-N)-k*M,z=B*(1-N)+k*M,V=B*(1-N)+k*M,W=N+B*(1-N),K=B*(1-N)-k*M,Y=B*(1-N)-k*M,q=B*(1-N)+k*M,Z=N+B*(1-N),Q=[U,H,z,0,0,V,W,K,0,0,Y,q,Z,0,0,0,0,0,1,0];this._loadMatrix(Q,$)},R.prototype.contrast=function(I,$){var N=(I||0)+1,M=-.5*(N-1),L=[N,0,0,0,M,0,N,0,0,M,0,0,N,0,M,0,0,0,1,0];this._loadMatrix(L,$)},R.prototype.saturate=function(I,$){I===void 0&&(I=0);var N=I*2/3+1,M=(N-1)*-.5,L=[N,M,M,0,0,M,N,M,0,0,M,M,N,0,0,0,0,0,1,0];this._loadMatrix(L,$)},R.prototype.desaturate=function(){this.saturate(-1)},R.prototype.negative=function(I){var $=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix($,I)},R.prototype.sepia=function(I){var $=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix($,I)},R.prototype.technicolor=function(I){var $=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix($,I)},R.prototype.polaroid=function(I){var $=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix($,I)},R.prototype.toBGR=function(I){var $=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix($,I)},R.prototype.kodachrome=function(I){var $=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix($,I)},R.prototype.browni=function(I){var $=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix($,I)},R.prototype.vintage=function(I){var $=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix($,I)},R.prototype.colorTone=function(I,$,N,M,L){I=I||.2,$=$||.15,N=N||16770432,M=M||3375104;var B=(N>>16&255)/255,k=(N>>8&255)/255,U=(N&255)/255,H=(M>>16&255)/255,z=(M>>8&255)/255,V=(M&255)/255,W=[.3,.59,.11,0,0,B,k,U,I,0,H,z,V,$,0,B-H,k-z,U-V,0,0];this._loadMatrix(W,L)},R.prototype.night=function(I,$){I=I||.1;var N=[I*-2,-I,0,0,0,-I,0,I,0,0,0,I,I*2,0,0,0,0,0,1,0];this._loadMatrix(N,$)},R.prototype.predator=function(I,$){var N=[11.224130630493164*I,-4.794486999511719*I,-2.8746118545532227*I,0*I,.40342438220977783*I,-3.6330697536468506*I,9.193157196044922*I,-2.951810836791992*I,0*I,-1.316135048866272*I,-3.2184197902679443*I,-4.2375030517578125*I,7.476448059082031*I,0*I,.8044459223747253*I,0,0,0,1,0];this._loadMatrix(N,$)},R.prototype.lsd=function(I){var $=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix($,I)},R.prototype.reset=function(){var I=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(I,!1)},Object.defineProperty(R.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(I){this.uniforms.m=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(I){this.uniforms.uAlpha=I},enumerable:!1,configurable:!0}),R}(Filter);ColorMatrixFilter.prototype.grayscale=ColorMatrixFilter.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$4=function(T,R){return extendStatics$4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$4(T,R)};function __extends$4(T,R){extendStatics$4(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var fragment$2=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,vertex$1=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,DisplacementFilter=function(T){__extends$4(R,T);function R(I,$){var N=this,M=new Matrix;return I.renderable=!1,N=T.call(this,vertex$1,fragment$2,{mapSampler:I._texture,filterMatrix:M,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,N.maskSprite=I,N.maskMatrix=M,$==null&&($=20),N.scale=new Point($,$),N}return R.prototype.apply=function(I,$,N,M){this.uniforms.filterMatrix=I.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var L=this.maskSprite.worldTransform,B=Math.sqrt(L.a*L.a+L.b*L.b),k=Math.sqrt(L.c*L.c+L.d*L.d);B!==0&&k!==0&&(this.uniforms.rotation[0]=L.a/B,this.uniforms.rotation[1]=L.b/B,this.uniforms.rotation[2]=L.c/k,this.uniforms.rotation[3]=L.d/k),I.applyFilter(this,$,N,M)},Object.defineProperty(R.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(I){this.uniforms.mapSampler=I},enumerable:!1,configurable:!0}),R}(Filter);/*!
 * @pixi/filter-fxaa - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$3=function(T,R){return extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$3(T,R)};function __extends$3(T,R){extendStatics$3(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var vertex=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,fragment$1=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,FXAAFilter=function(T){__extends$3(R,T);function R(){return T.call(this,vertex,fragment$1)||this}return R}(Filter);/*!
 * @pixi/filter-noise - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$2=function(T,R){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$2(T,R)};function __extends$2(T,R){extendStatics$2(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var fragment=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,NoiseFilter=function(T){__extends$2(R,T);function R(I,$){I===void 0&&(I=.5),$===void 0&&($=Math.random());var N=T.call(this,defaultFilterVertex,fragment,{uNoise:0,uSeed:0})||this;return N.noise=I,N.seed=$,N}return Object.defineProperty(R.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(I){this.uniforms.uNoise=I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(I){this.uniforms.uSeed=I},enumerable:!1,configurable:!0}),R}(Filter);/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$2;(function(T){T[T.WEBGL_LEGACY=0]="WEBGL_LEGACY",T[T.WEBGL=1]="WEBGL",T[T.WEBGL2=2]="WEBGL2"})(ENV$2||(ENV$2={}));var RENDERER_TYPE$2;(function(T){T[T.UNKNOWN=0]="UNKNOWN",T[T.WEBGL=1]="WEBGL",T[T.CANVAS=2]="CANVAS"})(RENDERER_TYPE$2||(RENDERER_TYPE$2={}));var BUFFER_BITS$2;(function(T){T[T.COLOR=16384]="COLOR",T[T.DEPTH=256]="DEPTH",T[T.STENCIL=1024]="STENCIL"})(BUFFER_BITS$2||(BUFFER_BITS$2={}));var BLEND_MODES$2;(function(T){T[T.NORMAL=0]="NORMAL",T[T.ADD=1]="ADD",T[T.MULTIPLY=2]="MULTIPLY",T[T.SCREEN=3]="SCREEN",T[T.OVERLAY=4]="OVERLAY",T[T.DARKEN=5]="DARKEN",T[T.LIGHTEN=6]="LIGHTEN",T[T.COLOR_DODGE=7]="COLOR_DODGE",T[T.COLOR_BURN=8]="COLOR_BURN",T[T.HARD_LIGHT=9]="HARD_LIGHT",T[T.SOFT_LIGHT=10]="SOFT_LIGHT",T[T.DIFFERENCE=11]="DIFFERENCE",T[T.EXCLUSION=12]="EXCLUSION",T[T.HUE=13]="HUE",T[T.SATURATION=14]="SATURATION",T[T.COLOR=15]="COLOR",T[T.LUMINOSITY=16]="LUMINOSITY",T[T.NORMAL_NPM=17]="NORMAL_NPM",T[T.ADD_NPM=18]="ADD_NPM",T[T.SCREEN_NPM=19]="SCREEN_NPM",T[T.NONE=20]="NONE",T[T.SRC_OVER=0]="SRC_OVER",T[T.SRC_IN=21]="SRC_IN",T[T.SRC_OUT=22]="SRC_OUT",T[T.SRC_ATOP=23]="SRC_ATOP",T[T.DST_OVER=24]="DST_OVER",T[T.DST_IN=25]="DST_IN",T[T.DST_OUT=26]="DST_OUT",T[T.DST_ATOP=27]="DST_ATOP",T[T.ERASE=26]="ERASE",T[T.SUBTRACT=28]="SUBTRACT",T[T.XOR=29]="XOR"})(BLEND_MODES$2||(BLEND_MODES$2={}));var DRAW_MODES$2;(function(T){T[T.POINTS=0]="POINTS",T[T.LINES=1]="LINES",T[T.LINE_LOOP=2]="LINE_LOOP",T[T.LINE_STRIP=3]="LINE_STRIP",T[T.TRIANGLES=4]="TRIANGLES",T[T.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",T[T.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$2||(DRAW_MODES$2={}));var FORMATS$2;(function(T){T[T.RGBA=6408]="RGBA",T[T.RGB=6407]="RGB",T[T.RG=33319]="RG",T[T.RED=6403]="RED",T[T.RGBA_INTEGER=36249]="RGBA_INTEGER",T[T.RGB_INTEGER=36248]="RGB_INTEGER",T[T.RG_INTEGER=33320]="RG_INTEGER",T[T.RED_INTEGER=36244]="RED_INTEGER",T[T.ALPHA=6406]="ALPHA",T[T.LUMINANCE=6409]="LUMINANCE",T[T.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",T[T.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",T[T.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$2||(FORMATS$2={}));var TARGETS$2;(function(T){T[T.TEXTURE_2D=3553]="TEXTURE_2D",T[T.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",T[T.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",T[T.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",T[T.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",T[T.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",T[T.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",T[T.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",T[T.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$2||(TARGETS$2={}));var TYPES$2;(function(T){T[T.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",T[T.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",T[T.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",T[T.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",T[T.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",T[T.UNSIGNED_INT=5125]="UNSIGNED_INT",T[T.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",T[T.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",T[T.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",T[T.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",T[T.BYTE=5120]="BYTE",T[T.SHORT=5122]="SHORT",T[T.INT=5124]="INT",T[T.FLOAT=5126]="FLOAT",T[T.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",T[T.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$2||(TYPES$2={}));var SAMPLER_TYPES$2;(function(T){T[T.FLOAT=0]="FLOAT",T[T.INT=1]="INT",T[T.UINT=2]="UINT"})(SAMPLER_TYPES$2||(SAMPLER_TYPES$2={}));var SCALE_MODES$2;(function(T){T[T.NEAREST=0]="NEAREST",T[T.LINEAR=1]="LINEAR"})(SCALE_MODES$2||(SCALE_MODES$2={}));var WRAP_MODES$2;(function(T){T[T.CLAMP=33071]="CLAMP",T[T.REPEAT=10497]="REPEAT",T[T.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$2||(WRAP_MODES$2={}));var MIPMAP_MODES$2;(function(T){T[T.OFF=0]="OFF",T[T.POW2=1]="POW2",T[T.ON=2]="ON",T[T.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$2||(MIPMAP_MODES$2={}));var ALPHA_MODES$2;(function(T){T[T.NPM=0]="NPM",T[T.UNPACK=1]="UNPACK",T[T.PMA=2]="PMA",T[T.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",T[T.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",T[T.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",T[T.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$2||(ALPHA_MODES$2={}));var CLEAR_MODES$2;(function(T){T[T.NO=0]="NO",T[T.YES=1]="YES",T[T.AUTO=2]="AUTO",T[T.BLEND=0]="BLEND",T[T.CLEAR=1]="CLEAR",T[T.BLIT=2]="BLIT"})(CLEAR_MODES$2||(CLEAR_MODES$2={}));var GC_MODES$2;(function(T){T[T.AUTO=0]="AUTO",T[T.MANUAL=1]="MANUAL"})(GC_MODES$2||(GC_MODES$2={}));var PRECISION$2;(function(T){T.LOW="lowp",T.MEDIUM="mediump",T.HIGH="highp"})(PRECISION$2||(PRECISION$2={}));var MASK_TYPES$2;(function(T){T[T.NONE=0]="NONE",T[T.SCISSOR=1]="SCISSOR",T[T.STENCIL=2]="STENCIL",T[T.SPRITE=3]="SPRITE",T[T.COLOR=4]="COLOR"})(MASK_TYPES$2||(MASK_TYPES$2={}));var COLOR_MASK_BITS$2;(function(T){T[T.RED=1]="RED",T[T.GREEN=2]="GREEN",T[T.BLUE=4]="BLUE",T[T.ALPHA=8]="ALPHA"})(COLOR_MASK_BITS$2||(COLOR_MASK_BITS$2={}));var MSAA_QUALITY$2;(function(T){T[T.NONE=0]="NONE",T[T.LOW=2]="LOW",T[T.MEDIUM=4]="MEDIUM",T[T.HIGH=8]="HIGH"})(MSAA_QUALITY$2||(MSAA_QUALITY$2={}));var BUFFER_TYPE$2;(function(T){T[T.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",T[T.ARRAY_BUFFER=34962]="ARRAY_BUFFER",T[T.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$2||(BUFFER_TYPE$2={}));var _tempMatrix=new Matrix;DisplayObject.prototype._cacheAsBitmap=!1;DisplayObject.prototype._cacheData=null;DisplayObject.prototype._cacheAsBitmapResolution=null;DisplayObject.prototype._cacheAsBitmapMultisample=MSAA_QUALITY$2.NONE;var CacheData=function(){function T(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return T}();Object.defineProperties(DisplayObject.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(T){T!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=T,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(T){T!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=T,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(T){if(this._cacheAsBitmap!==T){this._cacheAsBitmap=T;var R;T?(this._cacheData||(this._cacheData=new CacheData),R=this._cacheData,R.originalRender=this.render,R.originalRenderCanvas=this.renderCanvas,R.originalUpdateTransform=this.updateTransform,R.originalCalculateBounds=this.calculateBounds,R.originalGetLocalBounds=this.getLocalBounds,R.originalDestroy=this.destroy,R.originalContainsPoint=this.containsPoint,R.originalMask=this._mask,R.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(R=this._cacheData,R.sprite&&this._destroyCachedDisplayObject(),this.render=R.originalRender,this.renderCanvas=R.originalRenderCanvas,this.calculateBounds=R.originalCalculateBounds,this.getLocalBounds=R.originalGetLocalBounds,this.destroy=R.originalDestroy,this.updateTransform=R.originalUpdateTransform,this.containsPoint=R.originalContainsPoint,this._mask=R.originalMask,this.filterArea=R.originalFilterArea)}}}});DisplayObject.prototype._renderCached=function(R){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(R),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(R))};DisplayObject.prototype._initCachedDisplayObject=function(R){var I;if(!(this._cacheData&&this._cacheData.sprite)){var $=this.alpha;this.alpha=1,R.batch.flush();var N=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var M=this.filters[0].padding;N.pad(M)}N.ceil(settings$1.RESOLUTION);var L=R.renderTexture.current,B=R.renderTexture.sourceFrame.clone(),k=R.renderTexture.destinationFrame.clone(),U=R.projection.transform,H=RenderTexture.create({width:N.width,height:N.height,resolution:this.cacheAsBitmapResolution||R.resolution,multisample:(I=this.cacheAsBitmapMultisample)!==null&&I!==void 0?I:R.multisample}),z="cacheAsBitmap_"+uid();this._cacheData.textureCacheId=z,BaseTexture.addToCache(H.baseTexture,z),Texture.addToCache(H,z);var V=this.transform.localTransform.copyTo(_tempMatrix).invert().translate(-N.x,-N.y);this.render=this._cacheData.originalRender,R.render(this,{renderTexture:H,clear:!0,transform:V,skipUpdateTransform:!1}),R.framebuffer.blit(),R.projection.transform=U,R.renderTexture.bind(L,B,k),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=$;var W=new Sprite(H);W.transform.worldTransform=this.transform.worldTransform,W.anchor.x=-(N.x/N.width),W.anchor.y=-(N.y/N.height),W.alpha=$,W._bounds=this._bounds,this._cacheData.sprite=W,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=W.containsPoint.bind(W)}};DisplayObject.prototype._renderCachedCanvas=function(R){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(R),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(R))};DisplayObject.prototype._initCachedDisplayObjectCanvas=function(R){if(!(this._cacheData&&this._cacheData.sprite)){var I=this.getLocalBounds(null,!0),$=this.alpha;this.alpha=1;var N=R.context,M=R._projTransform;I.ceil(settings$1.RESOLUTION);var L=RenderTexture.create({width:I.width,height:I.height}),B="cacheAsBitmap_"+uid();this._cacheData.textureCacheId=B,BaseTexture.addToCache(L.baseTexture,B),Texture.addToCache(L,B);var k=_tempMatrix;this.transform.localTransform.copyTo(k),k.invert(),k.tx-=I.x,k.ty-=I.y,this.renderCanvas=this._cacheData.originalRenderCanvas,R.render(this,{renderTexture:L,clear:!0,transform:k,skipUpdateTransform:!1}),R.context=N,R._projTransform=M,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=$;var U=new Sprite(L);U.transform.worldTransform=this.transform.worldTransform,U.anchor.x=-(I.x/I.width),U.anchor.y=-(I.y/I.height),U.alpha=$,U._bounds=this._bounds,this._cacheData.sprite=U,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=R._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=U.containsPoint.bind(U)}};DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,BaseTexture.removeFromCache(this._cacheData.textureCacheId),Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};DisplayObject.prototype._cacheAsBitmapDestroy=function(R){this.cacheAsBitmap=!1,this.destroy(R)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */DisplayObject.prototype.name=null;Container.prototype.getChildByName=function(R,I){for(var $=0,N=this.children.length;$<N;$++)if(this.children[$].name===R)return this.children[$];if(I)for(var $=0,N=this.children.length;$<N;$++){var M=this.children[$];if(!!M.getChildByName){var L=M.getChildByName(R,!0);if(L)return L}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */DisplayObject.prototype.getGlobalPosition=function(R,I){return R===void 0&&(R=new Point),I===void 0&&(I=!1),this.parent?this.parent.toGlobal(this.position,R,I):(R.x=this.position.x,R.y=this.position.y),R};/*!
 * @pixi/app - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ResizePlugin=function(){function T(){}return T.init=function(R){var I=this;Object.defineProperty(this,"resizeTo",{set:function($){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=$,$&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!I._resizeTo||(I.cancelResize(),I._resizeId=requestAnimationFrame(function(){return I.resize()}))},this.cancelResize=function(){I._resizeId&&(cancelAnimationFrame(I._resizeId),I._resizeId=null)},this.resize=function(){if(!!I._resizeTo){I.cancelResize();var $,N;if(I._resizeTo===globalThis.window)$=globalThis.innerWidth,N=globalThis.innerHeight;else{var M=I._resizeTo,L=M.clientWidth,B=M.clientHeight;$=L,N=B}I.renderer.resize($,N)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=R.resizeTo||null},T.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},T.extension=ExtensionType.Application,T}();/*!
 * @pixi/settings - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$1;(function(T){T[T.WEBGL_LEGACY=0]="WEBGL_LEGACY",T[T.WEBGL=1]="WEBGL",T[T.WEBGL2=2]="WEBGL2"})(ENV$1||(ENV$1={}));var RENDERER_TYPE$1;(function(T){T[T.UNKNOWN=0]="UNKNOWN",T[T.WEBGL=1]="WEBGL",T[T.CANVAS=2]="CANVAS"})(RENDERER_TYPE$1||(RENDERER_TYPE$1={}));var BUFFER_BITS$1;(function(T){T[T.COLOR=16384]="COLOR",T[T.DEPTH=256]="DEPTH",T[T.STENCIL=1024]="STENCIL"})(BUFFER_BITS$1||(BUFFER_BITS$1={}));var BLEND_MODES$1;(function(T){T[T.NORMAL=0]="NORMAL",T[T.ADD=1]="ADD",T[T.MULTIPLY=2]="MULTIPLY",T[T.SCREEN=3]="SCREEN",T[T.OVERLAY=4]="OVERLAY",T[T.DARKEN=5]="DARKEN",T[T.LIGHTEN=6]="LIGHTEN",T[T.COLOR_DODGE=7]="COLOR_DODGE",T[T.COLOR_BURN=8]="COLOR_BURN",T[T.HARD_LIGHT=9]="HARD_LIGHT",T[T.SOFT_LIGHT=10]="SOFT_LIGHT",T[T.DIFFERENCE=11]="DIFFERENCE",T[T.EXCLUSION=12]="EXCLUSION",T[T.HUE=13]="HUE",T[T.SATURATION=14]="SATURATION",T[T.COLOR=15]="COLOR",T[T.LUMINOSITY=16]="LUMINOSITY",T[T.NORMAL_NPM=17]="NORMAL_NPM",T[T.ADD_NPM=18]="ADD_NPM",T[T.SCREEN_NPM=19]="SCREEN_NPM",T[T.NONE=20]="NONE",T[T.SRC_OVER=0]="SRC_OVER",T[T.SRC_IN=21]="SRC_IN",T[T.SRC_OUT=22]="SRC_OUT",T[T.SRC_ATOP=23]="SRC_ATOP",T[T.DST_OVER=24]="DST_OVER",T[T.DST_IN=25]="DST_IN",T[T.DST_OUT=26]="DST_OUT",T[T.DST_ATOP=27]="DST_ATOP",T[T.ERASE=26]="ERASE",T[T.SUBTRACT=28]="SUBTRACT",T[T.XOR=29]="XOR"})(BLEND_MODES$1||(BLEND_MODES$1={}));var DRAW_MODES$1;(function(T){T[T.POINTS=0]="POINTS",T[T.LINES=1]="LINES",T[T.LINE_LOOP=2]="LINE_LOOP",T[T.LINE_STRIP=3]="LINE_STRIP",T[T.TRIANGLES=4]="TRIANGLES",T[T.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",T[T.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$1||(DRAW_MODES$1={}));var FORMATS$1;(function(T){T[T.RGBA=6408]="RGBA",T[T.RGB=6407]="RGB",T[T.RG=33319]="RG",T[T.RED=6403]="RED",T[T.RGBA_INTEGER=36249]="RGBA_INTEGER",T[T.RGB_INTEGER=36248]="RGB_INTEGER",T[T.RG_INTEGER=33320]="RG_INTEGER",T[T.RED_INTEGER=36244]="RED_INTEGER",T[T.ALPHA=6406]="ALPHA",T[T.LUMINANCE=6409]="LUMINANCE",T[T.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",T[T.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",T[T.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$1||(FORMATS$1={}));var TARGETS$1;(function(T){T[T.TEXTURE_2D=3553]="TEXTURE_2D",T[T.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",T[T.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",T[T.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",T[T.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",T[T.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",T[T.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",T[T.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",T[T.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$1||(TARGETS$1={}));var TYPES$1;(function(T){T[T.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",T[T.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",T[T.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",T[T.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",T[T.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",T[T.UNSIGNED_INT=5125]="UNSIGNED_INT",T[T.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",T[T.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",T[T.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",T[T.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",T[T.BYTE=5120]="BYTE",T[T.SHORT=5122]="SHORT",T[T.INT=5124]="INT",T[T.FLOAT=5126]="FLOAT",T[T.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",T[T.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$1||(TYPES$1={}));var SAMPLER_TYPES$1;(function(T){T[T.FLOAT=0]="FLOAT",T[T.INT=1]="INT",T[T.UINT=2]="UINT"})(SAMPLER_TYPES$1||(SAMPLER_TYPES$1={}));var SCALE_MODES$1;(function(T){T[T.NEAREST=0]="NEAREST",T[T.LINEAR=1]="LINEAR"})(SCALE_MODES$1||(SCALE_MODES$1={}));var WRAP_MODES$1;(function(T){T[T.CLAMP=33071]="CLAMP",T[T.REPEAT=10497]="REPEAT",T[T.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$1||(WRAP_MODES$1={}));var MIPMAP_MODES$1;(function(T){T[T.OFF=0]="OFF",T[T.POW2=1]="POW2",T[T.ON=2]="ON",T[T.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$1||(MIPMAP_MODES$1={}));var ALPHA_MODES$1;(function(T){T[T.NPM=0]="NPM",T[T.UNPACK=1]="UNPACK",T[T.PMA=2]="PMA",T[T.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",T[T.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",T[T.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",T[T.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$1||(ALPHA_MODES$1={}));var CLEAR_MODES$1;(function(T){T[T.NO=0]="NO",T[T.YES=1]="YES",T[T.AUTO=2]="AUTO",T[T.BLEND=0]="BLEND",T[T.CLEAR=1]="CLEAR",T[T.BLIT=2]="BLIT"})(CLEAR_MODES$1||(CLEAR_MODES$1={}));var GC_MODES$1;(function(T){T[T.AUTO=0]="AUTO",T[T.MANUAL=1]="MANUAL"})(GC_MODES$1||(GC_MODES$1={}));var PRECISION$1;(function(T){T.LOW="lowp",T.MEDIUM="mediump",T.HIGH="highp"})(PRECISION$1||(PRECISION$1={}));var MASK_TYPES$1;(function(T){T[T.NONE=0]="NONE",T[T.SCISSOR=1]="SCISSOR",T[T.STENCIL=2]="STENCIL",T[T.SPRITE=3]="SPRITE",T[T.COLOR=4]="COLOR"})(MASK_TYPES$1||(MASK_TYPES$1={}));var COLOR_MASK_BITS$1;(function(T){T[T.RED=1]="RED",T[T.GREEN=2]="GREEN",T[T.BLUE=4]="BLUE",T[T.ALPHA=8]="ALPHA"})(COLOR_MASK_BITS$1||(COLOR_MASK_BITS$1={}));var MSAA_QUALITY$1;(function(T){T[T.NONE=0]="NONE",T[T.LOW=2]="LOW",T[T.MEDIUM=4]="MEDIUM",T[T.HIGH=8]="HIGH"})(MSAA_QUALITY$1||(MSAA_QUALITY$1={}));var BUFFER_TYPE$1;(function(T){T[T.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",T[T.ARRAY_BUFFER=34962]="ARRAY_BUFFER",T[T.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$1||(BUFFER_TYPE$1={}));var BrowserAdapter={createCanvas:function(T,R){var I=document.createElement("canvas");return I.width=T,I.height=R,I},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var T;return(T=document.baseURI)!==null&&T!==void 0?T:window.location.href},fetch:function(T,R){return fetch(T,R)}},appleIphone=/iPhone/i,appleIpod=/iPod/i,appleTablet=/iPad/i,appleUniversal=/\biOS-universal(?:.+)Mac\b/i,androidPhone=/\bAndroid(?:.+)Mobile\b/i,androidTablet=/Android/i,amazonPhone=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,amazonTablet=/Silk/i,windowsPhone=/Windows Phone/i,windowsTablet=/\bWindows(?:.+)ARM\b/i,otherBlackBerry=/BlackBerry/i,otherBlackBerry10=/BB10/i,otherOpera=/Opera Mini/i,otherChrome=/\b(CriOS|Chrome)(?:.+)Mobile/i,otherFirefox=/Mobile(?:.+)Firefox\b/i,isAppleTabletOnIos13=function(T){return typeof T<"u"&&T.platform==="MacIntel"&&typeof T.maxTouchPoints=="number"&&T.maxTouchPoints>1&&typeof MSStream>"u"};function createMatch(T){return function(R){return R.test(T)}}function isMobile$1(T){var R={userAgent:"",platform:"",maxTouchPoints:0};!T&&typeof navigator<"u"?R={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof T=="string"?R.userAgent=T:T&&T.userAgent&&(R={userAgent:T.userAgent,platform:T.platform,maxTouchPoints:T.maxTouchPoints||0});var I=R.userAgent,$=I.split("[FBAN");typeof $[1]<"u"&&(I=$[0]),$=I.split("Twitter"),typeof $[1]<"u"&&(I=$[0]);var N=createMatch(I),M={apple:{phone:N(appleIphone)&&!N(windowsPhone),ipod:N(appleIpod),tablet:!N(appleIphone)&&(N(appleTablet)||isAppleTabletOnIos13(R))&&!N(windowsPhone),universal:N(appleUniversal),device:(N(appleIphone)||N(appleIpod)||N(appleTablet)||N(appleUniversal)||isAppleTabletOnIos13(R))&&!N(windowsPhone)},amazon:{phone:N(amazonPhone),tablet:!N(amazonPhone)&&N(amazonTablet),device:N(amazonPhone)||N(amazonTablet)},android:{phone:!N(windowsPhone)&&N(amazonPhone)||!N(windowsPhone)&&N(androidPhone),tablet:!N(windowsPhone)&&!N(amazonPhone)&&!N(androidPhone)&&(N(amazonTablet)||N(androidTablet)),device:!N(windowsPhone)&&(N(amazonPhone)||N(amazonTablet)||N(androidPhone)||N(androidTablet))||N(/\bokhttp\b/i)},windows:{phone:N(windowsPhone),tablet:N(windowsTablet),device:N(windowsPhone)||N(windowsTablet)},other:{blackberry:N(otherBlackBerry),blackberry10:N(otherBlackBerry10),opera:N(otherOpera),firefox:N(otherFirefox),chrome:N(otherChrome),device:N(otherBlackBerry)||N(otherBlackBerry10)||N(otherOpera)||N(otherFirefox)||N(otherChrome)},any:!1,phone:!1,tablet:!1};return M.any=M.apple.device||M.android.device||M.windows.device||M.other.device,M.phone=M.apple.phone||M.android.phone||M.windows.phone,M.tablet=M.apple.tablet||M.android.tablet||M.windows.tablet,M}var isMobile=isMobile$1(globalThis.navigator);function canUploadSameBuffer(){return!isMobile.apple.device}function maxRecommendedTextures(T){var R=!0;if(isMobile.tablet||isMobile.phone){if(isMobile.apple.device){var I=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(I){var $=parseInt(I[1],10);$<11&&(R=!1)}}if(isMobile.android.device){var I=navigator.userAgent.match(/Android\s([0-9.]*)/);if(I){var $=parseInt(I[1],10);$<7&&(R=!1)}}}return R?T:4}var settings={ADAPTER:BrowserAdapter,MIPMAP_TEXTURES:MIPMAP_MODES$1.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:MSAA_QUALITY$1.NONE,SPRITE_MAX_TEXTURES:maxRecommendedTextures(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:GC_MODES$1.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:WRAP_MODES$1.CLAMP,SCALE_MODE:SCALE_MODES$1.LINEAR,PRECISION_VERTEX:PRECISION$1.HIGH,PRECISION_FRAGMENT:isMobile.apple.device?PRECISION$1.HIGH:PRECISION$1.MEDIUM,CAN_UPLOAD_SAME_BUFFER:canUploadSameBuffer(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule$1(T,R,I){return I={path:R,exports:{},require:function($,N){return commonjsRequire$1($,N==null?I.path:N)}},T(I,I.exports),I.exports}function commonjsRequire$1(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}createCommonjsModule$1(function(T){var R=Object.prototype.hasOwnProperty,I="~";function $(){}Object.create&&($.prototype=Object.create(null),new $().__proto__||(I=!1));function N(k,U,H){this.fn=k,this.context=U,this.once=H||!1}function M(k,U,H,z,V){if(typeof H!="function")throw new TypeError("The listener must be a function");var W=new N(H,z||k,V),K=I?I+U:U;return k._events[K]?k._events[K].fn?k._events[K]=[k._events[K],W]:k._events[K].push(W):(k._events[K]=W,k._eventsCount++),k}function L(k,U){--k._eventsCount===0?k._events=new $:delete k._events[U]}function B(){this._events=new $,this._eventsCount=0}B.prototype.eventNames=function(){var U=[],H,z;if(this._eventsCount===0)return U;for(z in H=this._events)R.call(H,z)&&U.push(I?z.slice(1):z);return Object.getOwnPropertySymbols?U.concat(Object.getOwnPropertySymbols(H)):U},B.prototype.listeners=function(U){var H=I?I+U:U,z=this._events[H];if(!z)return[];if(z.fn)return[z.fn];for(var V=0,W=z.length,K=new Array(W);V<W;V++)K[V]=z[V].fn;return K},B.prototype.listenerCount=function(U){var H=I?I+U:U,z=this._events[H];return z?z.fn?1:z.length:0},B.prototype.emit=function(U,H,z,V,W,K){var Y=arguments,q=I?I+U:U;if(!this._events[q])return!1;var Z=this._events[q],Q=arguments.length,ee,ne;if(Z.fn){switch(Z.once&&this.removeListener(U,Z.fn,void 0,!0),Q){case 1:return Z.fn.call(Z.context),!0;case 2:return Z.fn.call(Z.context,H),!0;case 3:return Z.fn.call(Z.context,H,z),!0;case 4:return Z.fn.call(Z.context,H,z,V),!0;case 5:return Z.fn.call(Z.context,H,z,V,W),!0;case 6:return Z.fn.call(Z.context,H,z,V,W,K),!0}for(ne=1,ee=new Array(Q-1);ne<Q;ne++)ee[ne-1]=Y[ne];Z.fn.apply(Z.context,ee)}else{var te=Z.length,re;for(ne=0;ne<te;ne++)switch(Z[ne].once&&this.removeListener(U,Z[ne].fn,void 0,!0),Q){case 1:Z[ne].fn.call(Z[ne].context);break;case 2:Z[ne].fn.call(Z[ne].context,H);break;case 3:Z[ne].fn.call(Z[ne].context,H,z);break;case 4:Z[ne].fn.call(Z[ne].context,H,z,V);break;default:if(!ee)for(re=1,ee=new Array(Q-1);re<Q;re++)ee[re-1]=Y[re];Z[ne].fn.apply(Z[ne].context,ee)}}return!0},B.prototype.on=function(U,H,z){return M(this,U,H,z,!1)},B.prototype.once=function(U,H,z){return M(this,U,H,z,!0)},B.prototype.removeListener=function(U,H,z,V){var W=I?I+U:U;if(!this._events[W])return this;if(!H)return L(this,W),this;var K=this._events[W];if(K.fn)K.fn===H&&(!V||K.once)&&(!z||K.context===z)&&L(this,W);else{for(var Y=0,q=[],Z=K.length;Y<Z;Y++)(K[Y].fn!==H||V&&!K[Y].once||z&&K[Y].context!==z)&&q.push(K[Y]);q.length?this._events[W]=q.length===1?q[0]:q:L(this,W)}return this},B.prototype.removeAllListeners=function(U){var H;return U?(H=I?I+U:U,this._events[H]&&L(this,H)):(this._events=new $,this._eventsCount=0),this},B.prototype.off=B.prototype.removeListener,B.prototype.addListener=B.prototype.on,B.prefixed=I,B.EventEmitter=B,T.exports=B});createCommonjsModule$1(function(T,R){(function(I){var $=R&&!R.nodeType&&R,N=T&&!T.nodeType&&T,M=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1;(M.global===M||M.window===M||M.self===M)&&(I=M);var L,B=2147483647,k=36,U=1,H=26,z=38,V=700,W=72,K=128,Y="-",q=/^xn--/,Z=/[^\x20-\x7E]/,Q=/[\x2E\u3002\uFF0E\uFF61]/g,ee={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ne=k-U,te=Math.floor,re=String.fromCharCode,ie;function se(de){throw RangeError(ee[de])}function le(de,Oe){for(var Ve=de.length,Ze=[];Ve--;)Ze[Ve]=Oe(de[Ve]);return Ze}function he(de,Oe){var Ve=de.split("@"),Ze="";Ve.length>1&&(Ze=Ve[0]+"@",de=Ve[1]),de=de.replace(Q,".");var nt=de.split("."),xe=le(nt,Oe).join(".");return Ze+xe}function pe(de){for(var Oe=[],Ve=0,Ze=de.length,nt,xe;Ve<Ze;)nt=de.charCodeAt(Ve++),nt>=55296&&nt<=56319&&Ve<Ze?(xe=de.charCodeAt(Ve++),(xe&64512)==56320?Oe.push(((nt&1023)<<10)+(xe&1023)+65536):(Oe.push(nt),Ve--)):Oe.push(nt);return Oe}function fe(de){return le(de,function(Oe){var Ve="";return Oe>65535&&(Oe-=65536,Ve+=re(Oe>>>10&1023|55296),Oe=56320|Oe&1023),Ve+=re(Oe),Ve}).join("")}function Se(de){return de-48<10?de-22:de-65<26?de-65:de-97<26?de-97:k}function Pe(de,Oe){return de+22+75*(de<26)-((Oe!=0)<<5)}function ye(de,Oe,Ve){var Ze=0;for(de=Ve?te(de/V):de>>1,de+=te(de/Oe);de>ne*H>>1;Ze+=k)de=te(de/ne);return te(Ze+(ne+1)*de/(de+z))}function we(de){var Oe=[],Ve=de.length,Ze,nt=0,xe=K,Le=W,Ue,Xe,je,st,Ye,Qe,ce,ge,Re;for(Ue=de.lastIndexOf(Y),Ue<0&&(Ue=0),Xe=0;Xe<Ue;++Xe)de.charCodeAt(Xe)>=128&&se("not-basic"),Oe.push(de.charCodeAt(Xe));for(je=Ue>0?Ue+1:0;je<Ve;){for(st=nt,Ye=1,Qe=k;je>=Ve&&se("invalid-input"),ce=Se(de.charCodeAt(je++)),(ce>=k||ce>te((B-nt)/Ye))&&se("overflow"),nt+=ce*Ye,ge=Qe<=Le?U:Qe>=Le+H?H:Qe-Le,!(ce<ge);Qe+=k)Re=k-ge,Ye>te(B/Re)&&se("overflow"),Ye*=Re;Ze=Oe.length+1,Le=ye(nt-st,Ze,st==0),te(nt/Ze)>B-xe&&se("overflow"),xe+=te(nt/Ze),nt%=Ze,Oe.splice(nt++,0,xe)}return fe(Oe)}function Ee(de){var Oe,Ve,Ze,nt,xe,Le,Ue,Xe,je,st,Ye,Qe=[],ce,ge,Re,ke;for(de=pe(de),ce=de.length,Oe=K,Ve=0,xe=W,Le=0;Le<ce;++Le)Ye=de[Le],Ye<128&&Qe.push(re(Ye));for(Ze=nt=Qe.length,nt&&Qe.push(Y);Ze<ce;){for(Ue=B,Le=0;Le<ce;++Le)Ye=de[Le],Ye>=Oe&&Ye<Ue&&(Ue=Ye);for(ge=Ze+1,Ue-Oe>te((B-Ve)/ge)&&se("overflow"),Ve+=(Ue-Oe)*ge,Oe=Ue,Le=0;Le<ce;++Le)if(Ye=de[Le],Ye<Oe&&++Ve>B&&se("overflow"),Ye==Oe){for(Xe=Ve,je=k;st=je<=xe?U:je>=xe+H?H:je-xe,!(Xe<st);je+=k)ke=Xe-st,Re=k-st,Qe.push(re(Pe(st+ke%Re,0))),Xe=te(ke/Re);Qe.push(re(Pe(Xe,0))),xe=ye(Ve,ge,Ze==nt),Ve=0,++Ze}++Ve,++Oe}return Qe.join("")}function He(de){return he(de,function(Oe){return q.test(Oe)?we(Oe.slice(4).toLowerCase()):Oe})}function Ae(de){return he(de,function(Oe){return Z.test(Oe)?"xn--"+Ee(Oe):Oe})}if(L={version:"1.3.2",ucs2:{decode:pe,encode:fe},decode:we,encode:Ee,toASCII:Ae,toUnicode:He},$&&N)if(T.exports==$)N.exports=L;else for(ie in L)L.hasOwnProperty(ie)&&($[ie]=L[ie]);else I.punycode=L})(commonjsGlobal$1)});function hasOwnProperty$c(T,R){return Object.prototype.hasOwnProperty.call(T,R)}var decode=function(T,R,I,$){R=R||"&",I=I||"=";var N={};if(typeof T!="string"||T.length===0)return N;var M=/\+/g;T=T.split(R);var L=1e3;$&&typeof $.maxKeys=="number"&&(L=$.maxKeys);var B=T.length;L>0&&B>L&&(B=L);for(var k=0;k<B;++k){var U=T[k].replace(M,"%20"),H=U.indexOf(I),z,V,W,K;H>=0?(z=U.substr(0,H),V=U.substr(H+1)):(z=U,V=""),W=decodeURIComponent(z),K=decodeURIComponent(V),hasOwnProperty$c(N,W)?Array.isArray(N[W])?N[W].push(K):N[W]=[N[W],K]:N[W]=K}return N},stringifyPrimitive=function(T){switch(typeof T){case"string":return T;case"boolean":return T?"true":"false";case"number":return isFinite(T)?T:"";default:return""}},encode=function(T,R,I,$){return R=R||"&",I=I||"=",T===null&&(T=void 0),typeof T=="object"?Object.keys(T).map(function(N){var M=encodeURIComponent(stringifyPrimitive(N))+I;return Array.isArray(T[N])?T[N].map(function(L){return M+encodeURIComponent(stringifyPrimitive(L))}).join(R):M+encodeURIComponent(stringifyPrimitive(T[N]))}).join(R):$?encodeURIComponent(stringifyPrimitive($))+I+encodeURIComponent(stringifyPrimitive(T)):""};createCommonjsModule$1(function(T,R){R.decode=R.parse=decode,R.encode=R.stringify=encode});/*!
 * @pixi/constants - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV;(function(T){T[T.WEBGL_LEGACY=0]="WEBGL_LEGACY",T[T.WEBGL=1]="WEBGL",T[T.WEBGL2=2]="WEBGL2"})(ENV||(ENV={}));var RENDERER_TYPE;(function(T){T[T.UNKNOWN=0]="UNKNOWN",T[T.WEBGL=1]="WEBGL",T[T.CANVAS=2]="CANVAS"})(RENDERER_TYPE||(RENDERER_TYPE={}));var BUFFER_BITS;(function(T){T[T.COLOR=16384]="COLOR",T[T.DEPTH=256]="DEPTH",T[T.STENCIL=1024]="STENCIL"})(BUFFER_BITS||(BUFFER_BITS={}));var BLEND_MODES;(function(T){T[T.NORMAL=0]="NORMAL",T[T.ADD=1]="ADD",T[T.MULTIPLY=2]="MULTIPLY",T[T.SCREEN=3]="SCREEN",T[T.OVERLAY=4]="OVERLAY",T[T.DARKEN=5]="DARKEN",T[T.LIGHTEN=6]="LIGHTEN",T[T.COLOR_DODGE=7]="COLOR_DODGE",T[T.COLOR_BURN=8]="COLOR_BURN",T[T.HARD_LIGHT=9]="HARD_LIGHT",T[T.SOFT_LIGHT=10]="SOFT_LIGHT",T[T.DIFFERENCE=11]="DIFFERENCE",T[T.EXCLUSION=12]="EXCLUSION",T[T.HUE=13]="HUE",T[T.SATURATION=14]="SATURATION",T[T.COLOR=15]="COLOR",T[T.LUMINOSITY=16]="LUMINOSITY",T[T.NORMAL_NPM=17]="NORMAL_NPM",T[T.ADD_NPM=18]="ADD_NPM",T[T.SCREEN_NPM=19]="SCREEN_NPM",T[T.NONE=20]="NONE",T[T.SRC_OVER=0]="SRC_OVER",T[T.SRC_IN=21]="SRC_IN",T[T.SRC_OUT=22]="SRC_OUT",T[T.SRC_ATOP=23]="SRC_ATOP",T[T.DST_OVER=24]="DST_OVER",T[T.DST_IN=25]="DST_IN",T[T.DST_OUT=26]="DST_OUT",T[T.DST_ATOP=27]="DST_ATOP",T[T.ERASE=26]="ERASE",T[T.SUBTRACT=28]="SUBTRACT",T[T.XOR=29]="XOR"})(BLEND_MODES||(BLEND_MODES={}));var DRAW_MODES;(function(T){T[T.POINTS=0]="POINTS",T[T.LINES=1]="LINES",T[T.LINE_LOOP=2]="LINE_LOOP",T[T.LINE_STRIP=3]="LINE_STRIP",T[T.TRIANGLES=4]="TRIANGLES",T[T.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",T[T.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES||(DRAW_MODES={}));var FORMATS;(function(T){T[T.RGBA=6408]="RGBA",T[T.RGB=6407]="RGB",T[T.RG=33319]="RG",T[T.RED=6403]="RED",T[T.RGBA_INTEGER=36249]="RGBA_INTEGER",T[T.RGB_INTEGER=36248]="RGB_INTEGER",T[T.RG_INTEGER=33320]="RG_INTEGER",T[T.RED_INTEGER=36244]="RED_INTEGER",T[T.ALPHA=6406]="ALPHA",T[T.LUMINANCE=6409]="LUMINANCE",T[T.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",T[T.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",T[T.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS||(FORMATS={}));var TARGETS;(function(T){T[T.TEXTURE_2D=3553]="TEXTURE_2D",T[T.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",T[T.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",T[T.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",T[T.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",T[T.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",T[T.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",T[T.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",T[T.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS||(TARGETS={}));var TYPES;(function(T){T[T.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",T[T.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",T[T.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",T[T.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",T[T.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",T[T.UNSIGNED_INT=5125]="UNSIGNED_INT",T[T.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",T[T.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",T[T.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",T[T.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",T[T.BYTE=5120]="BYTE",T[T.SHORT=5122]="SHORT",T[T.INT=5124]="INT",T[T.FLOAT=5126]="FLOAT",T[T.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",T[T.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES||(TYPES={}));var SAMPLER_TYPES;(function(T){T[T.FLOAT=0]="FLOAT",T[T.INT=1]="INT",T[T.UINT=2]="UINT"})(SAMPLER_TYPES||(SAMPLER_TYPES={}));var SCALE_MODES;(function(T){T[T.NEAREST=0]="NEAREST",T[T.LINEAR=1]="LINEAR"})(SCALE_MODES||(SCALE_MODES={}));var WRAP_MODES;(function(T){T[T.CLAMP=33071]="CLAMP",T[T.REPEAT=10497]="REPEAT",T[T.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES||(WRAP_MODES={}));var MIPMAP_MODES;(function(T){T[T.OFF=0]="OFF",T[T.POW2=1]="POW2",T[T.ON=2]="ON",T[T.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES||(MIPMAP_MODES={}));var ALPHA_MODES;(function(T){T[T.NPM=0]="NPM",T[T.UNPACK=1]="UNPACK",T[T.PMA=2]="PMA",T[T.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",T[T.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",T[T.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",T[T.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES||(ALPHA_MODES={}));var CLEAR_MODES;(function(T){T[T.NO=0]="NO",T[T.YES=1]="YES",T[T.AUTO=2]="AUTO",T[T.BLEND=0]="BLEND",T[T.CLEAR=1]="CLEAR",T[T.BLIT=2]="BLIT"})(CLEAR_MODES||(CLEAR_MODES={}));var GC_MODES;(function(T){T[T.AUTO=0]="AUTO",T[T.MANUAL=1]="MANUAL"})(GC_MODES||(GC_MODES={}));var PRECISION;(function(T){T.LOW="lowp",T.MEDIUM="mediump",T.HIGH="highp"})(PRECISION||(PRECISION={}));var MASK_TYPES;(function(T){T[T.NONE=0]="NONE",T[T.SCISSOR=1]="SCISSOR",T[T.STENCIL=2]="STENCIL",T[T.SPRITE=3]="SPRITE",T[T.COLOR=4]="COLOR"})(MASK_TYPES||(MASK_TYPES={}));var COLOR_MASK_BITS;(function(T){T[T.RED=1]="RED",T[T.GREEN=2]="GREEN",T[T.BLUE=4]="BLUE",T[T.ALPHA=8]="ALPHA"})(COLOR_MASK_BITS||(COLOR_MASK_BITS={}));var MSAA_QUALITY;(function(T){T[T.NONE=0]="NONE",T[T.LOW=2]="LOW",T[T.MEDIUM=4]="MEDIUM",T[T.HIGH=8]="HIGH"})(MSAA_QUALITY||(MSAA_QUALITY={}));var BUFFER_TYPE;(function(T){T[T.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",T[T.ARRAY_BUFFER=34962]="ARRAY_BUFFER",T[T.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE||(BUFFER_TYPE={}));/*!
 * @pixi/utils - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings.RETINA_PREFIX=/@([0-9\.]+)x/;settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;function mapPremultipliedBlendModes(){for(var T=[],R=[],I=0;I<32;I++)T[I]=I,R[I]=I;T[BLEND_MODES.NORMAL_NPM]=BLEND_MODES.NORMAL,T[BLEND_MODES.ADD_NPM]=BLEND_MODES.ADD,T[BLEND_MODES.SCREEN_NPM]=BLEND_MODES.SCREEN,R[BLEND_MODES.NORMAL]=BLEND_MODES.NORMAL_NPM,R[BLEND_MODES.ADD]=BLEND_MODES.ADD_NPM,R[BLEND_MODES.SCREEN]=BLEND_MODES.SCREEN_NPM;var $=[];return $.push(R),$.push(T),$}mapPremultipliedBlendModes();var warnings={};function deprecation(T,R,I){if(I===void 0&&(I=3),!warnings[R]){var $=new Error().stack;typeof $>"u"?console.warn("PixiJS Deprecation Warning: ",R+`
Deprecated since v`+T):($=$.split(`
`).splice(I).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",R+`
Deprecated since v`+T),console.warn($),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",R+`
Deprecated since v`+T),console.warn($))),warnings[R]=!0}}(function(){function T(R,I,$){this.canvas=settings.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=$||settings.RESOLUTION,this.resize(R,I)}return T.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},T.prototype.resize=function(R,I){this.canvas.width=Math.round(R*this.resolution),this.canvas.height=Math.round(I*this.resolution)},T.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(T.prototype,"width",{get:function(){return this.canvas.width},set:function(R){this.canvas.width=Math.round(R)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"height",{get:function(){return this.canvas.height},set:function(R){this.canvas.height=Math.round(R)},enumerable:!1,configurable:!0}),T})();var Application=function(){function T(R){var I=this;this.stage=new Container,R=Object.assign({forceCanvas:!1},R),this.renderer=autoDetectRenderer(R),T._plugins.forEach(function($){$.init.call(I,R)})}return T.registerPlugin=function(R){deprecation("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),extensions$1.add({type:ExtensionType.Application,ref:R})},T.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(T.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),T.prototype.destroy=function(R,I){var $=this,N=T._plugins.slice(0);N.reverse(),N.forEach(function(M){M.destroy.call($)}),this.stage.destroy(I),this.stage=null,this.renderer.destroy(R),this.renderer=null},T._plugins=[],T}();extensions$1.handleByList(ExtensionType.Application,Application._plugins);extensions$1.add(ResizePlugin);/*!
 * @pixi/mesh-extras - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(T,R){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics$1(T,R)};function __extends$1(T,R){extendStatics$1(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var PlaneGeometry=function(T){__extends$1(R,T);function R(I,$,N,M){I===void 0&&(I=100),$===void 0&&($=100),N===void 0&&(N=10),M===void 0&&(M=10);var L=T.call(this)||this;return L.segWidth=N,L.segHeight=M,L.width=I,L.height=$,L.build(),L}return R.prototype.build=function(){for(var I=this.segWidth*this.segHeight,$=[],N=[],M=[],L=this.segWidth-1,B=this.segHeight-1,k=this.width/L,U=this.height/B,H=0;H<I;H++){var z=H%this.segWidth,V=H/this.segWidth|0;$.push(z*k,V*U),N.push(z/L,V/B)}for(var W=L*B,H=0;H<W;H++){var K=H%L,Y=H/L|0,q=Y*this.segWidth+K,Z=Y*this.segWidth+K+1,Q=(Y+1)*this.segWidth+K,ee=(Y+1)*this.segWidth+K+1;M.push(q,Z,Q,Z,ee,Q)}this.buffers[0].data=new Float32Array($),this.buffers[1].data=new Float32Array(N),this.indexBuffer.data=new Uint16Array(M),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},R}(MeshGeometry),RopeGeometry=function(T){__extends$1(R,T);function R(I,$,N){I===void 0&&(I=200),N===void 0&&(N=0);var M=T.call(this,new Float32Array($.length*4),new Float32Array($.length*4),new Uint16Array(($.length-1)*6))||this;return M.points=$,M._width=I,M.textureScale=N,M.build(),M}return Object.defineProperty(R.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),R.prototype.build=function(){var I=this.points;if(!!I){var $=this.getBuffer("aVertexPosition"),N=this.getBuffer("aTextureCoord"),M=this.getIndex();if(!(I.length<1)){$.data.length/4!==I.length&&($.data=new Float32Array(I.length*4),N.data=new Float32Array(I.length*4),M.data=new Uint16Array((I.length-1)*6));var L=N.data,B=M.data;L[0]=0,L[1]=0,L[2]=0,L[3]=1;for(var k=0,U=I[0],H=this._width*this.textureScale,z=I.length,V=0;V<z;V++){var W=V*4;if(this.textureScale>0){var K=U.x-I[V].x,Y=U.y-I[V].y,q=Math.sqrt(K*K+Y*Y);U=I[V],k+=q/H}else k=V/(z-1);L[W]=k,L[W+1]=0,L[W+2]=k,L[W+3]=1}for(var Z=0,V=0;V<z-1;V++){var W=V*2;B[Z++]=W,B[Z++]=W+1,B[Z++]=W+2,B[Z++]=W+2,B[Z++]=W+1,B[Z++]=W+3}N.update(),M.update(),this.updateVertices()}}},R.prototype.updateVertices=function(){var I=this.points;if(!(I.length<1)){for(var $=I[0],N,M=0,L=0,B=this.buffers[0].data,k=I.length,U=0;U<k;U++){var H=I[U],z=U*4;U<I.length-1?N=I[U+1]:N=H,L=-(N.x-$.x),M=N.y-$.y;var V=Math.sqrt(M*M+L*L),W=this.textureScale>0?this.textureScale*this._width/2:this._width/2;M/=V,L/=V,M*=W,L*=W,B[z]=H.x+M,B[z+1]=H.y+L,B[z+2]=H.x-M,B[z+3]=H.y-L,$=H}this.buffers[0].update()}},R.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},R}(MeshGeometry),SimpleRope=function(T){__extends$1(R,T);function R(I,$,N){N===void 0&&(N=0);var M=this,L=new RopeGeometry(I.height,$,N),B=new MeshMaterial(I);return N>0&&(I.baseTexture.wrapMode=WRAP_MODES$5.REPEAT),M=T.call(this,L,B)||this,M.autoUpdate=!0,M}return R.prototype._render=function(I){var $=this.geometry;(this.autoUpdate||$._width!==this.shader.texture.height)&&($._width=this.shader.texture.height,$.update()),T.prototype._render.call(this,I)},R}(Mesh),SimplePlane=function(T){__extends$1(R,T);function R(I,$,N){var M=this,L=new PlaneGeometry(I.width,I.height,$,N),B=new MeshMaterial(Texture.WHITE);return M=T.call(this,L,B)||this,M.texture=I,M.autoResize=!0,M}return R.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var I=this.geometry,$=this.shader.texture,N=$.width,M=$.height;this.autoResize&&(I.width!==N||I.height!==M)&&(I.width=this.shader.texture.width,I.height=this.shader.texture.height,I.build())},Object.defineProperty(R.prototype,"texture",{get:function(){return this.shader.texture},set:function(I){this.shader.texture!==I&&(this.shader.texture=I,this._textureID=-1,I.baseTexture.valid?this.textureUpdated():I.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),R.prototype._render=function(I){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),T.prototype._render.call(this,I)},R.prototype.destroy=function(I){this.shader.texture.off("update",this.textureUpdated,this),T.prototype.destroy.call(this,I)},R}(Mesh),SimpleMesh=function(T){__extends$1(R,T);function R(I,$,N,M,L){I===void 0&&(I=Texture.EMPTY);var B=this,k=new MeshGeometry($,N,M);k.getBuffer("aVertexPosition").static=!1;var U=new MeshMaterial(I);return B=T.call(this,k,U,null,L)||this,B.autoUpdate=!0,B}return Object.defineProperty(R.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(I){this.geometry.getBuffer("aVertexPosition").data=I},enumerable:!1,configurable:!0}),R.prototype._render=function(I){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),T.prototype._render.call(this,I)},R}(Mesh),DEFAULT_BORDER_SIZE=10,NineSlicePlane=function(T){__extends$1(R,T);function R(I,$,N,M,L){$===void 0&&($=DEFAULT_BORDER_SIZE),N===void 0&&(N=DEFAULT_BORDER_SIZE),M===void 0&&(M=DEFAULT_BORDER_SIZE),L===void 0&&(L=DEFAULT_BORDER_SIZE);var B=T.call(this,Texture.WHITE,4,4)||this;return B._origWidth=I.orig.width,B._origHeight=I.orig.height,B._width=B._origWidth,B._height=B._origHeight,B._leftWidth=$,B._rightWidth=M,B._topHeight=N,B._bottomHeight=L,B.texture=I,B}return R.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(R.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(I){this.geometry.getBuffer("aVertexPosition").data=I},enumerable:!1,configurable:!0}),R.prototype.updateHorizontalVertices=function(){var I=this.vertices,$=this._getMinScale();I[9]=I[11]=I[13]=I[15]=this._topHeight*$,I[17]=I[19]=I[21]=I[23]=this._height-this._bottomHeight*$,I[25]=I[27]=I[29]=I[31]=this._height},R.prototype.updateVerticalVertices=function(){var I=this.vertices,$=this._getMinScale();I[2]=I[10]=I[18]=I[26]=this._leftWidth*$,I[4]=I[12]=I[20]=I[28]=this._width-this._rightWidth*$,I[6]=I[14]=I[22]=I[30]=this._width},R.prototype._getMinScale=function(){var I=this._leftWidth+this._rightWidth,$=this._width>I?1:this._width/I,N=this._topHeight+this._bottomHeight,M=this._height>N?1:this._height/N,L=Math.min($,M);return L},Object.defineProperty(R.prototype,"width",{get:function(){return this._width},set:function(I){this._width=I,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"height",{get:function(){return this._height},set:function(I){this._height=I,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(I){this._leftWidth=I,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(I){this._rightWidth=I,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"topHeight",{get:function(){return this._topHeight},set:function(I){this._topHeight=I,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(I){this._bottomHeight=I,this._refresh()},enumerable:!1,configurable:!0}),R.prototype._refresh=function(){var I=this.texture,$=this.geometry.buffers[1].data;this._origWidth=I.orig.width,this._origHeight=I.orig.height;var N=1/this._origWidth,M=1/this._origHeight;$[0]=$[8]=$[16]=$[24]=0,$[1]=$[3]=$[5]=$[7]=0,$[6]=$[14]=$[22]=$[30]=1,$[25]=$[27]=$[29]=$[31]=1,$[2]=$[10]=$[18]=$[26]=N*this._leftWidth,$[4]=$[12]=$[20]=$[28]=1-N*this._rightWidth,$[9]=$[11]=$[13]=$[15]=M*this._topHeight,$[17]=$[19]=$[21]=$[23]=1-M*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},R}(SimplePlane);/*!
 * @pixi/sprite-animated - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(T,R){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)$.hasOwnProperty(N)&&(I[N]=$[N])},extendStatics(T,R)};function __extends(T,R){extendStatics(T,R);function I(){this.constructor=T}T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var AnimatedSprite=function(T){__extends(R,T);function R(I,$){$===void 0&&($=!0);var N=T.call(this,I[0]instanceof Texture?I[0]:I[0].texture)||this;return N._textures=null,N._durations=null,N._autoUpdate=$,N._isConnectedToTicker=!1,N.animationSpeed=1,N.loop=!0,N.updateAnchor=!1,N.onComplete=null,N.onFrameChange=null,N.onLoop=null,N._currentTime=0,N._playing=!1,N._previousFrame=null,N.textures=I,N}return R.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1))},R.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ticker.shared.add(this.update,this,UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))},R.prototype.gotoAndStop=function(I){this.stop();var $=this.currentFrame;this._currentTime=I,$!==this.currentFrame&&this.updateTexture()},R.prototype.gotoAndPlay=function(I){var $=this.currentFrame;this._currentTime=I,$!==this.currentFrame&&this.updateTexture(),this.play()},R.prototype.update=function(I){if(!!this._playing){var $=this.animationSpeed*I,N=this.currentFrame;if(this._durations!==null){var M=this._currentTime%1*this._durations[this.currentFrame];for(M+=$/60*1e3;M<0;)this._currentTime--,M+=this._durations[this.currentFrame];var L=Math.sign(this.animationSpeed*I);for(this._currentTime=Math.floor(this._currentTime);M>=this._durations[this.currentFrame];)M-=this._durations[this.currentFrame]*L,this._currentTime+=L;this._currentTime+=M/this._durations[this.currentFrame]}else this._currentTime+=$;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):N!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<N?this.onLoop():this.animationSpeed<0&&this.currentFrame>N&&this.onLoop()),this.updateTexture())}},R.prototype.updateTexture=function(){var I=this.currentFrame;this._previousFrame!==I&&(this._previousFrame=I,this._texture=this._textures[I],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},R.prototype.destroy=function(I){this.stop(),T.prototype.destroy.call(this,I),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},R.fromFrames=function(I){for(var $=[],N=0;N<I.length;++N)$.push(Texture.from(I[N]));return new R($)},R.fromImages=function(I){for(var $=[],N=0;N<I.length;++N)$.push(Texture.from(I[N]));return new R($)},Object.defineProperty(R.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"textures",{get:function(){return this._textures},set:function(I){if(I[0]instanceof Texture)this._textures=I,this._durations=null;else{this._textures=[],this._durations=[];for(var $=0;$<I.length;$++)this._textures.push(I[$].texture),this._durations.push(I[$].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"currentFrame",{get:function(){var I=Math.floor(this._currentTime)%this._textures.length;return I<0&&(I+=this._textures.length),I},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(I){I!==this._autoUpdate&&(this._autoUpdate=I,!this._autoUpdate&&this._isConnectedToTicker?(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),R}(Sprite);/*!
 * pixi.js - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */extensions$1.add(AccessibilityManager,Extract,InteractionManager,ParticleRenderer,Prepare,BatchRenderer,TilingSpriteRenderer,BitmapFontLoader,CompressedTextureLoader,DDSLoader,KTXLoader,SpritesheetLoader,TickerPlugin,AppLoaderPlugin);var filters={AlphaFilter,BlurFilter,BlurFilterPass,ColorMatrixFilter,DisplacementFilter,FXAAFilter,NoiseFilter};const pixi=Object.freeze(Object.defineProperty({__proto__:null,utils,filters,AccessibilityManager,accessibleTarget,InteractionData,InteractionEvent,InteractionManager,InteractionTrackingData,interactiveTarget,get ExtensionType(){return ExtensionType},extensions:extensions$1,AbstractBatchRenderer,AbstractMultiResource,AbstractRenderer,ArrayResource,Attribute,BaseImageResource,BaseRenderTexture,BaseTexture,BatchDrawCall,BatchGeometry,BatchPluginFactory,BatchRenderer,BatchShaderGenerator,BatchSystem,BatchTextureArray,Buffer:Buffer$2,BufferResource,CanvasResource,ContextSystem,CubeResource,Filter,FilterState,FilterSystem,Framebuffer,FramebufferSystem,GLFramebuffer,GLProgram,GLTexture,Geometry,GeometrySystem,IGLUniformData,INSTALLED,ImageBitmapResource,ImageResource,MaskData,MaskSystem,ObjectRenderer,Program,ProjectionSystem,Quad,QuadUv,RenderTexture,RenderTexturePool,RenderTextureSystem,Renderer,Resource,SVGResource,ScissorSystem,Shader,ShaderSystem,SpriteMaskFilter,State:State$1,StateSystem,StencilSystem,System:System$1,Texture,TextureGCSystem,TextureMatrix,TextureSystem,TextureUvs,UniformGroup,VERSION,VideoResource,ViewableBuffer,autoDetectRenderer,autoDetectResource,checkMaxIfStatementsInShader,createUBOElements,defaultFilterVertex,defaultVertex:defaultVertex$1,generateProgram,generateUniformBufferSync,getTestContext,getUBOData,resources,systems,uniformParsers,Extract,AppLoaderPlugin,Loader:Loader$1,get LoaderResource(){return LoaderResource},TextureLoader,BlobResource,CompressedTextureLoader,CompressedTextureResource,DDSLoader,FORMATS_TO_COMPONENTS,get INTERNAL_FORMATS(){return INTERNAL_FORMATS},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL,KTXLoader,TYPES_TO_BYTES_PER_COMPONENT,TYPES_TO_BYTES_PER_PIXEL,parseDDS,parseKTX,ParticleContainer,ParticleRenderer,BasePrepare,CountLimiter,Prepare,TimeLimiter,Spritesheet,SpritesheetLoader,TilingSprite,TilingSpriteRenderer,BitmapFont,BitmapFontData,BitmapFontLoader,BitmapText,TextFormat,XMLFormat,XMLStringFormat,autoDetectFormat,Ticker,TickerPlugin,get UPDATE_PRIORITY(){return UPDATE_PRIORITY},Application,ResizePlugin,get ALPHA_MODES(){return ALPHA_MODES$5},get BLEND_MODES(){return BLEND_MODES$5},get BUFFER_BITS(){return BUFFER_BITS$5},get BUFFER_TYPE(){return BUFFER_TYPE$5},get CLEAR_MODES(){return CLEAR_MODES$5},get COLOR_MASK_BITS(){return COLOR_MASK_BITS$5},get DRAW_MODES(){return DRAW_MODES$5},get ENV(){return ENV$5},get FORMATS(){return FORMATS$5},get GC_MODES(){return GC_MODES$5},get MASK_TYPES(){return MASK_TYPES$5},get MIPMAP_MODES(){return MIPMAP_MODES$5},get MSAA_QUALITY(){return MSAA_QUALITY$5},get PRECISION(){return PRECISION$5},get RENDERER_TYPE(){return RENDERER_TYPE$5},get SAMPLER_TYPES(){return SAMPLER_TYPES$5},get SCALE_MODES(){return SCALE_MODES$5},get TARGETS(){return TARGETS$5},get TYPES(){return TYPES$5},get WRAP_MODES(){return WRAP_MODES$5},Bounds:Bounds$1,Container,DisplayObject,TemporaryDisplayObject,FillStyle,GRAPHICS_CURVES,Graphics,GraphicsData,GraphicsGeometry,get LINE_CAP(){return LINE_CAP},get LINE_JOIN(){return LINE_JOIN},LineStyle,graphicsUtils,Circle,DEG_TO_RAD,Ellipse,Matrix,ObservablePoint,PI_2,Point,Polygon,RAD_TO_DEG,Rectangle,RoundedRectangle,get SHAPES(){return SHAPES},Transform,groupD8,Mesh,MeshBatchUvs,MeshGeometry,MeshMaterial,NineSlicePlane,PlaneGeometry,RopeGeometry,SimpleMesh,SimplePlane,SimpleRope,Runner,Sprite,AnimatedSprite,get TEXT_GRADIENT(){return TEXT_GRADIENT},Text,TextMetrics,TextStyle,BrowserAdapter:BrowserAdapter$1,isMobile:isMobile$2,settings:settings$1},Symbol.toStringTag,{value:"Module"}));var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(T,R){(function(){var I,$="4.17.21",N=200,M="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",L="Expected a function",B="Invalid `variable` option passed into `_.template`",k="__lodash_hash_undefined__",U=500,H="__lodash_placeholder__",z=1,V=2,W=4,K=1,Y=2,q=1,Z=2,Q=4,ee=8,ne=16,te=32,re=64,ie=128,se=256,le=512,he=30,pe="...",fe=800,Se=16,Pe=1,ye=2,we=3,Ee=1/0,He=9007199254740991,Ae=17976931348623157e292,de=0/0,Oe=4294967295,Ve=Oe-1,Ze=Oe>>>1,nt=[["ary",ie],["bind",q],["bindKey",Z],["curry",ee],["curryRight",ne],["flip",le],["partial",te],["partialRight",re],["rearg",se]],xe="[object Arguments]",Le="[object Array]",Ue="[object AsyncFunction]",Xe="[object Boolean]",je="[object Date]",st="[object DOMException]",Ye="[object Error]",Qe="[object Function]",ce="[object GeneratorFunction]",ge="[object Map]",Re="[object Number]",ke="[object Null]",be="[object Object]",Be="[object Promise]",We="[object Proxy]",Fe="[object RegExp]",Te="[object Set]",Ie="[object String]",tt="[object Symbol]",ot="[object Undefined]",lt="[object WeakMap]",ft="[object WeakSet]",mt="[object ArrayBuffer]",wt="[object DataView]",St="[object Float32Array]",Rt="[object Float64Array]",Mt="[object Int8Array]",rn="[object Int16Array]",Xt="[object Int32Array]",Dt="[object Uint8Array]",Kt="[object Uint8ClampedArray]",_e="[object Uint16Array]",Ge="[object Uint32Array]",rt=/\b__p \+= '';/g,dt=/\b(__p \+=) '' \+/g,pt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gt=/&(?:amp|lt|gt|quot|#39);/g,yt=/[&<>"']/g,Tt=RegExp(gt.source),Jt=RegExp(yt.source),fn=/<%-([\s\S]+?)%>/g,Vn=/<%([\s\S]+?)%>/g,Dn=/<%=([\s\S]+?)%>/g,gr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mr=/^\w*$/,or=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gn=/[\\^$.*+?()[\]{}|]/g,Ne=RegExp(gn.source),ve=/^\s+/,De=/\s/,it=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,at=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,Ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ft=/[()=,{}\[\]\/\s]/,Qt=/\\(\\)?/g,cn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,en=/\w*$/,Ht=/^[-+]0x[0-9a-f]+$/i,Yt=/^0b[01]+$/i,bn=/^\[object .+?Constructor\]$/,yr=/^0o[0-7]+$/i,Bt=/^(?:0|[1-9]\d*)$/,ln=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jn=/($^)/,Ar=/['\n\r\u2028\u2029\\]/g,Yn="\\ud800-\\udfff",Ir="\\u0300-\\u036f",_r="\\ufe20-\\ufe2f",lo="\\u20d0-\\u20ff",ci=Ir+_r+lo,hi="\\u2700-\\u27bf",di="a-z\\xdf-\\xf6\\xf8-\\xff",uo="\\xac\\xb1\\xd7\\xf7",co="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ho="\\u2000-\\u206f",fo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fi="A-Z\\xc0-\\xd6\\xd8-\\xde",pi="\\ufe0e\\ufe0f",vi=uo+co+ho+fo,jr="['\u2019]",po="["+Yn+"]",gi="["+vi+"]",Or="["+ci+"]",mi="\\d+",vo="["+hi+"]",yi="["+di+"]",_i="[^"+Yn+vi+mi+hi+di+fi+"]",Wr="\\ud83c[\\udffb-\\udfff]",go="(?:"+Or+"|"+Wr+")",bi="[^"+Yn+"]",Xr="(?:\\ud83c[\\udde6-\\uddff]){2}",Kr="[\\ud800-\\udbff][\\udc00-\\udfff]",sr="["+fi+"]",xi="\\u200d",Ti="(?:"+yi+"|"+_i+")",Fl="(?:"+sr+"|"+_i+")",ws="(?:"+jr+"(?:d|ll|m|re|s|t|ve))?",Cs="(?:"+jr+"(?:D|LL|M|RE|S|T|VE))?",Es=go+"?",Ss="["+pi+"]?",Bl="(?:"+xi+"(?:"+[bi,Xr,Kr].join("|")+")"+Ss+Es+")*",kl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Rs=Ss+Es+Bl,Ul="(?:"+[vo,Xr,Kr].join("|")+")"+Rs,Hl="(?:"+[bi+Or+"?",Or,Xr,Kr,po].join("|")+")",Gl=RegExp(jr,"g"),zl=RegExp(Or,"g"),mo=RegExp(Wr+"(?="+Wr+")|"+Hl+Rs,"g"),Vl=RegExp([sr+"?"+yi+"+"+ws+"(?="+[gi,sr,"$"].join("|")+")",Fl+"+"+Cs+"(?="+[gi,sr+Ti,"$"].join("|")+")",sr+"?"+Ti+"+"+ws,sr+"+"+Cs,Dl,kl,mi,Ul].join("|"),"g"),jl=RegExp("["+xi+Yn+ci+pi+"]"),Wl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kl=-1,jt={};jt[St]=jt[Rt]=jt[Mt]=jt[rn]=jt[Xt]=jt[Dt]=jt[Kt]=jt[_e]=jt[Ge]=!0,jt[xe]=jt[Le]=jt[mt]=jt[Xe]=jt[wt]=jt[je]=jt[Ye]=jt[Qe]=jt[ge]=jt[Re]=jt[be]=jt[Fe]=jt[Te]=jt[Ie]=jt[lt]=!1;var Vt={};Vt[xe]=Vt[Le]=Vt[mt]=Vt[wt]=Vt[Xe]=Vt[je]=Vt[St]=Vt[Rt]=Vt[Mt]=Vt[rn]=Vt[Xt]=Vt[ge]=Vt[Re]=Vt[be]=Vt[Fe]=Vt[Te]=Vt[Ie]=Vt[tt]=Vt[Dt]=Vt[Kt]=Vt[_e]=Vt[Ge]=!0,Vt[Ye]=Vt[Qe]=Vt[lt]=!1;var Yl={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},ql={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Jl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ql=parseFloat,eu=parseInt,Ps=typeof commonjsGlobal$2=="object"&&commonjsGlobal$2&&commonjsGlobal$2.Object===Object&&commonjsGlobal$2,tu=typeof self=="object"&&self&&self.Object===Object&&self,hn=Ps||tu||Function("return this")(),yo=R&&!R.nodeType&&R,br=yo&&!0&&T&&!T.nodeType&&T,As=br&&br.exports===yo,_o=As&&Ps.process,On=function(){try{var $e=br&&br.require&&br.require("util").types;return $e||_o&&_o.binding&&_o.binding("util")}catch{}}(),Is=On&&On.isArrayBuffer,Os=On&&On.isDate,$s=On&&On.isMap,Ns=On&&On.isRegExp,Ms=On&&On.isSet,Ls=On&&On.isTypedArray;function En($e,Ke,ze){switch(ze.length){case 0:return $e.call(Ke);case 1:return $e.call(Ke,ze[0]);case 2:return $e.call(Ke,ze[0],ze[1]);case 3:return $e.call(Ke,ze[0],ze[1],ze[2])}return $e.apply(Ke,ze)}function nu($e,Ke,ze,ht){for(var Ct=-1,Lt=$e==null?0:$e.length;++Ct<Lt;){var sn=$e[Ct];Ke(ht,sn,ze(sn),$e)}return ht}function $n($e,Ke){for(var ze=-1,ht=$e==null?0:$e.length;++ze<ht&&Ke($e[ze],ze,$e)!==!1;);return $e}function ru($e,Ke){for(var ze=$e==null?0:$e.length;ze--&&Ke($e[ze],ze,$e)!==!1;);return $e}function Fs($e,Ke){for(var ze=-1,ht=$e==null?0:$e.length;++ze<ht;)if(!Ke($e[ze],ze,$e))return!1;return!0}function ar($e,Ke){for(var ze=-1,ht=$e==null?0:$e.length,Ct=0,Lt=[];++ze<ht;){var sn=$e[ze];Ke(sn,ze,$e)&&(Lt[Ct++]=sn)}return Lt}function wi($e,Ke){var ze=$e==null?0:$e.length;return!!ze&&$r($e,Ke,0)>-1}function bo($e,Ke,ze){for(var ht=-1,Ct=$e==null?0:$e.length;++ht<Ct;)if(ze(Ke,$e[ht]))return!0;return!1}function Wt($e,Ke){for(var ze=-1,ht=$e==null?0:$e.length,Ct=Array(ht);++ze<ht;)Ct[ze]=Ke($e[ze],ze,$e);return Ct}function lr($e,Ke){for(var ze=-1,ht=Ke.length,Ct=$e.length;++ze<ht;)$e[Ct+ze]=Ke[ze];return $e}function xo($e,Ke,ze,ht){var Ct=-1,Lt=$e==null?0:$e.length;for(ht&&Lt&&(ze=$e[++Ct]);++Ct<Lt;)ze=Ke(ze,$e[Ct],Ct,$e);return ze}function iu($e,Ke,ze,ht){var Ct=$e==null?0:$e.length;for(ht&&Ct&&(ze=$e[--Ct]);Ct--;)ze=Ke(ze,$e[Ct],Ct,$e);return ze}function To($e,Ke){for(var ze=-1,ht=$e==null?0:$e.length;++ze<ht;)if(Ke($e[ze],ze,$e))return!0;return!1}var ou=wo("length");function su($e){return $e.split("")}function au($e){return $e.match(Ut)||[]}function Bs($e,Ke,ze){var ht;return ze($e,function(Ct,Lt,sn){if(Ke(Ct,Lt,sn))return ht=Lt,!1}),ht}function Ci($e,Ke,ze,ht){for(var Ct=$e.length,Lt=ze+(ht?1:-1);ht?Lt--:++Lt<Ct;)if(Ke($e[Lt],Lt,$e))return Lt;return-1}function $r($e,Ke,ze){return Ke===Ke?_u($e,Ke,ze):Ci($e,ks,ze)}function lu($e,Ke,ze,ht){for(var Ct=ze-1,Lt=$e.length;++Ct<Lt;)if(ht($e[Ct],Ke))return Ct;return-1}function ks($e){return $e!==$e}function Ds($e,Ke){var ze=$e==null?0:$e.length;return ze?Eo($e,Ke)/ze:de}function wo($e){return function(Ke){return Ke==null?I:Ke[$e]}}function Co($e){return function(Ke){return $e==null?I:$e[Ke]}}function Us($e,Ke,ze,ht,Ct){return Ct($e,function(Lt,sn,zt){ze=ht?(ht=!1,Lt):Ke(ze,Lt,sn,zt)}),ze}function uu($e,Ke){var ze=$e.length;for($e.sort(Ke);ze--;)$e[ze]=$e[ze].value;return $e}function Eo($e,Ke){for(var ze,ht=-1,Ct=$e.length;++ht<Ct;){var Lt=Ke($e[ht]);Lt!==I&&(ze=ze===I?Lt:ze+Lt)}return ze}function So($e,Ke){for(var ze=-1,ht=Array($e);++ze<$e;)ht[ze]=Ke(ze);return ht}function cu($e,Ke){return Wt(Ke,function(ze){return[ze,$e[ze]]})}function Hs($e){return $e&&$e.slice(0,js($e)+1).replace(ve,"")}function Sn($e){return function(Ke){return $e(Ke)}}function Ro($e,Ke){return Wt(Ke,function(ze){return $e[ze]})}function Yr($e,Ke){return $e.has(Ke)}function Gs($e,Ke){for(var ze=-1,ht=$e.length;++ze<ht&&$r(Ke,$e[ze],0)>-1;);return ze}function zs($e,Ke){for(var ze=$e.length;ze--&&$r(Ke,$e[ze],0)>-1;);return ze}function hu($e,Ke){for(var ze=$e.length,ht=0;ze--;)$e[ze]===Ke&&++ht;return ht}var du=Co(Yl),fu=Co(ql);function pu($e){return"\\"+Jl[$e]}function vu($e,Ke){return $e==null?I:$e[Ke]}function Nr($e){return jl.test($e)}function gu($e){return Wl.test($e)}function mu($e){for(var Ke,ze=[];!(Ke=$e.next()).done;)ze.push(Ke.value);return ze}function Po($e){var Ke=-1,ze=Array($e.size);return $e.forEach(function(ht,Ct){ze[++Ke]=[Ct,ht]}),ze}function Vs($e,Ke){return function(ze){return $e(Ke(ze))}}function ur($e,Ke){for(var ze=-1,ht=$e.length,Ct=0,Lt=[];++ze<ht;){var sn=$e[ze];(sn===Ke||sn===H)&&($e[ze]=H,Lt[Ct++]=ze)}return Lt}function Ei($e){var Ke=-1,ze=Array($e.size);return $e.forEach(function(ht){ze[++Ke]=ht}),ze}function yu($e){var Ke=-1,ze=Array($e.size);return $e.forEach(function(ht){ze[++Ke]=[ht,ht]}),ze}function _u($e,Ke,ze){for(var ht=ze-1,Ct=$e.length;++ht<Ct;)if($e[ht]===Ke)return ht;return-1}function bu($e,Ke,ze){for(var ht=ze+1;ht--;)if($e[ht]===Ke)return ht;return ht}function Mr($e){return Nr($e)?Tu($e):ou($e)}function Un($e){return Nr($e)?wu($e):su($e)}function js($e){for(var Ke=$e.length;Ke--&&De.test($e.charAt(Ke)););return Ke}var xu=Co(Zl);function Tu($e){for(var Ke=mo.lastIndex=0;mo.test($e);)++Ke;return Ke}function wu($e){return $e.match(mo)||[]}function Cu($e){return $e.match(Vl)||[]}var Eu=function $e(Ke){Ke=Ke==null?hn:Lr.defaults(hn.Object(),Ke,Lr.pick(hn,Xl));var ze=Ke.Array,ht=Ke.Date,Ct=Ke.Error,Lt=Ke.Function,sn=Ke.Math,zt=Ke.Object,Ao=Ke.RegExp,Su=Ke.String,Nn=Ke.TypeError,Si=ze.prototype,Ru=Lt.prototype,Fr=zt.prototype,Ri=Ke["__core-js_shared__"],Pi=Ru.toString,Gt=Fr.hasOwnProperty,Pu=0,Ws=function(){var D=/[^.]+$/.exec(Ri&&Ri.keys&&Ri.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),Ai=Fr.toString,Au=Pi.call(zt),Iu=hn._,Ou=Ao("^"+Pi.call(Gt).replace(gn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ii=As?Ke.Buffer:I,cr=Ke.Symbol,Oi=Ke.Uint8Array,Xs=Ii?Ii.allocUnsafe:I,$i=Vs(zt.getPrototypeOf,zt),Ks=zt.create,Ys=Fr.propertyIsEnumerable,Ni=Si.splice,qs=cr?cr.isConcatSpreadable:I,qr=cr?cr.iterator:I,xr=cr?cr.toStringTag:I,Mi=function(){try{var D=Sr(zt,"defineProperty");return D({},"",{}),D}catch{}}(),$u=Ke.clearTimeout!==hn.clearTimeout&&Ke.clearTimeout,Nu=ht&&ht.now!==hn.Date.now&&ht.now,Mu=Ke.setTimeout!==hn.setTimeout&&Ke.setTimeout,Li=sn.ceil,Fi=sn.floor,Io=zt.getOwnPropertySymbols,Lu=Ii?Ii.isBuffer:I,Zs=Ke.isFinite,Fu=Si.join,Bu=Vs(zt.keys,zt),an=sn.max,pn=sn.min,ku=ht.now,Du=Ke.parseInt,Js=sn.random,Uu=Si.reverse,Oo=Sr(Ke,"DataView"),Zr=Sr(Ke,"Map"),$o=Sr(Ke,"Promise"),Br=Sr(Ke,"Set"),Jr=Sr(Ke,"WeakMap"),Qr=Sr(zt,"create"),Bi=Jr&&new Jr,kr={},Hu=Rr(Oo),Gu=Rr(Zr),zu=Rr($o),Vu=Rr(Br),ju=Rr(Jr),ki=cr?cr.prototype:I,ei=ki?ki.valueOf:I,Qs=ki?ki.toString:I;function ae(D){if(Zt(D)&&!Et(D)&&!(D instanceof $t)){if(D instanceof Mn)return D;if(Gt.call(D,"__wrapped__"))return tl(D)}return new Mn(D)}var Dr=function(){function D(){}return function(G){if(!qt(G))return{};if(Ks)return Ks(G);D.prototype=G;var X=new D;return D.prototype=I,X}}();function Di(){}function Mn(D,G){this.__wrapped__=D,this.__actions__=[],this.__chain__=!!G,this.__index__=0,this.__values__=I}ae.templateSettings={escape:fn,evaluate:Vn,interpolate:Dn,variable:"",imports:{_:ae}},ae.prototype=Di.prototype,ae.prototype.constructor=ae,Mn.prototype=Dr(Di.prototype),Mn.prototype.constructor=Mn;function $t(D){this.__wrapped__=D,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oe,this.__views__=[]}function Wu(){var D=new $t(this.__wrapped__);return D.__actions__=xn(this.__actions__),D.__dir__=this.__dir__,D.__filtered__=this.__filtered__,D.__iteratees__=xn(this.__iteratees__),D.__takeCount__=this.__takeCount__,D.__views__=xn(this.__views__),D}function Xu(){if(this.__filtered__){var D=new $t(this);D.__dir__=-1,D.__filtered__=!0}else D=this.clone(),D.__dir__*=-1;return D}function Ku(){var D=this.__wrapped__.value(),G=this.__dir__,X=Et(D),J=G<0,oe=X?D.length:0,ue=ah(0,oe,this.__views__),me=ue.start,Ce=ue.end,Me=Ce-me,qe=J?Ce:me-1,Je=this.__iteratees__,et=Je.length,ut=0,vt=pn(Me,this.__takeCount__);if(!X||!J&&oe==Me&&vt==Me)return Ca(D,this.__actions__);var bt=[];e:for(;Me--&&ut<vt;){qe+=G;for(var At=-1,xt=D[qe];++At<et;){var Ot=Je[At],Nt=Ot.iteratee,An=Ot.type,_n=Nt(xt);if(An==ye)xt=_n;else if(!_n){if(An==Pe)continue e;break e}}bt[ut++]=xt}return bt}$t.prototype=Dr(Di.prototype),$t.prototype.constructor=$t;function Tr(D){var G=-1,X=D==null?0:D.length;for(this.clear();++G<X;){var J=D[G];this.set(J[0],J[1])}}function Yu(){this.__data__=Qr?Qr(null):{},this.size=0}function qu(D){var G=this.has(D)&&delete this.__data__[D];return this.size-=G?1:0,G}function Zu(D){var G=this.__data__;if(Qr){var X=G[D];return X===k?I:X}return Gt.call(G,D)?G[D]:I}function Ju(D){var G=this.__data__;return Qr?G[D]!==I:Gt.call(G,D)}function Qu(D,G){var X=this.__data__;return this.size+=this.has(D)?0:1,X[D]=Qr&&G===I?k:G,this}Tr.prototype.clear=Yu,Tr.prototype.delete=qu,Tr.prototype.get=Zu,Tr.prototype.has=Ju,Tr.prototype.set=Qu;function qn(D){var G=-1,X=D==null?0:D.length;for(this.clear();++G<X;){var J=D[G];this.set(J[0],J[1])}}function ec(){this.__data__=[],this.size=0}function tc(D){var G=this.__data__,X=Ui(G,D);if(X<0)return!1;var J=G.length-1;return X==J?G.pop():Ni.call(G,X,1),--this.size,!0}function nc(D){var G=this.__data__,X=Ui(G,D);return X<0?I:G[X][1]}function rc(D){return Ui(this.__data__,D)>-1}function ic(D,G){var X=this.__data__,J=Ui(X,D);return J<0?(++this.size,X.push([D,G])):X[J][1]=G,this}qn.prototype.clear=ec,qn.prototype.delete=tc,qn.prototype.get=nc,qn.prototype.has=rc,qn.prototype.set=ic;function Zn(D){var G=-1,X=D==null?0:D.length;for(this.clear();++G<X;){var J=D[G];this.set(J[0],J[1])}}function oc(){this.size=0,this.__data__={hash:new Tr,map:new(Zr||qn),string:new Tr}}function sc(D){var G=Ji(this,D).delete(D);return this.size-=G?1:0,G}function ac(D){return Ji(this,D).get(D)}function lc(D){return Ji(this,D).has(D)}function uc(D,G){var X=Ji(this,D),J=X.size;return X.set(D,G),this.size+=X.size==J?0:1,this}Zn.prototype.clear=oc,Zn.prototype.delete=sc,Zn.prototype.get=ac,Zn.prototype.has=lc,Zn.prototype.set=uc;function wr(D){var G=-1,X=D==null?0:D.length;for(this.__data__=new Zn;++G<X;)this.add(D[G])}function cc(D){return this.__data__.set(D,k),this}function hc(D){return this.__data__.has(D)}wr.prototype.add=wr.prototype.push=cc,wr.prototype.has=hc;function Hn(D){var G=this.__data__=new qn(D);this.size=G.size}function dc(){this.__data__=new qn,this.size=0}function fc(D){var G=this.__data__,X=G.delete(D);return this.size=G.size,X}function pc(D){return this.__data__.get(D)}function vc(D){return this.__data__.has(D)}function gc(D,G){var X=this.__data__;if(X instanceof qn){var J=X.__data__;if(!Zr||J.length<N-1)return J.push([D,G]),this.size=++X.size,this;X=this.__data__=new Zn(J)}return X.set(D,G),this.size=X.size,this}Hn.prototype.clear=dc,Hn.prototype.delete=fc,Hn.prototype.get=pc,Hn.prototype.has=vc,Hn.prototype.set=gc;function ea(D,G){var X=Et(D),J=!X&&Pr(D),oe=!X&&!J&&vr(D),ue=!X&&!J&&!oe&&zr(D),me=X||J||oe||ue,Ce=me?So(D.length,Su):[],Me=Ce.length;for(var qe in D)(G||Gt.call(D,qe))&&!(me&&(qe=="length"||oe&&(qe=="offset"||qe=="parent")||ue&&(qe=="buffer"||qe=="byteLength"||qe=="byteOffset")||tr(qe,Me)))&&Ce.push(qe);return Ce}function ta(D){var G=D.length;return G?D[zo(0,G-1)]:I}function mc(D,G){return Qi(xn(D),Cr(G,0,D.length))}function yc(D){return Qi(xn(D))}function No(D,G,X){(X!==I&&!Gn(D[G],X)||X===I&&!(G in D))&&Jn(D,G,X)}function ti(D,G,X){var J=D[G];(!(Gt.call(D,G)&&Gn(J,X))||X===I&&!(G in D))&&Jn(D,G,X)}function Ui(D,G){for(var X=D.length;X--;)if(Gn(D[X][0],G))return X;return-1}function bc(D,G,X,J){return hr(D,function(oe,ue,me){G(J,oe,X(oe),me)}),J}function na(D,G){return D&&Xn(G,un(G),D)}function xc(D,G){return D&&Xn(G,wn(G),D)}function Jn(D,G,X){G=="__proto__"&&Mi?Mi(D,G,{configurable:!0,enumerable:!0,value:X,writable:!0}):D[G]=X}function Mo(D,G){for(var X=-1,J=G.length,oe=ze(J),ue=D==null;++X<J;)oe[X]=ue?I:ps(D,G[X]);return oe}function Cr(D,G,X){return D===D&&(X!==I&&(D=D<=X?D:X),G!==I&&(D=D>=G?D:G)),D}function Ln(D,G,X,J,oe,ue){var me,Ce=G&z,Me=G&V,qe=G&W;if(X&&(me=oe?X(D,J,oe,ue):X(D)),me!==I)return me;if(!qt(D))return D;var Je=Et(D);if(Je){if(me=uh(D),!Ce)return xn(D,me)}else{var et=vn(D),ut=et==Qe||et==ce;if(vr(D))return Ra(D,Ce);if(et==be||et==xe||ut&&!oe){if(me=Me||ut?{}:Wa(D),!Ce)return Me?Jc(D,xc(me,D)):Zc(D,na(me,D))}else{if(!Vt[et])return oe?D:{};me=ch(D,et,Ce)}}ue||(ue=new Hn);var vt=ue.get(D);if(vt)return vt;ue.set(D,me),xl(D)?D.forEach(function(xt){me.add(Ln(xt,G,X,xt,D,ue))}):_l(D)&&D.forEach(function(xt,Ot){me.set(Ot,Ln(xt,G,X,Ot,D,ue))});var bt=qe?Me?es:Qo:Me?wn:un,At=Je?I:bt(D);return $n(At||D,function(xt,Ot){At&&(Ot=xt,xt=D[Ot]),ti(me,Ot,Ln(xt,G,X,Ot,D,ue))}),me}function Tc(D){var G=un(D);return function(X){return ra(X,D,G)}}function ra(D,G,X){var J=X.length;if(D==null)return!J;for(D=zt(D);J--;){var oe=X[J],ue=G[oe],me=D[oe];if(me===I&&!(oe in D)||!ue(me))return!1}return!0}function ia(D,G,X){if(typeof D!="function")throw new Nn(L);return li(function(){D.apply(I,X)},G)}function ni(D,G,X,J){var oe=-1,ue=wi,me=!0,Ce=D.length,Me=[],qe=G.length;if(!Ce)return Me;X&&(G=Wt(G,Sn(X))),J?(ue=bo,me=!1):G.length>=N&&(ue=Yr,me=!1,G=new wr(G));e:for(;++oe<Ce;){var Je=D[oe],et=X==null?Je:X(Je);if(Je=J||Je!==0?Je:0,me&&et===et){for(var ut=qe;ut--;)if(G[ut]===et)continue e;Me.push(Je)}else ue(G,et,J)||Me.push(Je)}return Me}var hr=$a(Wn),oa=$a(Fo,!0);function wc(D,G){var X=!0;return hr(D,function(J,oe,ue){return X=!!G(J,oe,ue),X}),X}function Hi(D,G,X){for(var J=-1,oe=D.length;++J<oe;){var ue=D[J],me=G(ue);if(me!=null&&(Ce===I?me===me&&!Pn(me):X(me,Ce)))var Ce=me,Me=ue}return Me}function Cc(D,G,X,J){var oe=D.length;for(X=Pt(X),X<0&&(X=-X>oe?0:oe+X),J=J===I||J>oe?oe:Pt(J),J<0&&(J+=oe),J=X>J?0:wl(J);X<J;)D[X++]=G;return D}function sa(D,G){var X=[];return hr(D,function(J,oe,ue){G(J,oe,ue)&&X.push(J)}),X}function dn(D,G,X,J,oe){var ue=-1,me=D.length;for(X||(X=dh),oe||(oe=[]);++ue<me;){var Ce=D[ue];G>0&&X(Ce)?G>1?dn(Ce,G-1,X,J,oe):lr(oe,Ce):J||(oe[oe.length]=Ce)}return oe}var Lo=Na(),aa=Na(!0);function Wn(D,G){return D&&Lo(D,G,un)}function Fo(D,G){return D&&aa(D,G,un)}function Gi(D,G){return ar(G,function(X){return nr(D[X])})}function Er(D,G){G=fr(G,D);for(var X=0,J=G.length;D!=null&&X<J;)D=D[Kn(G[X++])];return X&&X==J?D:I}function la(D,G,X){var J=G(D);return Et(D)?J:lr(J,X(D))}function mn(D){return D==null?D===I?ot:ke:xr&&xr in zt(D)?sh(D):_h(D)}function Bo(D,G){return D>G}function Ec(D,G){return D!=null&&Gt.call(D,G)}function Sc(D,G){return D!=null&&G in zt(D)}function Rc(D,G,X){return D>=pn(G,X)&&D<an(G,X)}function ko(D,G,X){for(var J=X?bo:wi,oe=D[0].length,ue=D.length,me=ue,Ce=ze(ue),Me=1/0,qe=[];me--;){var Je=D[me];me&&G&&(Je=Wt(Je,Sn(G))),Me=pn(Je.length,Me),Ce[me]=!X&&(G||oe>=120&&Je.length>=120)?new wr(me&&Je):I}Je=D[0];var et=-1,ut=Ce[0];e:for(;++et<oe&&qe.length<Me;){var vt=Je[et],bt=G?G(vt):vt;if(vt=X||vt!==0?vt:0,!(ut?Yr(ut,bt):J(qe,bt,X))){for(me=ue;--me;){var At=Ce[me];if(!(At?Yr(At,bt):J(D[me],bt,X)))continue e}ut&&ut.push(bt),qe.push(vt)}}return qe}function Pc(D,G,X,J){return Wn(D,function(oe,ue,me){G(J,X(oe),ue,me)}),J}function ri(D,G,X){G=fr(G,D),D=qa(D,G);var J=D==null?D:D[Kn(Bn(G))];return J==null?I:En(J,D,X)}function ua(D){return Zt(D)&&mn(D)==xe}function Ac(D){return Zt(D)&&mn(D)==mt}function Ic(D){return Zt(D)&&mn(D)==je}function ii(D,G,X,J,oe){return D===G?!0:D==null||G==null||!Zt(D)&&!Zt(G)?D!==D&&G!==G:Oc(D,G,X,J,ii,oe)}function Oc(D,G,X,J,oe,ue){var me=Et(D),Ce=Et(G),Me=me?Le:vn(D),qe=Ce?Le:vn(G);Me=Me==xe?be:Me,qe=qe==xe?be:qe;var Je=Me==be,et=qe==be,ut=Me==qe;if(ut&&vr(D)){if(!vr(G))return!1;me=!0,Je=!1}if(ut&&!Je)return ue||(ue=new Hn),me||zr(D)?za(D,G,X,J,oe,ue):ih(D,G,Me,X,J,oe,ue);if(!(X&K)){var vt=Je&&Gt.call(D,"__wrapped__"),bt=et&&Gt.call(G,"__wrapped__");if(vt||bt){var At=vt?D.value():D,xt=bt?G.value():G;return ue||(ue=new Hn),oe(At,xt,X,J,ue)}}return ut?(ue||(ue=new Hn),oh(D,G,X,J,oe,ue)):!1}function $c(D){return Zt(D)&&vn(D)==ge}function Do(D,G,X,J){var oe=X.length,ue=oe,me=!J;if(D==null)return!ue;for(D=zt(D);oe--;){var Ce=X[oe];if(me&&Ce[2]?Ce[1]!==D[Ce[0]]:!(Ce[0]in D))return!1}for(;++oe<ue;){Ce=X[oe];var Me=Ce[0],qe=D[Me],Je=Ce[1];if(me&&Ce[2]){if(qe===I&&!(Me in D))return!1}else{var et=new Hn;if(J)var ut=J(qe,Je,Me,D,G,et);if(!(ut===I?ii(Je,qe,K|Y,J,et):ut))return!1}}return!0}function ca(D){if(!qt(D)||ph(D))return!1;var G=nr(D)?Ou:bn;return G.test(Rr(D))}function Nc(D){return Zt(D)&&mn(D)==Fe}function Mc(D){return Zt(D)&&vn(D)==Te}function Lc(D){return Zt(D)&&oo(D.length)&&!!jt[mn(D)]}function ha(D){return typeof D=="function"?D:D==null?Cn:typeof D=="object"?Et(D)?pa(D[0],D[1]):fa(D):Ml(D)}function Uo(D){if(!ai(D))return Bu(D);var G=[];for(var X in zt(D))Gt.call(D,X)&&X!="constructor"&&G.push(X);return G}function Fc(D){if(!qt(D))return yh(D);var G=ai(D),X=[];for(var J in D)J=="constructor"&&(G||!Gt.call(D,J))||X.push(J);return X}function Ho(D,G){return D<G}function da(D,G){var X=-1,J=Tn(D)?ze(D.length):[];return hr(D,function(oe,ue,me){J[++X]=G(oe,ue,me)}),J}function fa(D){var G=ns(D);return G.length==1&&G[0][2]?Ka(G[0][0],G[0][1]):function(X){return X===D||Do(X,D,G)}}function pa(D,G){return is(D)&&Xa(G)?Ka(Kn(D),G):function(X){var J=ps(X,D);return J===I&&J===G?vs(X,D):ii(G,J,K|Y)}}function zi(D,G,X,J,oe){D!==G&&Lo(G,function(ue,me){if(oe||(oe=new Hn),qt(ue))Bc(D,G,me,X,zi,J,oe);else{var Ce=J?J(ss(D,me),ue,me+"",D,G,oe):I;Ce===I&&(Ce=ue),No(D,me,Ce)}},wn)}function Bc(D,G,X,J,oe,ue,me){var Ce=ss(D,X),Me=ss(G,X),qe=me.get(Me);if(qe){No(D,X,qe);return}var Je=ue?ue(Ce,Me,X+"",D,G,me):I,et=Je===I;if(et){var ut=Et(Me),vt=!ut&&vr(Me),bt=!ut&&!vt&&zr(Me);Je=Me,ut||vt||bt?Et(Ce)?Je=Ce:tn(Ce)?Je=xn(Ce):vt?(et=!1,Je=Ra(Me,!0)):bt?(et=!1,Je=Pa(Me,!0)):Je=[]:ui(Me)||Pr(Me)?(Je=Ce,Pr(Ce)?Je=Cl(Ce):(!qt(Ce)||nr(Ce))&&(Je=Wa(Me))):et=!1}et&&(me.set(Me,Je),oe(Je,Me,J,ue,me),me.delete(Me)),No(D,X,Je)}function va(D,G){var X=D.length;if(!!X)return G+=G<0?X:0,tr(G,X)?D[G]:I}function ga(D,G,X){G.length?G=Wt(G,function(ue){return Et(ue)?function(me){return Er(me,ue.length===1?ue[0]:ue)}:ue}):G=[Cn];var J=-1;G=Wt(G,Sn(_t()));var oe=da(D,function(ue,me,Ce){var Me=Wt(G,function(qe){return qe(ue)});return{criteria:Me,index:++J,value:ue}});return uu(oe,function(ue,me){return qc(ue,me,X)})}function kc(D,G){return ma(D,G,function(X,J){return vs(D,J)})}function ma(D,G,X){for(var J=-1,oe=G.length,ue={};++J<oe;){var me=G[J],Ce=Er(D,me);X(Ce,me)&&oi(ue,fr(me,D),Ce)}return ue}function Dc(D){return function(G){return Er(G,D)}}function Go(D,G,X,J){var oe=J?lu:$r,ue=-1,me=G.length,Ce=D;for(D===G&&(G=xn(G)),X&&(Ce=Wt(D,Sn(X)));++ue<me;)for(var Me=0,qe=G[ue],Je=X?X(qe):qe;(Me=oe(Ce,Je,Me,J))>-1;)Ce!==D&&Ni.call(Ce,Me,1),Ni.call(D,Me,1);return D}function ya(D,G){for(var X=D?G.length:0,J=X-1;X--;){var oe=G[X];if(X==J||oe!==ue){var ue=oe;tr(oe)?Ni.call(D,oe,1):Wo(D,oe)}}return D}function zo(D,G){return D+Fi(Js()*(G-D+1))}function Uc(D,G,X,J){for(var oe=-1,ue=an(Li((G-D)/(X||1)),0),me=ze(ue);ue--;)me[J?ue:++oe]=D,D+=X;return me}function Vo(D,G){var X="";if(!D||G<1||G>He)return X;do G%2&&(X+=D),G=Fi(G/2),G&&(D+=D);while(G);return X}function It(D,G){return as(Ya(D,G,Cn),D+"")}function Hc(D){return ta(Vr(D))}function Gc(D,G){var X=Vr(D);return Qi(X,Cr(G,0,X.length))}function oi(D,G,X,J){if(!qt(D))return D;G=fr(G,D);for(var oe=-1,ue=G.length,me=ue-1,Ce=D;Ce!=null&&++oe<ue;){var Me=Kn(G[oe]),qe=X;if(Me==="__proto__"||Me==="constructor"||Me==="prototype")return D;if(oe!=me){var Je=Ce[Me];qe=J?J(Je,Me,Ce):I,qe===I&&(qe=qt(Je)?Je:tr(G[oe+1])?[]:{})}ti(Ce,Me,qe),Ce=Ce[Me]}return D}var ba=Bi?function(D,G){return Bi.set(D,G),D}:Cn,zc=Mi?function(D,G){return Mi(D,"toString",{configurable:!0,enumerable:!1,value:ms(G),writable:!0})}:Cn;function Vc(D){return Qi(Vr(D))}function Fn(D,G,X){var J=-1,oe=D.length;G<0&&(G=-G>oe?0:oe+G),X=X>oe?oe:X,X<0&&(X+=oe),oe=G>X?0:X-G>>>0,G>>>=0;for(var ue=ze(oe);++J<oe;)ue[J]=D[J+G];return ue}function jc(D,G){var X;return hr(D,function(J,oe,ue){return X=G(J,oe,ue),!X}),!!X}function Vi(D,G,X){var J=0,oe=D==null?J:D.length;if(typeof G=="number"&&G===G&&oe<=Ze){for(;J<oe;){var ue=J+oe>>>1,me=D[ue];me!==null&&!Pn(me)&&(X?me<=G:me<G)?J=ue+1:oe=ue}return oe}return jo(D,G,Cn,X)}function jo(D,G,X,J){var oe=0,ue=D==null?0:D.length;if(ue===0)return 0;G=X(G);for(var me=G!==G,Ce=G===null,Me=Pn(G),qe=G===I;oe<ue;){var Je=Fi((oe+ue)/2),et=X(D[Je]),ut=et!==I,vt=et===null,bt=et===et,At=Pn(et);if(me)var xt=J||bt;else qe?xt=bt&&(J||ut):Ce?xt=bt&&ut&&(J||!vt):Me?xt=bt&&ut&&!vt&&(J||!At):vt||At?xt=!1:xt=J?et<=G:et<G;xt?oe=Je+1:ue=Je}return pn(ue,Ve)}function xa(D,G){for(var X=-1,J=D.length,oe=0,ue=[];++X<J;){var me=D[X],Ce=G?G(me):me;if(!X||!Gn(Ce,Me)){var Me=Ce;ue[oe++]=me===0?0:me}}return ue}function Ta(D){return typeof D=="number"?D:Pn(D)?de:+D}function Rn(D){if(typeof D=="string")return D;if(Et(D))return Wt(D,Rn)+"";if(Pn(D))return Qs?Qs.call(D):"";var G=D+"";return G=="0"&&1/D==-Ee?"-0":G}function dr(D,G,X){var J=-1,oe=wi,ue=D.length,me=!0,Ce=[],Me=Ce;if(X)me=!1,oe=bo;else if(ue>=N){var qe=G?null:nh(D);if(qe)return Ei(qe);me=!1,oe=Yr,Me=new wr}else Me=G?[]:Ce;e:for(;++J<ue;){var Je=D[J],et=G?G(Je):Je;if(Je=X||Je!==0?Je:0,me&&et===et){for(var ut=Me.length;ut--;)if(Me[ut]===et)continue e;G&&Me.push(et),Ce.push(Je)}else oe(Me,et,X)||(Me!==Ce&&Me.push(et),Ce.push(Je))}return Ce}function Wo(D,G){return G=fr(G,D),D=qa(D,G),D==null||delete D[Kn(Bn(G))]}function wa(D,G,X,J){return oi(D,G,X(Er(D,G)),J)}function ji(D,G,X,J){for(var oe=D.length,ue=J?oe:-1;(J?ue--:++ue<oe)&&G(D[ue],ue,D););return X?Fn(D,J?0:ue,J?ue+1:oe):Fn(D,J?ue+1:0,J?oe:ue)}function Ca(D,G){var X=D;return X instanceof $t&&(X=X.value()),xo(G,function(J,oe){return oe.func.apply(oe.thisArg,lr([J],oe.args))},X)}function Xo(D,G,X){var J=D.length;if(J<2)return J?dr(D[0]):[];for(var oe=-1,ue=ze(J);++oe<J;)for(var me=D[oe],Ce=-1;++Ce<J;)Ce!=oe&&(ue[oe]=ni(ue[oe]||me,D[Ce],G,X));return dr(dn(ue,1),G,X)}function Ea(D,G,X){for(var J=-1,oe=D.length,ue=G.length,me={};++J<oe;){var Ce=J<ue?G[J]:I;X(me,D[J],Ce)}return me}function Ko(D){return tn(D)?D:[]}function Yo(D){return typeof D=="function"?D:Cn}function fr(D,G){return Et(D)?D:is(D,G)?[D]:el(kt(D))}var Wc=It;function pr(D,G,X){var J=D.length;return X=X===I?J:X,!G&&X>=J?D:Fn(D,G,X)}var Sa=$u||function(D){return hn.clearTimeout(D)};function Ra(D,G){if(G)return D.slice();var X=D.length,J=Xs?Xs(X):new D.constructor(X);return D.copy(J),J}function qo(D){var G=new D.constructor(D.byteLength);return new Oi(G).set(new Oi(D)),G}function Xc(D,G){var X=G?qo(D.buffer):D.buffer;return new D.constructor(X,D.byteOffset,D.byteLength)}function Kc(D){var G=new D.constructor(D.source,en.exec(D));return G.lastIndex=D.lastIndex,G}function Yc(D){return ei?zt(ei.call(D)):{}}function Pa(D,G){var X=G?qo(D.buffer):D.buffer;return new D.constructor(X,D.byteOffset,D.length)}function Aa(D,G){if(D!==G){var X=D!==I,J=D===null,oe=D===D,ue=Pn(D),me=G!==I,Ce=G===null,Me=G===G,qe=Pn(G);if(!Ce&&!qe&&!ue&&D>G||ue&&me&&Me&&!Ce&&!qe||J&&me&&Me||!X&&Me||!oe)return 1;if(!J&&!ue&&!qe&&D<G||qe&&X&&oe&&!J&&!ue||Ce&&X&&oe||!me&&oe||!Me)return-1}return 0}function qc(D,G,X){for(var J=-1,oe=D.criteria,ue=G.criteria,me=oe.length,Ce=X.length;++J<me;){var Me=Aa(oe[J],ue[J]);if(Me){if(J>=Ce)return Me;var qe=X[J];return Me*(qe=="desc"?-1:1)}}return D.index-G.index}function Ia(D,G,X,J){for(var oe=-1,ue=D.length,me=X.length,Ce=-1,Me=G.length,qe=an(ue-me,0),Je=ze(Me+qe),et=!J;++Ce<Me;)Je[Ce]=G[Ce];for(;++oe<me;)(et||oe<ue)&&(Je[X[oe]]=D[oe]);for(;qe--;)Je[Ce++]=D[oe++];return Je}function Oa(D,G,X,J){for(var oe=-1,ue=D.length,me=-1,Ce=X.length,Me=-1,qe=G.length,Je=an(ue-Ce,0),et=ze(Je+qe),ut=!J;++oe<Je;)et[oe]=D[oe];for(var vt=oe;++Me<qe;)et[vt+Me]=G[Me];for(;++me<Ce;)(ut||oe<ue)&&(et[vt+X[me]]=D[oe++]);return et}function xn(D,G){var X=-1,J=D.length;for(G||(G=ze(J));++X<J;)G[X]=D[X];return G}function Xn(D,G,X,J){var oe=!X;X||(X={});for(var ue=-1,me=G.length;++ue<me;){var Ce=G[ue],Me=J?J(X[Ce],D[Ce],Ce,X,D):I;Me===I&&(Me=D[Ce]),oe?Jn(X,Ce,Me):ti(X,Ce,Me)}return X}function Zc(D,G){return Xn(D,rs(D),G)}function Jc(D,G){return Xn(D,Va(D),G)}function Wi(D,G){return function(X,J){var oe=Et(X)?nu:bc,ue=G?G():{};return oe(X,D,_t(J,2),ue)}}function Ur(D){return It(function(G,X){var J=-1,oe=X.length,ue=oe>1?X[oe-1]:I,me=oe>2?X[2]:I;for(ue=D.length>3&&typeof ue=="function"?(oe--,ue):I,me&&yn(X[0],X[1],me)&&(ue=oe<3?I:ue,oe=1),G=zt(G);++J<oe;){var Ce=X[J];Ce&&D(G,Ce,J,ue)}return G})}function $a(D,G){return function(X,J){if(X==null)return X;if(!Tn(X))return D(X,J);for(var oe=X.length,ue=G?oe:-1,me=zt(X);(G?ue--:++ue<oe)&&J(me[ue],ue,me)!==!1;);return X}}function Na(D){return function(G,X,J){for(var oe=-1,ue=zt(G),me=J(G),Ce=me.length;Ce--;){var Me=me[D?Ce:++oe];if(X(ue[Me],Me,ue)===!1)break}return G}}function Qc(D,G,X){var J=G&q,oe=si(D);function ue(){var me=this&&this!==hn&&this instanceof ue?oe:D;return me.apply(J?X:this,arguments)}return ue}function Ma(D){return function(G){G=kt(G);var X=Nr(G)?Un(G):I,J=X?X[0]:G.charAt(0),oe=X?pr(X,1).join(""):G.slice(1);return J[D]()+oe}}function Hr(D){return function(G){return xo($l(Ol(G).replace(Gl,"")),D,"")}}function si(D){return function(){var G=arguments;switch(G.length){case 0:return new D;case 1:return new D(G[0]);case 2:return new D(G[0],G[1]);case 3:return new D(G[0],G[1],G[2]);case 4:return new D(G[0],G[1],G[2],G[3]);case 5:return new D(G[0],G[1],G[2],G[3],G[4]);case 6:return new D(G[0],G[1],G[2],G[3],G[4],G[5]);case 7:return new D(G[0],G[1],G[2],G[3],G[4],G[5],G[6])}var X=Dr(D.prototype),J=D.apply(X,G);return qt(J)?J:X}}function eh(D,G,X){var J=si(D);function oe(){for(var ue=arguments.length,me=ze(ue),Ce=ue,Me=Gr(oe);Ce--;)me[Ce]=arguments[Ce];var qe=ue<3&&me[0]!==Me&&me[ue-1]!==Me?[]:ur(me,Me);if(ue-=qe.length,ue<X)return Da(D,G,Xi,oe.placeholder,I,me,qe,I,I,X-ue);var Je=this&&this!==hn&&this instanceof oe?J:D;return En(Je,this,me)}return oe}function La(D){return function(G,X,J){var oe=zt(G);if(!Tn(G)){var ue=_t(X,3);G=un(G),X=function(Ce){return ue(oe[Ce],Ce,oe)}}var me=D(G,X,J);return me>-1?oe[ue?G[me]:me]:I}}function Fa(D){return er(function(G){var X=G.length,J=X,oe=Mn.prototype.thru;for(D&&G.reverse();J--;){var ue=G[J];if(typeof ue!="function")throw new Nn(L);if(oe&&!me&&Zi(ue)=="wrapper")var me=new Mn([],!0)}for(J=me?J:X;++J<X;){ue=G[J];var Ce=Zi(ue),Me=Ce=="wrapper"?ts(ue):I;Me&&os(Me[0])&&Me[1]==(ie|ee|te|se)&&!Me[4].length&&Me[9]==1?me=me[Zi(Me[0])].apply(me,Me[3]):me=ue.length==1&&os(ue)?me[Ce]():me.thru(ue)}return function(){var qe=arguments,Je=qe[0];if(me&&qe.length==1&&Et(Je))return me.plant(Je).value();for(var et=0,ut=X?G[et].apply(this,qe):Je;++et<X;)ut=G[et].call(this,ut);return ut}})}function Xi(D,G,X,J,oe,ue,me,Ce,Me,qe){var Je=G&ie,et=G&q,ut=G&Z,vt=G&(ee|ne),bt=G&le,At=ut?I:si(D);function xt(){for(var Ot=arguments.length,Nt=ze(Ot),An=Ot;An--;)Nt[An]=arguments[An];if(vt)var _n=Gr(xt),In=hu(Nt,_n);if(J&&(Nt=Ia(Nt,J,oe,vt)),ue&&(Nt=Oa(Nt,ue,me,vt)),Ot-=In,vt&&Ot<qe){var nn=ur(Nt,_n);return Da(D,G,Xi,xt.placeholder,X,Nt,nn,Ce,Me,qe-Ot)}var zn=et?X:this,ir=ut?zn[D]:D;return Ot=Nt.length,Ce?Nt=bh(Nt,Ce):bt&&Ot>1&&Nt.reverse(),Je&&Me<Ot&&(Nt.length=Me),this&&this!==hn&&this instanceof xt&&(ir=At||si(ir)),ir.apply(zn,Nt)}return xt}function Ba(D,G){return function(X,J){return Pc(X,D,G(J),{})}}function Ki(D,G){return function(X,J){var oe;if(X===I&&J===I)return G;if(X!==I&&(oe=X),J!==I){if(oe===I)return J;typeof X=="string"||typeof J=="string"?(X=Rn(X),J=Rn(J)):(X=Ta(X),J=Ta(J)),oe=D(X,J)}return oe}}function Zo(D){return er(function(G){return G=Wt(G,Sn(_t())),It(function(X){var J=this;return D(G,function(oe){return En(oe,J,X)})})})}function Yi(D,G){G=G===I?" ":Rn(G);var X=G.length;if(X<2)return X?Vo(G,D):G;var J=Vo(G,Li(D/Mr(G)));return Nr(G)?pr(Un(J),0,D).join(""):J.slice(0,D)}function th(D,G,X,J){var oe=G&q,ue=si(D);function me(){for(var Ce=-1,Me=arguments.length,qe=-1,Je=J.length,et=ze(Je+Me),ut=this&&this!==hn&&this instanceof me?ue:D;++qe<Je;)et[qe]=J[qe];for(;Me--;)et[qe++]=arguments[++Ce];return En(ut,oe?X:this,et)}return me}function ka(D){return function(G,X,J){return J&&typeof J!="number"&&yn(G,X,J)&&(X=J=I),G=rr(G),X===I?(X=G,G=0):X=rr(X),J=J===I?G<X?1:-1:rr(J),Uc(G,X,J,D)}}function qi(D){return function(G,X){return typeof G=="string"&&typeof X=="string"||(G=kn(G),X=kn(X)),D(G,X)}}function Da(D,G,X,J,oe,ue,me,Ce,Me,qe){var Je=G&ee,et=Je?me:I,ut=Je?I:me,vt=Je?ue:I,bt=Je?I:ue;G|=Je?te:re,G&=~(Je?re:te),G&Q||(G&=~(q|Z));var At=[D,G,oe,vt,et,bt,ut,Ce,Me,qe],xt=X.apply(I,At);return os(D)&&Za(xt,At),xt.placeholder=J,Ja(xt,D,G)}function Jo(D){var G=sn[D];return function(X,J){if(X=kn(X),J=J==null?0:pn(Pt(J),292),J&&Zs(X)){var oe=(kt(X)+"e").split("e"),ue=G(oe[0]+"e"+(+oe[1]+J));return oe=(kt(ue)+"e").split("e"),+(oe[0]+"e"+(+oe[1]-J))}return G(X)}}var nh=Br&&1/Ei(new Br([,-0]))[1]==Ee?function(D){return new Br(D)}:bs;function Ua(D){return function(G){var X=vn(G);return X==ge?Po(G):X==Te?yu(G):cu(G,D(G))}}function Qn(D,G,X,J,oe,ue,me,Ce){var Me=G&Z;if(!Me&&typeof D!="function")throw new Nn(L);var qe=J?J.length:0;if(qe||(G&=~(te|re),J=oe=I),me=me===I?me:an(Pt(me),0),Ce=Ce===I?Ce:Pt(Ce),qe-=oe?oe.length:0,G&re){var Je=J,et=oe;J=oe=I}var ut=Me?I:ts(D),vt=[D,G,X,J,oe,Je,et,ue,me,Ce];if(ut&&mh(vt,ut),D=vt[0],G=vt[1],X=vt[2],J=vt[3],oe=vt[4],Ce=vt[9]=vt[9]===I?Me?0:D.length:an(vt[9]-qe,0),!Ce&&G&(ee|ne)&&(G&=~(ee|ne)),!G||G==q)var bt=Qc(D,G,X);else G==ee||G==ne?bt=eh(D,G,Ce):(G==te||G==(q|te))&&!oe.length?bt=th(D,G,X,J):bt=Xi.apply(I,vt);var At=ut?ba:Za;return Ja(At(bt,vt),D,G)}function Ha(D,G,X,J){return D===I||Gn(D,Fr[X])&&!Gt.call(J,X)?G:D}function Ga(D,G,X,J,oe,ue){return qt(D)&&qt(G)&&(ue.set(G,D),zi(D,G,I,Ga,ue),ue.delete(G)),D}function rh(D){return ui(D)?I:D}function za(D,G,X,J,oe,ue){var me=X&K,Ce=D.length,Me=G.length;if(Ce!=Me&&!(me&&Me>Ce))return!1;var qe=ue.get(D),Je=ue.get(G);if(qe&&Je)return qe==G&&Je==D;var et=-1,ut=!0,vt=X&Y?new wr:I;for(ue.set(D,G),ue.set(G,D);++et<Ce;){var bt=D[et],At=G[et];if(J)var xt=me?J(At,bt,et,G,D,ue):J(bt,At,et,D,G,ue);if(xt!==I){if(xt)continue;ut=!1;break}if(vt){if(!To(G,function(Ot,Nt){if(!Yr(vt,Nt)&&(bt===Ot||oe(bt,Ot,X,J,ue)))return vt.push(Nt)})){ut=!1;break}}else if(!(bt===At||oe(bt,At,X,J,ue))){ut=!1;break}}return ue.delete(D),ue.delete(G),ut}function ih(D,G,X,J,oe,ue,me){switch(X){case wt:if(D.byteLength!=G.byteLength||D.byteOffset!=G.byteOffset)return!1;D=D.buffer,G=G.buffer;case mt:return!(D.byteLength!=G.byteLength||!ue(new Oi(D),new Oi(G)));case Xe:case je:case Re:return Gn(+D,+G);case Ye:return D.name==G.name&&D.message==G.message;case Fe:case Ie:return D==G+"";case ge:var Ce=Po;case Te:var Me=J&K;if(Ce||(Ce=Ei),D.size!=G.size&&!Me)return!1;var qe=me.get(D);if(qe)return qe==G;J|=Y,me.set(D,G);var Je=za(Ce(D),Ce(G),J,oe,ue,me);return me.delete(D),Je;case tt:if(ei)return ei.call(D)==ei.call(G)}return!1}function oh(D,G,X,J,oe,ue){var me=X&K,Ce=Qo(D),Me=Ce.length,qe=Qo(G),Je=qe.length;if(Me!=Je&&!me)return!1;for(var et=Me;et--;){var ut=Ce[et];if(!(me?ut in G:Gt.call(G,ut)))return!1}var vt=ue.get(D),bt=ue.get(G);if(vt&&bt)return vt==G&&bt==D;var At=!0;ue.set(D,G),ue.set(G,D);for(var xt=me;++et<Me;){ut=Ce[et];var Ot=D[ut],Nt=G[ut];if(J)var An=me?J(Nt,Ot,ut,G,D,ue):J(Ot,Nt,ut,D,G,ue);if(!(An===I?Ot===Nt||oe(Ot,Nt,X,J,ue):An)){At=!1;break}xt||(xt=ut=="constructor")}if(At&&!xt){var _n=D.constructor,In=G.constructor;_n!=In&&"constructor"in D&&"constructor"in G&&!(typeof _n=="function"&&_n instanceof _n&&typeof In=="function"&&In instanceof In)&&(At=!1)}return ue.delete(D),ue.delete(G),At}function er(D){return as(Ya(D,I,il),D+"")}function Qo(D){return la(D,un,rs)}function es(D){return la(D,wn,Va)}var ts=Bi?function(D){return Bi.get(D)}:bs;function Zi(D){for(var G=D.name+"",X=kr[G],J=Gt.call(kr,G)?X.length:0;J--;){var oe=X[J],ue=oe.func;if(ue==null||ue==D)return oe.name}return G}function Gr(D){var G=Gt.call(ae,"placeholder")?ae:D;return G.placeholder}function _t(){var D=ae.iteratee||ys;return D=D===ys?ha:D,arguments.length?D(arguments[0],arguments[1]):D}function Ji(D,G){var X=D.__data__;return fh(G)?X[typeof G=="string"?"string":"hash"]:X.map}function ns(D){for(var G=un(D),X=G.length;X--;){var J=G[X],oe=D[J];G[X]=[J,oe,Xa(oe)]}return G}function Sr(D,G){var X=vu(D,G);return ca(X)?X:I}function sh(D){var G=Gt.call(D,xr),X=D[xr];try{D[xr]=I;var J=!0}catch{}var oe=Ai.call(D);return J&&(G?D[xr]=X:delete D[xr]),oe}var rs=Io?function(D){return D==null?[]:(D=zt(D),ar(Io(D),function(G){return Ys.call(D,G)}))}:xs,Va=Io?function(D){for(var G=[];D;)lr(G,rs(D)),D=$i(D);return G}:xs,vn=mn;(Oo&&vn(new Oo(new ArrayBuffer(1)))!=wt||Zr&&vn(new Zr)!=ge||$o&&vn($o.resolve())!=Be||Br&&vn(new Br)!=Te||Jr&&vn(new Jr)!=lt)&&(vn=function(D){var G=mn(D),X=G==be?D.constructor:I,J=X?Rr(X):"";if(J)switch(J){case Hu:return wt;case Gu:return ge;case zu:return Be;case Vu:return Te;case ju:return lt}return G});function ah(D,G,X){for(var J=-1,oe=X.length;++J<oe;){var ue=X[J],me=ue.size;switch(ue.type){case"drop":D+=me;break;case"dropRight":G-=me;break;case"take":G=pn(G,D+me);break;case"takeRight":D=an(D,G-me);break}}return{start:D,end:G}}function lh(D){var G=D.match(at);return G?G[1].split(ct):[]}function ja(D,G,X){G=fr(G,D);for(var J=-1,oe=G.length,ue=!1;++J<oe;){var me=Kn(G[J]);if(!(ue=D!=null&&X(D,me)))break;D=D[me]}return ue||++J!=oe?ue:(oe=D==null?0:D.length,!!oe&&oo(oe)&&tr(me,oe)&&(Et(D)||Pr(D)))}function uh(D){var G=D.length,X=new D.constructor(G);return G&&typeof D[0]=="string"&&Gt.call(D,"index")&&(X.index=D.index,X.input=D.input),X}function Wa(D){return typeof D.constructor=="function"&&!ai(D)?Dr($i(D)):{}}function ch(D,G,X){var J=D.constructor;switch(G){case mt:return qo(D);case Xe:case je:return new J(+D);case wt:return Xc(D,X);case St:case Rt:case Mt:case rn:case Xt:case Dt:case Kt:case _e:case Ge:return Pa(D,X);case ge:return new J;case Re:case Ie:return new J(D);case Fe:return Kc(D);case Te:return new J;case tt:return Yc(D)}}function hh(D,G){var X=G.length;if(!X)return D;var J=X-1;return G[J]=(X>1?"& ":"")+G[J],G=G.join(X>2?", ":" "),D.replace(it,`{
/* [wrapped with `+G+`] */
`)}function dh(D){return Et(D)||Pr(D)||!!(qs&&D&&D[qs])}function tr(D,G){var X=typeof D;return G=G==null?He:G,!!G&&(X=="number"||X!="symbol"&&Bt.test(D))&&D>-1&&D%1==0&&D<G}function yn(D,G,X){if(!qt(X))return!1;var J=typeof G;return(J=="number"?Tn(X)&&tr(G,X.length):J=="string"&&G in X)?Gn(X[G],D):!1}function is(D,G){if(Et(D))return!1;var X=typeof D;return X=="number"||X=="symbol"||X=="boolean"||D==null||Pn(D)?!0:mr.test(D)||!gr.test(D)||G!=null&&D in zt(G)}function fh(D){var G=typeof D;return G=="string"||G=="number"||G=="symbol"||G=="boolean"?D!=="__proto__":D===null}function os(D){var G=Zi(D),X=ae[G];if(typeof X!="function"||!(G in $t.prototype))return!1;if(D===X)return!0;var J=ts(X);return!!J&&D===J[0]}function ph(D){return!!Ws&&Ws in D}var vh=Ri?nr:Ts;function ai(D){var G=D&&D.constructor,X=typeof G=="function"&&G.prototype||Fr;return D===X}function Xa(D){return D===D&&!qt(D)}function Ka(D,G){return function(X){return X==null?!1:X[D]===G&&(G!==I||D in zt(X))}}function gh(D){var G=ro(D,function(J){return X.size===U&&X.clear(),J}),X=G.cache;return G}function mh(D,G){var X=D[1],J=G[1],oe=X|J,ue=oe<(q|Z|ie),me=J==ie&&X==ee||J==ie&&X==se&&D[7].length<=G[8]||J==(ie|se)&&G[7].length<=G[8]&&X==ee;if(!(ue||me))return D;J&q&&(D[2]=G[2],oe|=X&q?0:Q);var Ce=G[3];if(Ce){var Me=D[3];D[3]=Me?Ia(Me,Ce,G[4]):Ce,D[4]=Me?ur(D[3],H):G[4]}return Ce=G[5],Ce&&(Me=D[5],D[5]=Me?Oa(Me,Ce,G[6]):Ce,D[6]=Me?ur(D[5],H):G[6]),Ce=G[7],Ce&&(D[7]=Ce),J&ie&&(D[8]=D[8]==null?G[8]:pn(D[8],G[8])),D[9]==null&&(D[9]=G[9]),D[0]=G[0],D[1]=oe,D}function yh(D){var G=[];if(D!=null)for(var X in zt(D))G.push(X);return G}function _h(D){return Ai.call(D)}function Ya(D,G,X){return G=an(G===I?D.length-1:G,0),function(){for(var J=arguments,oe=-1,ue=an(J.length-G,0),me=ze(ue);++oe<ue;)me[oe]=J[G+oe];oe=-1;for(var Ce=ze(G+1);++oe<G;)Ce[oe]=J[oe];return Ce[G]=X(me),En(D,this,Ce)}}function qa(D,G){return G.length<2?D:Er(D,Fn(G,0,-1))}function bh(D,G){for(var X=D.length,J=pn(G.length,X),oe=xn(D);J--;){var ue=G[J];D[J]=tr(ue,X)?oe[ue]:I}return D}function ss(D,G){if(!(G==="constructor"&&typeof D[G]=="function")&&G!="__proto__")return D[G]}var Za=Qa(ba),li=Mu||function(D,G){return hn.setTimeout(D,G)},as=Qa(zc);function Ja(D,G,X){var J=G+"";return as(D,hh(J,xh(lh(J),X)))}function Qa(D){var G=0,X=0;return function(){var J=ku(),oe=Se-(J-X);if(X=J,oe>0){if(++G>=fe)return arguments[0]}else G=0;return D.apply(I,arguments)}}function Qi(D,G){var X=-1,J=D.length,oe=J-1;for(G=G===I?J:G;++X<G;){var ue=zo(X,oe),me=D[ue];D[ue]=D[X],D[X]=me}return D.length=G,D}var el=gh(function(D){var G=[];return D.charCodeAt(0)===46&&G.push(""),D.replace(or,function(X,J,oe,ue){G.push(oe?ue.replace(Qt,"$1"):J||X)}),G});function Kn(D){if(typeof D=="string"||Pn(D))return D;var G=D+"";return G=="0"&&1/D==-Ee?"-0":G}function Rr(D){if(D!=null){try{return Pi.call(D)}catch{}try{return D+""}catch{}}return""}function xh(D,G){return $n(nt,function(X){var J="_."+X[0];G&X[1]&&!wi(D,J)&&D.push(J)}),D.sort()}function tl(D){if(D instanceof $t)return D.clone();var G=new Mn(D.__wrapped__,D.__chain__);return G.__actions__=xn(D.__actions__),G.__index__=D.__index__,G.__values__=D.__values__,G}function Th(D,G,X){(X?yn(D,G,X):G===I)?G=1:G=an(Pt(G),0);var J=D==null?0:D.length;if(!J||G<1)return[];for(var oe=0,ue=0,me=ze(Li(J/G));oe<J;)me[ue++]=Fn(D,oe,oe+=G);return me}function wh(D){for(var G=-1,X=D==null?0:D.length,J=0,oe=[];++G<X;){var ue=D[G];ue&&(oe[J++]=ue)}return oe}function Ch(){var D=arguments.length;if(!D)return[];for(var G=ze(D-1),X=arguments[0],J=D;J--;)G[J-1]=arguments[J];return lr(Et(X)?xn(X):[X],dn(G,1))}var Eh=It(function(D,G){return tn(D)?ni(D,dn(G,1,tn,!0)):[]}),Sh=It(function(D,G){var X=Bn(G);return tn(X)&&(X=I),tn(D)?ni(D,dn(G,1,tn,!0),_t(X,2)):[]}),Rh=It(function(D,G){var X=Bn(G);return tn(X)&&(X=I),tn(D)?ni(D,dn(G,1,tn,!0),I,X):[]});function Ph(D,G,X){var J=D==null?0:D.length;return J?(G=X||G===I?1:Pt(G),Fn(D,G<0?0:G,J)):[]}function Ah(D,G,X){var J=D==null?0:D.length;return J?(G=X||G===I?1:Pt(G),G=J-G,Fn(D,0,G<0?0:G)):[]}function Ih(D,G){return D&&D.length?ji(D,_t(G,3),!0,!0):[]}function Oh(D,G){return D&&D.length?ji(D,_t(G,3),!0):[]}function $h(D,G,X,J){var oe=D==null?0:D.length;return oe?(X&&typeof X!="number"&&yn(D,G,X)&&(X=0,J=oe),Cc(D,G,X,J)):[]}function nl(D,G,X){var J=D==null?0:D.length;if(!J)return-1;var oe=X==null?0:Pt(X);return oe<0&&(oe=an(J+oe,0)),Ci(D,_t(G,3),oe)}function rl(D,G,X){var J=D==null?0:D.length;if(!J)return-1;var oe=J-1;return X!==I&&(oe=Pt(X),oe=X<0?an(J+oe,0):pn(oe,J-1)),Ci(D,_t(G,3),oe,!0)}function il(D){var G=D==null?0:D.length;return G?dn(D,1):[]}function Nh(D){var G=D==null?0:D.length;return G?dn(D,Ee):[]}function Mh(D,G){var X=D==null?0:D.length;return X?(G=G===I?1:Pt(G),dn(D,G)):[]}function Lh(D){for(var G=-1,X=D==null?0:D.length,J={};++G<X;){var oe=D[G];J[oe[0]]=oe[1]}return J}function ol(D){return D&&D.length?D[0]:I}function Fh(D,G,X){var J=D==null?0:D.length;if(!J)return-1;var oe=X==null?0:Pt(X);return oe<0&&(oe=an(J+oe,0)),$r(D,G,oe)}function Bh(D){var G=D==null?0:D.length;return G?Fn(D,0,-1):[]}var kh=It(function(D){var G=Wt(D,Ko);return G.length&&G[0]===D[0]?ko(G):[]}),Dh=It(function(D){var G=Bn(D),X=Wt(D,Ko);return G===Bn(X)?G=I:X.pop(),X.length&&X[0]===D[0]?ko(X,_t(G,2)):[]}),Uh=It(function(D){var G=Bn(D),X=Wt(D,Ko);return G=typeof G=="function"?G:I,G&&X.pop(),X.length&&X[0]===D[0]?ko(X,I,G):[]});function Hh(D,G){return D==null?"":Fu.call(D,G)}function Bn(D){var G=D==null?0:D.length;return G?D[G-1]:I}function Gh(D,G,X){var J=D==null?0:D.length;if(!J)return-1;var oe=J;return X!==I&&(oe=Pt(X),oe=oe<0?an(J+oe,0):pn(oe,J-1)),G===G?bu(D,G,oe):Ci(D,ks,oe,!0)}function zh(D,G){return D&&D.length?va(D,Pt(G)):I}var Vh=It(sl);function sl(D,G){return D&&D.length&&G&&G.length?Go(D,G):D}function jh(D,G,X){return D&&D.length&&G&&G.length?Go(D,G,_t(X,2)):D}function Wh(D,G,X){return D&&D.length&&G&&G.length?Go(D,G,I,X):D}var Xh=er(function(D,G){var X=D==null?0:D.length,J=Mo(D,G);return ya(D,Wt(G,function(oe){return tr(oe,X)?+oe:oe}).sort(Aa)),J});function Kh(D,G){var X=[];if(!(D&&D.length))return X;var J=-1,oe=[],ue=D.length;for(G=_t(G,3);++J<ue;){var me=D[J];G(me,J,D)&&(X.push(me),oe.push(J))}return ya(D,oe),X}function ls(D){return D==null?D:Uu.call(D)}function Yh(D,G,X){var J=D==null?0:D.length;return J?(X&&typeof X!="number"&&yn(D,G,X)?(G=0,X=J):(G=G==null?0:Pt(G),X=X===I?J:Pt(X)),Fn(D,G,X)):[]}function qh(D,G){return Vi(D,G)}function Zh(D,G,X){return jo(D,G,_t(X,2))}function Jh(D,G){var X=D==null?0:D.length;if(X){var J=Vi(D,G);if(J<X&&Gn(D[J],G))return J}return-1}function Qh(D,G){return Vi(D,G,!0)}function ed(D,G,X){return jo(D,G,_t(X,2),!0)}function td(D,G){var X=D==null?0:D.length;if(X){var J=Vi(D,G,!0)-1;if(Gn(D[J],G))return J}return-1}function nd(D){return D&&D.length?xa(D):[]}function rd(D,G){return D&&D.length?xa(D,_t(G,2)):[]}function id(D){var G=D==null?0:D.length;return G?Fn(D,1,G):[]}function od(D,G,X){return D&&D.length?(G=X||G===I?1:Pt(G),Fn(D,0,G<0?0:G)):[]}function sd(D,G,X){var J=D==null?0:D.length;return J?(G=X||G===I?1:Pt(G),G=J-G,Fn(D,G<0?0:G,J)):[]}function ad(D,G){return D&&D.length?ji(D,_t(G,3),!1,!0):[]}function ld(D,G){return D&&D.length?ji(D,_t(G,3)):[]}var ud=It(function(D){return dr(dn(D,1,tn,!0))}),cd=It(function(D){var G=Bn(D);return tn(G)&&(G=I),dr(dn(D,1,tn,!0),_t(G,2))}),hd=It(function(D){var G=Bn(D);return G=typeof G=="function"?G:I,dr(dn(D,1,tn,!0),I,G)});function dd(D){return D&&D.length?dr(D):[]}function fd(D,G){return D&&D.length?dr(D,_t(G,2)):[]}function pd(D,G){return G=typeof G=="function"?G:I,D&&D.length?dr(D,I,G):[]}function us(D){if(!(D&&D.length))return[];var G=0;return D=ar(D,function(X){if(tn(X))return G=an(X.length,G),!0}),So(G,function(X){return Wt(D,wo(X))})}function al(D,G){if(!(D&&D.length))return[];var X=us(D);return G==null?X:Wt(X,function(J){return En(G,I,J)})}var vd=It(function(D,G){return tn(D)?ni(D,G):[]}),gd=It(function(D){return Xo(ar(D,tn))}),md=It(function(D){var G=Bn(D);return tn(G)&&(G=I),Xo(ar(D,tn),_t(G,2))}),yd=It(function(D){var G=Bn(D);return G=typeof G=="function"?G:I,Xo(ar(D,tn),I,G)}),_d=It(us);function bd(D,G){return Ea(D||[],G||[],ti)}function xd(D,G){return Ea(D||[],G||[],oi)}var Td=It(function(D){var G=D.length,X=G>1?D[G-1]:I;return X=typeof X=="function"?(D.pop(),X):I,al(D,X)});function ll(D){var G=ae(D);return G.__chain__=!0,G}function wd(D,G){return G(D),D}function eo(D,G){return G(D)}var Cd=er(function(D){var G=D.length,X=G?D[0]:0,J=this.__wrapped__,oe=function(ue){return Mo(ue,D)};return G>1||this.__actions__.length||!(J instanceof $t)||!tr(X)?this.thru(oe):(J=J.slice(X,+X+(G?1:0)),J.__actions__.push({func:eo,args:[oe],thisArg:I}),new Mn(J,this.__chain__).thru(function(ue){return G&&!ue.length&&ue.push(I),ue}))});function Ed(){return ll(this)}function Sd(){return new Mn(this.value(),this.__chain__)}function Rd(){this.__values__===I&&(this.__values__=Tl(this.value()));var D=this.__index__>=this.__values__.length,G=D?I:this.__values__[this.__index__++];return{done:D,value:G}}function Pd(){return this}function Ad(D){for(var G,X=this;X instanceof Di;){var J=tl(X);J.__index__=0,J.__values__=I,G?oe.__wrapped__=J:G=J;var oe=J;X=X.__wrapped__}return oe.__wrapped__=D,G}function Id(){var D=this.__wrapped__;if(D instanceof $t){var G=D;return this.__actions__.length&&(G=new $t(this)),G=G.reverse(),G.__actions__.push({func:eo,args:[ls],thisArg:I}),new Mn(G,this.__chain__)}return this.thru(ls)}function Od(){return Ca(this.__wrapped__,this.__actions__)}var $d=Wi(function(D,G,X){Gt.call(D,X)?++D[X]:Jn(D,X,1)});function Nd(D,G,X){var J=Et(D)?Fs:wc;return X&&yn(D,G,X)&&(G=I),J(D,_t(G,3))}function Md(D,G){var X=Et(D)?ar:sa;return X(D,_t(G,3))}var Ld=La(nl),Fd=La(rl);function Bd(D,G){return dn(to(D,G),1)}function kd(D,G){return dn(to(D,G),Ee)}function Dd(D,G,X){return X=X===I?1:Pt(X),dn(to(D,G),X)}function ul(D,G){var X=Et(D)?$n:hr;return X(D,_t(G,3))}function cl(D,G){var X=Et(D)?ru:oa;return X(D,_t(G,3))}var Ud=Wi(function(D,G,X){Gt.call(D,X)?D[X].push(G):Jn(D,X,[G])});function Hd(D,G,X,J){D=Tn(D)?D:Vr(D),X=X&&!J?Pt(X):0;var oe=D.length;return X<0&&(X=an(oe+X,0)),so(D)?X<=oe&&D.indexOf(G,X)>-1:!!oe&&$r(D,G,X)>-1}var Gd=It(function(D,G,X){var J=-1,oe=typeof G=="function",ue=Tn(D)?ze(D.length):[];return hr(D,function(me){ue[++J]=oe?En(G,me,X):ri(me,G,X)}),ue}),zd=Wi(function(D,G,X){Jn(D,X,G)});function to(D,G){var X=Et(D)?Wt:da;return X(D,_t(G,3))}function Vd(D,G,X,J){return D==null?[]:(Et(G)||(G=G==null?[]:[G]),X=J?I:X,Et(X)||(X=X==null?[]:[X]),ga(D,G,X))}var jd=Wi(function(D,G,X){D[X?0:1].push(G)},function(){return[[],[]]});function Wd(D,G,X){var J=Et(D)?xo:Us,oe=arguments.length<3;return J(D,_t(G,4),X,oe,hr)}function Xd(D,G,X){var J=Et(D)?iu:Us,oe=arguments.length<3;return J(D,_t(G,4),X,oe,oa)}function Kd(D,G){var X=Et(D)?ar:sa;return X(D,io(_t(G,3)))}function Yd(D){var G=Et(D)?ta:Hc;return G(D)}function qd(D,G,X){(X?yn(D,G,X):G===I)?G=1:G=Pt(G);var J=Et(D)?mc:Gc;return J(D,G)}function Zd(D){var G=Et(D)?yc:Vc;return G(D)}function Jd(D){if(D==null)return 0;if(Tn(D))return so(D)?Mr(D):D.length;var G=vn(D);return G==ge||G==Te?D.size:Uo(D).length}function Qd(D,G,X){var J=Et(D)?To:jc;return X&&yn(D,G,X)&&(G=I),J(D,_t(G,3))}var ef=It(function(D,G){if(D==null)return[];var X=G.length;return X>1&&yn(D,G[0],G[1])?G=[]:X>2&&yn(G[0],G[1],G[2])&&(G=[G[0]]),ga(D,dn(G,1),[])}),no=Nu||function(){return hn.Date.now()};function tf(D,G){if(typeof G!="function")throw new Nn(L);return D=Pt(D),function(){if(--D<1)return G.apply(this,arguments)}}function hl(D,G,X){return G=X?I:G,G=D&&G==null?D.length:G,Qn(D,ie,I,I,I,I,G)}function dl(D,G){var X;if(typeof G!="function")throw new Nn(L);return D=Pt(D),function(){return--D>0&&(X=G.apply(this,arguments)),D<=1&&(G=I),X}}var cs=It(function(D,G,X){var J=q;if(X.length){var oe=ur(X,Gr(cs));J|=te}return Qn(D,J,G,X,oe)}),fl=It(function(D,G,X){var J=q|Z;if(X.length){var oe=ur(X,Gr(fl));J|=te}return Qn(G,J,D,X,oe)});function pl(D,G,X){G=X?I:G;var J=Qn(D,ee,I,I,I,I,I,G);return J.placeholder=pl.placeholder,J}function vl(D,G,X){G=X?I:G;var J=Qn(D,ne,I,I,I,I,I,G);return J.placeholder=vl.placeholder,J}function gl(D,G,X){var J,oe,ue,me,Ce,Me,qe=0,Je=!1,et=!1,ut=!0;if(typeof D!="function")throw new Nn(L);G=kn(G)||0,qt(X)&&(Je=!!X.leading,et="maxWait"in X,ue=et?an(kn(X.maxWait)||0,G):ue,ut="trailing"in X?!!X.trailing:ut);function vt(nn){var zn=J,ir=oe;return J=oe=I,qe=nn,me=D.apply(ir,zn),me}function bt(nn){return qe=nn,Ce=li(Ot,G),Je?vt(nn):me}function At(nn){var zn=nn-Me,ir=nn-qe,Ll=G-zn;return et?pn(Ll,ue-ir):Ll}function xt(nn){var zn=nn-Me,ir=nn-qe;return Me===I||zn>=G||zn<0||et&&ir>=ue}function Ot(){var nn=no();if(xt(nn))return Nt(nn);Ce=li(Ot,At(nn))}function Nt(nn){return Ce=I,ut&&J?vt(nn):(J=oe=I,me)}function An(){Ce!==I&&Sa(Ce),qe=0,J=Me=oe=Ce=I}function _n(){return Ce===I?me:Nt(no())}function In(){var nn=no(),zn=xt(nn);if(J=arguments,oe=this,Me=nn,zn){if(Ce===I)return bt(Me);if(et)return Sa(Ce),Ce=li(Ot,G),vt(Me)}return Ce===I&&(Ce=li(Ot,G)),me}return In.cancel=An,In.flush=_n,In}var nf=It(function(D,G){return ia(D,1,G)}),rf=It(function(D,G,X){return ia(D,kn(G)||0,X)});function of(D){return Qn(D,le)}function ro(D,G){if(typeof D!="function"||G!=null&&typeof G!="function")throw new Nn(L);var X=function(){var J=arguments,oe=G?G.apply(this,J):J[0],ue=X.cache;if(ue.has(oe))return ue.get(oe);var me=D.apply(this,J);return X.cache=ue.set(oe,me)||ue,me};return X.cache=new(ro.Cache||Zn),X}ro.Cache=Zn;function io(D){if(typeof D!="function")throw new Nn(L);return function(){var G=arguments;switch(G.length){case 0:return!D.call(this);case 1:return!D.call(this,G[0]);case 2:return!D.call(this,G[0],G[1]);case 3:return!D.call(this,G[0],G[1],G[2])}return!D.apply(this,G)}}function sf(D){return dl(2,D)}var af=Wc(function(D,G){G=G.length==1&&Et(G[0])?Wt(G[0],Sn(_t())):Wt(dn(G,1),Sn(_t()));var X=G.length;return It(function(J){for(var oe=-1,ue=pn(J.length,X);++oe<ue;)J[oe]=G[oe].call(this,J[oe]);return En(D,this,J)})}),hs=It(function(D,G){var X=ur(G,Gr(hs));return Qn(D,te,I,G,X)}),ml=It(function(D,G){var X=ur(G,Gr(ml));return Qn(D,re,I,G,X)}),lf=er(function(D,G){return Qn(D,se,I,I,I,G)});function uf(D,G){if(typeof D!="function")throw new Nn(L);return G=G===I?G:Pt(G),It(D,G)}function cf(D,G){if(typeof D!="function")throw new Nn(L);return G=G==null?0:an(Pt(G),0),It(function(X){var J=X[G],oe=pr(X,0,G);return J&&lr(oe,J),En(D,this,oe)})}function hf(D,G,X){var J=!0,oe=!0;if(typeof D!="function")throw new Nn(L);return qt(X)&&(J="leading"in X?!!X.leading:J,oe="trailing"in X?!!X.trailing:oe),gl(D,G,{leading:J,maxWait:G,trailing:oe})}function df(D){return hl(D,1)}function ff(D,G){return hs(Yo(G),D)}function pf(){if(!arguments.length)return[];var D=arguments[0];return Et(D)?D:[D]}function vf(D){return Ln(D,W)}function gf(D,G){return G=typeof G=="function"?G:I,Ln(D,W,G)}function mf(D){return Ln(D,z|W)}function yf(D,G){return G=typeof G=="function"?G:I,Ln(D,z|W,G)}function _f(D,G){return G==null||ra(D,G,un(G))}function Gn(D,G){return D===G||D!==D&&G!==G}var bf=qi(Bo),xf=qi(function(D,G){return D>=G}),Pr=ua(function(){return arguments}())?ua:function(D){return Zt(D)&&Gt.call(D,"callee")&&!Ys.call(D,"callee")},Et=ze.isArray,Tf=Is?Sn(Is):Ac;function Tn(D){return D!=null&&oo(D.length)&&!nr(D)}function tn(D){return Zt(D)&&Tn(D)}function wf(D){return D===!0||D===!1||Zt(D)&&mn(D)==Xe}var vr=Lu||Ts,Cf=Os?Sn(Os):Ic;function Ef(D){return Zt(D)&&D.nodeType===1&&!ui(D)}function Sf(D){if(D==null)return!0;if(Tn(D)&&(Et(D)||typeof D=="string"||typeof D.splice=="function"||vr(D)||zr(D)||Pr(D)))return!D.length;var G=vn(D);if(G==ge||G==Te)return!D.size;if(ai(D))return!Uo(D).length;for(var X in D)if(Gt.call(D,X))return!1;return!0}function Rf(D,G){return ii(D,G)}function Pf(D,G,X){X=typeof X=="function"?X:I;var J=X?X(D,G):I;return J===I?ii(D,G,I,X):!!J}function ds(D){if(!Zt(D))return!1;var G=mn(D);return G==Ye||G==st||typeof D.message=="string"&&typeof D.name=="string"&&!ui(D)}function Af(D){return typeof D=="number"&&Zs(D)}function nr(D){if(!qt(D))return!1;var G=mn(D);return G==Qe||G==ce||G==Ue||G==We}function yl(D){return typeof D=="number"&&D==Pt(D)}function oo(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=He}function qt(D){var G=typeof D;return D!=null&&(G=="object"||G=="function")}function Zt(D){return D!=null&&typeof D=="object"}var _l=$s?Sn($s):$c;function If(D,G){return D===G||Do(D,G,ns(G))}function Of(D,G,X){return X=typeof X=="function"?X:I,Do(D,G,ns(G),X)}function $f(D){return bl(D)&&D!=+D}function Nf(D){if(vh(D))throw new Ct(M);return ca(D)}function Mf(D){return D===null}function Lf(D){return D==null}function bl(D){return typeof D=="number"||Zt(D)&&mn(D)==Re}function ui(D){if(!Zt(D)||mn(D)!=be)return!1;var G=$i(D);if(G===null)return!0;var X=Gt.call(G,"constructor")&&G.constructor;return typeof X=="function"&&X instanceof X&&Pi.call(X)==Au}var fs=Ns?Sn(Ns):Nc;function Ff(D){return yl(D)&&D>=-He&&D<=He}var xl=Ms?Sn(Ms):Mc;function so(D){return typeof D=="string"||!Et(D)&&Zt(D)&&mn(D)==Ie}function Pn(D){return typeof D=="symbol"||Zt(D)&&mn(D)==tt}var zr=Ls?Sn(Ls):Lc;function Bf(D){return D===I}function kf(D){return Zt(D)&&vn(D)==lt}function Df(D){return Zt(D)&&mn(D)==ft}var Uf=qi(Ho),Hf=qi(function(D,G){return D<=G});function Tl(D){if(!D)return[];if(Tn(D))return so(D)?Un(D):xn(D);if(qr&&D[qr])return mu(D[qr]());var G=vn(D),X=G==ge?Po:G==Te?Ei:Vr;return X(D)}function rr(D){if(!D)return D===0?D:0;if(D=kn(D),D===Ee||D===-Ee){var G=D<0?-1:1;return G*Ae}return D===D?D:0}function Pt(D){var G=rr(D),X=G%1;return G===G?X?G-X:G:0}function wl(D){return D?Cr(Pt(D),0,Oe):0}function kn(D){if(typeof D=="number")return D;if(Pn(D))return de;if(qt(D)){var G=typeof D.valueOf=="function"?D.valueOf():D;D=qt(G)?G+"":G}if(typeof D!="string")return D===0?D:+D;D=Hs(D);var X=Yt.test(D);return X||yr.test(D)?eu(D.slice(2),X?2:8):Ht.test(D)?de:+D}function Cl(D){return Xn(D,wn(D))}function Gf(D){return D?Cr(Pt(D),-He,He):D===0?D:0}function kt(D){return D==null?"":Rn(D)}var zf=Ur(function(D,G){if(ai(G)||Tn(G)){Xn(G,un(G),D);return}for(var X in G)Gt.call(G,X)&&ti(D,X,G[X])}),El=Ur(function(D,G){Xn(G,wn(G),D)}),ao=Ur(function(D,G,X,J){Xn(G,wn(G),D,J)}),Vf=Ur(function(D,G,X,J){Xn(G,un(G),D,J)}),jf=er(Mo);function Wf(D,G){var X=Dr(D);return G==null?X:na(X,G)}var Xf=It(function(D,G){D=zt(D);var X=-1,J=G.length,oe=J>2?G[2]:I;for(oe&&yn(G[0],G[1],oe)&&(J=1);++X<J;)for(var ue=G[X],me=wn(ue),Ce=-1,Me=me.length;++Ce<Me;){var qe=me[Ce],Je=D[qe];(Je===I||Gn(Je,Fr[qe])&&!Gt.call(D,qe))&&(D[qe]=ue[qe])}return D}),Kf=It(function(D){return D.push(I,Ga),En(Sl,I,D)});function Yf(D,G){return Bs(D,_t(G,3),Wn)}function qf(D,G){return Bs(D,_t(G,3),Fo)}function Zf(D,G){return D==null?D:Lo(D,_t(G,3),wn)}function Jf(D,G){return D==null?D:aa(D,_t(G,3),wn)}function Qf(D,G){return D&&Wn(D,_t(G,3))}function ep(D,G){return D&&Fo(D,_t(G,3))}function tp(D){return D==null?[]:Gi(D,un(D))}function np(D){return D==null?[]:Gi(D,wn(D))}function ps(D,G,X){var J=D==null?I:Er(D,G);return J===I?X:J}function rp(D,G){return D!=null&&ja(D,G,Ec)}function vs(D,G){return D!=null&&ja(D,G,Sc)}var ip=Ba(function(D,G,X){G!=null&&typeof G.toString!="function"&&(G=Ai.call(G)),D[G]=X},ms(Cn)),op=Ba(function(D,G,X){G!=null&&typeof G.toString!="function"&&(G=Ai.call(G)),Gt.call(D,G)?D[G].push(X):D[G]=[X]},_t),sp=It(ri);function un(D){return Tn(D)?ea(D):Uo(D)}function wn(D){return Tn(D)?ea(D,!0):Fc(D)}function ap(D,G){var X={};return G=_t(G,3),Wn(D,function(J,oe,ue){Jn(X,G(J,oe,ue),J)}),X}function lp(D,G){var X={};return G=_t(G,3),Wn(D,function(J,oe,ue){Jn(X,oe,G(J,oe,ue))}),X}var up=Ur(function(D,G,X){zi(D,G,X)}),Sl=Ur(function(D,G,X,J){zi(D,G,X,J)}),cp=er(function(D,G){var X={};if(D==null)return X;var J=!1;G=Wt(G,function(ue){return ue=fr(ue,D),J||(J=ue.length>1),ue}),Xn(D,es(D),X),J&&(X=Ln(X,z|V|W,rh));for(var oe=G.length;oe--;)Wo(X,G[oe]);return X});function hp(D,G){return Rl(D,io(_t(G)))}var dp=er(function(D,G){return D==null?{}:kc(D,G)});function Rl(D,G){if(D==null)return{};var X=Wt(es(D),function(J){return[J]});return G=_t(G),ma(D,X,function(J,oe){return G(J,oe[0])})}function fp(D,G,X){G=fr(G,D);var J=-1,oe=G.length;for(oe||(oe=1,D=I);++J<oe;){var ue=D==null?I:D[Kn(G[J])];ue===I&&(J=oe,ue=X),D=nr(ue)?ue.call(D):ue}return D}function pp(D,G,X){return D==null?D:oi(D,G,X)}function vp(D,G,X,J){return J=typeof J=="function"?J:I,D==null?D:oi(D,G,X,J)}var Pl=Ua(un),Al=Ua(wn);function gp(D,G,X){var J=Et(D),oe=J||vr(D)||zr(D);if(G=_t(G,4),X==null){var ue=D&&D.constructor;oe?X=J?new ue:[]:qt(D)?X=nr(ue)?Dr($i(D)):{}:X={}}return(oe?$n:Wn)(D,function(me,Ce,Me){return G(X,me,Ce,Me)}),X}function mp(D,G){return D==null?!0:Wo(D,G)}function yp(D,G,X){return D==null?D:wa(D,G,Yo(X))}function _p(D,G,X,J){return J=typeof J=="function"?J:I,D==null?D:wa(D,G,Yo(X),J)}function Vr(D){return D==null?[]:Ro(D,un(D))}function bp(D){return D==null?[]:Ro(D,wn(D))}function xp(D,G,X){return X===I&&(X=G,G=I),X!==I&&(X=kn(X),X=X===X?X:0),G!==I&&(G=kn(G),G=G===G?G:0),Cr(kn(D),G,X)}function Tp(D,G,X){return G=rr(G),X===I?(X=G,G=0):X=rr(X),D=kn(D),Rc(D,G,X)}function wp(D,G,X){if(X&&typeof X!="boolean"&&yn(D,G,X)&&(G=X=I),X===I&&(typeof G=="boolean"?(X=G,G=I):typeof D=="boolean"&&(X=D,D=I)),D===I&&G===I?(D=0,G=1):(D=rr(D),G===I?(G=D,D=0):G=rr(G)),D>G){var J=D;D=G,G=J}if(X||D%1||G%1){var oe=Js();return pn(D+oe*(G-D+Ql("1e-"+((oe+"").length-1))),G)}return zo(D,G)}var Cp=Hr(function(D,G,X){return G=G.toLowerCase(),D+(X?Il(G):G)});function Il(D){return gs(kt(D).toLowerCase())}function Ol(D){return D=kt(D),D&&D.replace(ln,du).replace(zl,"")}function Ep(D,G,X){D=kt(D),G=Rn(G);var J=D.length;X=X===I?J:Cr(Pt(X),0,J);var oe=X;return X-=G.length,X>=0&&D.slice(X,oe)==G}function Sp(D){return D=kt(D),D&&Jt.test(D)?D.replace(yt,fu):D}function Rp(D){return D=kt(D),D&&Ne.test(D)?D.replace(gn,"\\$&"):D}var Pp=Hr(function(D,G,X){return D+(X?"-":"")+G.toLowerCase()}),Ap=Hr(function(D,G,X){return D+(X?" ":"")+G.toLowerCase()}),Ip=Ma("toLowerCase");function Op(D,G,X){D=kt(D),G=Pt(G);var J=G?Mr(D):0;if(!G||J>=G)return D;var oe=(G-J)/2;return Yi(Fi(oe),X)+D+Yi(Li(oe),X)}function $p(D,G,X){D=kt(D),G=Pt(G);var J=G?Mr(D):0;return G&&J<G?D+Yi(G-J,X):D}function Np(D,G,X){D=kt(D),G=Pt(G);var J=G?Mr(D):0;return G&&J<G?Yi(G-J,X)+D:D}function Mp(D,G,X){return X||G==null?G=0:G&&(G=+G),Du(kt(D).replace(ve,""),G||0)}function Lp(D,G,X){return(X?yn(D,G,X):G===I)?G=1:G=Pt(G),Vo(kt(D),G)}function Fp(){var D=arguments,G=kt(D[0]);return D.length<3?G:G.replace(D[1],D[2])}var Bp=Hr(function(D,G,X){return D+(X?"_":"")+G.toLowerCase()});function kp(D,G,X){return X&&typeof X!="number"&&yn(D,G,X)&&(G=X=I),X=X===I?Oe:X>>>0,X?(D=kt(D),D&&(typeof G=="string"||G!=null&&!fs(G))&&(G=Rn(G),!G&&Nr(D))?pr(Un(D),0,X):D.split(G,X)):[]}var Dp=Hr(function(D,G,X){return D+(X?" ":"")+gs(G)});function Up(D,G,X){return D=kt(D),X=X==null?0:Cr(Pt(X),0,D.length),G=Rn(G),D.slice(X,X+G.length)==G}function Hp(D,G,X){var J=ae.templateSettings;X&&yn(D,G,X)&&(G=I),D=kt(D),G=ao({},G,J,Ha);var oe=ao({},G.imports,J.imports,Ha),ue=un(oe),me=Ro(oe,ue),Ce,Me,qe=0,Je=G.interpolate||jn,et="__p += '",ut=Ao((G.escape||jn).source+"|"+Je.source+"|"+(Je===Dn?cn:jn).source+"|"+(G.evaluate||jn).source+"|$","g"),vt="//# sourceURL="+(Gt.call(G,"sourceURL")?(G.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Kl+"]")+`
`;D.replace(ut,function(xt,Ot,Nt,An,_n,In){return Nt||(Nt=An),et+=D.slice(qe,In).replace(Ar,pu),Ot&&(Ce=!0,et+=`' +
__e(`+Ot+`) +
'`),_n&&(Me=!0,et+=`';
`+_n+`;
__p += '`),Nt&&(et+=`' +
((__t = (`+Nt+`)) == null ? '' : __t) +
'`),qe=In+xt.length,xt}),et+=`';
`;var bt=Gt.call(G,"variable")&&G.variable;if(!bt)et=`with (obj) {
`+et+`
}
`;else if(Ft.test(bt))throw new Ct(B);et=(Me?et.replace(rt,""):et).replace(dt,"$1").replace(pt,"$1;"),et="function("+(bt||"obj")+`) {
`+(bt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ce?", __e = _.escape":"")+(Me?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+et+`return __p
}`;var At=Nl(function(){return Lt(ue,vt+"return "+et).apply(I,me)});if(At.source=et,ds(At))throw At;return At}function Gp(D){return kt(D).toLowerCase()}function zp(D){return kt(D).toUpperCase()}function Vp(D,G,X){if(D=kt(D),D&&(X||G===I))return Hs(D);if(!D||!(G=Rn(G)))return D;var J=Un(D),oe=Un(G),ue=Gs(J,oe),me=zs(J,oe)+1;return pr(J,ue,me).join("")}function jp(D,G,X){if(D=kt(D),D&&(X||G===I))return D.slice(0,js(D)+1);if(!D||!(G=Rn(G)))return D;var J=Un(D),oe=zs(J,Un(G))+1;return pr(J,0,oe).join("")}function Wp(D,G,X){if(D=kt(D),D&&(X||G===I))return D.replace(ve,"");if(!D||!(G=Rn(G)))return D;var J=Un(D),oe=Gs(J,Un(G));return pr(J,oe).join("")}function Xp(D,G){var X=he,J=pe;if(qt(G)){var oe="separator"in G?G.separator:oe;X="length"in G?Pt(G.length):X,J="omission"in G?Rn(G.omission):J}D=kt(D);var ue=D.length;if(Nr(D)){var me=Un(D);ue=me.length}if(X>=ue)return D;var Ce=X-Mr(J);if(Ce<1)return J;var Me=me?pr(me,0,Ce).join(""):D.slice(0,Ce);if(oe===I)return Me+J;if(me&&(Ce+=Me.length-Ce),fs(oe)){if(D.slice(Ce).search(oe)){var qe,Je=Me;for(oe.global||(oe=Ao(oe.source,kt(en.exec(oe))+"g")),oe.lastIndex=0;qe=oe.exec(Je);)var et=qe.index;Me=Me.slice(0,et===I?Ce:et)}}else if(D.indexOf(Rn(oe),Ce)!=Ce){var ut=Me.lastIndexOf(oe);ut>-1&&(Me=Me.slice(0,ut))}return Me+J}function Kp(D){return D=kt(D),D&&Tt.test(D)?D.replace(gt,xu):D}var Yp=Hr(function(D,G,X){return D+(X?" ":"")+G.toUpperCase()}),gs=Ma("toUpperCase");function $l(D,G,X){return D=kt(D),G=X?I:G,G===I?gu(D)?Cu(D):au(D):D.match(G)||[]}var Nl=It(function(D,G){try{return En(D,I,G)}catch(X){return ds(X)?X:new Ct(X)}}),qp=er(function(D,G){return $n(G,function(X){X=Kn(X),Jn(D,X,cs(D[X],D))}),D});function Zp(D){var G=D==null?0:D.length,X=_t();return D=G?Wt(D,function(J){if(typeof J[1]!="function")throw new Nn(L);return[X(J[0]),J[1]]}):[],It(function(J){for(var oe=-1;++oe<G;){var ue=D[oe];if(En(ue[0],this,J))return En(ue[1],this,J)}})}function Jp(D){return Tc(Ln(D,z))}function ms(D){return function(){return D}}function Qp(D,G){return D==null||D!==D?G:D}var ev=Fa(),tv=Fa(!0);function Cn(D){return D}function ys(D){return ha(typeof D=="function"?D:Ln(D,z))}function nv(D){return fa(Ln(D,z))}function rv(D,G){return pa(D,Ln(G,z))}var iv=It(function(D,G){return function(X){return ri(X,D,G)}}),ov=It(function(D,G){return function(X){return ri(D,X,G)}});function _s(D,G,X){var J=un(G),oe=Gi(G,J);X==null&&!(qt(G)&&(oe.length||!J.length))&&(X=G,G=D,D=this,oe=Gi(G,un(G)));var ue=!(qt(X)&&"chain"in X)||!!X.chain,me=nr(D);return $n(oe,function(Ce){var Me=G[Ce];D[Ce]=Me,me&&(D.prototype[Ce]=function(){var qe=this.__chain__;if(ue||qe){var Je=D(this.__wrapped__),et=Je.__actions__=xn(this.__actions__);return et.push({func:Me,args:arguments,thisArg:D}),Je.__chain__=qe,Je}return Me.apply(D,lr([this.value()],arguments))})}),D}function sv(){return hn._===this&&(hn._=Iu),this}function bs(){}function av(D){return D=Pt(D),It(function(G){return va(G,D)})}var lv=Zo(Wt),uv=Zo(Fs),cv=Zo(To);function Ml(D){return is(D)?wo(Kn(D)):Dc(D)}function hv(D){return function(G){return D==null?I:Er(D,G)}}var dv=ka(),fv=ka(!0);function xs(){return[]}function Ts(){return!1}function pv(){return{}}function vv(){return""}function gv(){return!0}function mv(D,G){if(D=Pt(D),D<1||D>He)return[];var X=Oe,J=pn(D,Oe);G=_t(G),D-=Oe;for(var oe=So(J,G);++X<D;)G(X);return oe}function yv(D){return Et(D)?Wt(D,Kn):Pn(D)?[D]:xn(el(kt(D)))}function _v(D){var G=++Pu;return kt(D)+G}var bv=Ki(function(D,G){return D+G},0),xv=Jo("ceil"),Tv=Ki(function(D,G){return D/G},1),wv=Jo("floor");function Cv(D){return D&&D.length?Hi(D,Cn,Bo):I}function Ev(D,G){return D&&D.length?Hi(D,_t(G,2),Bo):I}function Sv(D){return Ds(D,Cn)}function Rv(D,G){return Ds(D,_t(G,2))}function Pv(D){return D&&D.length?Hi(D,Cn,Ho):I}function Av(D,G){return D&&D.length?Hi(D,_t(G,2),Ho):I}var Iv=Ki(function(D,G){return D*G},1),Ov=Jo("round"),$v=Ki(function(D,G){return D-G},0);function Nv(D){return D&&D.length?Eo(D,Cn):0}function Mv(D,G){return D&&D.length?Eo(D,_t(G,2)):0}return ae.after=tf,ae.ary=hl,ae.assign=zf,ae.assignIn=El,ae.assignInWith=ao,ae.assignWith=Vf,ae.at=jf,ae.before=dl,ae.bind=cs,ae.bindAll=qp,ae.bindKey=fl,ae.castArray=pf,ae.chain=ll,ae.chunk=Th,ae.compact=wh,ae.concat=Ch,ae.cond=Zp,ae.conforms=Jp,ae.constant=ms,ae.countBy=$d,ae.create=Wf,ae.curry=pl,ae.curryRight=vl,ae.debounce=gl,ae.defaults=Xf,ae.defaultsDeep=Kf,ae.defer=nf,ae.delay=rf,ae.difference=Eh,ae.differenceBy=Sh,ae.differenceWith=Rh,ae.drop=Ph,ae.dropRight=Ah,ae.dropRightWhile=Ih,ae.dropWhile=Oh,ae.fill=$h,ae.filter=Md,ae.flatMap=Bd,ae.flatMapDeep=kd,ae.flatMapDepth=Dd,ae.flatten=il,ae.flattenDeep=Nh,ae.flattenDepth=Mh,ae.flip=of,ae.flow=ev,ae.flowRight=tv,ae.fromPairs=Lh,ae.functions=tp,ae.functionsIn=np,ae.groupBy=Ud,ae.initial=Bh,ae.intersection=kh,ae.intersectionBy=Dh,ae.intersectionWith=Uh,ae.invert=ip,ae.invertBy=op,ae.invokeMap=Gd,ae.iteratee=ys,ae.keyBy=zd,ae.keys=un,ae.keysIn=wn,ae.map=to,ae.mapKeys=ap,ae.mapValues=lp,ae.matches=nv,ae.matchesProperty=rv,ae.memoize=ro,ae.merge=up,ae.mergeWith=Sl,ae.method=iv,ae.methodOf=ov,ae.mixin=_s,ae.negate=io,ae.nthArg=av,ae.omit=cp,ae.omitBy=hp,ae.once=sf,ae.orderBy=Vd,ae.over=lv,ae.overArgs=af,ae.overEvery=uv,ae.overSome=cv,ae.partial=hs,ae.partialRight=ml,ae.partition=jd,ae.pick=dp,ae.pickBy=Rl,ae.property=Ml,ae.propertyOf=hv,ae.pull=Vh,ae.pullAll=sl,ae.pullAllBy=jh,ae.pullAllWith=Wh,ae.pullAt=Xh,ae.range=dv,ae.rangeRight=fv,ae.rearg=lf,ae.reject=Kd,ae.remove=Kh,ae.rest=uf,ae.reverse=ls,ae.sampleSize=qd,ae.set=pp,ae.setWith=vp,ae.shuffle=Zd,ae.slice=Yh,ae.sortBy=ef,ae.sortedUniq=nd,ae.sortedUniqBy=rd,ae.split=kp,ae.spread=cf,ae.tail=id,ae.take=od,ae.takeRight=sd,ae.takeRightWhile=ad,ae.takeWhile=ld,ae.tap=wd,ae.throttle=hf,ae.thru=eo,ae.toArray=Tl,ae.toPairs=Pl,ae.toPairsIn=Al,ae.toPath=yv,ae.toPlainObject=Cl,ae.transform=gp,ae.unary=df,ae.union=ud,ae.unionBy=cd,ae.unionWith=hd,ae.uniq=dd,ae.uniqBy=fd,ae.uniqWith=pd,ae.unset=mp,ae.unzip=us,ae.unzipWith=al,ae.update=yp,ae.updateWith=_p,ae.values=Vr,ae.valuesIn=bp,ae.without=vd,ae.words=$l,ae.wrap=ff,ae.xor=gd,ae.xorBy=md,ae.xorWith=yd,ae.zip=_d,ae.zipObject=bd,ae.zipObjectDeep=xd,ae.zipWith=Td,ae.entries=Pl,ae.entriesIn=Al,ae.extend=El,ae.extendWith=ao,_s(ae,ae),ae.add=bv,ae.attempt=Nl,ae.camelCase=Cp,ae.capitalize=Il,ae.ceil=xv,ae.clamp=xp,ae.clone=vf,ae.cloneDeep=mf,ae.cloneDeepWith=yf,ae.cloneWith=gf,ae.conformsTo=_f,ae.deburr=Ol,ae.defaultTo=Qp,ae.divide=Tv,ae.endsWith=Ep,ae.eq=Gn,ae.escape=Sp,ae.escapeRegExp=Rp,ae.every=Nd,ae.find=Ld,ae.findIndex=nl,ae.findKey=Yf,ae.findLast=Fd,ae.findLastIndex=rl,ae.findLastKey=qf,ae.floor=wv,ae.forEach=ul,ae.forEachRight=cl,ae.forIn=Zf,ae.forInRight=Jf,ae.forOwn=Qf,ae.forOwnRight=ep,ae.get=ps,ae.gt=bf,ae.gte=xf,ae.has=rp,ae.hasIn=vs,ae.head=ol,ae.identity=Cn,ae.includes=Hd,ae.indexOf=Fh,ae.inRange=Tp,ae.invoke=sp,ae.isArguments=Pr,ae.isArray=Et,ae.isArrayBuffer=Tf,ae.isArrayLike=Tn,ae.isArrayLikeObject=tn,ae.isBoolean=wf,ae.isBuffer=vr,ae.isDate=Cf,ae.isElement=Ef,ae.isEmpty=Sf,ae.isEqual=Rf,ae.isEqualWith=Pf,ae.isError=ds,ae.isFinite=Af,ae.isFunction=nr,ae.isInteger=yl,ae.isLength=oo,ae.isMap=_l,ae.isMatch=If,ae.isMatchWith=Of,ae.isNaN=$f,ae.isNative=Nf,ae.isNil=Lf,ae.isNull=Mf,ae.isNumber=bl,ae.isObject=qt,ae.isObjectLike=Zt,ae.isPlainObject=ui,ae.isRegExp=fs,ae.isSafeInteger=Ff,ae.isSet=xl,ae.isString=so,ae.isSymbol=Pn,ae.isTypedArray=zr,ae.isUndefined=Bf,ae.isWeakMap=kf,ae.isWeakSet=Df,ae.join=Hh,ae.kebabCase=Pp,ae.last=Bn,ae.lastIndexOf=Gh,ae.lowerCase=Ap,ae.lowerFirst=Ip,ae.lt=Uf,ae.lte=Hf,ae.max=Cv,ae.maxBy=Ev,ae.mean=Sv,ae.meanBy=Rv,ae.min=Pv,ae.minBy=Av,ae.stubArray=xs,ae.stubFalse=Ts,ae.stubObject=pv,ae.stubString=vv,ae.stubTrue=gv,ae.multiply=Iv,ae.nth=zh,ae.noConflict=sv,ae.noop=bs,ae.now=no,ae.pad=Op,ae.padEnd=$p,ae.padStart=Np,ae.parseInt=Mp,ae.random=wp,ae.reduce=Wd,ae.reduceRight=Xd,ae.repeat=Lp,ae.replace=Fp,ae.result=fp,ae.round=Ov,ae.runInContext=$e,ae.sample=Yd,ae.size=Jd,ae.snakeCase=Bp,ae.some=Qd,ae.sortedIndex=qh,ae.sortedIndexBy=Zh,ae.sortedIndexOf=Jh,ae.sortedLastIndex=Qh,ae.sortedLastIndexBy=ed,ae.sortedLastIndexOf=td,ae.startCase=Dp,ae.startsWith=Up,ae.subtract=$v,ae.sum=Nv,ae.sumBy=Mv,ae.template=Hp,ae.times=mv,ae.toFinite=rr,ae.toInteger=Pt,ae.toLength=wl,ae.toLower=Gp,ae.toNumber=kn,ae.toSafeInteger=Gf,ae.toString=kt,ae.toUpper=zp,ae.trim=Vp,ae.trimEnd=jp,ae.trimStart=Wp,ae.truncate=Xp,ae.unescape=Kp,ae.uniqueId=_v,ae.upperCase=Yp,ae.upperFirst=gs,ae.each=ul,ae.eachRight=cl,ae.first=ol,_s(ae,function(){var D={};return Wn(ae,function(G,X){Gt.call(ae.prototype,X)||(D[X]=G)}),D}(),{chain:!1}),ae.VERSION=$,$n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(D){ae[D].placeholder=ae}),$n(["drop","take"],function(D,G){$t.prototype[D]=function(X){X=X===I?1:an(Pt(X),0);var J=this.__filtered__&&!G?new $t(this):this.clone();return J.__filtered__?J.__takeCount__=pn(X,J.__takeCount__):J.__views__.push({size:pn(X,Oe),type:D+(J.__dir__<0?"Right":"")}),J},$t.prototype[D+"Right"]=function(X){return this.reverse()[D](X).reverse()}}),$n(["filter","map","takeWhile"],function(D,G){var X=G+1,J=X==Pe||X==we;$t.prototype[D]=function(oe){var ue=this.clone();return ue.__iteratees__.push({iteratee:_t(oe,3),type:X}),ue.__filtered__=ue.__filtered__||J,ue}}),$n(["head","last"],function(D,G){var X="take"+(G?"Right":"");$t.prototype[D]=function(){return this[X](1).value()[0]}}),$n(["initial","tail"],function(D,G){var X="drop"+(G?"":"Right");$t.prototype[D]=function(){return this.__filtered__?new $t(this):this[X](1)}}),$t.prototype.compact=function(){return this.filter(Cn)},$t.prototype.find=function(D){return this.filter(D).head()},$t.prototype.findLast=function(D){return this.reverse().find(D)},$t.prototype.invokeMap=It(function(D,G){return typeof D=="function"?new $t(this):this.map(function(X){return ri(X,D,G)})}),$t.prototype.reject=function(D){return this.filter(io(_t(D)))},$t.prototype.slice=function(D,G){D=Pt(D);var X=this;return X.__filtered__&&(D>0||G<0)?new $t(X):(D<0?X=X.takeRight(-D):D&&(X=X.drop(D)),G!==I&&(G=Pt(G),X=G<0?X.dropRight(-G):X.take(G-D)),X)},$t.prototype.takeRightWhile=function(D){return this.reverse().takeWhile(D).reverse()},$t.prototype.toArray=function(){return this.take(Oe)},Wn($t.prototype,function(D,G){var X=/^(?:filter|find|map|reject)|While$/.test(G),J=/^(?:head|last)$/.test(G),oe=ae[J?"take"+(G=="last"?"Right":""):G],ue=J||/^find/.test(G);!oe||(ae.prototype[G]=function(){var me=this.__wrapped__,Ce=J?[1]:arguments,Me=me instanceof $t,qe=Ce[0],Je=Me||Et(me),et=function(Ot){var Nt=oe.apply(ae,lr([Ot],Ce));return J&&ut?Nt[0]:Nt};Je&&X&&typeof qe=="function"&&qe.length!=1&&(Me=Je=!1);var ut=this.__chain__,vt=!!this.__actions__.length,bt=ue&&!ut,At=Me&&!vt;if(!ue&&Je){me=At?me:new $t(this);var xt=D.apply(me,Ce);return xt.__actions__.push({func:eo,args:[et],thisArg:I}),new Mn(xt,ut)}return bt&&At?D.apply(this,Ce):(xt=this.thru(et),bt?J?xt.value()[0]:xt.value():xt)})}),$n(["pop","push","shift","sort","splice","unshift"],function(D){var G=Si[D],X=/^(?:push|sort|unshift)$/.test(D)?"tap":"thru",J=/^(?:pop|shift)$/.test(D);ae.prototype[D]=function(){var oe=arguments;if(J&&!this.__chain__){var ue=this.value();return G.apply(Et(ue)?ue:[],oe)}return this[X](function(me){return G.apply(Et(me)?me:[],oe)})}}),Wn($t.prototype,function(D,G){var X=ae[G];if(X){var J=X.name+"";Gt.call(kr,J)||(kr[J]=[]),kr[J].push({name:G,func:X})}}),kr[Xi(I,Z).name]=[{name:"wrapper",func:I}],$t.prototype.clone=Wu,$t.prototype.reverse=Xu,$t.prototype.value=Ku,ae.prototype.at=Cd,ae.prototype.chain=Ed,ae.prototype.commit=Sd,ae.prototype.next=Rd,ae.prototype.plant=Ad,ae.prototype.reverse=Id,ae.prototype.toJSON=ae.prototype.valueOf=ae.prototype.value=Od,ae.prototype.first=ae.prototype.head,qr&&(ae.prototype[qr]=Pd),ae},Lr=Eu();br?((br.exports=Lr)._=Lr,yo._=Lr):hn._=Lr}).call(commonjsGlobal$2)})(lodash,lodash.exports);const _$1=lodash.exports,isAnyPropertySet=T=>{for(const R in T)if(T[R]!==void 0)return!0;return!1},omitUndefined=T=>_$1.omitBy(T,_$1.isUndefined),_sfc_main$f=defineComponent({__name:"PixiApplication",props:{autoStart:{type:Boolean,required:!1,default:void 0},width:{type:Number,required:!1,default:void 0},height:{type:Number,required:!1,default:void 0},view:{type:HTMLCanvasElement,required:!1,default:void 0},useContextAlpha:{type:Boolean,required:!1,default:void 0},autoDensity:{type:Boolean,required:!1,default:void 0},antialias:{type:Boolean,required:!1,default:void 0},preserveDrawingBuffer:{type:Boolean,required:!1,default:void 0},resolution:{type:Number,required:!1,default:void 0},forceCanvas:{type:Boolean,required:!1,default:void 0},backgroundColor:{type:Number,required:!1,default:void 0},backgroundAlpha:{type:Number,required:!1,default:void 0},clearBeforeRender:{type:Boolean,required:!1,default:void 0},powerPreference:{type:String,required:!1,default:void 0},sharedTicker:{type:Boolean,required:!1,default:void 0},sharedLoader:{type:Boolean,required:!1,default:void 0},resizeTo:{type:Object,required:!1,default:void 0}},setup(T,{expose:R}){const I=T,$=ref(),N=new Application(isAnyPropertySet(I)?omitUndefined(I):void 0);return R({application:N}),onMounted(()=>{$.value.appendChild(N.view)}),(M,L)=>(openBlock(),createElementBlock("div",{ref_key:"container",ref:$},[renderSlot(M.$slots,"default",{application:unref(N),app:unref(N)})],512))}});function queryKey(T){for(var R=[],I=0;I<T.length;I++){var $=T[I];if(!componentRegistered($))throw new Error("Tried to create a query with an unregistered component");if(typeof $=="object"){var N=$.operator==="not"?"!":$.operator;R.push(N+$.Component._typeId)}else R.push($._typeId)}return R.sort().join("-")}const hasWindow=typeof window<"u",now=hasWindow&&typeof window.performance<"u"?performance.now.bind(performance):Date.now.bind(Date);function componentRegistered(T){return typeof T=="object"&&T.Component._typeId!==void 0||T.isComponent&&T._typeId!==void 0}class SystemManager{constructor(R){this._systems=[],this._executeSystems=[],this.world=R,this.lastExecutedSystem=null}registerSystem(R,I){if(!R.isSystem)throw new Error(`System '${R.name}' does not extend 'System' class`);if(this.getSystem(R)!==void 0)return console.warn(`System '${R.getName()}' already registered.`),this;var $=new R(this.world,I);return $.init&&$.init(I),$.order=this._systems.length,this._systems.push($),$.execute&&(this._executeSystems.push($),this.sortSystems()),this}unregisterSystem(R){let I=this.getSystem(R);return I===void 0?(console.warn(`Can unregister system '${R.getName()}'. It doesn't exist.`),this):(this._systems.splice(this._systems.indexOf(I),1),I.execute&&this._executeSystems.splice(this._executeSystems.indexOf(I),1),this)}sortSystems(){this._executeSystems.sort((R,I)=>R.priority-I.priority||R.order-I.order)}getSystem(R){return this._systems.find(I=>I instanceof R)}getSystems(){return this._systems}removeSystem(R){var I=this._systems.indexOf(R);!~I||this._systems.splice(I,1)}executeSystem(R,I,$){if(R.initialized&&R.canExecute()){let N=now();R.execute(I,$),R.executeTime=now()-N,this.lastExecutedSystem=R,R.clearEvents()}}stop(){this._executeSystems.forEach(R=>R.stop())}execute(R,I,$){this._executeSystems.forEach(N=>($||N.enabled)&&this.executeSystem(N,R,I))}stats(){for(var R={numSystems:this._systems.length,systems:{}},I=0;I<this._systems.length;I++){var $=this._systems[I],N=R.systems[$.getName()]={queries:{},executeTime:$.executeTime};for(var M in $.ctx)N.queries[M]=$.ctx[M].stats()}return R}}class ObjectPool{constructor(R,I){this.freeList=[],this.count=0,this.T=R,this.isObjectPool=!0,typeof I<"u"&&this.expand(I)}acquire(){this.freeList.length<=0&&this.expand(Math.round(this.count*.2)+1);var R=this.freeList.pop();return R}release(R){R.reset(),this.freeList.push(R)}expand(R){for(var I=0;I<R;I++){var $=new this.T;$._pool=this,this.freeList.push($)}this.count+=R}totalSize(){return this.count}totalFree(){return this.freeList.length}totalUsed(){return this.count-this.freeList.length}}class EventDispatcher{constructor(){this._listeners={},this.stats={fired:0,handled:0}}addEventListener(R,I){let $=this._listeners;$[R]===void 0&&($[R]=[]),$[R].indexOf(I)===-1&&$[R].push(I)}hasEventListener(R,I){return this._listeners[R]!==void 0&&this._listeners[R].indexOf(I)!==-1}removeEventListener(R,I){var $=this._listeners[R];if($!==void 0){var N=$.indexOf(I);N!==-1&&$.splice(N,1)}}dispatchEvent(R,I,$){this.stats.fired++;var N=this._listeners[R];if(N!==void 0)for(var M=N.slice(0),L=0;L<M.length;L++)M[L].call(this,I,$)}resetCounters(){this.stats.fired=this.stats.handled=0}}class Query{constructor(R,I){if(this.Components=[],this.NotComponents=[],R.forEach(M=>{typeof M=="object"?this.NotComponents.push(M.Component):this.Components.push(M)}),this.Components.length===0)throw new Error("Can't create a query without components");this.entities=[],this.eventDispatcher=new EventDispatcher,this.reactive=!1,this.key=queryKey(R);for(var $=0;$<I._entities.length;$++){var N=I._entities[$];this.match(N)&&(N.queries.push(this),this.entities.push(N))}}addEntity(R){R.queries.push(this),this.entities.push(R),this.eventDispatcher.dispatchEvent(Query.prototype.ENTITY_ADDED,R)}removeEntity(R){let I=this.entities.indexOf(R);~I&&(this.entities.splice(I,1),I=R.queries.indexOf(this),R.queries.splice(I,1),this.eventDispatcher.dispatchEvent(Query.prototype.ENTITY_REMOVED,R))}match(R){return R.hasAllComponents(this.Components)&&!R.hasAnyComponents(this.NotComponents)}toJSON(){return{key:this.key,reactive:this.reactive,components:{included:this.Components.map(R=>R.name),not:this.NotComponents.map(R=>R.name)},numEntities:this.entities.length}}stats(){return{numComponents:this.Components.length,numEntities:this.entities.length}}}Query.prototype.ENTITY_ADDED="Query#ENTITY_ADDED";Query.prototype.ENTITY_REMOVED="Query#ENTITY_REMOVED";Query.prototype.COMPONENT_CHANGED="Query#COMPONENT_CHANGED";class QueryManager{constructor(R){this._world=R,this._queries={}}onEntityRemoved(R){for(var I in this._queries){var $=this._queries[I];R.queries.indexOf($)!==-1&&$.removeEntity(R)}}onEntityComponentAdded(R,I){for(var $ in this._queries){var N=this._queries[$];if(!!~N.NotComponents.indexOf(I)&&~N.entities.indexOf(R)){N.removeEntity(R);continue}!~N.Components.indexOf(I)||!N.match(R)||~N.entities.indexOf(R)||N.addEntity(R)}}onEntityComponentRemoved(R,I){for(var $ in this._queries){var N=this._queries[$];if(!!~N.NotComponents.indexOf(I)&&!~N.entities.indexOf(R)&&N.match(R)){N.addEntity(R);continue}if(!!~N.Components.indexOf(I)&&!!~N.entities.indexOf(R)&&!N.match(R)){N.removeEntity(R);continue}}}getQuery(R){var I=queryKey(R),$=this._queries[I];return $||(this._queries[I]=$=new Query(R,this._world)),$}stats(){var R={};for(var I in this._queries)R[I]=this._queries[I].stats();return R}}class Component{constructor(R){if(R!==!1){const I=this.constructor.schema;for(const $ in I)if(R&&R.hasOwnProperty($))this[$]=R[$];else{const N=I[$];if(N.hasOwnProperty("default"))this[$]=N.type.clone(N.default);else{const M=N.type;this[$]=M.clone(M.default)}}}this._pool=null}copy(R){const I=this.constructor.schema;for(const $ in I){const N=I[$];R.hasOwnProperty($)&&(this[$]=N.type.copy(R[$],this[$]))}return this}clone(){return new this.constructor().copy(this)}reset(){const R=this.constructor.schema;for(const I in R){const $=R[I];if($.hasOwnProperty("default"))this[I]=$.type.copy($.default,this[I]);else{const N=$.type;this[I]=N.copy(N.default,this[I])}}}dispose(){this._pool&&this._pool.release(this)}getName(){return this.constructor.getName()}checkUndefinedAttributes(R){const I=this.constructor.schema;Object.keys(R).forEach($=>{I.hasOwnProperty($)||console.warn(`Trying to set attribute '${$}' not defined in the '${this.constructor.name}' schema. Please fix the schema, the attribute value won't be set`)})}}Component.schema={};Component.isComponent=!0;Component.getName=function(){return this.displayName||this.name};class SystemStateComponent extends Component{}SystemStateComponent.isSystemStateComponent=!0;class EntityPool extends ObjectPool{constructor(R,I,$){super(I,void 0),this.entityManager=R,typeof $<"u"&&this.expand($)}expand(R){for(var I=0;I<R;I++){var $=new this.T(this.entityManager);$._pool=this,this.freeList.push($)}this.count+=R}}class EntityManager{constructor(R){this.world=R,this.componentsManager=R.componentsManager,this._entities=[],this._nextEntityId=0,this._entitiesByNames={},this._queryManager=new QueryManager(this),this.eventDispatcher=new EventDispatcher,this._entityPool=new EntityPool(this,this.world.options.entityClass,this.world.options.entityPoolSize),this.entitiesWithComponentsToRemove=[],this.entitiesToRemove=[],this.deferredRemovalEnabled=!0}getEntityByName(R){return this._entitiesByNames[R]}createEntity(R){var I=this._entityPool.acquire();return I.alive=!0,I.name=R||"",R&&(this._entitiesByNames[R]?console.warn(`Entity name '${R}' already exist`):this._entitiesByNames[R]=I),this._entities.push(I),this.eventDispatcher.dispatchEvent(ENTITY_CREATED,I),I}entityAddComponent(R,I,$){if(typeof I._typeId>"u"&&!this.world.componentsManager._ComponentsMap[I._typeId])throw new Error(`Attempted to add unregistered component "${I.getName()}"`);if(!~R._ComponentTypes.indexOf(I)){R._ComponentTypes.push(I),I.__proto__===SystemStateComponent&&R.numStateComponents++;var N=this.world.componentsManager.getComponentsPool(I),M=N?N.acquire():new I($);N&&$&&M.copy($),R._components[I._typeId]=M,this._queryManager.onEntityComponentAdded(R,I),this.world.componentsManager.componentAddedToEntity(I),this.eventDispatcher.dispatchEvent(COMPONENT_ADDED,R,I)}}entityRemoveComponent(R,I,$){var N=R._ComponentTypes.indexOf(I);!~N||(this.eventDispatcher.dispatchEvent(COMPONENT_REMOVE,R,I),$?this._entityRemoveComponentSync(R,I,N):(R._ComponentTypesToRemove.length===0&&this.entitiesWithComponentsToRemove.push(R),R._ComponentTypes.splice(N,1),R._ComponentTypesToRemove.push(I),R._componentsToRemove[I._typeId]=R._components[I._typeId],delete R._components[I._typeId]),this._queryManager.onEntityComponentRemoved(R,I),I.__proto__===SystemStateComponent&&(R.numStateComponents--,R.numStateComponents===0&&!R.alive&&R.remove()))}_entityRemoveComponentSync(R,I,$){R._ComponentTypes.splice($,1);var N=R._components[I._typeId];delete R._components[I._typeId],N.dispose(),this.world.componentsManager.componentRemovedFromEntity(I)}entityRemoveAllComponents(R,I){let $=R._ComponentTypes;for(let N=$.length-1;N>=0;N--)$[N].__proto__!==SystemStateComponent&&this.entityRemoveComponent(R,$[N],I)}removeEntity(R,I){var $=this._entities.indexOf(R);if(!~$)throw new Error("Tried to remove entity not in list");R.alive=!1,this.entityRemoveAllComponents(R,I),R.numStateComponents===0&&(this.eventDispatcher.dispatchEvent(ENTITY_REMOVED,R),this._queryManager.onEntityRemoved(R),I===!0?this._releaseEntity(R,$):this.entitiesToRemove.push(R))}_releaseEntity(R,I){this._entities.splice(I,1),this._entitiesByNames[R.name]&&delete this._entitiesByNames[R.name],R._pool.release(R)}removeAllEntities(){for(var R=this._entities.length-1;R>=0;R--)this.removeEntity(this._entities[R])}processDeferredRemoval(){if(!!this.deferredRemovalEnabled){for(let I=0;I<this.entitiesToRemove.length;I++){let $=this.entitiesToRemove[I],N=this._entities.indexOf($);this._releaseEntity($,N)}this.entitiesToRemove.length=0;for(let I=0;I<this.entitiesWithComponentsToRemove.length;I++){let $=this.entitiesWithComponentsToRemove[I];for(;$._ComponentTypesToRemove.length>0;){let N=$._ComponentTypesToRemove.pop();var R=$._componentsToRemove[N._typeId];delete $._componentsToRemove[N._typeId],R.dispose(),this.world.componentsManager.componentRemovedFromEntity(N)}}this.entitiesWithComponentsToRemove.length=0}}queryComponents(R){return this._queryManager.getQuery(R)}count(){return this._entities.length}stats(){var R={numEntities:this._entities.length,numQueries:Object.keys(this._queryManager._queries).length,queries:this._queryManager.stats(),numComponentPool:Object.keys(this.componentsManager._componentPool).length,componentPool:{},eventDispatcher:this.eventDispatcher.stats};for(var I in this.componentsManager._componentPool){var $=this.componentsManager._componentPool[I];R.componentPool[$.T.getName()]={used:$.totalUsed(),size:$.count}}return R}}const ENTITY_CREATED="EntityManager#ENTITY_CREATE",ENTITY_REMOVED="EntityManager#ENTITY_REMOVED",COMPONENT_ADDED="EntityManager#COMPONENT_ADDED",COMPONENT_REMOVE="EntityManager#COMPONENT_REMOVE";class ComponentManager{constructor(){this.Components=[],this._ComponentsMap={},this._componentPool={},this.numComponents={},this.nextComponentId=0}hasComponent(R){return this.Components.indexOf(R)!==-1}registerComponent(R,I){if(this.Components.indexOf(R)!==-1){console.warn(`Component type: '${R.getName()}' already registered.`);return}const $=R.schema;if(!$)throw new Error(`Component "${R.getName()}" has no schema property.`);for(const N in $)if(!$[N].type)throw new Error(`Invalid schema for component "${R.getName()}". Missing type for "${N}" property.`);R._typeId=this.nextComponentId++,this.Components.push(R),this._ComponentsMap[R._typeId]=R,this.numComponents[R._typeId]=0,I===void 0?I=new ObjectPool(R):I===!1&&(I=void 0),this._componentPool[R._typeId]=I}componentAddedToEntity(R){this.numComponents[R._typeId]++}componentRemovedFromEntity(R){this.numComponents[R._typeId]--}getComponentsPool(R){return this._componentPool[R._typeId]}}const Version="0.3.1";class Entity{constructor(R){this._entityManager=R||null,this.id=R._nextEntityId++,this._ComponentTypes=[],this._components={},this._componentsToRemove={},this.queries=[],this._ComponentTypesToRemove=[],this.alive=!1,this.numStateComponents=0}getComponent(R,I){var $=this._components[R._typeId];return!$&&I===!0&&($=this._componentsToRemove[R._typeId]),$}getRemovedComponent(R){return this._componentsToRemove[R._typeId]}getComponents(){return this._components}getComponentsToRemove(){return this._componentsToRemove}getComponentTypes(){return this._ComponentTypes}getMutableComponent(R){var I=this._components[R._typeId];if(!!I){for(var $=0;$<this.queries.length;$++){var N=this.queries[$];N.reactive&&N.Components.indexOf(R)!==-1&&N.eventDispatcher.dispatchEvent(Query.prototype.COMPONENT_CHANGED,this,I)}return I}}addComponent(R,I){return this._entityManager.entityAddComponent(this,R,I),this}removeComponent(R,I){return this._entityManager.entityRemoveComponent(this,R,I),this}hasComponent(R,I){return!!~this._ComponentTypes.indexOf(R)||I===!0&&this.hasRemovedComponent(R)}hasRemovedComponent(R){return!!~this._ComponentTypesToRemove.indexOf(R)}hasAllComponents(R){for(var I=0;I<R.length;I++)if(!this.hasComponent(R[I]))return!1;return!0}hasAnyComponents(R){for(var I=0;I<R.length;I++)if(this.hasComponent(R[I]))return!0;return!1}removeAllComponents(R){return this._entityManager.entityRemoveAllComponents(this,R)}copy(R){for(var I in R._components){var $=R._components[I];this.addComponent($.constructor);var N=this.getComponent($.constructor);N.copy($)}return this}clone(){return new Entity(this._entityManager).copy(this)}reset(){this.id=this._entityManager._nextEntityId++,this._ComponentTypes.length=0,this.queries.length=0;for(var R in this._components)delete this._components[R]}remove(R){return this._entityManager.removeEntity(this,R)}}const DEFAULT_OPTIONS={entityPoolSize:0,entityClass:Entity};class World{constructor(R={}){if(this.options=Object.assign({},DEFAULT_OPTIONS,R),this.componentsManager=new ComponentManager(this),this.entityManager=new EntityManager(this),this.systemManager=new SystemManager(this),this.enabled=!0,this.eventQueues={},hasWindow&&typeof CustomEvent<"u"){var I=new CustomEvent("ecsy-world-created",{detail:{world:this,version:Version}});window.dispatchEvent(I)}this.lastTime=now()/1e3}registerComponent(R,I){return this.componentsManager.registerComponent(R,I),this}registerSystem(R,I){return this.systemManager.registerSystem(R,I),this}hasRegisteredComponent(R){return this.componentsManager.hasComponent(R)}unregisterSystem(R){return this.systemManager.unregisterSystem(R),this}getSystem(R){return this.systemManager.getSystem(R)}getSystems(){return this.systemManager.getSystems()}execute(R,I){R||(I=now()/1e3,R=I-this.lastTime,this.lastTime=I),this.enabled&&(this.systemManager.execute(R,I),this.entityManager.processDeferredRemoval())}stop(){this.enabled=!1}play(){this.enabled=!0}createEntity(R){return this.entityManager.createEntity(R)}stats(){var R={entities:this.entityManager.stats(),system:this.systemManager.stats()};return R}}class System{canExecute(){if(this._mandatoryQueries.length===0)return!0;for(let I=0;I<this._mandatoryQueries.length;I++){var R=this._mandatoryQueries[I];if(R.entities.length===0)return!1}return!0}getName(){return this.constructor.getName()}constructor(R,I){if(this.world=R,this.enabled=!0,this._queries={},this.queries={},this.priority=0,this.executeTime=0,I&&I.priority&&(this.priority=I.priority),this._mandatoryQueries=[],this.initialized=!0,this.constructor.queries)for(var $ in this.constructor.queries){var N=this.constructor.queries[$],M=N.components;if(!M||M.length===0)throw new Error("'components' attribute can't be empty in a query");let k=M.filter(H=>!componentRegistered(H));if(k.length>0)throw new Error(`Tried to create a query '${this.constructor.name}.${$}' with unregistered components: [${k.map(H=>H.getName()).join(", ")}]`);var L=this.world.entityManager.queryComponents(M);this._queries[$]=L,N.mandatory===!0&&this._mandatoryQueries.push(L),this.queries[$]={results:L.entities};var B=["added","removed","changed"];const U={added:Query.prototype.ENTITY_ADDED,removed:Query.prototype.ENTITY_REMOVED,changed:Query.prototype.COMPONENT_CHANGED};N.listen&&B.forEach(H=>{if(this.execute||console.warn(`System '${this.getName()}' has defined listen events (${B.join(", ")}) for query '${$}' but it does not implement the 'execute' method.`),N.listen[H]){let z=N.listen[H];if(H==="changed"){if(L.reactive=!0,z===!0){let V=this.queries[$][H]=[];L.eventDispatcher.addEventListener(Query.prototype.COMPONENT_CHANGED,W=>{V.indexOf(W)===-1&&V.push(W)})}else if(Array.isArray(z)){let V=this.queries[$][H]=[];L.eventDispatcher.addEventListener(Query.prototype.COMPONENT_CHANGED,(W,K)=>{z.indexOf(K.constructor)!==-1&&V.indexOf(W)===-1&&V.push(W)})}}else{let V=this.queries[$][H]=[];L.eventDispatcher.addEventListener(U[H],W=>{V.indexOf(W)===-1&&V.push(W)})}}})}}stop(){this.executeTime=0,this.enabled=!1}play(){this.enabled=!0}clearEvents(){for(let I in this.queries){var R=this.queries[I];if(R.added&&(R.added.length=0),R.removed&&(R.removed.length=0),R.changed)if(Array.isArray(R.changed))R.changed.length=0;else for(let $ in R.changed)R.changed[$].length=0}}toJSON(){var R={name:this.getName(),enabled:this.enabled,executeTime:this.executeTime,priority:this.priority,queries:{}};if(this.constructor.queries){var I=this.constructor.queries;for(let $ in I){let N=this.queries[$],M=I[$],L=R.queries[$]={key:this._queries[$].key};L.mandatory=M.mandatory===!0,L.reactive=M.listen&&(M.listen.added===!0||M.listen.removed===!0||M.listen.changed===!0||Array.isArray(M.listen.changed)),L.reactive&&(L.listen={},["added","removed","changed"].forEach(k=>{N[k]&&(L.listen[k]={entities:N[k].length})}))}}return R}}System.isSystem=!0;System.getName=function(){return this.displayName||this.name};class TagComponent extends Component{constructor(){super(!1)}}TagComponent.isTagComponent=!0;const copyValue=T=>T,cloneValue=T=>T,copyArray$1=(T,R)=>{if(!T)return T;if(!R)return T.slice();R.length=0;for(let I=0;I<T.length;I++)R.push(T[I]);return R},cloneArray=T=>T&&T.slice(),copyJSON=T=>JSON.parse(JSON.stringify(T)),cloneJSON=T=>JSON.parse(JSON.stringify(T));function createType(T){var R=["name","default","copy","clone"],I=R.filter($=>!T.hasOwnProperty($));if(I.length>0)throw new Error(`createType expects a type definition with the following properties: ${I.join(", ")}`);return T.isType=!0,T}const Types={Number:createType({name:"Number",default:0,copy:copyValue,clone:cloneValue}),Boolean:createType({name:"Boolean",default:!1,copy:copyValue,clone:cloneValue}),String:createType({name:"String",default:"",copy:copyValue,clone:cloneValue}),Array:createType({name:"Array",default:[],copy:copyArray$1,clone:cloneArray}),Ref:createType({name:"Ref",default:void 0,copy:copyValue,clone:cloneValue}),JSON:createType({name:"JSON",default:null,copy:copyJSON,clone:cloneJSON})};function generateId(T){for(var R="",I="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",$=I.length,N=0;N<T;N++)R+=I.charAt(Math.floor(Math.random()*$));return R}function injectScript(T,R){var I=document.createElement("script");I.src=T,I.onload=R,(document.head||document.documentElement).appendChild(I)}function hookConsoleAndErrors(T){var R=["error","warning","log"];R.forEach(I=>{if(typeof console[I]=="function"){var $=console[I].bind(console);console[I]=(...N)=>(T.send({method:"console",type:I,args:JSON.stringify(N)}),$.apply(null,N))}}),window.addEventListener("error",I=>{T.send({method:"error",error:JSON.stringify({message:I.error.message,stack:I.error.stack})})})}function includeRemoteIdHTML(T){let R=document.createElement("div");return R.style.cssText=`
    align-items: center;
    background-color: #333;
    color: #aaa;
    display:flex;
    font-family: Arial;
    font-size: 1.1em;
    height: 40px;
    justify-content: center;
    left: 0;
    opacity: 0.9;
    position: absolute;
    right: 0;
    text-align: center;
    top: 0;
  `,R.innerHTML=`Open ECSY devtools to connect to this page using the code:&nbsp;<b style="color: #fff">${T}</b>&nbsp;<button onClick="generateNewCode()">Generate new code</button>`,document.body.appendChild(R),R}function enableRemoteDevtools(remoteId){if(!hasWindow){console.warn("Remote devtools not available outside the browser");return}window.generateNewCode=()=>{window.localStorage.clear(),remoteId=generateId(6),window.localStorage.setItem("ecsyRemoteId",remoteId),window.location.reload(!1)},remoteId=remoteId||window.localStorage.getItem("ecsyRemoteId"),remoteId||(remoteId=generateId(6),window.localStorage.setItem("ecsyRemoteId",remoteId));let infoDiv=includeRemoteIdHTML(remoteId);window.__ECSY_REMOTE_DEVTOOLS_INJECTED=!0,window.__ECSY_REMOTE_DEVTOOLS={};let Version="",worldsBeforeLoading=[],onWorldCreated=T=>{var R=T.detail.world;Version=T.detail.version,worldsBeforeLoading.push(R)};window.addEventListener("ecsy-world-created",onWorldCreated);let onLoaded=()=>{var peer=new Peer(remoteId,{host:"peerjs.ecsy.io",secure:!0,port:443,config:{iceServers:[{url:"stun:stun.l.google.com:19302"},{url:"stun:stun1.l.google.com:19302"},{url:"stun:stun2.l.google.com:19302"},{url:"stun:stun3.l.google.com:19302"},{url:"stun:stun4.l.google.com:19302"}]},debug:3});peer.on("open",()=>{peer.on("connection",connection=>{window.__ECSY_REMOTE_DEVTOOLS.connection=connection,connection.on("open",function(){infoDiv.innerHTML="Connected",connection.on("data",function(data){if(data.type==="init"){var script=document.createElement("script");script.setAttribute("type","text/javascript"),script.onload=()=>{script.parentNode.removeChild(script),window.removeEventListener("ecsy-world-created",onWorldCreated),worldsBeforeLoading.forEach(T=>{var R=new CustomEvent("ecsy-world-created",{detail:{world:T,version:Version}});window.dispatchEvent(R)})},script.innerHTML=data.script,(document.head||document.documentElement).appendChild(script),script.onload(),hookConsoleAndErrors(connection)}else if(data.type==="executeScript"){let value=eval(data.script);data.returnEval&&connection.send({method:"evalReturn",value})}})})})})};injectScript("https://cdn.jsdelivr.net/npm/peerjs@0.3.20/dist/peer.min.js",onLoaded)}hasWindow&&new URLSearchParams(window.location.search).has("enable-remote-devtools")&&enableRemoteDevtools();const _Vector2=class{constructor(T,R){this.x=T,this.y=R}static angle(T,R){return Math.atan2(R.y-T.y,R.x-T.x)*(180/Math.PI)}static distance(T,R){return Math.sqrt(Math.pow(R.x-T.x,2)+Math.pow(R.y-T.y,2))}static scale(T,R){return new _Vector2(T.x*R.x,T.y*R.y)}static min(T,R){return new _Vector2(Math.min(T.x,R.x),Math.min(T.y,R.y))}static max(T,R){return new _Vector2(Math.max(T.x,R.x),Math.max(T.y,R.y))}static lerp(T,R,I){return new _Vector2(T.x*(1-I)+R.x*I,T.y*(1-I)+R.y*I)}static subtracts(T,R){return new _Vector2(T.x-R.x,T.y-R.y)}static multiplies(T,R){return new _Vector2(T.x*R,T.y*R)}static divides(T,R,I){let $=T.x/R,N=T.y/R;return I&&($=Math[I]($),N=Math[I](N)),new _Vector2($,N)}static adds(T,R){return new _Vector2(T.x+R.x,T.y+R.y)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}normalized(){const T=this.magnitude();return new _Vector2(this.x!==0?this.x/T:0,this.y!==0?this.y/T:0)}equals(T){return this.x===T.x&&this.y===T.y}toString(){return`${this.x},${this.y}`}};let Vector2=_Vector2;Vector2.ZERO=Object.seal(new _Vector2(0,0));class Input{static addKeyStatus(R,I){this.keysStatus[R]=I}static setMouseButton(R,I){I==="click"?this.mouseClick=1:I==="dblclick"?this.mouseClick=2:this.mouseButtons[R]=I}static clearKeysStatus(){for(const R of Object.keys(this.keysStatus))this.keysStatus[R]==="keyup"&&(this.keysStatus[R]=void 0)}static clearMouseStatuses(){for(const R of Object.keys(this.mouseButtons)){const I=parseInt(R);this.mouseButtons[I]==="mouseup"&&(this.mouseButtons[I]=void 0)}this.mouseClick=0}static isKey(R,I){return this.keysStatus[R]===I}static isKeyPressed(R){return this.isKey(R,"keypress")}static isKeyDown(R){return this.isKey(R,"keydown")}static isKeyUp(R){return this.isKey(R,"keyup")}static isMouseButtonUp(R){return this.mouseButtons[R]==="mouseup"}static isMouseButtonDown(R){return this.mouseButtons[R]==="mousedown"}static isMouseClick(){return this.mouseClick===1}static isMouseDblClick(){return this.mouseClick===2}}Input.keysStatus={};Input.mousePosition=Vector2.ZERO;Input.mouseButtons={};Input.mouseClick=0;class Constants{}Constants.CELL_SIZE=16;Constants.ANIMATION_UNIT_SPEED=250;const filterEmpty=Boolean,getOptions=()=>window.location.hash.indexOf("?")===-1?{}:window.location.hash.substring(window.location.hash.indexOf("?")+1).split("&").filter(filterEmpty).map(T=>T.split("=")).reduce((T,R)=>(T[R[0]]=R[1].split(",").filter(filterEmpty),T),{}),toEqual=T=>R=>R.equals(T),arrayIncludesByEquals=(T,R)=>T.find(toEqual(R))!=null,toWorldPositionCellCenter=T=>new Vector2(T.x-T.x%Constants.CELL_SIZE+Constants.CELL_SIZE/2,T.y-T.y%Constants.CELL_SIZE+Constants.CELL_SIZE/2),toWorldPosition=T=>new Vector2(T.x*Constants.CELL_SIZE+Constants.CELL_SIZE/2,T.y*Constants.CELL_SIZE+Constants.CELL_SIZE/2),cellPositionToVector=(T,R)=>toWorldPosition(new Vector2(T,R)),toGridPosition=T=>Vector2.divides(T,Constants.CELL_SIZE,"floor"),getMouseGridPosition=()=>toGridPosition(Input.mousePosition),convertPathfindingPathToPositions=T=>T.map(({position:R})=>R),getCell=T=>{const R=T.getComponent(TransformComponent),{x:I,y:$}=toGridPosition(R.position);return{x:I,y:$}},falsePredicate=()=>!1,keepOrder=()=>0,not=T=>R=>!T(R);class TransformComponent extends Component{get gridPosition(){return toGridPosition(this.position)}distance(R){return Vector2.distance(this.position,R.position)}}TransformComponent.schema={position:{type:Types.Ref},rotation:{type:Types.Number,default:0}};class SizeComponent extends Component{}SizeComponent.schema={width:{type:Types.Number,default:0},height:{type:Types.Number,default:0}};class SelectableComponent extends Component{}SelectableComponent.schema={selected:{type:Types.Boolean,default:!1}};class MovableComponent extends Component{}MovableComponent.schema={moving:{type:Types.Boolean,default:!1}};class HealthComponent extends Component{takeHit(R){this.points-=R,console.log("take hit")}}HealthComponent.schema={points:{type:Types.Number,default:10},maxPoints:{type:Types.Number,default:10}};class MoveTransformVelocityComponent extends Component{calculateMovement(R){return Vector2.multiplies(this.velocity,this.moveSpeed*(R/1e3))}}MoveTransformVelocityComponent.schema={moveSpeed:{type:Types.Number,default:100},velocity:{type:Types.Ref,default:Vector2.ZERO}};class MovePositionDirectComponent extends Component{}MovePositionDirectComponent.schema={movePosition:{type:Types.Ref,default:null}};class PlayerMovementMouseComponent extends TagComponent{}class PlayerMovementKeysComponent extends TagComponent{}class MoveVelocityComponent extends Component{calculateMovement(R){return Vector2.multiplies(this.velocity,this.moveSpeed*(R/1e3))}}MoveVelocityComponent.schema={moveSpeed:{type:Types.Number,default:100},velocity:{type:Types.Ref,default:Vector2.ZERO}};class Bounds{constructor(R,I){this.center=R,this.size=I,this.extends=new Vector2(I.x/2,I.y/2),this.min=Vector2.subtracts(this.center,this.extends),this.max=Vector2.adds(this.center,this.extends)}contains(R){return R.x>=this.min.x&&R.x<=this.max.x&&R.y>=this.min.y&&R.y<=this.max.y}}class AliveComponent extends Component{}AliveComponent.schema={alive:{type:Types.Boolean,default:!0}};class EntityHelper{static isAlive(R){const I=R.getComponent(AliveComponent);return(I==null?void 0:I.alive)||!1}static isPositionInsideEntity(R,I,$){const N=R.getComponent(TransformComponent),M=R.getComponent(SizeComponent);return!N||!M?!1:new Bounds(N.position,new Vector2(M.width,M.height)).contains(new Vector2(I,$))}static isObjectInsideContainer(R,I){const $=R.getComponent(TransformComponent);return $?$.position.x>=I.x&&$.position.x<=I.x+I.width&&$.position.y>=I.y&&$.position.y<=I.y+I.height:!1}static deselect(R){const I=R.getMutableComponent(SelectableComponent);!I||(I.selected=!1)}static select(R){const I=R.getMutableComponent(SelectableComponent);!I||(I.selected=!0)}static isSelected(R){const I=R.getComponent(SelectableComponent);return I?I.selected:!1}static isMoving(R){const I=R.getComponent(MovePositionDirectComponent);return I?I.movePosition!==null:!1}}class TeamComponent extends Component{}TeamComponent.schema={number:{type:Types.Number}};const isInRange=(T,R)=>{if(!T.hasComponent(TransformComponent))return falsePredicate;const I=T.getComponent(TransformComponent).position;return $=>{if(!$.hasComponent(TransformComponent))return!1;const N=$.getComponent(TransformComponent);return Vector2.distance(I,N.position)<=R}},byClosestDistance=T=>{if(!T.hasComponent(TransformComponent))return keepOrder;const R=T.getComponent(TransformComponent);return(I,$)=>{if(!I.hasComponent(TransformComponent)&&!$.hasComponent(TransformComponent))return 0;if(!I.hasComponent(TransformComponent))return 1;if(!$.hasComponent(TransformComponent))return-1;const N=I.getComponent(TransformComponent),M=$.getComponent(TransformComponent);return R.distance(N)-R.distance(M)}},isOnTeam=T=>R=>R.hasComponent(TeamComponent)?R.getComponent(TeamComponent).number===T:!1,isSameEntity=T=>R=>R.id===T.id,getEntityAtPosition=(T,R,I)=>{var $;return($=T.find(N=>EntityHelper.isPositionInsideEntity(N,R,I)))!=null?$:null},isAlive=()=>T=>{var R,I;return(I=(R=T.getComponent(AliveComponent))==null?void 0:R.alive)!=null?I:!0},_PlayerSelectionSystem=class extends System{constructor(T,R){super(T,R),this.startPosition=null,this.deselectEntitiesTimeout=null,this.app=R.app,this.rectangle=new Graphics,this.rectangle.visible=!1,this.app.stage.addChild(this.rectangle)}getSelected(){return this.queries.selectable.results.filter(T=>{var R;return((R=T.getComponent(SelectableComponent))==null?void 0:R.selected)||!1})}startSelect(){this.rectangle.visible=!0}updateSelect(){const T=Input.mousePosition.x-this.startPosition.x,R=Input.mousePosition.y-this.startPosition.y;this.getSelected().forEach(EntityHelper.deselect),this.rectangle.clear(),this.rectangle.lineStyle(1,0),this.rectangle.drawRect(this.startPosition.x,this.startPosition.y,T,R)}endSelect(){this.selectEntities(),this.startPosition=null,this.rectangle.visible=!1,this.rectangle.clear()}selectEntities(){this.isSimpleClick()?this.selectOneEntity():this.selectMultipleEntities()}isSimpleClick(){return Vector2.distance(this.startPosition,Input.mousePosition)<_PlayerSelectionSystem.SINGLE_UNIT_DISTANCE}selectOneEntity(){const T=this.getEntityAtPosition(Input.mousePosition.x,Input.mousePosition.y);if(T&&isOnTeam(1)(T))EntityHelper.select(T);else{Input.isMouseDblClick()||(this.deselectEntitiesTimeout=setTimeout(()=>{this.getSelected().forEach(EntityHelper.deselect)},300));return}}selectMultipleEntities(){const T=Input.mousePosition.x-this.startPosition.x,R=Input.mousePosition.y-this.startPosition.y;this.queries.selectable.results.filter(I=>EntityHelper.isObjectInsideContainer(I,{x:this.startPosition.x,y:this.startPosition.y,width:T,height:R})).filter(isOnTeam(1)).forEach(I=>EntityHelper.select(I))}getEntityAtPosition(T,R){return getEntityAtPosition(this.queries.selectable.results,T,R)}execute(T,R){Input.isMouseDblClick()&&this.deselectEntitiesTimeout!==null&&clearTimeout(this.deselectEntitiesTimeout),this.startPosition===null?Input.isMouseButtonDown(0)&&(this.startPosition=Input.mousePosition,this.startSelect()):Input.isMouseButtonUp(0)?this.endSelect():Vector2.distance(this.startPosition,Input.mousePosition)>_PlayerSelectionSystem.SINGLE_UNIT_DISTANCE&&this.updateSelect()}};let PlayerSelectionSystem=_PlayerSelectionSystem;PlayerSelectionSystem.queries={selectable:{components:[SelectableComponent]}};PlayerSelectionSystem.SINGLE_UNIT_DISTANCE=5;class HealthSystem extends System{execute(R,I){this.queries.healthy.added!==void 0&&this.queries.healthy.added.forEach(this.updateStatus),this.queries.healthy.changed!==void 0&&this.queries.healthy.changed.forEach(this.updateStatus)}updateStatus(R){const I=R.getComponent(HealthComponent);if(!!I&&!!R.hasComponent(AliveComponent)&&I.points===0){const $=R.getMutableComponent(AliveComponent);if(!$)return;$.alive=!1}}}HealthSystem.queries={healthy:{components:[HealthComponent],listen:{added:!0,changed:!0}}};class PixiJsSystem extends System{constructor(R,I){super(R,I),this.app=I.app}}class AnimatedSpriteComponent extends Component{}AnimatedSpriteComponent.schema={sprite:{type:Types.Ref},state:{type:Types.String}};const TEAM_COLORS=["red","blue"],MOVE_DIRECTIONS=["north","northeast","east","southeast","south","southwest","west","northwest"],UNIT_STATES=["idle","move","attack","dying","dead"];class Animation{constructor(R,I,$){this.textures=R,this.speed=I,this.loop=$}set(R){R.textures=this.textures,R.animationSpeed=this.speed,R.loop=this.loop,R.play()}}const createAnimation=(T,R,I,$)=>{const N=R.states[I][$];return"texture"in N?new Animation([T.textures[N.texture]],Number.POSITIVE_INFINITY,!1):new Animation(T.animations[N.animation],N.speed,N.loop)},createDirectionalAnimations=(T,R,I)=>MOVE_DIRECTIONS.reduce(($,N)=>({...$,[N]:createAnimation(T,R,I,N)}),{}),createAnimationMap=(T,R,I,$)=>{const N=R.find(M=>M.color===I&&M.unit===$);return UNIT_STATES.reduce((M,L)=>({...M,[L]:createDirectionalAnimations(T,N,L)}),{})},createModelName=(T,R)=>`${T}_${R}`,ROTATION_TO_DIRECTION_MAP=new Map([[-135,"northwest"],[-90,"north"],[-45,"northeast"],[0,"east"],[45,"southeast"],[90,"south"],[135,"southwest"],[180,"west"]]),rotationToDirection=T=>{var R;return(R=ROTATION_TO_DIRECTION_MAP.get(T))!=null?R:"north"};class AssetComponent extends Component{}AssetComponent.schema={animator:{type:Types.Ref}};class SpriteComponent extends Component{}SpriteComponent.schema={sprite:{type:Types.Ref}};class AliveSystem extends PixiJsSystem{execute(R,I){this.queries.alives.changed&&this.queries.alives.changed.forEach($=>{this.isDead($)&&this.handleDead($)})}isDead(R){const I=R.getMutableComponent(AliveComponent);return I?!I.alive:!1}handleDead(R){R.removeComponent(SelectableComponent),R.removeComponent(HealthComponent);const I=R.getComponent(AssetComponent),$=R.getComponent(TransformComponent);I.animator.set("dead",rotationToDirection($.rotation))}static getSprite(R){if(R.hasComponent(SpriteComponent))return R.getComponent(SpriteComponent).sprite;if(R.hasComponent(AnimatedSpriteComponent))return R.getComponent(AnimatedSpriteComponent).sprite;throw new Error("Entity has no sprite")}}AliveSystem.queries={alives:{components:[AliveComponent],listen:{changed:!0}}};class InputSystem extends System{constructor(R,I){super(R,I),this.keyQueue=[],this.mouseEvents=[],this.canvas=I.canvas,this.canvas.addEventListener("mousedown",$=>{this.mouseEvents.push($)}),this.canvas.addEventListener("mouseup",$=>{this.mouseEvents.push($)}),this.canvas.addEventListener("click",$=>{this.mouseEvents.push($)}),this.canvas.addEventListener("dblclick",$=>{this.mouseEvents.push($)}),this.canvas.addEventListener("mousemove",$=>{Input.mousePosition=new Vector2($.offsetX,$.offsetY)}),window.addEventListener("keydown",$=>{this.keyQueue.push($)}),window.addEventListener("keyup",$=>{this.keyQueue.push($)}),window.addEventListener("keypress",$=>{this.keyQueue.push($)})}execute(R,I){if(Input.clearMouseStatuses(),this.mouseEvents.length>0){let $;for(;$=this.mouseEvents.shift();)Input.setMouseButton($.button,$.type)}if(Input.clearKeysStatus(),this.keyQueue.length>0){let $;for(;$=this.keyQueue.pop();)Input.addKeyStatus($.key,$.type);this.keyQueue=[]}}}class MovePositionDirectSystem extends System{execute(R,I){for(const $ of this.queries.entities.results){const N=$.getMutableComponent(MovePositionDirectComponent);if((N==null?void 0:N.movePosition)==null)continue;const M=$.getMutableComponent(TransformComponent);!M||this.moveByMoveVelocity($,M,N)}}moveByTransformVelocity(R,I,$){const N=R.getMutableComponent(MoveTransformVelocityComponent);if(N){if(Vector2.distance(I.position,$.movePosition)<1){I.position=$.movePosition,$.movePosition=null,N.velocity=Vector2.ZERO;return}N.velocity=Vector2.subtracts($.movePosition,I.position).normalized()}}moveByMoveVelocity(R,I,$){const N=R.getMutableComponent(MoveVelocityComponent);if(N){if(Vector2.distance(I.position,$.movePosition)<1){I.position=$.movePosition,$.movePosition=null,N.velocity=Vector2.ZERO;return}N.velocity=Vector2.subtracts($.movePosition,I.position).normalized()}}}MovePositionDirectSystem.queries={entities:{components:[MovePositionDirectComponent]}};class ControlledComponent extends Component{}ControlledComponent.schema={by:{type:Types.String,default:null}};class FollowComponent extends Component{}FollowComponent.schema={follow:{type:Types.Ref,default:null}};class MovePathComponent extends Component{}MovePathComponent.schema={path:{type:Types.Array,default:[]}};const isPositionEqual=(T,R)=>T.x===R.x&&T.y===R.y;class Node$1{constructor(R=null,I){this.parent=R,this.position=I,this.g=0,this.h=0,this.f=0}calculateF(){this.f=this.g+this.h}equals(R){return R instanceof Node$1?isPositionEqual(this.position,R.position):!1}toString(){return this.position.x+","+this.position.y}}const getLowestFNode=T=>{let R=T[0];for(let I=1;I<T.length;I++){const $=T[I];$.f<R.f&&(R=$)}return R!=null?R:null},createPathFromEndNode=T=>{const R=[];R.push(T);let I=T;for(;I.parent!==null;)R.push(I.parent),I=I.parent;return R.reverse(),R},relativeAdjacentPositions=[{x:0,y:-1},{x:0,y:1},{x:-1,y:0},{x:1,y:0},{x:-1,y:-1},{x:-1,y:1},{x:1,y:-1},{x:1,y:1}],isPositionInsideGrid=(T,R)=>R.y>=0&&R.y<T.length&&R.x>=0&&R.x<T[R.y].length,generateAdjacentNodes=(T,R)=>relativeAdjacentPositions.map(I=>{const $={x:R.position.x+I.x,y:R.position.y+I.y};if(!!isPositionInsideGrid(T,$)&&T[$.y][$.x]===0)return new Node$1(R,$)}).filter(filterEmpty),MOVE_STRAIGHT_COST=10,MOVE_DIAGONAL_COST=14,calculateDistanceCost=(T,R)=>{const I=Math.abs(T.position.x-R.position.x),$=Math.abs(T.position.y-R.position.y),N=Math.abs(I-$);return MOVE_DIAGONAL_COST*Math.min(I,$)+MOVE_STRAIGHT_COST*N},astar=(T,R,I)=>{const $=new Node$1(null,R),N=new Node$1(null,I),M=[],L=[];for(M.push($);M.length>0;){const B=getLowestFNode(M);if(B==null)break;if(M.splice(M.indexOf(B),1),L.push(B),B.equals(N))return createPathFromEndNode(B);const k=generateAdjacentNodes(T,B);for(const U of k)if(!arrayIncludesByEquals(L,U)){if(U.g=B.g+1,U.h=calculateDistanceCost(U,N),U.calculateF(),arrayIncludesByEquals(M,U)){const H=M.find(toEqual(U));if(U.g>H.g)continue}M.push(U)}}return[]};class PlayerMovementMouseSystem extends PixiJsSystem{constructor(R,I){super(R,I),this.map=null,I.eventBus.on("level:loaded",$=>{this.map=$.detail.level.collisionMap})}execute(R,I){if(Input.isMouseButtonUp(2)||Input.isMouseDblClick())for(const $ of this.queries.playerEntities.results){const N=$.getComponent(SelectableComponent);if(!N||!N.selected)continue;const M=$.getComponent(TransformComponent);if(!!M&&this.map!=null){const L=getEntityAtPosition(this.queries.entities.results,Input.mousePosition.x,Input.mousePosition.y);if(L!=null){const H=$.getMutableComponent(FollowComponent);if(H!=null){H.follow=L;continue}}const B=$.getMutableComponent(FollowComponent);B!=null&&B.follow!=null&&(B.follow=null);const k=astar(this.map,M.gridPosition,getMouseGridPosition()),U=$.getMutableComponent(MovePathComponent);U.path=convertPathfindingPathToPositions(k.slice(1)),$.hasComponent(ControlledComponent)&&($.getMutableComponent(ControlledComponent).by="player")}}}}PlayerMovementMouseSystem.queries={playerEntities:{components:[PlayerMovementMouseComponent]},entities:{components:[TransformComponent,SizeComponent]}};class MoveVelocitySystem extends System{execute(R,I){this.queries.bodies.results.forEach($=>this.updateEntityBody($,R))}updateEntityBody(R,I){const $=R.getMutableComponent(MoveVelocityComponent);if(($==null?void 0:$.velocity)==null)return;const N=R.getMutableComponent(TransformComponent);!N||(N.position.x=N.position.x+$.velocity.x,N.position.y=N.position.y+$.velocity.y)}}MoveVelocitySystem.queries={bodies:{components:[MoveVelocityComponent,TransformComponent],listen:{added:!0}}};class SpriteSystem extends PixiJsSystem{execute(R,I){var $,N,M,L;if(((N=($=this.queries.sprites.added)==null?void 0:$.length)!=null?N:0)>0)for(const B of this.queries.sprites.added){const k=B.getMutableComponent(SpriteComponent);this.app.stage.addChild(k.sprite)}if(this.queries.sprites.results.forEach(B=>{const k=B.getMutableComponent(SpriteComponent),U=B.getComponent(TransformComponent);U!=null&&k.sprite.position.set(U.position.x,U.position.y)}),((L=(M=this.queries.animatedSprites.added)==null?void 0:M.length)!=null?L:0)>0)for(const B of this.queries.animatedSprites.added){const k=B.getMutableComponent(AnimatedSpriteComponent);this.app.stage.addChild(k.sprite);const U=B.getComponent(TransformComponent);U!=null&&k.sprite.position.set(U.position.x,U.position.y)}this.queries.animatedSprites.results.forEach(B=>{const k=B.getMutableComponent(AnimatedSpriteComponent),U=B.getComponent(TransformComponent);U!=null&&k.sprite.position.set(U.position.x,U.position.y)})}}SpriteSystem.queries={sprites:{components:[SpriteComponent],listen:{added:!0}},animatedSprites:{components:[AnimatedSpriteComponent],listen:{added:!0}}};class GraphicsComponent extends Component{constructor(){super(...arguments),this.addedToStage=!1}}GraphicsComponent.schema={graphics:{type:Types.Ref},addedToStage:{type:Types.Boolean}};class AttackComponent extends Component{attack(R){R.getMutableComponent(HealthComponent).takeHit(this.attackDamage)}}AttackComponent.schema={aggroRange:{type:Types.Number},attackRange:{type:Types.Number},attackDamage:{type:Types.Number}};const getHealthColor=T=>T>=.66?65280:T>=.33?16776960:16711680;class GraphicsSystem extends PixiJsSystem{constructor(R,I){var $;super(R,I),this.showAllHealth=I.options.showallhealth!==void 0?I.options.showallhealth[0]=="true":!1,this.showDebugAggro=($=I.options.debug)==null?void 0:$.includes("aggro")}drawHealthBar(R,I,$){I.beginFill(0),I.drawRect(-8,12,16,5),I.endFill();const N=R.getComponent(HealthComponent);if(N){const M=N.points/N.maxPoints;I.beginFill(getHealthColor(M)),I.drawRect(-7,13,14*M,3),I.endFill()}}drawSelectionIndicators(R,I,$){const N=R.getComponent(SizeComponent),M=4,L=-N.width/2-M,B=-N.height/2-M,k=N.width/2+M;I.lineStyle(1,0).moveTo(L,-6).lineTo(L,B).lineTo(L/2,B),I.lineStyle(1,0).moveTo(k/2,B).lineTo(k,B).lineTo(k,-6)}drawAggroRadius(R,I,$){const N=R.getComponent(AttackComponent);N!=null&&(I.lineStyle(1,16711680),I.drawCircle(0,0,N.aggroRange))}execute(R,I){var $,N,M,L;if(((N=($=this.queries.graphics.results)==null?void 0:$.length)!=null?N:0)>0)for(const B of this.queries.graphics.results){const k=B.getMutableComponent(GraphicsComponent);if(k.addedToStage||(this.app.stage.addChild(k.graphics),k.addedToStage=!0),B.hasComponent(SelectableComponent)){const U=B.getComponent(TransformComponent).position,H=(L=(M=B.getComponent(SpriteComponent))==null?void 0:M.sprite)!=null?L:B.getComponent(AnimatedSpriteComponent).sprite;k.graphics.clear(),k.graphics.position.set(U.x,U.y),EntityHelper.isSelected(B)&&this.drawSelectionIndicators(B,k.graphics,H),(this.showAllHealth||EntityHelper.isSelected(B))&&this.drawHealthBar(B,k.graphics,H),this.showDebugAggro&&this.drawAggroRadius(B,k.graphics,H)}else k.graphics.clear()}}}GraphicsSystem.queries={graphics:{components:[GraphicsComponent]}};const require$$0=getAugmentedNamespace(pixi);var __assign$1=commonjsGlobal$2&&commonjsGlobal$2.__assign||function(){return __assign$1=Object.assign||function(T){for(var R,I=1,$=arguments.length;I<$;I++){R=arguments[I];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(T[N]=R[N])}return T},__assign$1.apply(this,arguments)},DashLine_1=void 0,PIXI=require$$0,dashLineOptionsDefault={dash:[10,5],width:1,color:16777215,alpha:1,scale:1,useTexture:!1,alignment:.5},DashLine=function(){function T(R,I){I===void 0&&(I={}),this.cursor=new PIXI.Point,this.scale=1,this.graphics=R,I=__assign$1(__assign$1({},dashLineOptionsDefault),I),this.dash=I.dash,this.dashSize=this.dash.reduce(function($,N){return $+N}),this.useTexture=I.useTexture,this.options=I,this.setLineStyle()}return T.prototype.setLineStyle=function(){var R=this.options;if(this.useTexture){var I=T.getTexture(R,this.dashSize);this.graphics.lineTextureStyle({width:R.width*R.scale,color:R.color,alpha:R.alpha,texture:I,alignment:R.alignment}),this.activeTexture=I}else this.graphics.lineStyle({width:R.width*R.scale,color:R.color,alpha:R.alpha,cap:R.cap,join:R.join,alignment:R.alignment});this.scale=R.scale},T.distance=function(R,I,$,N){return Math.sqrt(Math.pow($-R,2)+Math.pow(N-I,2))},T.prototype.moveTo=function(R,I){return this.lineLength=0,this.cursor.set(R,I),this.start=new PIXI.Point(R,I),this.graphics.moveTo(this.cursor.x,this.cursor.y),this},T.prototype.lineTo=function(R,I,$){typeof this.lineLength===void 0&&this.moveTo(0,0);var N=T.distance(this.cursor.x,this.cursor.y,R,I),M=Math.atan2(I-this.cursor.y,R-this.cursor.x),L=$&&R===this.start.x&&I===this.start.y;if(this.useTexture)if(this.graphics.moveTo(this.cursor.x,this.cursor.y),this.adjustLineStyle(M),L&&this.dash.length%2===0){var B=Math.min(this.dash[this.dash.length-1],N);this.graphics.lineTo(R-Math.cos(M)*B,I-Math.sin(M)*B),this.graphics.closePath()}else this.graphics.lineTo(R,I);else{for(var k=Math.cos(M),U=Math.sin(M),H=this.cursor.x,z=this.cursor.y,V=this.lineLength%(this.dashSize*this.scale),W=0,K=0,Y=0,q=0;q<this.dash.length;q++){var Z=this.dash[q]*this.scale;if(V<Y+Z){W=q,K=V-Y;break}else Y+=Z}for(var Q=N;Q>0;){var Z=this.dash[W]*this.scale-K,ee=Q>Z?Z:Q;if(L){var ne=T.distance(H+k*ee,z+U*ee,this.start.x,this.start.y);if(ne<=ee){if(W%2===0){var te=T.distance(H,z,this.start.x,this.start.y)-this.dash[this.dash.length-1]*this.scale;H+=k*te,z+=U*te,this.graphics.lineTo(H,z)}break}}H+=k*ee,z+=U*ee,W%2?this.graphics.moveTo(H,z):this.graphics.lineTo(H,z),Q-=ee,W++,W=W===this.dash.length?0:W,K=0}}return this.lineLength+=N,this.cursor.set(R,I),this},T.prototype.closePath=function(){this.lineTo(this.start.x,this.start.y,!0)},T.prototype.drawCircle=function(R,I,$,N,M){N===void 0&&(N=80);var L=Math.PI*2/N,B=0,k;M?(k=new PIXI.Point(R+Math.cos(B)*$,I+Math.sin(B)*$),M.apply(k,k),this.moveTo(k[0],k[1])):(k=new PIXI.Point(R+Math.cos(B)*$,I+Math.sin(B)*$),this.moveTo(k.x,k.y)),B+=L;for(var U=1;U<N+1;U++){var H=U===N?k:[R+Math.cos(B)*$,I+Math.sin(B)*$];this.lineTo(H[0],H[1]),B+=L}return this},T.prototype.drawEllipse=function(R,I,$,N,M,L){M===void 0&&(M=80);for(var B=Math.PI*2/M,k,U=new PIXI.Point,H=0;H<Math.PI*2;H+=B){var z=R-$*Math.sin(H),V=I-N*Math.cos(H);L&&(U.set(z,V),L.apply(U,U),z=U.x,V=U.y),H===0?(this.moveTo(z,V),k={x:z,y:V}):this.lineTo(z,V)}return this.lineTo(k.x,k.y,!0),this},T.prototype.drawPolygon=function(R,I){var $=new PIXI.Point;if(typeof R[0]=="number")if(I){$.set(R[0],R[1]),I.apply($,$),this.moveTo($.x,$.y);for(var N=2;N<R.length;N+=2)$.set(R[N],R[N+1]),I.apply($,$),this.lineTo($.x,$.y,N===R.length-2)}else{this.moveTo(R[0],R[1]);for(var N=2;N<R.length;N+=2)this.lineTo(R[N],R[N+1],N===R.length-2)}else if(I){var M=R[0];$.copyFrom(M),I.apply($,$),this.moveTo($.x,$.y);for(var N=1;N<R.length;N++){var L=R[N];$.copyFrom(L),I.apply($,$),this.lineTo($.x,$.y,N===R.length-1)}}else{var M=R[0];this.moveTo(M.x,M.y);for(var N=1;N<R.length;N++){var B=R[N];this.lineTo(B.x,B.y,N===R.length-1)}}return this},T.prototype.drawRect=function(R,I,$,N,M){if(M){var L=new PIXI.Point;L.set(R,I),M.apply(L,L),this.moveTo(L.x,L.y),L.set(R+$,I),M.apply(L,L),this.lineTo(L.x,L.y),L.set(R+$,I+N),M.apply(L,L),this.lineTo(L.x,L.y),L.set(R,I+N),M.apply(L,L),this.lineTo(L.x,L.y),L.set(R,I),M.apply(L,L),this.lineTo(L.x,L.y,!0)}else this.moveTo(R,I).lineTo(R+$,I).lineTo(R+$,I+N).lineTo(R,I+N).lineTo(R,I,!0);return this},T.prototype.adjustLineStyle=function(R){var I=this.graphics.line;I.matrix=new PIXI.Matrix,R&&I.matrix.rotate(R),this.scale!==1&&I.matrix.scale(this.scale,this.scale);var $=-this.lineLength;I.matrix.translate(this.cursor.x+$*Math.cos(R),this.cursor.y+$*Math.sin(R)),this.graphics.lineStyle(I)},T.getTexture=function(R,I){var $=R.dash.toString();if(T.dashTextureCache[$])return T.dashTextureCache[$];var N=document.createElement("canvas");N.width=I,N.height=Math.ceil(R.width);var M=N.getContext("2d");if(!M){console.warn("Did not get context from canvas");return}M.strokeStyle="white",M.globalAlpha=R.alpha,M.lineWidth=R.width;var L=0,B=R.width/2;M.moveTo(L,B);for(var k=0;k<R.dash.length;k+=2)L+=R.dash[k],M.lineTo(L,B),R.dash.length!==k+1&&(L+=R.dash[k+1],M.moveTo(L,B));M.stroke();var U=T.dashTextureCache[$]=PIXI.Texture.from(N);return U.baseTexture.scaleMode=PIXI.SCALE_MODES.NEAREST,U},T.dashTextureCache={},T}();DashLine_1=DashLine;class GridSystem extends PixiJsSystem{constructor(R,I){super(R,I),this.options=I.options,window.onresize=()=>this.draw(),this.graphics=this.app.stage.addChildAt(new Graphics,0),this.draw()}execute(R,I){}draw(){var I;if(this.graphics.clear(),!((I=this.options.debug)!=null&&I.includes("grid")))return;const R=new DashLine_1(this.graphics,{dash:[5,5],width:1,color:11184810});for(let $=Constants.CELL_SIZE;$<this.app.screen.height;$+=Constants.CELL_SIZE)R.moveTo(0,$).lineTo(this.app.screen.width,$);for(let $=Constants.CELL_SIZE;$<this.app.screen.width;$+=Constants.CELL_SIZE)R.moveTo($,0).lineTo($,this.app.screen.height)}}class TargetComponent extends Component{}TargetComponent.schema={target:{type:Types.Ref,default:null}};class CollidableComponent extends TagComponent{}class EntityFactory{constructor(R,I){this.world=R,this.animationService=I}createUnit(R){const I=Constants.CELL_SIZE,$=Constants.CELL_SIZE;let N=Math.random()*360;N-=N%90;const M=new AnimatedSprite([Texture.EMPTY]),L=this.animationService.createAnimator(M,R.color,"swordsmen");return M.textures=L.model.getAnimation("idle","north").textures,M.anchor.set(.5),M.position.set(R.position.x,R.position.y),M.animationSpeed=.25,M.play(),this.world.createEntity().addComponent(TransformComponent,{position:new Vector2(R.position.x,R.position.y),rotation:N}).addComponent(SizeComponent,{width:I,height:$}).addComponent(MovableComponent).addComponent(SelectableComponent).addComponent(HealthComponent,{points:10,maxPoints:10}).addComponent(AliveComponent).addComponent(MoveVelocityComponent,{moveSpeed:50}).addComponent(PlayerMovementKeysComponent).addComponent(MovePositionDirectComponent).addComponent(PlayerMovementMouseComponent).addComponent(AnimatedSpriteComponent,{sprite:M,state:"idle_north"}).addComponent(GraphicsComponent,{graphics:new Graphics}).addComponent(MovePathComponent,{path:[]}).addComponent(CollidableComponent).addComponent(TeamComponent,R.team).addComponent(FollowComponent).addComponent(AttackComponent,{aggroRange:80,attackRange:16,attackDamage:1}).addComponent(TargetComponent).addComponent(ControlledComponent).addComponent(AssetComponent,{animator:L})}}class Animator{constructor(R,I){this.sprite=R,this.model=I}set(R,I){this.model.getAnimation(R,I).set(this.sprite)}}class AnimationModel{constructor(R,I){this.name=R,this.map=I}getAnimation(R,I){return this.map[R][I]}}class AnimationService{constructor(R,I){this.spritesheet=R,this.animationModels=I,this.modelsCache=new Map}createModel(R,I){return new AnimationModel(`${R}_${I}`,createAnimationMap(this.spritesheet,this.animationModels.models,R,I))}getModel(R,I){const $=createModelName(R,I);return this.modelsCache.has($)||this.modelsCache.set($,this.createModel(R,I)),this.modelsCache.get($)}createAnimator(R,I,$){return new Animator(R,this.getModel(I,$))}}function t(T,R){var I=Object.keys(T);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(T);R&&($=$.filter(function(N){return Object.getOwnPropertyDescriptor(T,N).enumerable})),I.push.apply(I,$)}return I}function e(T){for(var R=1;R<arguments.length;R++){var I=arguments[R]!=null?arguments[R]:{};R%2?t(Object(I),!0).forEach(function($){r$1(T,$,I[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(I)):t(Object(I)).forEach(function($){Object.defineProperty(T,$,Object.getOwnPropertyDescriptor(I,$))})}return T}function r$1(T,R,I){return R in T?Object.defineProperty(T,R,{value:I,enumerable:!0,configurable:!0,writable:!0}):T[R]=I,T}function n(T){return T.slice(0,-1)}function o(T,R=0){return R?Array.from(Array(R-T).keys()).map(I=>I+T):Array.from(Array(T).keys())}function c$4(T){return[...new Set(T)]}function u$1(T,R){const I=c$4(T.map(L=>L.set)).filter(Boolean),$=(N=o(1,T.length+1),M=I,[N,M].reduce((L,B)=>L.filter(k=>!B.includes(k)))).sort(()=>.5-R());var N,M;T.filter(L=>!L.set).forEach((L,B)=>L.set=$[B])}function f$1(T,R,I=.5){n(T).forEach(($,N)=>{const M=T[N+1],L=$.set!==M.set,B=R()<=I;L&&B&&(function(k,U,H){k.forEach(z=>{z.set===U&&(z.set=H)})}(T,M.set,$.set),$.right=!1,M.left=!1)})}function i(T=8,R=T,I=!0,$=1){const N=function(U){return function(){let H=U+=1831565813;return H=Math.imul(H^H>>>15,1|H),H^=H+Math.imul(H^H>>>7,61|H),((H^H>>>14)>>>0)/4294967296}}($),M=[],L=o(T);for(let U=0;U<R;U+=1){const H=L.map(z=>({x:z,y:U,top:I||U>0,left:I||z>0,bottom:I||U<R-1,right:I||z<T-1}));M.push(H)}n(M).forEach((U,H)=>{u$1(U,N),f$1(U,N),function(z,V,W){const K=Object.values(function(q,Z){let Q=c$4(q.map(ee=>ee.set)).reduce((ee,ne)=>e(e({},ee),{},{[ne]:[]}),{});return q.forEach(ee=>Q[ee.set].push(ee)),Q}(z)),{ceil:Y}=Math;K.forEach(q=>{(function(Z,Q,ee){Q=Q==null?1:Q;const ne=Z==null?0:Z.length;if(!ne||Q<1)return[];Q=Q>ne?ne:Q;let te=-1;const re=ne-1,ie=[...Z];for(;++te<Q;){const se=te+Math.floor(ee()*(re-te+1)),le=ie[se];ie[se]=ie[te],ie[te]=le}return ie.slice(0,Q)})(q,Y(W()*q.length),W).forEach(Z=>{if(Z){const Q=V[Z.x];Z.bottom=!1,Q.top=!1,Q.set=Z.set}})})}(U,M[H+1],N)});const B=(k=M)[k.length-1];var k;return u$1(B,N),f$1(B,N,1),M}const getGridSizeByScreen=T=>({width:Math.ceil(T.screen.width/Constants.CELL_SIZE),height:Math.ceil(T.screen.height/Constants.CELL_SIZE)}),createEmptyGrid=T=>Array.from({length:T.height},()=>Array.from({length:T.width},()=>0)),generateMaze=T=>{const R=i(Math.floor(T.width/2),Math.floor(T.height/2),!0,Math.random()*1e3);return convertEllerMazeToGrid(R)},convertEllerMazeToGrid=T=>{const R=[];for(const I of T){R[I[0].y*2]=[],R[I[0].y*2+1]=[],R[I[0].y*2+2]=[];for(const $ of I)R[$.y*2][$.x*2]=1,R[$.y*2+1][$.x*2]=$.left?1:0,R[$.y*2][$.x*2+1]=$.top?1:0,R[$.y*2][$.x*2+2]=1,R[$.y*2+1][$.x*2+1]=0,R[$.y*2+1][$.x*2+2]=$.right?1:0,R[$.y*2+2][$.x*2+2]=1,R[$.y*2+2][$.x*2+1]=$.bottom?1:0,R[$.y*2+2][$.x*2]=1}return R};class Level{constructor(R,I){this.app=R,this.world=I}}class RandomUnitsLevel extends Level{constructor(R,I){super(R,I),this._collisionMap=createEmptyGrid(getGridSizeByScreen(R)),this.animationService=new AnimationService(R.loader.resources["unit-spritesheet"].spritesheet,R.loader.resources["animation-models"].data),this.entityFactory=new EntityFactory(I,this.animationService)}get collisionMap(){return this._collisionMap}load(){Array.from(Array(100)).forEach(()=>{const R=toWorldPositionCellCenter(new Vector2(Math.round(Math.random()*this.app.screen.width),Math.round(Math.random()*this.app.screen.height)+Constants.CELL_SIZE/2));this.entityFactory.createUnit({position:R,color:"red",team:{number:Math.round(Math.random()+1)}})})}}class PathFindingLevel extends Level{constructor(R,I){super(R,I),this.map=generateMaze(getGridSizeByScreen(R)),this.animationService=new AnimationService(R.loader.resources["unit-spritesheet"].spritesheet,R.loader.resources["animation-models"].data),this.entityFactory=new EntityFactory(I,this.animationService)}get collisionMap(){return this.map}load(){this.entityFactory.createUnit({position:cellPositionToVector(1,1),color:"blue",team:{number:1}}),this.entityFactory.createUnit({position:cellPositionToVector(3,1),color:"red",team:{number:2}})}}class Tree{constructor(R){this.root=R}update(){this.root.evaluate()}}class BehaviorTreeComponent extends Component{}BehaviorTreeComponent.schema={tree:{type:Types.Ref,default:!1}};var State=(T=>(T.RUNNING="running",T.SUCCESS="success",T.FAILURE="failure",T))(State||{});class Node{constructor(R=[]){this._state="failure",this.parent=null,this._children=[],this.data=new Map,this.children=R}get state(){return this._state}set state(R){this._state=R}get children(){return this._children}set children(R){R.forEach(I=>this.attach(I))}attach(R){this._children.push(R),R.parent=this}detach(R){this._children=this._children.filter(I=>I!==R),R.parent=null}evaluate(){return this.state}getData(R){return this.data.has(R)?this.data.get(R):this.getDataOfParent(R)}getDataOfParent(R){var I,$;return($=(I=this.parent)==null?void 0:I.getData(R))!=null?$:null}setData(R,I){this.data.set(R,I)}hasChildren(){return this.children.length>0}running(){return this.state="running"}success(){return this.state="success"}failure(){return this.state="failure"}}const invertStateMap=new Map([[State.FAILURE,State.SUCCESS],[State.SUCCESS,State.FAILURE],[State.RUNNING,State.RUNNING]]);class Inventer extends Node{evaluate(){if(!this.hasChildren())return this.failure();const R=this.children[0].evaluate();return invertStateMap.has(R)?this.state=invertStateMap.get(R):this.failure()}}class Selector extends Node{evaluate(){if(!this.hasChildren())return this.success();for(const R of this.children){const I=R.evaluate();if(I===State.SUCCESS)return this.success();I===State.RUNNING&&(this.state=State.RUNNING)}return this.state===State.FAILURE?this.failure():this.children.length===0?this.success():this.state}}class Sequence extends Node{evaluate(){let R=!1;for(const I of this.children)switch(I.evaluate()){case State.RUNNING:R=!0;continue;case State.SUCCESS:continue;case State.FAILURE:default:return this.failure()}return R?this.running():this.success()}}class GameTime{}GameTime.delta=0;class Timer extends Node{constructor(R){var I;super(R.children),this.delay=R.delay,this._countdownTimer=this.delay,this.elapsedCallback=(I=R.elapsedCallback)!=null?I:null}get countdownTimer(){return this._countdownTimer}isElapsed(){return this.countdownTimer<=0}reset(){this._countdownTimer=this.delay}evaluate(){return this.isElapsed()&&this.reset(),this.hasChildren()?(this._countdownTimer-=GameTime.delta,this.isElapsed()?(this.state=this.children[0].evaluate(),this.elapsedCallback&&this.elapsedCallback(),this.state):this.running()):this.failure()}}const setEntityAnimation=(T,R)=>{var $;const I=T.getMutableComponent(AnimatedSpriteComponent);if(I!=null){const N=T.getComponent(AssetComponent);if(N==null)return;const M=T.getComponent(TransformComponent),L=rotationToDirection(($=M==null?void 0:M.rotation)!=null?$:0);I.state!==`${R}_${L}`&&(N.animator.set(R,L),I.state=`${R}_${L}`,I.sprite.play())}};class EntityNode extends Node{evaluate(){const R=this.getData("entity");return R==null?this.failure():this.evaluateByEntity(R)}}class Attack extends EntityNode{evaluateByEntity(R){const I=R.getComponent(AttackComponent),$=this.getData("target");return setEntityAnimation(R,"attack"),I.attack($),this.success()}}class Follow$1 extends EntityNode{evaluateByEntity(R){const I=R.getComponent(TargetComponent),$=R.getMutableComponent(FollowComponent);return I==null||$==null?this.failure():($.follow=I.target,this.success())}}class HasTarget extends EntityNode{evaluateByEntity(R){return R.hasComponent(TargetComponent)?R.getComponent(TargetComponent).target==null?this.failure():this.success():this.failure()}}class IsControlledBy extends EntityNode{constructor(R){super([]),this.by=R}evaluateByEntity(R){return R.hasComponent(ControlledComponent)?R.getComponent(ControlledComponent).by===this.by?this.success():this.failure():this.failure()}}class IsControlledByPlayer extends IsControlledBy{constructor(){super("player")}}const getEntitiesInRange=(T,R,I)=>R.filter(not(isSameEntity(T))).filter(not(isOnTeam(T.getComponent(TeamComponent).number))).filter(isAlive()).filter(isInRange(T,I)).sort(byClosestDistance(T));class IsEnemyInRange extends EntityNode{constructor(R,I,$){super(),this.entities=R,this.componentConstructor=I,this.componentProperty=$}evaluateByEntity(R){const I=R.getComponent(this.componentConstructor)[this.componentProperty],$=getEntitiesInRange(R,this.entities,I);return $.length==0?this.failure():(this.parent.setData("target",$[0]),this.success())}}class IsEnemyInAggroRange extends IsEnemyInRange{constructor(R){super(R,AttackComponent,"aggroRange")}}class IsEnemyInAttackRange extends IsEnemyInRange{constructor(R){super(R,AttackComponent,"attackRange")}}class IsMoving extends EntityNode{evaluateByEntity(R){return R.hasComponent(MovePositionDirectComponent)?R.getComponent(MovePositionDirectComponent).movePosition==null?this.failure():this.success():this.failure()}}class SetTarget extends EntityNode{evaluateByEntity(R){const I=this.getData("target");if(I==null||!R.hasComponent(TargetComponent))return this.failure();const $=R.getMutableComponent(TargetComponent);return $.target=I,this.success()}}class UnsetTarget extends EntityNode{evaluateByEntity(R){if(!R.hasComponent(TargetComponent))return this.failure();const I=R.getMutableComponent(TargetComponent);return I.target==null?this.failure():(I.target=null,this.success())}}class BehaviorTreeLevel extends Level{constructor(R,I){super(R,I),this.map=createEmptyGrid(getGridSizeByScreen(R)),this.animationService=new AnimationService(R.loader.resources["unit-spritesheet"].spritesheet,R.loader.resources["animation-models"].data),this.entityFactory=new EntityFactory(I,this.animationService)}get collisionMap(){return this.map}load(){const R=this.entityFactory.createUnit({position:cellPositionToVector(1,1),color:"blue",team:{number:1}}),I=this.entityFactory.createUnit({position:cellPositionToVector(1,3),color:"red",team:{number:2}}),$=[R,I],N=new Tree(new Selector([new Sequence([new Inventer([new HasTarget]),new IsEnemyInAggroRange($),new SetTarget]),new Sequence([new IsMoving,new Inventer([new IsEnemyInAggroRange($)]),new UnsetTarget]),new Sequence([new HasTarget,new Selector([new Sequence([new IsEnemyInAttackRange($),new Timer({delay:1e3,children:[new Attack]})]),new Sequence([new Inventer([new IsControlledByPlayer]),new Follow$1])])])]));N.root.setData("entity",R),R.addComponent(BehaviorTreeComponent,{tree:N})}}class MapSystem extends PixiJsSystem{constructor(R,I){super(R,I),this.map=null,this.graphics=this.app.stage.addChildAt(new Graphics,0),I.eventBus.on("level:loaded",$=>{this.map=$.detail.level.collisionMap,this.draw()})}execute(R,I){}draw(){this.graphics.clear(),this.map!=null&&(this.graphics.beginFill(0),this.map.forEach((R,I)=>{R.forEach(($,N)=>{if($==1){const M=cellPositionToVector(N,I);this.graphics.drawRect(M.x-8,M.y-8,16,16)}})}),this.graphics.endFill())}}class MovePathSystem extends System{execute(R,I){var $;for(const N of this.queries.entities.results){const M=N.getMutableComponent(MovePathComponent);if(M.path.length==0){const U=N.getComponent(MoveVelocityComponent);(U==null?void 0:U.velocity)!=null&&Vector2.ZERO.equals(U.velocity)&&(N.hasComponent(ControlledComponent)&&(N.getMutableComponent(ControlledComponent).by=null),($=N.getComponent(AnimatedSpriteComponent))!=null&&$.state.startsWith("attack")||setEntityAnimation(N,"idle"));continue}const L=N.getMutableComponent(MovePositionDirectComponent);if(L.movePosition!=null)continue;const B=M.path[0];if(!this.canEntityMoveToCell(N,B))continue;M.path.shift(),L.movePosition=cellPositionToVector(B.x,B.y);const k=N.getMutableComponent(TransformComponent);k.position.equals(L.movePosition)||(k.rotation=Vector2.angle(k.position,L.movePosition)),setEntityAnimation(N,"move")}}canEntityMoveToCell(R,I){return this.queries.colliders.results.filter(not(isSameEntity(R))).find(M=>{const L=getCell(M);return I.x===L.x&&I.y===L.y})==null}}MovePathSystem.queries={entities:{components:[MovePathComponent]},colliders:{components:[CollidableComponent]}};const _EventBus=class{constructor(T){T=T||""+ ++_EventBus.counter,this.eventTarget=document.appendChild(document.createComment("EventBus: "+T))}on(T,R){this.eventTarget.addEventListener(T,R)}once(T,R){this.eventTarget.addEventListener(T,R,{once:!0})}off(T,R){this.eventTarget.removeEventListener(T,R)}emit(T,R){return this.eventTarget.dispatchEvent(new CustomEvent(T,{detail:R}))}};let EventBus=_EventBus;EventBus.counter=0;class GameTimeSystem extends System{execute(R,I){GameTime.delta=R}}class FollowSystem extends System{constructor(R,I){super(R,I),this.map=null,I.eventBus.on("level:loaded",$=>{this.map=$.detail.level.collisionMap})}execute(R,I){var $,N;if((($=this.queries.entities.changed)!=null?$:[]).length>0)for(const M of this.queries.entities.changed)this.updateFollowingEntity(M);for(const M of this.queries.entities.results)M.getComponent(FollowComponent).follow!=null&&((N=M.getComponent(MovePathComponent))==null?void 0:N.path)!=null&&this.updateFollowingEntity(M)}updateFollowingEntity(R){const I=R.getComponent(FollowComponent);if(I.follow==null)return;const $=I.follow.getComponent(TransformComponent),N=astar(this.map,R.getComponent(TransformComponent).gridPosition,$.gridPosition),M=R.getMutableComponent(MovePathComponent);M.path=convertPathfindingPathToPositions(N.slice(1).slice(0,-1))}}FollowSystem.queries={entities:{components:[FollowComponent],listen:{changed:!0}}};class BehaviorTreeSystem extends System{constructor(){super(...arguments),this.timePassed=0,this.triggerTime=1e3}execute(R,I){this.timePassed+=R;for(const $ of this.queries.entities.results)$.getComponent(BehaviorTreeComponent).tree.update()}}BehaviorTreeSystem.queries={entities:{components:[BehaviorTreeComponent]}};class TargetSystem extends System{execute(R,I){this.checkDead()}checkDead(){for(const R of this.queries.entities.results){const I=R.getComponent(TargetComponent);if(I.target===null)return;const $=I.target.getComponent(AliveComponent);$!==null&&!$.alive&&(R.getMutableComponent(TargetComponent).target=null)}}}TargetSystem.queries={entities:{components:[TargetComponent]}};class Engine{constructor(R){this.app=R,this.world=new World;const I=this.eventBus=new EventBus;let $=0;const N=getOptions();$=performance.now(),this.app.ticker.add(()=>{B()}),this.app.loader.add("unit-spritesheet","assets/unit-spritesheet.json").add("animation-models","assets/animation-models.json").load(()=>{L()}),this.world.registerComponent(TransformComponent).registerComponent(SizeComponent).registerComponent(SelectableComponent).registerComponent(MovableComponent).registerComponent(HealthComponent).registerComponent(AliveComponent).registerComponent(MoveTransformVelocityComponent).registerComponent(MovePositionDirectComponent).registerComponent(PlayerMovementMouseComponent).registerComponent(PlayerMovementKeysComponent).registerComponent(MoveVelocityComponent).registerComponent(SpriteComponent).registerComponent(AnimatedSpriteComponent).registerComponent(GraphicsComponent).registerComponent(MovePathComponent).registerComponent(CollidableComponent).registerComponent(TeamComponent).registerComponent(AttackComponent).registerComponent(FollowComponent).registerComponent(BehaviorTreeComponent).registerComponent(TargetComponent).registerComponent(ControlledComponent).registerComponent(AssetComponent).registerSystem(PlayerSelectionSystem,{app:R,eventBus:I}).registerSystem(HealthSystem,{eventBus:I}).registerSystem(AliveSystem,{app:R,eventBus:I}).registerSystem(InputSystem,{canvas:R.view}).registerSystem(MovePositionDirectSystem).registerSystem(PlayerMovementMouseSystem,{app:R,eventBus:I}).registerSystem(MoveVelocitySystem,{eventBus:I}).registerSystem(SpriteSystem,{app:R,eventBus:I}).registerSystem(GraphicsSystem,{app:R,options:N,eventBus:I}).registerSystem(GridSystem,{app:R,options:N,eventBus:I}).registerSystem(MapSystem,{app:R,eventBus:I}).registerSystem(MovePathSystem,{eventBus:I}).registerSystem(GameTimeSystem).registerSystem(FollowSystem,{app:R,eventBus:I}).registerSystem(BehaviorTreeSystem).registerSystem(TargetSystem);let M;const L=()=>{if(N.level!=null&&N.level[0]!=null){const k=N.level[0].toLowerCase();if(k==="randomunits")M=new RandomUnitsLevel(R,this.world);else if(k==="pathfinding")M=new PathFindingLevel(R,this.world);else if(k==="behaviortree")M=new BehaviorTreeLevel(R,this.world);else{alert("level not found");return}}else M=new RandomUnitsLevel(R,this.world);M.load(),I.emit("level:loaded",{level:M})},B=()=>{const k=performance.now(),U=k-$;this.world.execute(U,k),$=k}}}const _sfc_main$e=defineComponent({__name:"GameView",setup(T){const R=ref();return window.addEventListener("contextmenu",I=>{I.preventDefault()}),onMounted(()=>{new Engine(R.value.application)}),(I,$)=>{const N=_sfc_main$f;return openBlock(),createBlock(N,{ref_key:"pixi",ref:R,class:"overflow-hidden","resize-to":I.window,"background-color":34816},null,8,["resize-to"])}}});let onceCbs=[];const paramsMap=new WeakMap;function flushOnceCallbacks(){onceCbs.forEach(T=>T(...paramsMap.get(T))),onceCbs=[]}function beforeNextFrameOnce(T,...R){paramsMap.set(T,R),!onceCbs.includes(T)&&onceCbs.push(T)===1&&requestAnimationFrame(flushOnceCallbacks)}function happensIn(T,R){let{target:I}=T;for(;I;){if(I.dataset&&I.dataset[R]!==void 0)return!0;I=I.parentElement}return!1}function depx(T){return typeof T=="string"?T.endsWith("px")?Number(T.slice(0,T.length-2)):Number(T):T}function pxfy(T){if(T!=null)return typeof T=="number"?`${T}px`:T.endsWith("px")?T:`${T}px`}function getMargin(T,R){const I=T.trim().split(/\s+/g),$={top:I[0]};switch(I.length){case 1:$.right=I[0],$.bottom=I[0],$.left=I[0];break;case 2:$.right=I[1],$.left=I[1],$.bottom=I[0];break;case 3:$.right=I[1],$.bottom=I[2],$.left=I[1];break;case 4:$.right=I[1],$.bottom=I[2],$.left=I[3];break;default:throw new Error("[seemly/getMargin]:"+T+" is not a valid value.")}return R===void 0?$:$[R]}const colors={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},prefix$1="^\\s*",suffix="\\s*$",float="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",hex="([0-9A-Fa-f])",dhex="([0-9A-Fa-f]{2})",rgbRegex=new RegExp(`${prefix$1}rgb\\s*\\(${float},${float},${float}\\)${suffix}`),rgbaRegex=new RegExp(`${prefix$1}rgba\\s*\\(${float},${float},${float},${float}\\)${suffix}`),sHexRegex=new RegExp(`${prefix$1}#${hex}${hex}${hex}${suffix}`),hexRegex=new RegExp(`${prefix$1}#${dhex}${dhex}${dhex}${suffix}`),sHexaRegex=new RegExp(`${prefix$1}#${hex}${hex}${hex}${hex}${suffix}`),hexaRegex=new RegExp(`${prefix$1}#${dhex}${dhex}${dhex}${dhex}${suffix}`);function parseHex(T){return parseInt(T,16)}function rgba(T){try{let R;if(R=hexRegex.exec(T))return[parseHex(R[1]),parseHex(R[2]),parseHex(R[3]),1];if(R=rgbRegex.exec(T))return[roundChannel(R[1]),roundChannel(R[5]),roundChannel(R[9]),1];if(R=rgbaRegex.exec(T))return[roundChannel(R[1]),roundChannel(R[5]),roundChannel(R[9]),roundAlpha(R[13])];if(R=sHexRegex.exec(T))return[parseHex(R[1]+R[1]),parseHex(R[2]+R[2]),parseHex(R[3]+R[3]),1];if(R=hexaRegex.exec(T))return[parseHex(R[1]),parseHex(R[2]),parseHex(R[3]),roundAlpha(parseHex(R[4])/255)];if(R=sHexaRegex.exec(T))return[parseHex(R[1]+R[1]),parseHex(R[2]+R[2]),parseHex(R[3]+R[3]),roundAlpha(parseHex(R[4]+R[4])/255)];if(T in colors)return rgba(colors[T]);throw new Error(`[seemly/rgba]: Invalid color value ${T}.`)}catch(R){throw R}}function normalizeAlpha(T){return T>1?1:T<0?0:T}function stringifyRgba(T,R,I,$){return`rgba(${roundChannel(T)}, ${roundChannel(R)}, ${roundChannel(I)}, ${normalizeAlpha($)})`}function compositeChannel(T,R,I,$,N){return roundChannel((T*R*(1-$)+I*$)/N)}function composite(T,R){Array.isArray(T)||(T=rgba(T)),Array.isArray(R)||(R=rgba(R));const I=T[3],$=R[3],N=roundAlpha(I+$-I*$);return stringifyRgba(compositeChannel(T[0],I,R[0],$,N),compositeChannel(T[1],I,R[1],$,N),compositeChannel(T[2],I,R[2],$,N),N)}function changeColor(T,R){const[I,$,N,M=1]=Array.isArray(T)?T:rgba(T);return R.alpha?stringifyRgba(I,$,N,R.alpha):stringifyRgba(I,$,N,M)}function scaleColor(T,R){const[I,$,N,M=1]=Array.isArray(T)?T:rgba(T),{lightness:L=1,alpha:B=1}=R;return toRgbaString([I*L,$*L,N*L,M*B])}function roundAlpha(T){const R=Math.round(Number(T)*100)/100;return R>1?1:R<0?0:R}function roundChannel(T){const R=Math.round(Number(T));return R>255?255:R<0?0:R}function toRgbaString(T){const[R,I,$]=T;return 3 in T?`rgba(${roundChannel(R)}, ${roundChannel(I)}, ${roundChannel($)}, ${roundAlpha(T[3])})`:`rgba(${roundChannel(R)}, ${roundChannel(I)}, ${roundChannel($)}, 1)`}function createId(T=8){return Math.random().toString(16).slice(2,2+T)}function repeat(T,R){const I=[];for(let $=0;$<T;++$)I.push(R);return I}function keep(T,R=[],I){const $={};return R.forEach(N=>{$[N]=T[N]}),Object.assign($,I)}function omit(T,R=[],I){const $={};return Object.getOwnPropertyNames(T).forEach(M=>{R.includes(M)||($[M]=T[M])}),Object.assign($,I)}function flatten$2(T,R=!0,I=[]){return T.forEach($=>{if($!==null){if(typeof $!="object"){(typeof $=="string"||typeof $=="number")&&I.push(createTextVNode(String($)));return}if(Array.isArray($)){flatten$2($,R,I);return}if($.type===Fragment){if($.children===null)return;Array.isArray($.children)&&flatten$2($.children,R,I)}else $.type!==Comment&&I.push($)}}),I}function call(T,...R){if(Array.isArray(T))T.forEach(I=>call(I,...R));else return T(...R)}function keysOf(T){return Object.keys(T)}const render$4=(T,...R)=>typeof T=="function"?T(...R):typeof T=="string"?createTextVNode(T):typeof T=="number"?createTextVNode(String(T)):null;function warn$2(T,R){console.error(`[naive/${T}]: ${R}`)}function throwError(T,R){throw new Error(`[naive/${T}]: ${R}`)}function getTitleAttribute(T){switch(typeof T){case"string":return T||void 0;case"number":return String(T);default:return}}function getFirstSlotVNode(T,R="default",I=void 0){const $=T[R];if(!$)return warn$2("getFirstSlotVNode",`slot[${R}] is empty`),null;const N=flatten$2($(I));return N.length===1?N[0]:(warn$2("getFirstSlotVNode",`slot[${R}] should have exactly one child`),null)}function createDataKey(T){return typeof T=="string"?`s-${T}`:`n-${T}`}function createInjectionKey(T){return T}function ensureValidVNode(T){return T.some(R=>isVNode(R)?!(R.type===Comment||R.type===Fragment&&!ensureValidVNode(R.children)):!0)?T:null}function resolveSlot(T,R){return T&&ensureValidVNode(T())||R()}function resolveSlotWithProps(T,R,I){return T&&ensureValidVNode(T(R))||I(R)}function resolveWrappedSlot(T,R){const I=T&&ensureValidVNode(T());return R(I||null)}function isSlotEmpty(T){return!(T&&ensureValidVNode(T()))}function mergeEventHandlers(T){const R=T.filter(I=>I!==void 0);if(R.length!==0)return R.length===1?R[0]:I=>{T.forEach($=>{$&&$(I)})}}const Wrapper=defineComponent({render(){var T,R;return(R=(T=this.$slots).default)===null||R===void 0?void 0:R.call(T)}}),pureNumberRegex=/^(\d|\.)+$/,numberRegex=/(\d|\.)+/;function formatLength(T,{c:R=1,offset:I=0,attachPx:$=!0}={}){if(typeof T=="number"){const N=(T+I)*R;return N===0?"0":`${N}px`}else if(typeof T=="string")if(pureNumberRegex.test(T)){const N=(Number(T)+I)*R;return $?N===0?"0":`${N}px`:`${N}`}else{const N=numberRegex.exec(T);return N?T.replace(numberRegex,String((Number(N[0])+I)*R)):T}return T}function color2Class(T){return T.replace(/#|\(|\)|,|\s/g,"_")}function ampCount(T){let R=0;for(let I=0;I<T.length;++I)T[I]==="&"&&++R;return R}const separatorRegex=/\s*,(?![^(]*\))\s*/g,extraSpaceRegex=/\s+/g;function resolveSelectorWithAmp(T,R){const I=[];return R.split(separatorRegex).forEach($=>{let N=ampCount($);if(N){if(N===1){T.forEach(L=>{I.push($.replace("&",L))});return}}else{T.forEach(L=>{I.push((L&&L+" ")+$)});return}let M=[$];for(;N--;){const L=[];M.forEach(B=>{T.forEach(k=>{L.push(B.replace("&",k))})}),M=L}M.forEach(L=>I.push(L))}),I}function resolveSelector(T,R){const I=[];return R.split(separatorRegex).forEach($=>{T.forEach(N=>{I.push((N&&N+" ")+$)})}),I}function parseSelectorPath(T){let R=[""];return T.forEach(I=>{I=I&&I.trim(),I&&(I.includes("&")?R=resolveSelectorWithAmp(R,I):R=resolveSelector(R,I))}),R.join(", ").replace(extraSpaceRegex," ")}function removeElement(T){if(!T)return;const R=T.parentElement;R&&R.removeChild(T)}function queryElement(T){return document.querySelector(`style[cssr-id="${T}"]`)}function createElement(T){const R=document.createElement("style");return R.setAttribute("cssr-id",T),R}function isMediaOrSupports(T){return T?/^\s*@(s|m)/.test(T):!1}const kebabRegex=/[A-Z]/g;function kebabCase(T){return T.replace(kebabRegex,R=>"-"+R.toLowerCase())}function unwrapProperty(T,R="  "){return typeof T=="object"&&T!==null?` {
`+Object.entries(T).map(I=>R+`  ${kebabCase(I[0])}: ${I[1]};`).join(`
`)+`
`+R+"}":`: ${T};`}function unwrapProperties(T,R,I){return typeof T=="function"?T({context:R.context,props:I}):T}function createStyle(T,R,I,$){if(!R)return"";const N=unwrapProperties(R,I,$);if(!N)return"";if(typeof N=="string")return`${T} {
${N}
}`;const M=Object.keys(N);if(M.length===0)return I.config.keepEmptyBlock?T+` {
}`:"";const L=T?[T+" {"]:[];return M.forEach(B=>{const k=N[B];if(B==="raw"){L.push(`
`+k+`
`);return}B=kebabCase(B),k!=null&&L.push(`  ${B}${unwrapProperty(k)}`)}),T&&L.push("}"),L.join(`
`)}function loopCNodeListWithCallback(T,R,I){!T||T.forEach($=>{if(Array.isArray($))loopCNodeListWithCallback($,R,I);else if(typeof $=="function"){const N=$(R);Array.isArray(N)?loopCNodeListWithCallback(N,R,I):N&&I(N)}else $&&I($)})}function traverseCNode(T,R,I,$,N,M){const L=T.$;let B="";if(!L||typeof L=="string")isMediaOrSupports(L)?B=L:R.push(L);else if(typeof L=="function"){const H=L({context:$.context,props:N});isMediaOrSupports(H)?B=H:R.push(H)}else if(L.before&&L.before($.context),!L.$||typeof L.$=="string")isMediaOrSupports(L.$)?B=L.$:R.push(L.$);else if(L.$){const H=L.$({context:$.context,props:N});isMediaOrSupports(H)?B=H:R.push(H)}const k=parseSelectorPath(R),U=createStyle(k,T.props,$,N);B?(I.push(`${B} {`),M&&U&&M.insertRule(`${B} {
${U}
}
`)):(M&&U&&M.insertRule(U),!M&&U.length&&I.push(U)),T.children&&loopCNodeListWithCallback(T.children,{context:$.context,props:N},H=>{if(typeof H=="string"){const z=createStyle(k,{raw:H},$,N);M?M.insertRule(z):I.push(z)}else traverseCNode(H,R,I,$,N,M)}),R.pop(),B&&I.push("}"),L&&L.after&&L.after($.context)}function render$3(T,R,I,$=!1){const N=[];return traverseCNode(T,[],N,R,I,$?T.instance.__styleSheet:void 0),$?"":N.join(`

`)}function murmur2(T){for(var R=0,I,$=0,N=T.length;N>=4;++$,N-=4)I=T.charCodeAt($)&255|(T.charCodeAt(++$)&255)<<8|(T.charCodeAt(++$)&255)<<16|(T.charCodeAt(++$)&255)<<24,I=(I&65535)*1540483477+((I>>>16)*59797<<16),I^=I>>>24,R=(I&65535)*1540483477+((I>>>16)*59797<<16)^(R&65535)*1540483477+((R>>>16)*59797<<16);switch(N){case 3:R^=(T.charCodeAt($+2)&255)<<16;case 2:R^=(T.charCodeAt($+1)&255)<<8;case 1:R^=T.charCodeAt($)&255,R=(R&65535)*1540483477+((R>>>16)*59797<<16)}return R^=R>>>13,R=(R&65535)*1540483477+((R>>>16)*59797<<16),((R^R>>>15)>>>0).toString(36)}typeof window<"u"&&(window.__cssrContext={});function unmount(T,R,I){const{els:$}=R;if(I===void 0)$.forEach(removeElement),R.els=[];else{const N=queryElement(I);N&&$.includes(N)&&(removeElement(N),R.els=$.filter(M=>M!==N))}}function addElementToList(T,R){T.push(R)}function mount(T,R,I,$,N,M,L,B,k){if(M&&!k){if(I===void 0){console.error("[css-render/mount]: `id` is required in `silent` mode.");return}const V=window.__cssrContext;V[I]||(V[I]=!0,render$3(R,T,$,M));return}let U;if(I===void 0&&(U=R.render($),I=murmur2(U)),k){k.adapter(I,U!=null?U:R.render($));return}const H=queryElement(I);if(H!==null&&!L)return H;const z=H!=null?H:createElement(I);if(U===void 0&&(U=R.render($)),z.textContent=U,H!==null)return H;if(B){const V=document.head.querySelector(`meta[name="${B}"]`);if(V)return document.head.insertBefore(z,V),addElementToList(R.els,z),z}return N?document.head.insertBefore(z,document.head.querySelector("style, link")):document.head.appendChild(z),addElementToList(R.els,z),z}function wrappedRender(T){return render$3(this,this.instance,T)}function wrappedMount(T={}){const{id:R,ssr:I,props:$,head:N=!1,silent:M=!1,force:L=!1,anchorMetaName:B}=T;return mount(this.instance,this,R,$,N,M,L,B,I)}function wrappedUnmount(T={}){const{id:R}=T;unmount(this.instance,this,R)}const createCNode=function(T,R,I,$){return{instance:T,$:R,props:I,children:$,els:[],render:wrappedRender,mount:wrappedMount,unmount:wrappedUnmount}},c$3=function(T,R,I,$){return Array.isArray(R)?createCNode(T,{$:null},null,R):Array.isArray(I)?createCNode(T,R,null,I):Array.isArray($)?createCNode(T,R,I,$):createCNode(T,R,I,null)};function CssRender(T={}){let R=null;const I={c:(...$)=>c$3(I,...$),use:($,...N)=>$.install(I,...N),find:queryElement,context:{},config:T,get __styleSheet(){if(!R){const $=document.createElement("style");return document.head.appendChild($),R=document.styleSheets[document.styleSheets.length-1],R}return R}};return I}function exists(T,R){if(T===void 0)return!1;if(R){const{context:{ids:I}}=R;return I.has(T)}return queryElement(T)!==null}function plugin$1(T){let R=".",I="__",$="--",N;if(T){let K=T.blockPrefix;K&&(R=K),K=T.elementPrefix,K&&(I=K),K=T.modifierPrefix,K&&($=K)}const M={install(K){N=K.c;const Y=K.context;Y.bem={},Y.bem.b=null,Y.bem.els=null}};function L(K){let Y,q;return{before(Z){Y=Z.bem.b,q=Z.bem.els,Z.bem.els=null},after(Z){Z.bem.b=Y,Z.bem.els=q},$({context:Z,props:Q}){return K=typeof K=="string"?K:K({context:Z,props:Q}),Z.bem.b=K,`${(Q==null?void 0:Q.bPrefix)||R}${Z.bem.b}`}}}function B(K){let Y;return{before(q){Y=q.bem.els},after(q){q.bem.els=Y},$({context:q,props:Z}){return K=typeof K=="string"?K:K({context:q,props:Z}),q.bem.els=K.split(",").map(Q=>Q.trim()),q.bem.els.map(Q=>`${(Z==null?void 0:Z.bPrefix)||R}${q.bem.b}${I}${Q}`).join(", ")}}}function k(K){return{$({context:Y,props:q}){K=typeof K=="string"?K:K({context:Y,props:q});const Z=K.split(",").map(ne=>ne.trim());function Q(ne){return Z.map(te=>`&${(q==null?void 0:q.bPrefix)||R}${Y.bem.b}${ne!==void 0?`${I}${ne}`:""}${$}${te}`).join(", ")}const ee=Y.bem.els;return ee!==null?Q(ee[0]):Q()}}}function U(K){return{$({context:Y,props:q}){K=typeof K=="string"?K:K({context:Y,props:q});const Z=Y.bem.els;return`&:not(${(q==null?void 0:q.bPrefix)||R}${Y.bem.b}${Z!==null&&Z.length>0?`${I}${Z[0]}`:""}${$}${K})`}}}return Object.assign(M,{cB:(...K)=>N(L(K[0]),K[1],K[2]),cE:(...K)=>N(B(K[0]),K[1],K[2]),cM:(...K)=>N(k(K[0]),K[1],K[2]),cNotM:(...K)=>N(U(K[0]),K[1],K[2])}),M}function createKey(T,R){return T+(R==="default"?"":R.replace(/^[a-z]/,I=>I.toUpperCase()))}createKey("abc","def");const namespace="n",prefix=`.${namespace}-`,elementPrefix="__",modifierPrefix="--",cssr=CssRender(),plugin=plugin$1({blockPrefix:prefix,elementPrefix,modifierPrefix});cssr.use(plugin);const{c:c$2,find}=cssr,{cB,cE,cM,cNotM}=plugin;function insideModal(T){return c$2(({props:{bPrefix:R}})=>`${R||prefix}modal, ${R||prefix}drawer`,[T])}function insidePopover(T){return c$2(({props:{bPrefix:R}})=>`${R||prefix}popover`,[T])}function asModal(T){return c$2(({props:{bPrefix:R}})=>`&${R||prefix}modal`,T)}const cCB=(...T)=>c$2(">",[cB(...T)]);let _isJsdom;function isJsdom(){return _isJsdom===void 0&&(_isJsdom=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),_isJsdom}const isBrowser$2=typeof document<"u"&&typeof window<"u",eventSet=new WeakSet;function markEventEffectPerformed(T){eventSet.add(T)}function eventEffectNotPerformed(T){return!eventSet.has(T)}function useInjectionInstanceCollection(T,R,I){var $;const N=inject(T,null);if(N===null)return;const M=($=getCurrentInstance())===null||$===void 0?void 0:$.proxy;watch(I,L),L(I.value),onBeforeUnmount(()=>{L(void 0,I.value)});function L(U,H){const z=N[R];H!==void 0&&B(z,H),U!==void 0&&k(z,U)}function B(U,H){U[H]||(U[H]=[]),U[H].splice(U[H].findIndex(z=>z===M),1)}function k(U,H){U[H]||(U[H]=[]),~U[H].findIndex(z=>z===M)||U[H].push(M)}}function useFalseUntilTruthy(T){const R=ref(!!T.value);if(R.value)return readonly(R);const I=watch(T,$=>{$&&(R.value=!0,I())});return readonly(R)}function useMemo(T){const R=computed(T),I=ref(R.value);return watch(R,$=>{I.value=$}),typeof T=="function"?I:{__v_isRef:!0,get value(){return I.value},set value($){T.set($)}}}function hasInstance(){return getCurrentInstance()!==null}const isBrowser$1=typeof window<"u";let fontsReady,isFontReady;const init=()=>{var T,R;fontsReady=isBrowser$1?(R=(T=document)===null||T===void 0?void 0:T.fonts)===null||R===void 0?void 0:R.ready:void 0,isFontReady=!1,fontsReady!==void 0?fontsReady.then(()=>{isFontReady=!0}):isFontReady=!0};init();function onFontsReady(T){if(isFontReady)return;let R=!1;onMounted(()=>{isFontReady||fontsReady==null||fontsReady.then(()=>{R||T()})}),onBeforeUnmount(()=>{R=!0})}const traps={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function createTrapHandler(T,R,I){if(T==="mousemoveoutside"){const $=N=>{R.contains(N.target)||I(N)};return{mousemove:$,touchstart:$}}else if(T==="clickoutside"){let $=!1;const N=L=>{$=!R.contains(L.target)},M=L=>{!$||R.contains(L.target)||I(L)};return{mousedown:N,mouseup:M,touchstart:N,touchend:M}}return console.error(`[evtd/create-trap-handler]: name \`${T}\` is invalid. This could be a bug of evtd.`),{}}function ensureTrapHandlers(T,R,I){const $=traps[T];let N=$.get(R);N===void 0&&$.set(R,N=new WeakMap);let M=N.get(I);return M===void 0&&N.set(I,M=createTrapHandler(T,R,I)),M}function trapOn(T,R,I,$){if(T==="mousemoveoutside"||T==="clickoutside"){const N=ensureTrapHandlers(T,R,I);return Object.keys(N).forEach(M=>{on(M,document,N[M],$)}),!0}return!1}function trapOff(T,R,I,$){if(T==="mousemoveoutside"||T==="clickoutside"){const N=ensureTrapHandlers(T,R,I);return Object.keys(N).forEach(M=>{off(M,document,N[M],$)}),!0}return!1}function createDelegate(){if(typeof window>"u")return{on:()=>{},off:()=>{}};const T=new WeakMap,R=new WeakMap;function I(){T.set(this,!0)}function $(){T.set(this,!0),R.set(this,!0)}function N(ie,se,le){const he=ie[se];return ie[se]=function(){return le.apply(ie,arguments),he.apply(ie,arguments)},ie}function M(ie,se){ie[se]=Event.prototype[se]}const L=new WeakMap,B=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function k(){var ie;return(ie=L.get(this))!==null&&ie!==void 0?ie:null}function U(ie,se){B!==void 0&&Object.defineProperty(ie,"currentTarget",{configurable:!0,enumerable:!0,get:se!=null?se:B.get})}const H={bubble:{},capture:{}},z={};function V(){const ie=function(se){const{type:le,eventPhase:he,target:pe,bubbles:fe}=se;if(he===2)return;const Se=he===1?"capture":"bubble";let Pe=pe;const ye=[];for(;Pe===null&&(Pe=window),ye.push(Pe),Pe!==window;)Pe=Pe.parentNode||null;const we=H.capture[le],Ee=H.bubble[le];if(N(se,"stopPropagation",I),N(se,"stopImmediatePropagation",$),U(se,k),Se==="capture"){if(we===void 0)return;for(let He=ye.length-1;He>=0&&!T.has(se);--He){const Ae=ye[He],de=we.get(Ae);if(de!==void 0){L.set(se,Ae);for(const Oe of de){if(R.has(se))break;Oe(se)}}if(He===0&&!fe&&Ee!==void 0){const Oe=Ee.get(Ae);if(Oe!==void 0)for(const Ve of Oe){if(R.has(se))break;Ve(se)}}}}else if(Se==="bubble"){if(Ee===void 0)return;for(let He=0;He<ye.length&&!T.has(se);++He){const Ae=ye[He],de=Ee.get(Ae);if(de!==void 0){L.set(se,Ae);for(const Oe of de){if(R.has(se))break;Oe(se)}}}}M(se,"stopPropagation"),M(se,"stopImmediatePropagation"),U(se)};return ie.displayName="evtdUnifiedHandler",ie}function W(){const ie=function(se){const{type:le,eventPhase:he}=se;if(he!==2)return;const pe=z[le];pe!==void 0&&pe.forEach(fe=>fe(se))};return ie.displayName="evtdUnifiedWindowEventHandler",ie}const K=V(),Y=W();function q(ie,se){const le=H[ie];return le[se]===void 0&&(le[se]=new Map,window.addEventListener(se,K,ie==="capture")),le[se]}function Z(ie){return z[ie]===void 0&&(z[ie]=new Set,window.addEventListener(ie,Y)),z[ie]}function Q(ie,se){let le=ie.get(se);return le===void 0&&ie.set(se,le=new Set),le}function ee(ie,se,le,he){const pe=H[se][le];if(pe!==void 0){const fe=pe.get(ie);if(fe!==void 0&&fe.has(he))return!0}return!1}function ne(ie,se){const le=z[ie];return!!(le!==void 0&&le.has(se))}function te(ie,se,le,he){let pe;if(typeof he=="object"&&he.once===!0?pe=we=>{re(ie,se,pe,he),le(we)}:pe=le,trapOn(ie,se,pe,he))return;const Se=he===!0||typeof he=="object"&&he.capture===!0?"capture":"bubble",Pe=q(Se,ie),ye=Q(Pe,se);if(ye.has(pe)||ye.add(pe),se===window){const we=Z(ie);we.has(pe)||we.add(pe)}}function re(ie,se,le,he){if(trapOff(ie,se,le,he))return;const fe=he===!0||typeof he=="object"&&he.capture===!0,Se=fe?"capture":"bubble",Pe=q(Se,ie),ye=Q(Pe,se);if(se===window&&!ee(se,fe?"bubble":"capture",ie,le)&&ne(ie,le)){const Ee=z[ie];Ee.delete(le),Ee.size===0&&(window.removeEventListener(ie,Y),z[ie]=void 0)}ye.has(le)&&ye.delete(le),ye.size===0&&Pe.delete(se),Pe.size===0&&(window.removeEventListener(ie,K,Se==="capture"),H[Se][ie]=void 0)}return{on:te,off:re}}const{on,off}=createDelegate(),mousePositionRef=ref(null);function clickHandler(T){if(T.clientX>0||T.clientY>0)mousePositionRef.value={x:T.clientX,y:T.clientY};else{const{target:R}=T;if(R instanceof Element){const{left:I,top:$,width:N,height:M}=R.getBoundingClientRect();I>0||$>0?mousePositionRef.value={x:I+N/2,y:$+M/2}:mousePositionRef.value={x:0,y:0}}else mousePositionRef.value=null}}let usedCount$1=0,managable$1=!0;function useClickPosition(){if(!isBrowser$1)return readonly(ref(null));usedCount$1===0&&on("click",document,clickHandler,!0);const T=()=>{usedCount$1+=1};return managable$1&&(managable$1=hasInstance())?(onBeforeMount(T),onBeforeUnmount(()=>{usedCount$1-=1,usedCount$1===0&&off("click",document,clickHandler,!0)})):T(),readonly(mousePositionRef)}const clickedTimeRef=ref(void 0);let usedCount=0;function handleClick(){clickedTimeRef.value=Date.now()}let managable=!0;function useClicked(T){if(!isBrowser$1)return readonly(ref(!1));const R=ref(!1);let I=null;function $(){I!==null&&window.clearTimeout(I)}function N(){$(),R.value=!0,I=window.setTimeout(()=>{R.value=!1},T)}usedCount===0&&on("click",window,handleClick,!0);const M=()=>{usedCount+=1,on("click",window,N,!0)};return managable&&(managable=hasInstance())?(onBeforeMount(M),onBeforeUnmount(()=>{usedCount-=1,usedCount===0&&off("click",window,handleClick,!0),off("click",window,N,!0),$()})):M(),readonly(R)}function useMergedState(T,R){return watch(T,I=>{I!==void 0&&(R.value=I)}),computed(()=>T.value===void 0?R.value:T.value)}function isMounted(){const T=ref(!1);return onMounted(()=>{T.value=!0}),readonly(T)}function useCompitable(T,R){return computed(()=>{for(const I of R)if(T[I]!==void 0)return T[I];return T[R[R.length-1]]})}const isIos=(typeof window>"u"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function useIsIos(){return isIos}const internalSelectionMenuInjectionKey="n-internal-select-menu",internalSelectionMenuBodyInjectionKey="n-internal-select-menu-body",modalBodyInjectionKey="n-modal-body",modalInjectionKey="n-modal",drawerBodyInjectionKey="n-drawer-body",popoverBodyInjectionKey="n-popover-body",teleportDisabled="__disabled__";function useAdjustedTo(T){const R=inject(modalBodyInjectionKey,null),I=inject(drawerBodyInjectionKey,null),$=inject(popoverBodyInjectionKey,null),N=inject(internalSelectionMenuBodyInjectionKey,null),M=ref();if(typeof document<"u"){M.value=document.fullscreenElement;const L=()=>{M.value=document.fullscreenElement};onMounted(()=>{on("fullscreenchange",document,L)}),onBeforeUnmount(()=>{off("fullscreenchange",document,L)})}return useMemo(()=>{var L;const{to:B}=T;return B!==void 0?B===!1?teleportDisabled:B===!0?M.value||"body":B:R!=null&&R.value?(L=R.value.$el)!==null&&L!==void 0?L:R.value:I!=null&&I.value?I.value:$!=null&&$.value?$.value:N!=null&&N.value?N.value:B!=null?B:M.value||"body"})}useAdjustedTo.tdkey=teleportDisabled;useAdjustedTo.propTo={type:[String,Object,Boolean],default:void 0};function getSlot(T,R,I="default"){const $=R[I];if($===void 0)throw new Error(`[vueuc/${T}]: slot[${I}] is empty.`);return $()}function flatten$1(T,R=!0,I=[]){return T.forEach($=>{if($!==null){if(typeof $!="object"){(typeof $=="string"||typeof $=="number")&&I.push(createTextVNode(String($)));return}if(Array.isArray($)){flatten$1($,R,I);return}if($.type===Fragment){if($.children===null)return;Array.isArray($.children)&&flatten$1($.children,R,I)}else $.type!==Comment&&I.push($)}}),I}function getFirstVNode(T,R,I="default"){const $=R[I];if($===void 0)throw new Error(`[vueuc/${T}]: slot[${I}] is empty.`);const N=flatten$1($());if(N.length===1)return N[0];throw new Error(`[vueuc/${T}]: slot[${I}] should have exactly one child.`)}let viewMeasurer=null;function ensureViewBoundingRect(){if(viewMeasurer===null&&(viewMeasurer=document.getElementById("v-binder-view-measurer"),viewMeasurer===null)){viewMeasurer=document.createElement("div"),viewMeasurer.id="v-binder-view-measurer";const{style:T}=viewMeasurer;T.position="fixed",T.left="0",T.right="0",T.top="0",T.bottom="0",T.pointerEvents="none",T.visibility="hidden",document.body.appendChild(viewMeasurer)}return viewMeasurer.getBoundingClientRect()}function getPointRect(T,R){const I=ensureViewBoundingRect();return{top:R,left:T,height:0,width:0,right:I.width-T,bottom:I.height-R}}function getRect(T){const R=T.getBoundingClientRect(),I=ensureViewBoundingRect();return{left:R.left-I.left,top:R.top-I.top,bottom:I.height+I.top-R.bottom,right:I.width+I.left-R.right,width:R.width,height:R.height}}function getParentNode(T){return T.nodeType===9?null:T.parentNode}function getScrollParent(T){if(T===null)return null;const R=getParentNode(T);if(R===null)return null;if(R.nodeType===9)return document;if(R.nodeType===1){const{overflow:I,overflowX:$,overflowY:N}=getComputedStyle(R);if(/(auto|scroll|overlay)/.test(I+N+$))return R}return getScrollParent(R)}const Binder=defineComponent({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(T){var R;provide("VBinder",(R=getCurrentInstance())===null||R===void 0?void 0:R.proxy);const I=inject("VBinder",null),$=ref(null),N=Z=>{$.value=Z,I&&T.syncTargetWithParent&&I.setTargetRef(Z)};let M=[];const L=()=>{let Z=$.value;for(;Z=getScrollParent(Z),Z!==null;)M.push(Z);for(const Q of M)on("scroll",Q,z,!0)},B=()=>{for(const Z of M)off("scroll",Z,z,!0);M=[]},k=new Set,U=Z=>{k.size===0&&L(),k.has(Z)||k.add(Z)},H=Z=>{k.has(Z)&&k.delete(Z),k.size===0&&B()},z=()=>{beforeNextFrameOnce(V)},V=()=>{k.forEach(Z=>Z())},W=new Set,K=Z=>{W.size===0&&on("resize",window,q),W.has(Z)||W.add(Z)},Y=Z=>{W.has(Z)&&W.delete(Z),W.size===0&&off("resize",window,q)},q=()=>{W.forEach(Z=>Z())};return onBeforeUnmount(()=>{off("resize",window,q),B()}),{targetRef:$,setTargetRef:N,addScrollListener:U,removeScrollListener:H,addResizeListener:K,removeResizeListener:Y}},render(){return getSlot("binder",this.$slots)}}),VBinder=Binder,VTarget=defineComponent({name:"Target",setup(){const{setTargetRef:T,syncTarget:R}=inject("VBinder");return{syncTarget:R,setTargetDirective:{mounted:T,updated:T}}},render(){const{syncTarget:T,setTargetDirective:R}=this;return T?withDirectives(getFirstVNode("follower",this.$slots),[[R]]):getFirstVNode("follower",this.$slots)}}),ctxKey$1="@@mmoContext",mousemoveoutside={mounted(T,{value:R}){T[ctxKey$1]={handler:void 0},typeof R=="function"&&(T[ctxKey$1].handler=R,on("mousemoveoutside",T,R))},updated(T,{value:R}){const I=T[ctxKey$1];typeof R=="function"?I.handler?I.handler!==R&&(off("mousemoveoutside",T,I.handler),I.handler=R,on("mousemoveoutside",T,R)):(T[ctxKey$1].handler=R,on("mousemoveoutside",T,R)):I.handler&&(off("mousemoveoutside",T,I.handler),I.handler=void 0)},unmounted(T){const{handler:R}=T[ctxKey$1];R&&off("mousemoveoutside",T,R),T[ctxKey$1].handler=void 0}},mousemoveoutside$1=mousemoveoutside,ctxKey="@@coContext",clickoutside={mounted(T,{value:R,modifiers:I}){T[ctxKey]={handler:void 0},typeof R=="function"&&(T[ctxKey].handler=R,on("clickoutside",T,R,{capture:I.capture}))},updated(T,{value:R,modifiers:I}){const $=T[ctxKey];typeof R=="function"?$.handler?$.handler!==R&&(off("clickoutside",T,$.handler,{capture:I.capture}),$.handler=R,on("clickoutside",T,R,{capture:I.capture})):(T[ctxKey].handler=R,on("clickoutside",T,R,{capture:I.capture})):$.handler&&(off("clickoutside",T,$.handler,{capture:I.capture}),$.handler=void 0)},unmounted(T,{modifiers:R}){const{handler:I}=T[ctxKey];I&&off("clickoutside",T,I,{capture:R.capture}),T[ctxKey].handler=void 0}},clickoutside$1=clickoutside;function warn$1(T,R){console.error(`[vdirs/${T}]: ${R}`)}class ZIndexManager{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(R,I){const{elementZIndex:$}=this;if(I!==void 0){R.style.zIndex=`${I}`,$.delete(R);return}const{nextZIndex:N}=this;$.has(R)&&$.get(R)+1===this.nextZIndex||(R.style.zIndex=`${N}`,$.set(R,N),this.nextZIndex=N+1,this.squashState())}unregister(R,I){const{elementZIndex:$}=this;$.has(R)?$.delete(R):I===void 0&&warn$1("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:R}=this;R||(this.nextZIndex=2e3),this.nextZIndex-R>2500&&this.rearrange()}rearrange(){const R=Array.from(this.elementZIndex.entries());R.sort((I,$)=>I[1]-$[1]),this.nextZIndex=2e3,R.forEach(I=>{const $=I[0],N=this.nextZIndex++;`${N}`!==$.style.zIndex&&($.style.zIndex=`${N}`)})}}const zIndexManager=new ZIndexManager,ctx="@@ziContext",zindexable={mounted(T,R){const{value:I={}}=R,{zIndex:$,enabled:N}=I;T[ctx]={enabled:!!N,initialized:!1},N&&(zIndexManager.ensureZIndex(T,$),T[ctx].initialized=!0)},updated(T,R){const{value:I={}}=R,{zIndex:$,enabled:N}=I,M=T[ctx].enabled;N&&!M&&(zIndexManager.ensureZIndex(T,$),T[ctx].initialized=!0),T[ctx].enabled=!!N},unmounted(T,R){if(!T[ctx].initialized)return;const{value:I={}}=R,{zIndex:$}=I;zIndexManager.unregister(T,$)}},zindexable$1=zindexable,ssrContextKey=Symbol("@css-render/vue3-ssr");function createStyleString(T,R){return`<style cssr-id="${T}">
${R}
</style>`}function ssrAdapter(T,R){const I=inject(ssrContextKey,null);if(I===null){console.error("[css-render/vue3-ssr]: no ssr context found.");return}const{styles:$,ids:N}=I;N.has(T)||$!==null&&(N.add(T),$.push(createStyleString(T,R)))}const isBrowser=typeof document<"u";function useSsrAdapter(){if(isBrowser)return;const T=inject(ssrContextKey,null);if(T!==null)return{adapter:ssrAdapter,context:T}}function warn(T,R){console.error(`[vueuc/${T}]: ${R}`)}const{c:c$1}=CssRender(),cssrAnchorMetaName$1="vueuc-style";function lowBit(T){return T&-T}class FinweckTree{constructor(R,I){this.l=R,this.min=I;const $=new Array(R+1);for(let N=0;N<R+1;++N)$[N]=0;this.ft=$}add(R,I){if(I===0)return;const{l:$,ft:N}=this;for(R+=1;R<=$;)N[R]+=I,R+=lowBit(R)}get(R){return this.sum(R+1)-this.sum(R)}sum(R){if(R===void 0&&(R=this.l),R<=0)return 0;const{ft:I,min:$,l:N}=this;if(R>N)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let M=R*$;for(;R>0;)M+=I[R],R-=lowBit(R);return M}getBound(R){let I=0,$=this.l;for(;$>I;){const N=Math.floor((I+$)/2),M=this.sum(N);if(M>R){$=N;continue}else if(M<R){if(I===N)return this.sum(I+1)<=R?I+1:N;I=N}else return N}return I}}function resolveTo(T){return typeof T=="string"?document.querySelector(T):T()}const LazyTeleport=defineComponent({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(T){return{showTeleport:useFalseUntilTruthy(toRef(T,"show")),mergedTo:computed(()=>{const{to:R}=T;return R!=null?R:"body"})}},render(){return this.showTeleport?this.disabled?getSlot("lazy-teleport",this.$slots):h$1(Teleport,{disabled:this.disabled,to:this.mergedTo},getSlot("lazy-teleport",this.$slots)):null}}),oppositionPositions={top:"bottom",bottom:"top",left:"right",right:"left"},oppositeAligns={start:"end",center:"center",end:"start"},propToCompare={top:"height",bottom:"height",left:"width",right:"width"},transformOrigins={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},overlapTransformOrigin={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},oppositeAlignCssPositionProps={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},keepOffsetDirection={top:!0,bottom:!1,left:!0,right:!1},cssPositionToOppositeAlign={top:"end",bottom:"start",left:"end",right:"start"};function getPlacementAndOffsetOfFollower(T,R,I,$,N,M){if(!N||M)return{placement:T,top:0,left:0};const[L,B]=T.split("-");let k=B!=null?B:"center",U={top:0,left:0};const H=(W,K,Y)=>{let q=0,Z=0;const Q=I[W]-R[K]-R[W];return Q>0&&$&&(Y?Z=keepOffsetDirection[K]?Q:-Q:q=keepOffsetDirection[K]?Q:-Q),{left:q,top:Z}},z=L==="left"||L==="right";if(k!=="center"){const W=oppositeAlignCssPositionProps[T],K=oppositionPositions[W],Y=propToCompare[W];if(I[Y]>R[Y]){if(R[W]+R[Y]<I[Y]){const q=(I[Y]-R[Y])/2;R[W]<q||R[K]<q?R[W]<R[K]?(k=oppositeAligns[B],U=H(Y,K,z)):U=H(Y,W,z):k="center"}}else I[Y]<R[Y]&&R[K]<0&&R[W]>R[K]&&(k=oppositeAligns[B])}else{const W=L==="bottom"||L==="top"?"left":"top",K=oppositionPositions[W],Y=propToCompare[W],q=(I[Y]-R[Y])/2;(R[W]<q||R[K]<q)&&(R[W]>R[K]?(k=cssPositionToOppositeAlign[W],U=H(Y,W,z)):(k=cssPositionToOppositeAlign[K],U=H(Y,K,z)))}let V=L;return R[L]<I[propToCompare[L]]&&R[L]<R[oppositionPositions[L]]&&(V=oppositionPositions[L]),{placement:k!=="center"?`${V}-${k}`:V,left:U.left,top:U.top}}function getProperTransformOrigin(T,R){return R?overlapTransformOrigin[T]:transformOrigins[T]}function getOffset(T,R,I,$,N,M){if(M)switch(T){case"bottom-start":return{top:`${Math.round(I.top-R.top+I.height)}px`,left:`${Math.round(I.left-R.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(I.top-R.top+I.height)}px`,left:`${Math.round(I.left-R.left+I.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(I.top-R.top)}px`,left:`${Math.round(I.left-R.left)}px`,transform:""};case"top-end":return{top:`${Math.round(I.top-R.top)}px`,left:`${Math.round(I.left-R.left+I.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(I.top-R.top)}px`,left:`${Math.round(I.left-R.left+I.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(I.top-R.top+I.height)}px`,left:`${Math.round(I.left-R.left+I.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(I.top-R.top)}px`,left:`${Math.round(I.left-R.left)}px`,transform:""};case"left-end":return{top:`${Math.round(I.top-R.top+I.height)}px`,left:`${Math.round(I.left-R.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(I.top-R.top)}px`,left:`${Math.round(I.left-R.left+I.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(I.top-R.top+I.height/2)}px`,left:`${Math.round(I.left-R.left+I.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(I.top-R.top+I.height/2)}px`,left:`${Math.round(I.left-R.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(I.top-R.top+I.height)}px`,left:`${Math.round(I.left-R.left+I.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(T){case"bottom-start":return{top:`${Math.round(I.top-R.top+I.height+$)}px`,left:`${Math.round(I.left-R.left+N)}px`,transform:""};case"bottom-end":return{top:`${Math.round(I.top-R.top+I.height+$)}px`,left:`${Math.round(I.left-R.left+I.width+N)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(I.top-R.top+$)}px`,left:`${Math.round(I.left-R.left+N)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(I.top-R.top+$)}px`,left:`${Math.round(I.left-R.left+I.width+N)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(I.top-R.top+$)}px`,left:`${Math.round(I.left-R.left+I.width+N)}px`,transform:""};case"right-end":return{top:`${Math.round(I.top-R.top+I.height+$)}px`,left:`${Math.round(I.left-R.left+I.width+N)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(I.top-R.top+$)}px`,left:`${Math.round(I.left-R.left+N)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(I.top-R.top+I.height+$)}px`,left:`${Math.round(I.left-R.left+N)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(I.top-R.top+$)}px`,left:`${Math.round(I.left-R.left+I.width/2+N)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(I.top-R.top+I.height/2+$)}px`,left:`${Math.round(I.left-R.left+I.width+N)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(I.top-R.top+I.height/2+$)}px`,left:`${Math.round(I.left-R.left+N)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(I.top-R.top+I.height+$)}px`,left:`${Math.round(I.left-R.left+I.width/2+N)}px`,transform:"translateX(-50%)"}}}const style$r=c$1([c$1(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),c$1(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[c$1("> *",{pointerEvents:"all"})])]),VFollower=defineComponent({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(T){const R=inject("VBinder"),I=useMemo(()=>T.enabled!==void 0?T.enabled:T.show),$=ref(null),N=ref(null),M=()=>{const{syncTrigger:V}=T;V.includes("scroll")&&R.addScrollListener(k),V.includes("resize")&&R.addResizeListener(k)},L=()=>{R.removeScrollListener(k),R.removeResizeListener(k)};onMounted(()=>{I.value&&(k(),M())});const B=useSsrAdapter();style$r.mount({id:"vueuc/binder",head:!0,anchorMetaName:cssrAnchorMetaName$1,ssr:B}),onBeforeUnmount(()=>{L()}),onFontsReady(()=>{I.value&&k()});const k=()=>{if(!I.value)return;const V=$.value;if(V===null)return;const W=R.targetRef,{x:K,y:Y,overlap:q}=T,Z=K!==void 0&&Y!==void 0?getPointRect(K,Y):getRect(W);V.style.setProperty("--v-target-width",`${Math.round(Z.width)}px`),V.style.setProperty("--v-target-height",`${Math.round(Z.height)}px`);const{width:Q,minWidth:ee,placement:ne,internalShift:te,flip:re}=T;V.setAttribute("v-placement",ne),q?V.setAttribute("v-overlap",""):V.removeAttribute("v-overlap");const{style:ie}=V;Q==="target"?ie.width=`${Z.width}px`:Q!==void 0?ie.width=Q:ie.width="",ee==="target"?ie.minWidth=`${Z.width}px`:ee!==void 0?ie.minWidth=ee:ie.minWidth="";const se=getRect(V),le=getRect(N.value),{left:he,top:pe,placement:fe}=getPlacementAndOffsetOfFollower(ne,Z,se,te,re,q),Se=getProperTransformOrigin(fe,q),{left:Pe,top:ye,transform:we}=getOffset(fe,le,Z,pe,he,q);V.setAttribute("v-placement",fe),V.style.setProperty("--v-offset-left",`${Math.round(he)}px`),V.style.setProperty("--v-offset-top",`${Math.round(pe)}px`),V.style.transform=`translateX(${Pe}) translateY(${ye}) ${we}`,V.style.setProperty("--v-transform-origin",Se),V.style.transformOrigin=Se};watch(I,V=>{V?(M(),U()):L()});const U=()=>{nextTick().then(k).catch(V=>console.error(V))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(V=>{watch(toRef(T,V),k)}),["teleportDisabled"].forEach(V=>{watch(toRef(T,V),U)}),watch(toRef(T,"syncTrigger"),V=>{V.includes("resize")?R.addResizeListener(k):R.removeResizeListener(k),V.includes("scroll")?R.addScrollListener(k):R.removeScrollListener(k)});const H=isMounted(),z=useMemo(()=>{const{to:V}=T;if(V!==void 0)return V;H.value});return{VBinder:R,mergedEnabled:I,offsetContainerRef:N,followerRef:$,mergedTo:z,syncPosition:k}},render(){return h$1(LazyTeleport,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var T,R;const I=h$1("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[h$1("div",{class:"v-binder-follower-content",ref:"followerRef"},(R=(T=this.$slots).default)===null||R===void 0?void 0:R.call(T))]);return this.zindexable?withDirectives(I,[[zindexable$1,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):I}})}});var resizeObservers=[],hasActiveObservations=function(){return resizeObservers.some(function(T){return T.activeTargets.length>0})},hasSkippedObservations=function(){return resizeObservers.some(function(T){return T.skippedTargets.length>0})},msg="ResizeObserver loop completed with undelivered notifications.",deliverResizeLoopError=function(){var T;typeof ErrorEvent=="function"?T=new ErrorEvent("error",{message:msg}):(T=document.createEvent("Event"),T.initEvent("error",!1,!1),T.message=msg),window.dispatchEvent(T)},ResizeObserverBoxOptions;(function(T){T.BORDER_BOX="border-box",T.CONTENT_BOX="content-box",T.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ResizeObserverBoxOptions||(ResizeObserverBoxOptions={}));var freeze=function(T){return Object.freeze(T)},ResizeObserverSize=function(){function T(R,I){this.inlineSize=R,this.blockSize=I,freeze(this)}return T}(),DOMRectReadOnly=function(){function T(R,I,$,N){return this.x=R,this.y=I,this.width=$,this.height=N,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,freeze(this)}return T.prototype.toJSON=function(){var R=this,I=R.x,$=R.y,N=R.top,M=R.right,L=R.bottom,B=R.left,k=R.width,U=R.height;return{x:I,y:$,top:N,right:M,bottom:L,left:B,width:k,height:U}},T.fromRect=function(R){return new T(R.x,R.y,R.width,R.height)},T}(),isSVG=function(T){return T instanceof SVGElement&&"getBBox"in T},isHidden=function(T){if(isSVG(T)){var R=T.getBBox(),I=R.width,$=R.height;return!I&&!$}var N=T,M=N.offsetWidth,L=N.offsetHeight;return!(M||L||T.getClientRects().length)},isElement=function(T){var R,I;if(T instanceof Element)return!0;var $=(I=(R=T)===null||R===void 0?void 0:R.ownerDocument)===null||I===void 0?void 0:I.defaultView;return!!($&&T instanceof $.Element)},isReplacedElement=function(T){switch(T.tagName){case"INPUT":if(T.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},global$1=typeof window<"u"?window:{},cache=new WeakMap,scrollRegexp=/auto|scroll/,verticalRegexp=/^tb|vertical/,IE=/msie|trident/i.test(global$1.navigator&&global$1.navigator.userAgent),parseDimension=function(T){return parseFloat(T||"0")},size=function(T,R,I){return T===void 0&&(T=0),R===void 0&&(R=0),I===void 0&&(I=!1),new ResizeObserverSize((I?R:T)||0,(I?T:R)||0)},zeroBoxes=freeze({devicePixelContentBoxSize:size(),borderBoxSize:size(),contentBoxSize:size(),contentRect:new DOMRectReadOnly(0,0,0,0)}),calculateBoxSizes=function(T,R){if(R===void 0&&(R=!1),cache.has(T)&&!R)return cache.get(T);if(isHidden(T))return cache.set(T,zeroBoxes),zeroBoxes;var I=getComputedStyle(T),$=isSVG(T)&&T.ownerSVGElement&&T.getBBox(),N=!IE&&I.boxSizing==="border-box",M=verticalRegexp.test(I.writingMode||""),L=!$&&scrollRegexp.test(I.overflowY||""),B=!$&&scrollRegexp.test(I.overflowX||""),k=$?0:parseDimension(I.paddingTop),U=$?0:parseDimension(I.paddingRight),H=$?0:parseDimension(I.paddingBottom),z=$?0:parseDimension(I.paddingLeft),V=$?0:parseDimension(I.borderTopWidth),W=$?0:parseDimension(I.borderRightWidth),K=$?0:parseDimension(I.borderBottomWidth),Y=$?0:parseDimension(I.borderLeftWidth),q=z+U,Z=k+H,Q=Y+W,ee=V+K,ne=B?T.offsetHeight-ee-T.clientHeight:0,te=L?T.offsetWidth-Q-T.clientWidth:0,re=N?q+Q:0,ie=N?Z+ee:0,se=$?$.width:parseDimension(I.width)-re-te,le=$?$.height:parseDimension(I.height)-ie-ne,he=se+q+te+Q,pe=le+Z+ne+ee,fe=freeze({devicePixelContentBoxSize:size(Math.round(se*devicePixelRatio),Math.round(le*devicePixelRatio),M),borderBoxSize:size(he,pe,M),contentBoxSize:size(se,le,M),contentRect:new DOMRectReadOnly(z,k,se,le)});return cache.set(T,fe),fe},calculateBoxSize=function(T,R,I){var $=calculateBoxSizes(T,I),N=$.borderBoxSize,M=$.contentBoxSize,L=$.devicePixelContentBoxSize;switch(R){case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:return L;case ResizeObserverBoxOptions.BORDER_BOX:return N;default:return M}},ResizeObserverEntry=function(){function T(R){var I=calculateBoxSizes(R);this.target=R,this.contentRect=I.contentRect,this.borderBoxSize=freeze([I.borderBoxSize]),this.contentBoxSize=freeze([I.contentBoxSize]),this.devicePixelContentBoxSize=freeze([I.devicePixelContentBoxSize])}return T}(),calculateDepthForNode=function(T){if(isHidden(T))return 1/0;for(var R=0,I=T.parentNode;I;)R+=1,I=I.parentNode;return R},broadcastActiveObservations=function(){var T=1/0,R=[];resizeObservers.forEach(function(L){if(L.activeTargets.length!==0){var B=[];L.activeTargets.forEach(function(U){var H=new ResizeObserverEntry(U.target),z=calculateDepthForNode(U.target);B.push(H),U.lastReportedSize=calculateBoxSize(U.target,U.observedBox),z<T&&(T=z)}),R.push(function(){L.callback.call(L.observer,B,L.observer)}),L.activeTargets.splice(0,L.activeTargets.length)}});for(var I=0,$=R;I<$.length;I++){var N=$[I];N()}return T},gatherActiveObservationsAtDepth=function(T){resizeObservers.forEach(function(I){I.activeTargets.splice(0,I.activeTargets.length),I.skippedTargets.splice(0,I.skippedTargets.length),I.observationTargets.forEach(function(N){N.isActive()&&(calculateDepthForNode(N.target)>T?I.activeTargets.push(N):I.skippedTargets.push(N))})})},process$1=function(){var T=0;for(gatherActiveObservationsAtDepth(T);hasActiveObservations();)T=broadcastActiveObservations(),gatherActiveObservationsAtDepth(T);return hasSkippedObservations()&&deliverResizeLoopError(),T>0},trigger,callbacks=[],notify=function(){return callbacks.splice(0).forEach(function(T){return T()})},queueMicroTask=function(T){if(!trigger){var R=0,I=document.createTextNode(""),$={characterData:!0};new MutationObserver(function(){return notify()}).observe(I,$),trigger=function(){I.textContent=""+(R?R--:R++)}}callbacks.push(T),trigger()},queueResizeObserver=function(T){queueMicroTask(function(){requestAnimationFrame(T)})},watching=0,isWatching=function(){return!!watching},CATCH_PERIOD=250,observerConfig={attributes:!0,characterData:!0,childList:!0,subtree:!0},events=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],time=function(T){return T===void 0&&(T=0),Date.now()+T},scheduled=!1,Scheduler=function(){function T(){var R=this;this.stopped=!0,this.listener=function(){return R.schedule()}}return T.prototype.run=function(R){var I=this;if(R===void 0&&(R=CATCH_PERIOD),!scheduled){scheduled=!0;var $=time(R);queueResizeObserver(function(){var N=!1;try{N=process$1()}finally{if(scheduled=!1,R=$-time(),!isWatching())return;N?I.run(1e3):R>0?I.run(R):I.start()}})}},T.prototype.schedule=function(){this.stop(),this.run()},T.prototype.observe=function(){var R=this,I=function(){return R.observer&&R.observer.observe(document.body,observerConfig)};document.body?I():global$1.addEventListener("DOMContentLoaded",I)},T.prototype.start=function(){var R=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),events.forEach(function(I){return global$1.addEventListener(I,R.listener,!0)}))},T.prototype.stop=function(){var R=this;this.stopped||(this.observer&&this.observer.disconnect(),events.forEach(function(I){return global$1.removeEventListener(I,R.listener,!0)}),this.stopped=!0)},T}(),scheduler=new Scheduler,updateCount=function(T){!watching&&T>0&&scheduler.start(),watching+=T,!watching&&scheduler.stop()},skipNotifyOnElement=function(T){return!isSVG(T)&&!isReplacedElement(T)&&getComputedStyle(T).display==="inline"},ResizeObservation=function(){function T(R,I){this.target=R,this.observedBox=I||ResizeObserverBoxOptions.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return T.prototype.isActive=function(){var R=calculateBoxSize(this.target,this.observedBox,!0);return skipNotifyOnElement(this.target)&&(this.lastReportedSize=R),this.lastReportedSize.inlineSize!==R.inlineSize||this.lastReportedSize.blockSize!==R.blockSize},T}(),ResizeObserverDetail=function(){function T(R,I){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=R,this.callback=I}return T}(),observerMap=new WeakMap,getObservationIndex=function(T,R){for(var I=0;I<T.length;I+=1)if(T[I].target===R)return I;return-1},ResizeObserverController=function(){function T(){}return T.connect=function(R,I){var $=new ResizeObserverDetail(R,I);observerMap.set(R,$)},T.observe=function(R,I,$){var N=observerMap.get(R),M=N.observationTargets.length===0;getObservationIndex(N.observationTargets,I)<0&&(M&&resizeObservers.push(N),N.observationTargets.push(new ResizeObservation(I,$&&$.box)),updateCount(1),scheduler.schedule())},T.unobserve=function(R,I){var $=observerMap.get(R),N=getObservationIndex($.observationTargets,I),M=$.observationTargets.length===1;N>=0&&(M&&resizeObservers.splice(resizeObservers.indexOf($),1),$.observationTargets.splice(N,1),updateCount(-1))},T.disconnect=function(R){var I=this,$=observerMap.get(R);$.observationTargets.slice().forEach(function(N){return I.unobserve(R,N.target)}),$.activeTargets.splice(0,$.activeTargets.length)},T}(),ResizeObserver=function(){function T(R){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof R!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ResizeObserverController.connect(this,R)}return T.prototype.observe=function(R,I){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!isElement(R))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ResizeObserverController.observe(this,R,I)},T.prototype.unobserve=function(R){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!isElement(R))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ResizeObserverController.unobserve(this,R)},T.prototype.disconnect=function(){ResizeObserverController.disconnect(this)},T.toString=function(){return"function ResizeObserver () { [polyfill code] }"},T}();class ResizeObserverDelegate{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new ResizeObserver(this.handleResize),this.elHandlersMap=new Map}handleResize(R){for(const I of R){const $=this.elHandlersMap.get(I.target);$!==void 0&&$(I)}}registerHandler(R,I){this.elHandlersMap.set(R,I),this.observer.observe(R)}unregisterHandler(R){!this.elHandlersMap.has(R)||(this.elHandlersMap.delete(R),this.observer.unobserve(R))}}const resizeObserverManager=new ResizeObserverDelegate,VResizeObserver=defineComponent({name:"ResizeObserver",props:{onResize:Function},setup(T){let R=!1;const I=getCurrentInstance().proxy;function $(N){const{onResize:M}=T;M!==void 0&&M(N)}onMounted(()=>{const N=I.$el;if(N===void 0){warn("resize-observer","$el does not exist.");return}if(N.nextElementSibling!==N.nextSibling&&N.nodeType===3&&N.nodeValue!==""){warn("resize-observer","$el can not be observed (it may be a text node).");return}N.nextElementSibling!==null&&(resizeObserverManager.registerHandler(N.nextElementSibling,$),R=!0)}),onBeforeUnmount(()=>{R&&resizeObserverManager.unregisterHandler(I.$el.nextElementSibling)})},render(){return renderSlot(this.$slots,"default")}});let maybeTouch;function ensureMaybeTouch(){return maybeTouch===void 0&&("matchMedia"in window?maybeTouch=window.matchMedia("(pointer:coarse)").matches:maybeTouch=!1),maybeTouch}let wheelScale;function ensureWheelScale(){return wheelScale===void 0&&(wheelScale="chrome"in window?window.devicePixelRatio:1),wheelScale}const styles=c$1(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[c$1("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[c$1("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),VVirtualList=defineComponent({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(T){const R=useSsrAdapter();styles.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:cssrAnchorMetaName$1,ssr:R}),onMounted(()=>{const{defaultScrollIndex:pe,defaultScrollKey:fe}=T;pe!=null?K({index:pe}):fe!=null&&K({key:fe})});let I=!1,$=!1;onActivated(()=>{if(I=!1,!$){$=!0;return}K({top:z.value,left:H})}),onDeactivated(()=>{I=!0,$||($=!0)});const N=computed(()=>{const pe=new Map,{keyField:fe}=T;return T.items.forEach((Se,Pe)=>{pe.set(Se[fe],Pe)}),pe}),M=ref(null),L=ref(void 0),B=new Map,k=computed(()=>{const{items:pe,itemSize:fe,keyField:Se}=T,Pe=new FinweckTree(pe.length,fe);return pe.forEach((ye,we)=>{const Ee=ye[Se],He=B.get(Ee);He!==void 0&&Pe.add(we,He)}),Pe}),U=ref(0);let H=0;const z=ref(0),V=useMemo(()=>Math.max(k.value.getBound(z.value-depx(T.paddingTop))-1,0)),W=computed(()=>{const{value:pe}=L;if(pe===void 0)return[];const{items:fe,itemSize:Se}=T,Pe=V.value,ye=Math.min(Pe+Math.ceil(pe/Se+1),fe.length-1),we=[];for(let Ee=Pe;Ee<=ye;++Ee)we.push(fe[Ee]);return we}),K=(pe,fe)=>{if(typeof pe=="number"){Q(pe,fe,"auto");return}const{left:Se,top:Pe,index:ye,key:we,position:Ee,behavior:He,debounce:Ae=!0}=pe;if(Se!==void 0||Pe!==void 0)Q(Se,Pe,He);else if(ye!==void 0)Z(ye,He,Ae);else if(we!==void 0){const de=N.value.get(we);de!==void 0&&Z(de,He,Ae)}else Ee==="bottom"?Q(0,Number.MAX_SAFE_INTEGER,He):Ee==="top"&&Q(0,0,He)};let Y,q=null;function Z(pe,fe,Se){const{value:Pe}=k,ye=Pe.sum(pe)+depx(T.paddingTop);if(!Se)M.value.scrollTo({left:0,top:ye,behavior:fe});else{Y=pe,q!==null&&window.clearTimeout(q),q=window.setTimeout(()=>{Y=void 0,q=null},16);const{scrollTop:we,offsetHeight:Ee}=M.value;if(ye>we){const He=Pe.get(pe);ye+He<=we+Ee||M.value.scrollTo({left:0,top:ye+He-Ee,behavior:fe})}else M.value.scrollTo({left:0,top:ye,behavior:fe})}}function Q(pe,fe,Se){M.value.scrollTo({left:pe,top:fe,behavior:Se})}function ee(pe,fe){var Se,Pe,ye;if(I||T.ignoreItemResize||he(fe.target))return;const{value:we}=k,Ee=N.value.get(pe),He=we.get(Ee),Ae=(ye=(Pe=(Se=fe.borderBoxSize)===null||Se===void 0?void 0:Se[0])===null||Pe===void 0?void 0:Pe.blockSize)!==null&&ye!==void 0?ye:fe.contentRect.height;if(Ae===He)return;Ae-T.itemSize===0?B.delete(pe):B.set(pe,Ae-T.itemSize);const Oe=Ae-He;if(Oe===0)return;we.add(Ee,Oe);const Ve=M.value;if(Ve!=null){if(Y===void 0){const Ze=we.sum(Ee);Ve.scrollTop>Ze&&Ve.scrollBy(0,Oe)}else if(Ee<Y)Ve.scrollBy(0,Oe);else if(Ee===Y){const Ze=we.sum(Ee);Ae+Ze>Ve.scrollTop+Ve.offsetHeight&&Ve.scrollBy(0,Oe)}le()}U.value++}const ne=!ensureMaybeTouch();let te=!1;function re(pe){var fe;(fe=T.onScroll)===null||fe===void 0||fe.call(T,pe),(!ne||!te)&&le()}function ie(pe){var fe;if((fe=T.onWheel)===null||fe===void 0||fe.call(T,pe),ne){const Se=M.value;if(Se!=null){if(pe.deltaX===0&&(Se.scrollTop===0&&pe.deltaY<=0||Se.scrollTop+Se.offsetHeight>=Se.scrollHeight&&pe.deltaY>=0))return;pe.preventDefault(),Se.scrollTop+=pe.deltaY/ensureWheelScale(),Se.scrollLeft+=pe.deltaX/ensureWheelScale(),le(),te=!0,beforeNextFrameOnce(()=>{te=!1})}}}function se(pe){if(I||he(pe.target)||pe.contentRect.height===L.value)return;L.value=pe.contentRect.height;const{onResize:fe}=T;fe!==void 0&&fe(pe)}function le(){const{value:pe}=M;pe!=null&&(z.value=pe.scrollTop,H=pe.scrollLeft)}function he(pe){let fe=pe;for(;fe!==null;){if(fe.style.display==="none")return!0;fe=fe.parentElement}return!1}return{listHeight:L,listStyle:{overflow:"auto"},keyToIndex:N,itemsStyle:computed(()=>{const{itemResizable:pe}=T,fe=pxfy(k.value.sum());return U.value,[T.itemsStyle,{boxSizing:"content-box",height:pe?"":fe,minHeight:pe?fe:"",paddingTop:pxfy(T.paddingTop),paddingBottom:pxfy(T.paddingBottom)}]}),visibleItemsStyle:computed(()=>(U.value,{transform:`translateY(${pxfy(k.value.sum(V.value))})`})),viewportItems:W,listElRef:M,itemsElRef:ref(null),scrollTo:K,handleListResize:se,handleListScroll:re,handleListWheel:ie,handleItemResize:ee}},render(){const{itemResizable:T,keyField:R,keyToIndex:I,visibleItemsTag:$}=this;return h$1(VResizeObserver,{onResize:this.handleListResize},{default:()=>{var N,M;return h$1("div",mergeProps(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?h$1("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[h$1($,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>this.viewportItems.map(L=>{const B=L[R],k=I.get(B),U=this.$slots.default({item:L,index:k})[0];return T?h$1(VResizeObserver,{key:B,onResize:H=>this.handleItemResize(B,H)},{default:()=>U}):(U.key=B,U)})})]):(M=(N=this.$slots).empty)===null||M===void 0?void 0:M.call(N)])}})}}),hiddenAttr="v-hidden",style$q=c$1("[v-hidden]",{display:"none!important"}),VOverflow=defineComponent({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateOverflow:Function},setup(T,{slots:R}){const I=ref(null),$=ref(null);function N(){const{value:L}=I,{getCounter:B,getTail:k}=T;let U;if(B!==void 0?U=B():U=$.value,!L||!U)return;U.hasAttribute(hiddenAttr)&&U.removeAttribute(hiddenAttr);const{children:H}=L,z=L.offsetWidth,V=[],W=R.tail?k==null?void 0:k():null;let K=W?W.offsetWidth:0,Y=!1;const q=L.children.length-(R.tail?1:0);for(let Q=0;Q<q-1;++Q){if(Q<0)continue;const ee=H[Q];if(Y){ee.hasAttribute(hiddenAttr)||ee.setAttribute(hiddenAttr,"");continue}else ee.hasAttribute(hiddenAttr)&&ee.removeAttribute(hiddenAttr);const ne=ee.offsetWidth;if(K+=ne,V[Q]=ne,K>z){const{updateCounter:te}=T;for(let re=Q;re>=0;--re){const ie=q-1-re;te!==void 0?te(ie):U.textContent=`${ie}`;const se=U.offsetWidth;if(K-=V[re],K+se<=z||re===0){Y=!0,Q=re-1,W&&(Q===-1?(W.style.maxWidth=`${z-se}px`,W.style.boxSizing="border-box"):W.style.maxWidth="");break}}}}const{onUpdateOverflow:Z}=T;Y?Z!==void 0&&Z(!0):(Z!==void 0&&Z(!1),U.setAttribute(hiddenAttr,""))}const M=useSsrAdapter();return style$q.mount({id:"vueuc/overflow",head:!0,anchorMetaName:cssrAnchorMetaName$1,ssr:M}),onMounted(N),{selfRef:I,counterRef:$,sync:N}},render(){const{$slots:T}=this;return nextTick(this.sync),h$1("div",{class:"v-overflow",ref:"selfRef"},[renderSlot(T,"default"),T.counter?T.counter():h$1("span",{style:{display:"inline-block"},ref:"counterRef"}),T.tail?T.tail():null])}});function isHTMLElement(T){return T instanceof HTMLElement}function focusFirstDescendant(T){for(let R=0;R<T.childNodes.length;R++){const I=T.childNodes[R];if(isHTMLElement(I)&&(attemptFocus(I)||focusFirstDescendant(I)))return!0}return!1}function focusLastDescendant(T){for(let R=T.childNodes.length-1;R>=0;R--){const I=T.childNodes[R];if(isHTMLElement(I)&&(attemptFocus(I)||focusLastDescendant(I)))return!0}return!1}function attemptFocus(T){if(!isFocusable(T))return!1;try{T.focus({preventScroll:!0})}catch{}return document.activeElement===T}function isFocusable(T){if(T.tabIndex>0||T.tabIndex===0&&T.getAttribute("tabIndex")!==null)return!0;if(T.getAttribute("disabled"))return!1;switch(T.nodeName){case"A":return!!T.href&&T.rel!=="ignore";case"INPUT":return T.type!=="hidden"&&T.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}let stack=[];const FocusTrap=defineComponent({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(T){const R=createId(),I=ref(null),$=ref(null);let N=!1,M=!1;const L=document.activeElement;function B(){return stack[stack.length-1]===R}function k(q){var Z;q.code==="Escape"&&B()&&((Z=T.onEsc)===null||Z===void 0||Z.call(T,q))}onMounted(()=>{watch(()=>T.active,q=>{q?(z(),on("keydown",document,k)):(off("keydown",document,k),N&&V())},{immediate:!0})}),onBeforeUnmount(()=>{off("keydown",document,k),N&&V()});function U(q){if(!M&&B()){const Z=H();if(Z===null||Z.contains(q.target))return;W("first")}}function H(){const q=I.value;if(q===null)return null;let Z=q;for(;Z=Z.nextSibling,!(Z===null||Z instanceof Element&&Z.tagName==="DIV"););return Z}function z(){var q;if(!T.disabled){if(stack.push(R),T.autoFocus){const{initialFocusTo:Z}=T;Z===void 0?W("first"):(q=resolveTo(Z))===null||q===void 0||q.focus({preventScroll:!0})}N=!0,document.addEventListener("focus",U,!0)}}function V(){var q;if(T.disabled||(document.removeEventListener("focus",U,!0),stack=stack.filter(Q=>Q!==R),B()))return;const{finalFocusTo:Z}=T;Z!==void 0?(q=resolveTo(Z))===null||q===void 0||q.focus({preventScroll:!0}):T.returnFocusOnDeactivated&&L instanceof HTMLElement&&(M=!0,L.focus({preventScroll:!0}),M=!1)}function W(q){if(!!B()&&T.active){const Z=I.value,Q=$.value;if(Z!==null&&Q!==null){const ee=H();if(ee==null||ee===Q){M=!0,Z.focus({preventScroll:!0}),M=!1;return}M=!0;const ne=q==="first"?focusFirstDescendant(ee):focusLastDescendant(ee);M=!1,ne||(M=!0,Z.focus({preventScroll:!0}),M=!1)}}}function K(q){if(M)return;const Z=H();Z!==null&&(q.relatedTarget!==null&&Z.contains(q.relatedTarget)?W("last"):W("first"))}function Y(q){M||(q.relatedTarget!==null&&q.relatedTarget===I.value?W("last"):W("first"))}return{focusableStartRef:I,focusableEndRef:$,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:K,handleEndFocus:Y}},render(){const{default:T}=this.$slots;if(T===void 0)return null;if(this.disabled)return T();const{active:R,focusableStyle:I}=this;return h$1(Fragment,null,[h$1("div",{"aria-hidden":"true",tabindex:R?"0":"-1",ref:"focusableStartRef",style:I,onFocus:this.handleStartFocus}),T(),h$1("div",{"aria-hidden":"true",style:I,ref:"focusableEndRef",tabindex:R?"0":"-1",onFocus:this.handleEndFocus})])}});function useOnResize(T,R){R&&(onMounted(()=>{const{value:I}=T;I&&resizeObserverManager.registerHandler(I,R)}),onBeforeUnmount(()=>{const{value:I}=T;I&&resizeObserverManager.unregisterHandler(I)}))}let lockCount=0,originalMarginRight="",originalOverflow="",originalOverflowX="",originalOverflowY="";const lockHtmlScrollRightCompensationRef=ref("0px");function useLockHtmlScroll(T){if(typeof document>"u")return;const R=document.documentElement;let I,$=!1;const N=()=>{R.style.marginRight=originalMarginRight,R.style.overflow=originalOverflow,R.style.overflowX=originalOverflowX,R.style.overflowY=originalOverflowY,lockHtmlScrollRightCompensationRef.value="0px"};onMounted(()=>{I=watch(T,M=>{if(M){if(!lockCount){const L=window.innerWidth-R.offsetWidth;L>0&&(originalMarginRight=R.style.marginRight,R.style.marginRight=`${L}px`,lockHtmlScrollRightCompensationRef.value=`${L}px`),originalOverflow=R.style.overflow,originalOverflowX=R.style.overflowX,originalOverflowY=R.style.overflowY,R.style.overflow="hidden",R.style.overflowX="hidden",R.style.overflowY="hidden"}$=!0,lockCount++}else lockCount--,lockCount||N(),$=!1},{immediate:!0})}),onBeforeUnmount(()=>{I==null||I(),$&&(lockCount--,lockCount||N(),$=!1)})}const isComposingRef=ref(!1),compositionStartHandler=()=>{isComposingRef.value=!0},compositionEndHandler=()=>{isComposingRef.value=!1};let mountedCount=0;const useIsComposing=()=>(isBrowser$2&&(onBeforeMount(()=>{mountedCount||(window.addEventListener("compositionstart",compositionStartHandler),window.addEventListener("compositionend",compositionEndHandler)),mountedCount++}),onBeforeUnmount(()=>{mountedCount<=1?(window.removeEventListener("compositionstart",compositionStartHandler),window.removeEventListener("compositionend",compositionEndHandler),mountedCount=0):mountedCount--})),isComposingRef);function useReactivated(T){const R={isDeactivated:!1};let I=!1;return onActivated(()=>{if(R.isDeactivated=!1,!I){I=!0;return}T()}),onDeactivated(()=>{R.isDeactivated=!0,I||(I=!0)}),R}const formItemInjectionKey="n-form-item";function useFormItem(T,{defaultSize:R="medium",mergedSize:I,mergedDisabled:$}={}){const N=inject(formItemInjectionKey,null);provide(formItemInjectionKey,null);const M=computed(I?()=>I(N):()=>{const{size:k}=T;if(k)return k;if(N){const{mergedSize:U}=N;if(U.value!==void 0)return U.value}return R}),L=computed($?()=>$(N):()=>{const{disabled:k}=T;return k!==void 0?k:N?N.disabled.value:!1}),B=computed(()=>{const{status:k}=T;return k||(N==null?void 0:N.mergedValidationStatus.value)});return onBeforeUnmount(()=>{N&&N.restoreValidation()}),{mergedSizeRef:M,mergedDisabledRef:L,mergedStatusRef:B,nTriggerFormBlur(){N&&N.handleContentBlur()},nTriggerFormChange(){N&&N.handleContentChange()},nTriggerFormFocus(){N&&N.handleContentFocus()},nTriggerFormInput(){N&&N.handleContentInput()}}}var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")();const root$1=root;var Symbol$1=root$1.Symbol;const Symbol$2=Symbol$1;var objectProto$e=Object.prototype,hasOwnProperty$b=objectProto$e.hasOwnProperty,nativeObjectToString$1=objectProto$e.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(T){var R=hasOwnProperty$b.call(T,symToStringTag$1),I=T[symToStringTag$1];try{T[symToStringTag$1]=void 0;var $=!0}catch{}var N=nativeObjectToString$1.call(T);return $&&(R?T[symToStringTag$1]=I:delete T[symToStringTag$1]),N}var objectProto$d=Object.prototype,nativeObjectToString=objectProto$d.toString;function objectToString(T){return nativeObjectToString.call(T)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(T){return T==null?T===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(T)?getRawTag(T):objectToString(T)}function isObjectLike(T){return T!=null&&typeof T=="object"}var symbolTag$1="[object Symbol]";function isSymbol(T){return typeof T=="symbol"||isObjectLike(T)&&baseGetTag(T)==symbolTag$1}function arrayMap(T,R){for(var I=-1,$=T==null?0:T.length,N=Array($);++I<$;)N[I]=R(T[I],I,T);return N}var isArray=Array.isArray;const isArray$1=isArray;var INFINITY$1=1/0,symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString(T){if(typeof T=="string")return T;if(isArray$1(T))return arrayMap(T,baseToString)+"";if(isSymbol(T))return symbolToString?symbolToString.call(T):"";var R=T+"";return R=="0"&&1/T==-INFINITY$1?"-0":R}function isObject$1(T){var R=typeof T;return T!=null&&(R=="object"||R=="function")}function identity(T){return T}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(T){if(!isObject$1(T))return!1;var R=baseGetTag(T);return R==funcTag$1||R==genTag||R==asyncTag||R==proxyTag}var coreJsData=root$1["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var T=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return T?"Symbol(src)_1."+T:""}();function isMasked(T){return!!maskSrcKey&&maskSrcKey in T}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(T){if(T!=null){try{return funcToString$2.call(T)}catch{}try{return T+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$c=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$a=objectProto$c.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$a).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(T){if(!isObject$1(T)||isMasked(T))return!1;var R=isFunction(T)?reIsNative:reIsHostCtor;return R.test(toSource(T))}function getValue$1(T,R){return T==null?void 0:T[R]}function getNative(T,R){var I=getValue$1(T,R);return baseIsNative(I)?I:void 0}var WeakMap$1=getNative(root$1,"WeakMap");const WeakMap$2=WeakMap$1;var objectCreate=Object.create,baseCreate=function(){function T(){}return function(R){if(!isObject$1(R))return{};if(objectCreate)return objectCreate(R);T.prototype=R;var I=new T;return T.prototype=void 0,I}}();const baseCreate$1=baseCreate;function apply(T,R,I){switch(I.length){case 0:return T.call(R);case 1:return T.call(R,I[0]);case 2:return T.call(R,I[0],I[1]);case 3:return T.call(R,I[0],I[1],I[2])}return T.apply(R,I)}function copyArray(T,R){var I=-1,$=T.length;for(R||(R=Array($));++I<$;)R[I]=T[I];return R}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(T){var R=0,I=0;return function(){var $=nativeNow(),N=HOT_SPAN-($-I);if(I=$,N>0){if(++R>=HOT_COUNT)return arguments[0]}else R=0;return T.apply(void 0,arguments)}}function constant(T){return function(){return T}}var defineProperty=function(){try{var T=getNative(Object,"defineProperty");return T({},"",{}),T}catch{}}();const defineProperty$1=defineProperty;var baseSetToString=defineProperty$1?function(T,R){return defineProperty$1(T,"toString",{configurable:!0,enumerable:!1,value:constant(R),writable:!0})}:identity;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(T,R){var I=typeof T;return R=R==null?MAX_SAFE_INTEGER$1:R,!!R&&(I=="number"||I!="symbol"&&reIsUint.test(T))&&T>-1&&T%1==0&&T<R}function baseAssignValue(T,R,I){R=="__proto__"&&defineProperty$1?defineProperty$1(T,R,{configurable:!0,enumerable:!0,value:I,writable:!0}):T[R]=I}function eq(T,R){return T===R||T!==T&&R!==R}var objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty;function assignValue(T,R,I){var $=T[R];(!(hasOwnProperty$9.call(T,R)&&eq($,I))||I===void 0&&!(R in T))&&baseAssignValue(T,R,I)}function copyObject(T,R,I,$){var N=!I;I||(I={});for(var M=-1,L=R.length;++M<L;){var B=R[M],k=$?$(I[B],T[B],B,I,T):void 0;k===void 0&&(k=T[B]),N?baseAssignValue(I,B,k):assignValue(I,B,k)}return I}var nativeMax=Math.max;function overRest(T,R,I){return R=nativeMax(R===void 0?T.length-1:R,0),function(){for(var $=arguments,N=-1,M=nativeMax($.length-R,0),L=Array(M);++N<M;)L[N]=$[R+N];N=-1;for(var B=Array(R+1);++N<R;)B[N]=$[N];return B[R]=I(L),apply(T,this,B)}}function baseRest(T,R){return setToString$1(overRest(T,R,identity),T+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(T){return typeof T=="number"&&T>-1&&T%1==0&&T<=MAX_SAFE_INTEGER}function isArrayLike(T){return T!=null&&isLength(T.length)&&!isFunction(T)}function isIterateeCall(T,R,I){if(!isObject$1(I))return!1;var $=typeof R;return($=="number"?isArrayLike(I)&&isIndex(R,I.length):$=="string"&&R in I)?eq(I[R],T):!1}function createAssigner(T){return baseRest(function(R,I){var $=-1,N=I.length,M=N>1?I[N-1]:void 0,L=N>2?I[2]:void 0;for(M=T.length>3&&typeof M=="function"?(N--,M):void 0,L&&isIterateeCall(I[0],I[1],L)&&(M=N<3?void 0:M,N=1),R=Object(R);++$<N;){var B=I[$];B&&T(R,B,$,M)}return R})}var objectProto$a=Object.prototype;function isPrototype(T){var R=T&&T.constructor,I=typeof R=="function"&&R.prototype||objectProto$a;return T===I}function baseTimes(T,R){for(var I=-1,$=Array(T);++I<T;)$[I]=R(I);return $}var argsTag$2="[object Arguments]";function baseIsArguments(T){return isObjectLike(T)&&baseGetTag(T)==argsTag$2}var objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty,propertyIsEnumerable$1=objectProto$9.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(T){return isObjectLike(T)&&hasOwnProperty$8.call(T,"callee")&&!propertyIsEnumerable$1.call(T,"callee")};const isArguments$1=isArguments;function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root$1.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;const isBuffer$1=isBuffer;var argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$3="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$2]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$2]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(T){return isObjectLike(T)&&isLength(T.length)&&!!typedArrayTags[baseGetTag(T)]}function baseUnary(T){return function(R){return T(R)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal$1.process,nodeUtil=function(){try{var T=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return T||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}();const nodeUtil$1=nodeUtil;var nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;const isTypedArray$1=isTypedArray;var objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function arrayLikeKeys(T,R){var I=isArray$1(T),$=!I&&isArguments$1(T),N=!I&&!$&&isBuffer$1(T),M=!I&&!$&&!N&&isTypedArray$1(T),L=I||$||N||M,B=L?baseTimes(T.length,String):[],k=B.length;for(var U in T)(R||hasOwnProperty$7.call(T,U))&&!(L&&(U=="length"||N&&(U=="offset"||U=="parent")||M&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||isIndex(U,k)))&&B.push(U);return B}function overArg(T,R){return function(I){return T(R(I))}}var nativeKeys=overArg(Object.keys,Object);const nativeKeys$1=nativeKeys;var objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function baseKeys(T){if(!isPrototype(T))return nativeKeys$1(T);var R=[];for(var I in Object(T))hasOwnProperty$6.call(T,I)&&I!="constructor"&&R.push(I);return R}function keys(T){return isArrayLike(T)?arrayLikeKeys(T):baseKeys(T)}function nativeKeysIn(T){var R=[];if(T!=null)for(var I in Object(T))R.push(I);return R}var objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function baseKeysIn(T){if(!isObject$1(T))return nativeKeysIn(T);var R=isPrototype(T),I=[];for(var $ in T)$=="constructor"&&(R||!hasOwnProperty$5.call(T,$))||I.push($);return I}function keysIn(T){return isArrayLike(T)?arrayLikeKeys(T,!0):baseKeysIn(T)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(T,R){if(isArray$1(T))return!1;var I=typeof T;return I=="number"||I=="symbol"||I=="boolean"||T==null||isSymbol(T)?!0:reIsPlainProp.test(T)||!reIsDeepProp.test(T)||R!=null&&T in Object(R)}var nativeCreate=getNative(Object,"create");const nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(T){var R=this.has(T)&&delete this.__data__[T];return this.size-=R?1:0,R}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function hashGet(T){var R=this.__data__;if(nativeCreate$1){var I=R[T];return I===HASH_UNDEFINED$2?void 0:I}return hasOwnProperty$4.call(R,T)?R[T]:void 0}var objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function hashHas(T){var R=this.__data__;return nativeCreate$1?R[T]!==void 0:hasOwnProperty$3.call(R,T)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(T,R){var I=this.__data__;return this.size+=this.has(T)?0:1,I[T]=nativeCreate$1&&R===void 0?HASH_UNDEFINED$1:R,this}function Hash(T){var R=-1,I=T==null?0:T.length;for(this.clear();++R<I;){var $=T[R];this.set($[0],$[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(T,R){for(var I=T.length;I--;)if(eq(T[I][0],R))return I;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(T){var R=this.__data__,I=assocIndexOf(R,T);if(I<0)return!1;var $=R.length-1;return I==$?R.pop():splice.call(R,I,1),--this.size,!0}function listCacheGet(T){var R=this.__data__,I=assocIndexOf(R,T);return I<0?void 0:R[I][1]}function listCacheHas(T){return assocIndexOf(this.__data__,T)>-1}function listCacheSet(T,R){var I=this.__data__,$=assocIndexOf(I,T);return $<0?(++this.size,I.push([T,R])):I[$][1]=R,this}function ListCache(T){var R=-1,I=T==null?0:T.length;for(this.clear();++R<I;){var $=T[R];this.set($[0],$[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$1,"Map");const Map$2=Map$1;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(T){var R=typeof T;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?T!=="__proto__":T===null}function getMapData(T,R){var I=T.__data__;return isKeyable(R)?I[typeof R=="string"?"string":"hash"]:I.map}function mapCacheDelete(T){var R=getMapData(this,T).delete(T);return this.size-=R?1:0,R}function mapCacheGet(T){return getMapData(this,T).get(T)}function mapCacheHas(T){return getMapData(this,T).has(T)}function mapCacheSet(T,R){var I=getMapData(this,T),$=I.size;return I.set(T,R),this.size+=I.size==$?0:1,this}function MapCache(T){var R=-1,I=T==null?0:T.length;for(this.clear();++R<I;){var $=T[R];this.set($[0],$[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(T,R){if(typeof T!="function"||R!=null&&typeof R!="function")throw new TypeError(FUNC_ERROR_TEXT);var I=function(){var $=arguments,N=R?R.apply(this,$):$[0],M=I.cache;if(M.has(N))return M.get(N);var L=T.apply(this,$);return I.cache=M.set(N,L)||M,L};return I.cache=new(memoize.Cache||MapCache),I}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(T){var R=memoize(T,function($){return I.size===MAX_MEMOIZE_SIZE&&I.clear(),$}),I=R.cache;return R}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(T){var R=[];return T.charCodeAt(0)===46&&R.push(""),T.replace(rePropName,function(I,$,N,M){R.push(N?M.replace(reEscapeChar,"$1"):$||I)}),R});const stringToPath$1=stringToPath;function toString(T){return T==null?"":baseToString(T)}function castPath(T,R){return isArray$1(T)?T:isKey(T,R)?[T]:stringToPath$1(toString(T))}var INFINITY=1/0;function toKey(T){if(typeof T=="string"||isSymbol(T))return T;var R=T+"";return R=="0"&&1/T==-INFINITY?"-0":R}function baseGet(T,R){R=castPath(R,T);for(var I=0,$=R.length;T!=null&&I<$;)T=T[toKey(R[I++])];return I&&I==$?T:void 0}function get(T,R,I){var $=T==null?void 0:baseGet(T,R);return $===void 0?I:$}function arrayPush(T,R){for(var I=-1,$=R.length,N=T.length;++I<$;)T[N+I]=R[I];return T}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;var objectTag$2="[object Object]",funcProto=Function.prototype,objectProto$3=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$2=objectProto$3.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(T){if(!isObjectLike(T)||baseGetTag(T)!=objectTag$2)return!1;var R=getPrototype$1(T);if(R===null)return!0;var I=hasOwnProperty$2.call(R,"constructor")&&R.constructor;return typeof I=="function"&&I instanceof I&&funcToString.call(I)==objectCtorString}function baseSlice(T,R,I){var $=-1,N=T.length;R<0&&(R=-R>N?0:N+R),I=I>N?N:I,I<0&&(I+=N),N=R>I?0:I-R>>>0,R>>>=0;for(var M=Array(N);++$<N;)M[$]=T[$+R];return M}function castSlice(T,R,I){var $=T.length;return I=I===void 0?$:I,!R&&I>=$?T:baseSlice(T,R,I)}var rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode(T){return reHasUnicode.test(T)}function asciiToArray(T){return T.split("")}var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray(T){return T.match(reUnicode)||[]}function stringToArray(T){return hasUnicode(T)?unicodeToArray(T):asciiToArray(T)}function createCaseFirst(T){return function(R){R=toString(R);var I=hasUnicode(R)?stringToArray(R):void 0,$=I?I[0]:R.charAt(0),N=I?castSlice(I,1).join(""):R.slice(1);return $[T]()+N}}var upperFirst=createCaseFirst("toUpperCase");const upperFirst$1=upperFirst;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(T){var R=this.__data__,I=R.delete(T);return this.size=R.size,I}function stackGet(T){return this.__data__.get(T)}function stackHas(T){return this.__data__.has(T)}var LARGE_ARRAY_SIZE=200;function stackSet(T,R){var I=this.__data__;if(I instanceof ListCache){var $=I.__data__;if(!Map$2||$.length<LARGE_ARRAY_SIZE-1)return $.push([T,R]),this.size=++I.size,this;I=this.__data__=new MapCache($)}return I.set(T,R),this.size=I.size,this}function Stack(T){var R=this.__data__=new ListCache(T);this.size=R.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root$1.Buffer:void 0,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0;function cloneBuffer(T,R){if(R)return T.slice();var I=T.length,$=allocUnsafe?allocUnsafe(I):new T.constructor(I);return T.copy($),$}function arrayFilter(T,R){for(var I=-1,$=T==null?0:T.length,N=0,M=[];++I<$;){var L=T[I];R(L,I,T)&&(M[N++]=L)}return M}function stubArray(){return[]}var objectProto$2=Object.prototype,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(T){return T==null?[]:(T=Object(T),arrayFilter(nativeGetSymbols(T),function(R){return propertyIsEnumerable.call(T,R)}))}:stubArray;const getSymbols$1=getSymbols;function baseGetAllKeys(T,R,I){var $=R(T);return isArray$1(T)?$:arrayPush($,I(T))}function getAllKeys(T){return baseGetAllKeys(T,keys,getSymbols$1)}var DataView$1=getNative(root$1,"DataView");const DataView$2=DataView$1;var Promise$1=getNative(root$1,"Promise");const Promise$2=Promise$1;var Set$1=getNative(root$1,"Set");const Set$2=Set$1;var mapTag$1="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=toSource(DataView$2),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$2),getTag=baseGetTag;(DataView$2&&getTag(new DataView$2(new ArrayBuffer(1)))!=dataViewTag$1||Map$2&&getTag(new Map$2)!=mapTag$1||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set$2&&getTag(new Set$2)!=setTag$1||WeakMap$2&&getTag(new WeakMap$2)!=weakMapTag)&&(getTag=function(T){var R=baseGetTag(T),I=R==objectTag$1?T.constructor:void 0,$=I?toSource(I):"";if($)switch($){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return R});const getTag$1=getTag;var Uint8Array$1=root$1.Uint8Array;const Uint8Array$2=Uint8Array$1;function cloneArrayBuffer(T){var R=new T.constructor(T.byteLength);return new Uint8Array$2(R).set(new Uint8Array$2(T)),R}function cloneTypedArray(T,R){var I=R?cloneArrayBuffer(T.buffer):T.buffer;return new T.constructor(I,T.byteOffset,T.length)}function initCloneObject(T){return typeof T.constructor=="function"&&!isPrototype(T)?baseCreate$1(getPrototype$1(T)):{}}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(T){return this.__data__.set(T,HASH_UNDEFINED),this}function setCacheHas(T){return this.__data__.has(T)}function SetCache(T){var R=-1,I=T==null?0:T.length;for(this.__data__=new MapCache;++R<I;)this.add(T[R])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(T,R){for(var I=-1,$=T==null?0:T.length;++I<$;)if(R(T[I],I,T))return!0;return!1}function cacheHas(T,R){return T.has(R)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(T,R,I,$,N,M){var L=I&COMPARE_PARTIAL_FLAG$5,B=T.length,k=R.length;if(B!=k&&!(L&&k>B))return!1;var U=M.get(T),H=M.get(R);if(U&&H)return U==R&&H==T;var z=-1,V=!0,W=I&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(M.set(T,R),M.set(R,T);++z<B;){var K=T[z],Y=R[z];if($)var q=L?$(Y,K,z,R,T,M):$(K,Y,z,T,R,M);if(q!==void 0){if(q)continue;V=!1;break}if(W){if(!arraySome(R,function(Z,Q){if(!cacheHas(W,Q)&&(K===Z||N(K,Z,I,$,M)))return W.push(Q)})){V=!1;break}}else if(!(K===Y||N(K,Y,I,$,M))){V=!1;break}}return M.delete(T),M.delete(R),V}function mapToArray(T){var R=-1,I=Array(T.size);return T.forEach(function($,N){I[++R]=[N,$]}),I}function setToArray(T){var R=-1,I=Array(T.size);return T.forEach(function($){I[++R]=$}),I}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(T,R,I,$,N,M,L){switch(I){case dataViewTag:if(T.byteLength!=R.byteLength||T.byteOffset!=R.byteOffset)return!1;T=T.buffer,R=R.buffer;case arrayBufferTag:return!(T.byteLength!=R.byteLength||!M(new Uint8Array$2(T),new Uint8Array$2(R)));case boolTag:case dateTag:case numberTag:return eq(+T,+R);case errorTag:return T.name==R.name&&T.message==R.message;case regexpTag:case stringTag:return T==R+"";case mapTag:var B=mapToArray;case setTag:var k=$&COMPARE_PARTIAL_FLAG$4;if(B||(B=setToArray),T.size!=R.size&&!k)return!1;var U=L.get(T);if(U)return U==R;$|=COMPARE_UNORDERED_FLAG$2,L.set(T,R);var H=equalArrays(B(T),B(R),$,N,M,L);return L.delete(T),H;case symbolTag:if(symbolValueOf)return symbolValueOf.call(T)==symbolValueOf.call(R)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects(T,R,I,$,N,M){var L=I&COMPARE_PARTIAL_FLAG$3,B=getAllKeys(T),k=B.length,U=getAllKeys(R),H=U.length;if(k!=H&&!L)return!1;for(var z=k;z--;){var V=B[z];if(!(L?V in R:hasOwnProperty$1.call(R,V)))return!1}var W=M.get(T),K=M.get(R);if(W&&K)return W==R&&K==T;var Y=!0;M.set(T,R),M.set(R,T);for(var q=L;++z<k;){V=B[z];var Z=T[V],Q=R[V];if($)var ee=L?$(Q,Z,V,R,T,M):$(Z,Q,V,T,R,M);if(!(ee===void 0?Z===Q||N(Z,Q,I,$,M):ee)){Y=!1;break}q||(q=V=="constructor")}if(Y&&!q){var ne=T.constructor,te=R.constructor;ne!=te&&"constructor"in T&&"constructor"in R&&!(typeof ne=="function"&&ne instanceof ne&&typeof te=="function"&&te instanceof te)&&(Y=!1)}return M.delete(T),M.delete(R),Y}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep(T,R,I,$,N,M){var L=isArray$1(T),B=isArray$1(R),k=L?arrayTag:getTag$1(T),U=B?arrayTag:getTag$1(R);k=k==argsTag?objectTag:k,U=U==argsTag?objectTag:U;var H=k==objectTag,z=U==objectTag,V=k==U;if(V&&isBuffer$1(T)){if(!isBuffer$1(R))return!1;L=!0,H=!1}if(V&&!H)return M||(M=new Stack),L||isTypedArray$1(T)?equalArrays(T,R,I,$,N,M):equalByTag(T,R,k,I,$,N,M);if(!(I&COMPARE_PARTIAL_FLAG$2)){var W=H&&hasOwnProperty.call(T,"__wrapped__"),K=z&&hasOwnProperty.call(R,"__wrapped__");if(W||K){var Y=W?T.value():T,q=K?R.value():R;return M||(M=new Stack),N(Y,q,I,$,M)}}return V?(M||(M=new Stack),equalObjects(T,R,I,$,N,M)):!1}function baseIsEqual(T,R,I,$,N){return T===R?!0:T==null||R==null||!isObjectLike(T)&&!isObjectLike(R)?T!==T&&R!==R:baseIsEqualDeep(T,R,I,$,baseIsEqual,N)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(T,R,I,$){var N=I.length,M=N,L=!$;if(T==null)return!M;for(T=Object(T);N--;){var B=I[N];if(L&&B[2]?B[1]!==T[B[0]]:!(B[0]in T))return!1}for(;++N<M;){B=I[N];var k=B[0],U=T[k],H=B[1];if(L&&B[2]){if(U===void 0&&!(k in T))return!1}else{var z=new Stack;if($)var V=$(U,H,k,T,R,z);if(!(V===void 0?baseIsEqual(H,U,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,$,z):V))return!1}}return!0}function isStrictComparable(T){return T===T&&!isObject$1(T)}function getMatchData(T){for(var R=keys(T),I=R.length;I--;){var $=R[I],N=T[$];R[I]=[$,N,isStrictComparable(N)]}return R}function matchesStrictComparable(T,R){return function(I){return I==null?!1:I[T]===R&&(R!==void 0||T in Object(I))}}function baseMatches(T){var R=getMatchData(T);return R.length==1&&R[0][2]?matchesStrictComparable(R[0][0],R[0][1]):function(I){return I===T||baseIsMatch(I,T,R)}}function baseHasIn(T,R){return T!=null&&R in Object(T)}function hasPath(T,R,I){R=castPath(R,T);for(var $=-1,N=R.length,M=!1;++$<N;){var L=toKey(R[$]);if(!(M=T!=null&&I(T,L)))break;T=T[L]}return M||++$!=N?M:(N=T==null?0:T.length,!!N&&isLength(N)&&isIndex(L,N)&&(isArray$1(T)||isArguments$1(T)))}function hasIn(T,R){return T!=null&&hasPath(T,R,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(T,R){return isKey(T)&&isStrictComparable(R)?matchesStrictComparable(toKey(T),R):function(I){var $=get(I,T);return $===void 0&&$===R?hasIn(I,T):baseIsEqual(R,$,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(T){return function(R){return R==null?void 0:R[T]}}function basePropertyDeep(T){return function(R){return baseGet(R,T)}}function property(T){return isKey(T)?baseProperty(toKey(T)):basePropertyDeep(T)}function baseIteratee(T){return typeof T=="function"?T:T==null?identity:typeof T=="object"?isArray$1(T)?baseMatchesProperty(T[0],T[1]):baseMatches(T):property(T)}function createBaseFor(T){return function(R,I,$){for(var N=-1,M=Object(R),L=$(R),B=L.length;B--;){var k=L[T?B:++N];if(I(M[k],k,M)===!1)break}return R}}var baseFor=createBaseFor();const baseFor$1=baseFor;function baseForOwn(T,R){return T&&baseFor$1(T,R,keys)}function createBaseEach(T,R){return function(I,$){if(I==null)return I;if(!isArrayLike(I))return T(I,$);for(var N=I.length,M=R?N:-1,L=Object(I);(R?M--:++M<N)&&$(L[M],M,L)!==!1;);return I}}var baseEach=createBaseEach(baseForOwn);const baseEach$1=baseEach;function assignMergeValue(T,R,I){(I!==void 0&&!eq(T[R],I)||I===void 0&&!(R in T))&&baseAssignValue(T,R,I)}function isArrayLikeObject(T){return isObjectLike(T)&&isArrayLike(T)}function safeGet(T,R){if(!(R==="constructor"&&typeof T[R]=="function")&&R!="__proto__")return T[R]}function toPlainObject(T){return copyObject(T,keysIn(T))}function baseMergeDeep(T,R,I,$,N,M,L){var B=safeGet(T,I),k=safeGet(R,I),U=L.get(k);if(U){assignMergeValue(T,I,U);return}var H=M?M(B,k,I+"",T,R,L):void 0,z=H===void 0;if(z){var V=isArray$1(k),W=!V&&isBuffer$1(k),K=!V&&!W&&isTypedArray$1(k);H=k,V||W||K?isArray$1(B)?H=B:isArrayLikeObject(B)?H=copyArray(B):W?(z=!1,H=cloneBuffer(k,!0)):K?(z=!1,H=cloneTypedArray(k,!0)):H=[]:isPlainObject(k)||isArguments$1(k)?(H=B,isArguments$1(B)?H=toPlainObject(B):(!isObject$1(B)||isFunction(B))&&(H=initCloneObject(k))):z=!1}z&&(L.set(k,H),N(H,k,$,M,L),L.delete(k)),assignMergeValue(T,I,H)}function baseMerge(T,R,I,$,N){T!==R&&baseFor$1(R,function(M,L){if(N||(N=new Stack),isObject$1(M))baseMergeDeep(T,R,L,I,baseMerge,$,N);else{var B=$?$(safeGet(T,L),M,L+"",T,R,N):void 0;B===void 0&&(B=M),assignMergeValue(T,L,B)}},keysIn)}function baseMap(T,R){var I=-1,$=isArrayLike(T)?Array(T.length):[];return baseEach$1(T,function(N,M,L){$[++I]=R(N,M,L)}),$}function map(T,R){var I=isArray$1(T)?arrayMap:baseMap;return I(T,baseIteratee(R))}var merge$1=createAssigner(function(T,R,I){baseMerge(T,R,I)});const merge$2=merge$1,commonVariables$9={fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontFamilyMono:"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",fontWeight:"400",fontWeightStrong:"500",cubicBezierEaseInOut:"cubic-bezier(.4, 0, .2, 1)",cubicBezierEaseOut:"cubic-bezier(0, 0, .2, 1)",cubicBezierEaseIn:"cubic-bezier(.4, 0, 1, 1)",borderRadius:"3px",borderRadiusSmall:"2px",fontSize:"14px",fontSizeMini:"12px",fontSizeTiny:"12px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",lineHeight:"1.6",heightMini:"16px",heightTiny:"22px",heightSmall:"28px",heightMedium:"34px",heightLarge:"40px",heightHuge:"46px"},{fontSize,fontFamily,lineHeight}=commonVariables$9,globalStyle=c$2("body",`
 margin: 0;
 font-size: ${fontSize};
 font-family: ${fontFamily};
 line-height: ${lineHeight};
 -webkit-text-size-adjust: 100%;
 -webkit-tap-highlight-color: transparent;
`,[c$2("input",`
 font-family: inherit;
 font-size: inherit;
 `)]),configProviderInjectionKey="n-config-provider",cssrAnchorMetaName="naive-ui-style";function createTheme(T){return T}function useTheme(T,R,I,$,N,M){const L=useSsrAdapter(),B=inject(configProviderInjectionKey,null);if(I){const U=()=>{const H=M==null?void 0:M.value;I.mount({id:H===void 0?R:H+R,head:!0,props:{bPrefix:H?`.${H}-`:void 0},anchorMetaName:cssrAnchorMetaName,ssr:L}),B!=null&&B.preflightStyleDisabled||globalStyle.mount({id:"n-global",head:!0,anchorMetaName:cssrAnchorMetaName,ssr:L})};L?U():onBeforeMount(U)}return computed(()=>{var U;const{theme:{common:H,self:z,peers:V={}}={},themeOverrides:W={},builtinThemeOverrides:K={}}=N,{common:Y,peers:q}=W,{common:Z=void 0,[T]:{common:Q=void 0,self:ee=void 0,peers:ne={}}={}}=(B==null?void 0:B.mergedThemeRef.value)||{},{common:te=void 0,[T]:re={}}=(B==null?void 0:B.mergedThemeOverridesRef.value)||{},{common:ie,peers:se={}}=re,le=merge$2({},H||Q||Z||$.common,te,ie,Y),he=merge$2((U=z||ee||$.self)===null||U===void 0?void 0:U(le),K,re,W);return{common:le,self:he,peers:merge$2({},$.peers,ne,V),peerOverrides:merge$2({},K.peers,se,q)}})}useTheme.props={theme:Object,themeOverrides:Object,builtinThemeOverrides:Object};const defaultClsPrefix="n";function useConfig(T={},R={defaultBordered:!0}){const I=inject(configProviderInjectionKey,null);return{inlineThemeDisabled:I==null?void 0:I.inlineThemeDisabled,mergedRtlRef:I==null?void 0:I.mergedRtlRef,mergedComponentPropsRef:I==null?void 0:I.mergedComponentPropsRef,mergedBreakpointsRef:I==null?void 0:I.mergedBreakpointsRef,mergedBorderedRef:computed(()=>{var $,N;const{bordered:M}=T;return M!==void 0?M:(N=($=I==null?void 0:I.mergedBorderedRef.value)!==null&&$!==void 0?$:R.defaultBordered)!==null&&N!==void 0?N:!0}),mergedClsPrefixRef:computed(()=>(I==null?void 0:I.mergedClsPrefixRef.value)||defaultClsPrefix),namespaceRef:computed(()=>I==null?void 0:I.mergedNamespaceRef.value)}}const enUS={name:"en-US",global:{undo:"Undo",redo:"Redo",confirm:"Confirm"},Popconfirm:{positiveText:"Confirm",negativeText:"Cancel"},Cascader:{placeholder:"Please Select",loading:"Loading",loadingRequiredMessage:T=>`Please load all ${T}'s descendants before checking it.`},Time:{dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss"},DatePicker:{yearFormat:"yyyy",monthFormat:"MMM",dayFormat:"eeeeee",yearTypeFormat:"yyyy",monthTypeFormat:"yyyy-MM",dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss",quarterFormat:"yyyy-qqq",clear:"Clear",now:"Now",confirm:"Confirm",selectTime:"Select Time",selectDate:"Select Date",datePlaceholder:"Select Date",datetimePlaceholder:"Select Date and Time",monthPlaceholder:"Select Month",yearPlaceholder:"Select Year",quarterPlaceholder:"Select Quarter",startDatePlaceholder:"Start Date",endDatePlaceholder:"End Date",startDatetimePlaceholder:"Start Date and Time",endDatetimePlaceholder:"End Date and Time",startMonthPlaceholder:"Start Month",endMonthPlaceholder:"End Month",monthBeforeYear:!0,firstDayOfWeek:6,today:"Today"},DataTable:{checkTableAll:"Select all in the table",uncheckTableAll:"Unselect all in the table",confirm:"Confirm",clear:"Clear"},LegacyTransfer:{sourceTitle:"Source",targetTitle:"Target"},Transfer:{selectAll:"Select all",unselectAll:"Unselect all",clearAll:"Clear",total:T=>`Total ${T} items`,selected:T=>`${T} items selected`},Empty:{description:"No Data"},Select:{placeholder:"Please Select"},TimePicker:{placeholder:"Select Time",positiveText:"OK",negativeText:"Cancel",now:"Now"},Pagination:{goto:"Goto",selectionSuffix:"page"},DynamicTags:{add:"Add"},Log:{loading:"Loading"},Input:{placeholder:"Please Input"},InputNumber:{placeholder:"Please Input"},DynamicInput:{create:"Create"},ThemeEditor:{title:"Theme Editor",clearAllVars:"Clear All Variables",clearSearch:"Clear Search",filterCompName:"Filter Component Name",filterVarName:"Filter Variable Name",import:"Import",export:"Export",restore:"Reset to Default"},Image:{tipPrevious:"Previous picture (\u2190)",tipNext:"Next picture (\u2192)",tipCounterclockwise:"Counterclockwise",tipClockwise:"Clockwise",tipZoomOut:"Zoom out",tipZoomIn:"Zoom in",tipClose:"Close (Esc)",tipOriginalSize:"Zoom to original size"}},enUS$1=enUS;function buildFormatLongFn(T){return function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=R.width?String(R.width):T.defaultWidth,$=T.formats[I]||T.formats[T.defaultWidth];return $}}function buildLocalizeFn(T){return function(R,I){var $=I!=null&&I.context?String(I.context):"standalone",N;if($==="formatting"&&T.formattingValues){var M=T.defaultFormattingWidth||T.defaultWidth,L=I!=null&&I.width?String(I.width):M;N=T.formattingValues[L]||T.formattingValues[M]}else{var B=T.defaultWidth,k=I!=null&&I.width?String(I.width):T.defaultWidth;N=T.values[k]||T.values[B]}var U=T.argumentCallback?T.argumentCallback(R):R;return N[U]}}function buildMatchFn(T){return function(R){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=I.width,N=$&&T.matchPatterns[$]||T.matchPatterns[T.defaultMatchWidth],M=R.match(N);if(!M)return null;var L=M[0],B=$&&T.parsePatterns[$]||T.parsePatterns[T.defaultParseWidth],k=Array.isArray(B)?findIndex(B,function(z){return z.test(L)}):findKey(B,function(z){return z.test(L)}),U;U=T.valueCallback?T.valueCallback(k):k,U=I.valueCallback?I.valueCallback(U):U;var H=R.slice(L.length);return{value:U,rest:H}}}function findKey(T,R){for(var I in T)if(T.hasOwnProperty(I)&&R(T[I]))return I}function findIndex(T,R){for(var I=0;I<T.length;I++)if(R(T[I]))return I}function buildMatchPatternFn(T){return function(R){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=R.match(T.matchPattern);if(!$)return null;var N=$[0],M=R.match(T.parsePattern);if(!M)return null;var L=T.valueCallback?T.valueCallback(M[0]):M[0];L=I.valueCallback?I.valueCallback(L):L;var B=R.slice(N.length);return{value:L,rest:B}}}var formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=function(T,R,I){var $,N=formatDistanceLocale[T];return typeof N=="string"?$=N:R===1?$=N.one:$=N.other.replace("{{count}}",R.toString()),I!=null&&I.addSuffix?I.comparison&&I.comparison>0?"in "+$:$+" ago":$};const formatDistance$1=formatDistance;var dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})};const formatLong$1=formatLong;var formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=function(T,R,I,$){return formatRelativeLocale[T]};const formatRelative$1=formatRelative;var eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=function(T,R){var I=Number(T),$=I%100;if($>20||$<10)switch($%10){case 1:return I+"st";case 2:return I+"nd";case 3:return I+"rd"}return I+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function(T){return T-1}}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};const localize$1=localize;var matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function(T){return parseInt(T,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function(T){return T+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})};const match$1=match;var locale={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};const defaultLocale=locale,dateEnUs={name:"en-US",locale:defaultLocale},dateEnUS=dateEnUs;function useLocale(T){const{mergedLocaleRef:R,mergedDateLocaleRef:I}=inject(configProviderInjectionKey,null)||{},$=computed(()=>{var M,L;return(L=(M=R==null?void 0:R.value)===null||M===void 0?void 0:M[T])!==null&&L!==void 0?L:enUS$1[T]});return{dateLocaleRef:computed(()=>{var M;return(M=I==null?void 0:I.value)!==null&&M!==void 0?M:dateEnUS}),localeRef:$}}function useStyle(T,R,I){if(!R)return;const $=useSsrAdapter(),N=inject(configProviderInjectionKey,null),M=()=>{const L=I==null?void 0:I.value;R.mount({id:L===void 0?T:L+T,head:!0,anchorMetaName:cssrAnchorMetaName,props:{bPrefix:L?`.${L}-`:void 0},ssr:$}),N!=null&&N.preflightStyleDisabled||globalStyle.mount({id:"n-global",head:!0,anchorMetaName:cssrAnchorMetaName,ssr:$})};$?M():onBeforeMount(M)}function useThemeClass(T,R,I,$){var N;I||throwError("useThemeClass","cssVarsRef is not passed");const M=(N=inject(configProviderInjectionKey,null))===null||N===void 0?void 0:N.mergedThemeHashRef,L=ref(""),B=useSsrAdapter();let k;const U=`__${T}`,H=()=>{let z=U;const V=R?R.value:void 0,W=M==null?void 0:M.value;W&&(z+="-"+W),V&&(z+="-"+V);const{themeOverrides:K,builtinThemeOverrides:Y}=$;K&&(z+="-"+murmur2(JSON.stringify(K))),Y&&(z+="-"+murmur2(JSON.stringify(Y))),L.value=z,k=()=>{const q=I.value;let Z="";for(const Q in q)Z+=`${Q}: ${q[Q]};`;c$2(`.${z}`,Z).mount({id:z,ssr:B}),k=void 0}};return watchEffect(()=>{H()}),{themeClass:L,onRender:()=>{k==null||k()}}}function useRtl(T,R,I){if(!R)return;const $=useSsrAdapter(),N=computed(()=>{const{value:L}=R;if(!L)return;const B=L[T];if(!!B)return B}),M=()=>{watchEffect(()=>{const{value:L}=I,B=`${L}${T}Rtl`;if(exists(B,$))return;const{value:k}=N;!k||k.style.mount({id:B,head:!0,anchorMetaName:cssrAnchorMetaName,props:{bPrefix:L?`.${L}-`:void 0},ssr:$})})};return $?M():onBeforeMount(M),N}const AddIcon=defineComponent({name:"Add",render(){return h$1("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h$1("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}});function replaceable(T,R){return defineComponent({name:upperFirst$1(T),setup(){var I;const $=(I=inject(configProviderInjectionKey,null))===null||I===void 0?void 0:I.mergedIconsRef;return()=>{var N;const M=(N=$==null?void 0:$.value)===null||N===void 0?void 0:N[T];return M?M():R}}})}const FinishedIcon=defineComponent({name:"Checkmark",render(){return h$1("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},h$1("g",{fill:"none"},h$1("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),ErrorIcon$1=replaceable("close",h$1("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0},h$1("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h$1("g",{fill:"currentColor","fill-rule":"nonzero"},h$1("path",{d:"M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"}))))),EyeIcon=defineComponent({name:"Eye",render(){return h$1("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},h$1("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),h$1("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),EyeOffIcon=defineComponent({name:"EyeOff",render(){return h$1("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},h$1("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),h$1("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),h$1("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),h$1("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),h$1("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),EmptyIcon=defineComponent({name:"Empty",render(){return h$1("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h$1("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),h$1("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),ErrorIcon=replaceable("error",h$1("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h$1("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h$1("g",{"fill-rule":"nonzero"},h$1("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M17.8838835,16.1161165 L17.7823881,16.0249942 C17.3266086,15.6583353 16.6733914,15.6583353 16.2176119,16.0249942 L16.1161165,16.1161165 L16.0249942,16.2176119 C15.6583353,16.6733914 15.6583353,17.3266086 16.0249942,17.7823881 L16.1161165,17.8838835 L22.233,24 L16.1161165,30.1161165 L16.0249942,30.2176119 C15.6583353,30.6733914 15.6583353,31.3266086 16.0249942,31.7823881 L16.1161165,31.8838835 L16.2176119,31.9750058 C16.6733914,32.3416647 17.3266086,32.3416647 17.7823881,31.9750058 L17.8838835,31.8838835 L24,25.767 L30.1161165,31.8838835 L30.2176119,31.9750058 C30.6733914,32.3416647 31.3266086,32.3416647 31.7823881,31.9750058 L31.8838835,31.8838835 L31.9750058,31.7823881 C32.3416647,31.3266086 32.3416647,30.6733914 31.9750058,30.2176119 L31.8838835,30.1161165 L25.767,24 L31.8838835,17.8838835 L31.9750058,17.7823881 C32.3416647,17.3266086 32.3416647,16.6733914 31.9750058,16.2176119 L31.8838835,16.1161165 L31.7823881,16.0249942 C31.3266086,15.6583353 30.6733914,15.6583353 30.2176119,16.0249942 L30.1161165,16.1161165 L24,22.233 L17.8838835,16.1161165 L17.7823881,16.0249942 L17.8838835,16.1161165 Z"}))))),InfoIcon=replaceable("info",h$1("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h$1("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h$1("g",{"fill-rule":"nonzero"},h$1("path",{d:"M14,2 C20.6274,2 26,7.37258 26,14 C26,20.6274 20.6274,26 14,26 C7.37258,26 2,20.6274 2,14 C2,7.37258 7.37258,2 14,2 Z M14,11 C13.4477,11 13,11.4477 13,12 L13,12 L13,20 C13,20.5523 13.4477,21 14,21 C14.5523,21 15,20.5523 15,20 L15,20 L15,12 C15,11.4477 14.5523,11 14,11 Z M14,6.75 C13.3096,6.75 12.75,7.30964 12.75,8 C12.75,8.69036 13.3096,9.25 14,9.25 C14.6904,9.25 15.25,8.69036 15.25,8 C15.25,7.30964 14.6904,6.75 14,6.75 Z"}))))),RemoveIcon=defineComponent({name:"Remove",render(){return h$1("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},h$1("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}}),SuccessIcon=replaceable("success",h$1("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h$1("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h$1("g",{"fill-rule":"nonzero"},h$1("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M32.6338835,17.6161165 C32.1782718,17.1605048 31.4584514,17.1301307 30.9676119,17.5249942 L30.8661165,17.6161165 L20.75,27.732233 L17.1338835,24.1161165 C16.6457281,23.6279612 15.8542719,23.6279612 15.3661165,24.1161165 C14.9105048,24.5717282 14.8801307,25.2915486 15.2749942,25.7823881 L15.3661165,25.8838835 L19.8661165,30.3838835 C20.3217282,30.8394952 21.0415486,30.8698693 21.5323881,30.4750058 L21.6338835,30.3838835 L32.6338835,19.3838835 C33.1220388,18.8957281 33.1220388,18.1042719 32.6338835,17.6161165 Z"}))))),SwitcherIcon=defineComponent({name:"Switcher",render(){return h$1("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},h$1("path",{d:"M12 8l10 8l-10 8z"}))}}),WarningIcon=replaceable("warning",h$1("svg",{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h$1("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h$1("g",{"fill-rule":"nonzero"},h$1("path",{d:"M12,2 C17.523,2 22,6.478 22,12 C22,17.522 17.523,22 12,22 C6.477,22 2,17.522 2,12 C2,6.478 6.477,2 12,2 Z M12.0018002,15.0037242 C11.450254,15.0037242 11.0031376,15.4508407 11.0031376,16.0023869 C11.0031376,16.553933 11.450254,17.0010495 12.0018002,17.0010495 C12.5533463,17.0010495 13.0004628,16.553933 13.0004628,16.0023869 C13.0004628,15.4508407 12.5533463,15.0037242 12.0018002,15.0037242 Z M11.99964,7 C11.4868042,7.00018474 11.0642719,7.38637706 11.0066858,7.8837365 L11,8.00036004 L11.0018003,13.0012393 L11.00857,13.117858 C11.0665141,13.6151758 11.4893244,14.0010638 12.0021602,14.0008793 C12.514996,14.0006946 12.9375283,13.6145023 12.9951144,13.1171428 L13.0018002,13.0005193 L13,7.99964009 L12.9932303,7.8830214 C12.9352861,7.38570354 12.5124758,6.99981552 11.99964,7 Z"}))))),ChevronDownIcon=defineComponent({name:"ChevronDown",render(){return h$1("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h$1("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}}),ClearIcon=replaceable("clear",h$1("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h$1("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h$1("g",{fill:"currentColor","fill-rule":"nonzero"},h$1("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),NIconSwitchTransition=defineComponent({name:"BaseIconSwitchTransition",setup(T,{slots:R}){const I=isMounted();return()=>h$1(Transition,{name:"icon-switch-transition",appear:I.value},R)}}),NFadeInExpandTransition=defineComponent({name:"FadeInExpandTransition",props:{appear:Boolean,group:Boolean,mode:String,onLeave:Function,onAfterLeave:Function,onAfterEnter:Function,width:Boolean,reverse:Boolean},setup(T,{slots:R}){function I(B){T.width?B.style.maxWidth=`${B.offsetWidth}px`:B.style.maxHeight=`${B.offsetHeight}px`,B.offsetWidth}function $(B){T.width?B.style.maxWidth="0":B.style.maxHeight="0",B.offsetWidth;const{onLeave:k}=T;k&&k()}function N(B){T.width?B.style.maxWidth="":B.style.maxHeight="";const{onAfterLeave:k}=T;k&&k()}function M(B){if(B.style.transition="none",T.width){const k=B.offsetWidth;B.style.maxWidth="0",B.offsetWidth,B.style.transition="",B.style.maxWidth=`${k}px`}else if(T.reverse)B.style.maxHeight=`${B.offsetHeight}px`,B.offsetHeight,B.style.transition="",B.style.maxHeight="0";else{const k=B.offsetHeight;B.style.maxHeight="0",B.offsetWidth,B.style.transition="",B.style.maxHeight=`${k}px`}B.offsetWidth}function L(B){var k;T.width?B.style.maxWidth="":T.reverse||(B.style.maxHeight=""),(k=T.onAfterEnter)===null||k===void 0||k.call(T)}return()=>{const B=T.group?TransitionGroup:Transition;return h$1(B,{name:T.width?"fade-in-width-expand-transition":"fade-in-height-expand-transition",mode:T.mode,appear:T.appear,onEnter:M,onAfterEnter:L,onBeforeLeave:I,onLeave:$,onAfterLeave:N},R)}}}),style$p=cB("base-icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[c$2("svg",`
 height: 1em;
 width: 1em;
 `)]),NBaseIcon=defineComponent({name:"BaseIcon",props:{role:String,ariaLabel:String,ariaDisabled:{type:Boolean,default:void 0},ariaHidden:{type:Boolean,default:void 0},clsPrefix:{type:String,required:!0},onClick:Function,onMousedown:Function,onMouseup:Function},setup(T){useStyle("-base-icon",style$p,toRef(T,"clsPrefix"))},render(){return h$1("i",{class:`${this.clsPrefix}-base-icon`,onClick:this.onClick,onMousedown:this.onMousedown,onMouseup:this.onMouseup,role:this.role,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,"aria-disabled":this.ariaDisabled},this.$slots)}}),style$o=cB("base-close",`
 display: flex;
 align-items: center;
 justify-content: center;
 cursor: pointer;
 background-color: transparent;
 color: var(--n-close-icon-color);
 border-radius: var(--n-close-border-radius);
 height: var(--n-close-size);
 width: var(--n-close-size);
 font-size: var(--n-close-icon-size);
 outline: none;
 border: none;
 position: relative;
 padding: 0;
`,[cM("absolute",`
 height: var(--n-close-icon-size);
 width: var(--n-close-icon-size);
 `),c$2("&::before",`
 content: "";
 position: absolute;
 width: var(--n-close-size);
 height: var(--n-close-size);
 left: 50%;
 top: 50%;
 transform: translateY(-50%) translateX(-50%);
 transition: inherit;
 border-radius: inherit;
 `),cNotM("disabled",[c$2("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),c$2("&:hover::before",`
 background-color: var(--n-close-color-hover);
 `),c$2("&:focus::before",`
 background-color: var(--n-close-color-hover);
 `),c$2("&:active",`
 color: var(--n-close-icon-color-pressed);
 `),c$2("&:active::before",`
 background-color: var(--n-close-color-pressed);
 `)]),cM("disabled",`
 cursor: not-allowed;
 color: var(--n-close-icon-color-disabled);
 background-color: transparent;
 `),cM("round",[c$2("&::before",`
 border-radius: 50%;
 `)])]),NBaseClose=defineComponent({name:"BaseClose",props:{clsPrefix:{type:String,required:!0},disabled:{type:Boolean,default:void 0},focusable:{type:Boolean,default:!0},round:Boolean,onClick:Function,absolute:Boolean},setup(T){return useStyle("-base-close",style$o,toRef(T,"clsPrefix")),()=>{const{clsPrefix:R,disabled:I,absolute:$,round:N}=T;return h$1("button",{type:"button",tabindex:I||!T.focusable?-1:0,"aria-disabled":I,"aria-label":"close",disabled:I,class:[`${R}-base-close`,$&&`${R}-base-close--absolute`,I&&`${R}-base-close--disabled`,N&&`${R}-base-close--round`],onMousedown:M=>{T.focusable||M.preventDefault()},onClick:T.onClick},h$1(NBaseIcon,{clsPrefix:R},{default:()=>h$1(ErrorIcon$1,null)}))}}}),FocusDetector=defineComponent({props:{onFocus:Function,onBlur:Function},setup(T){return()=>h$1("div",{style:"width: 0; height: 0",tabindex:0,onFocus:T.onFocus,onBlur:T.onBlur})}}),{cubicBezierEaseInOut:cubicBezierEaseInOut$4}=commonVariables$9;function iconSwitchTransition({originalTransform:T="",left:R=0,top:I=0,transition:$=`all .3s ${cubicBezierEaseInOut$4} !important`}={}){return[c$2("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:T+" scale(0.75)",left:R,top:I,opacity:0}),c$2("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:`scale(1) ${T}`,left:R,top:I,opacity:1}),c$2("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left:R,top:I,transition:$})]}const style$n=c$2([c$2("@keyframes loading-container-rotate",`
 to {
 -webkit-transform: rotate(360deg);
 transform: rotate(360deg);
 }
 `),c$2("@keyframes loading-layer-rotate",`
 12.5% {
 -webkit-transform: rotate(135deg);
 transform: rotate(135deg);
 }
 25% {
 -webkit-transform: rotate(270deg);
 transform: rotate(270deg);
 }
 37.5% {
 -webkit-transform: rotate(405deg);
 transform: rotate(405deg);
 }
 50% {
 -webkit-transform: rotate(540deg);
 transform: rotate(540deg);
 }
 62.5% {
 -webkit-transform: rotate(675deg);
 transform: rotate(675deg);
 }
 75% {
 -webkit-transform: rotate(810deg);
 transform: rotate(810deg);
 }
 87.5% {
 -webkit-transform: rotate(945deg);
 transform: rotate(945deg);
 }
 100% {
 -webkit-transform: rotate(1080deg);
 transform: rotate(1080deg);
 } 
 `),c$2("@keyframes loading-left-spin",`
 from {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 50% {
 -webkit-transform: rotate(130deg);
 transform: rotate(130deg);
 }
 to {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 `),c$2("@keyframes loading-right-spin",`
 from {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 50% {
 -webkit-transform: rotate(-130deg);
 transform: rotate(-130deg);
 }
 to {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 `),cB("base-loading",`
 position: relative;
 line-height: 0;
 width: 1em;
 height: 1em;
 `,[cE("transition-wrapper",`
 position: absolute;
 width: 100%;
 height: 100%;
 `,[iconSwitchTransition()]),cE("container",`
 display: inline-flex;
 position: relative;
 direction: ltr;
 line-height: 0;
 animation: loading-container-rotate 1568.2352941176ms linear infinite;
 font-size: 0;
 letter-spacing: 0;
 white-space: nowrap;
 opacity: 1;
 width: 100%;
 height: 100%;
 `,[cE("svg",`
 stroke: var(--n-text-color);
 fill: transparent;
 position: absolute;
 height: 100%;
 overflow: hidden;
 `),cE("container-layer",`
 position: absolute;
 width: 100%;
 height: 100%;
 animation: loading-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 `,[cE("container-layer-left",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[cE("svg",`
 animation: loading-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 width: 200%;
 `)]),cE("container-layer-patch",`
 position: absolute;
 top: 0;
 left: 47.5%;
 box-sizing: border-box;
 width: 5%;
 height: 100%;
 overflow: hidden;
 `,[cE("svg",`
 left: -900%;
 width: 2000%;
 transform: rotate(180deg);
 `)]),cE("container-layer-right",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[cE("svg",`
 animation: loading-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 left: -100%;
 width: 200%;
 `)])])]),cE("placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[iconSwitchTransition({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})])])]),NBaseLoading=defineComponent({name:"BaseLoading",props:{clsPrefix:{type:String,required:!0},scale:{type:Number,default:1},radius:{type:Number,default:100},strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0},show:{type:Boolean,default:!0}},setup(T){useStyle("-base-loading",style$n,toRef(T,"clsPrefix"))},render(){const{clsPrefix:T,radius:R,strokeWidth:I,stroke:$,scale:N}=this,M=R/N;return h$1("div",{class:`${T}-base-loading`,role:"img","aria-label":"loading"},h$1(NIconSwitchTransition,null,{default:()=>this.show?h$1("div",{key:"icon",class:`${T}-base-loading__transition-wrapper`},h$1("div",{class:`${T}-base-loading__container`},h$1("div",{class:`${T}-base-loading__container-layer`},h$1("div",{class:`${T}-base-loading__container-layer-left`},h$1("svg",{class:`${T}-base-loading__svg`,viewBox:`0 0 ${2*M} ${2*M}`,xmlns:"http://www.w3.org/2000/svg",style:{color:$}},h$1("circle",{fill:"none",stroke:"currentColor","stroke-width":I,"stroke-linecap":"round",cx:M,cy:M,r:R-I/2,"stroke-dasharray":4.91*R,"stroke-dashoffset":2.46*R}))),h$1("div",{class:`${T}-base-loading__container-layer-patch`},h$1("svg",{class:`${T}-base-loading__svg`,viewBox:`0 0 ${2*M} ${2*M}`,xmlns:"http://www.w3.org/2000/svg",style:{color:$}},h$1("circle",{fill:"none",stroke:"currentColor","stroke-width":I,"stroke-linecap":"round",cx:M,cy:M,r:R-I/2,"stroke-dasharray":4.91*R,"stroke-dashoffset":2.46*R}))),h$1("div",{class:`${T}-base-loading__container-layer-right`},h$1("svg",{class:`${T}-base-loading__svg`,viewBox:`0 0 ${2*M} ${2*M}`,xmlns:"http://www.w3.org/2000/svg",style:{color:$}},h$1("circle",{fill:"none",stroke:"currentColor","stroke-width":I,"stroke-linecap":"round",cx:M,cy:M,r:R-I/2,"stroke-dasharray":4.91*R,"stroke-dashoffset":2.46*R})))))):h$1("div",{key:"placeholder",class:`${T}-base-loading__placeholder`},this.$slots)}))}});function toArray(T){return Array.isArray(T)?T:[T]}const TRAVERSE_COMMAND={STOP:"STOP"};function traverseWithCb(T,R){const I=R(T);T.children!==void 0&&I!==TRAVERSE_COMMAND.STOP&&T.children.forEach($=>traverseWithCb($,R))}function getNonLeafKeys(T,R={}){const{preserveGroup:I=!1}=R,$=[],N=I?L=>{L.isLeaf||($.push(L.key),M(L.children))}:L=>{L.isLeaf||(L.isGroup||$.push(L.key),M(L.children))};function M(L){L.forEach(N)}return M(T),$}function isLeaf(T,R){const{isLeaf:I}=T;return I!==void 0?I:!R(T)}function defaultGetChildren(T){return T.children}function defaultGetKey(T){return T.key}function isIgnored(){return!1}function isShallowLoaded(T,R){const{isLeaf:I}=T;return!(I===!1&&!Array.isArray(R(T)))}function isDisabled(T){return T.disabled===!0}function isExpilicitlyNotLoaded(T,R){return T.isLeaf===!1&&!Array.isArray(R(T))}function unwrapCheckedKeys(T){var R;return T==null?[]:Array.isArray(T)?T:(R=T.checkedKeys)!==null&&R!==void 0?R:[]}function unwrapIndeterminateKeys(T){var R;return T==null||Array.isArray(T)?[]:(R=T.indeterminateKeys)!==null&&R!==void 0?R:[]}function merge(T,R){const I=new Set(T);return R.forEach($=>{I.has($)||I.add($)}),Array.from(I)}function minus(T,R){const I=new Set(T);return R.forEach($=>{I.has($)&&I.delete($)}),Array.from(I)}function isGroup(T){return(T==null?void 0:T.type)==="group"}function createIndexGetter(T){const R=new Map;return T.forEach((I,$)=>{R.set(I.key,$)}),I=>{var $;return($=R.get(I))!==null&&$!==void 0?$:null}}class SubtreeNotLoadedError extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function getExtendedCheckedKeySetAfterCheck(T,R,I,$){return getExtendedCheckedKeySet(R.concat(T),I,$,!1)}function getAvailableAscendantNodeSet(T,R){const I=new Set;return T.forEach($=>{const N=R.treeNodeMap.get($);if(N!==void 0){let M=N.parent;for(;M!==null&&!(M.disabled||I.has(M.key));)I.add(M.key),M=M.parent}}),I}function getExtendedCheckedKeySetAfterUncheck(T,R,I,$){const N=getExtendedCheckedKeySet(R,I,$,!1),M=getExtendedCheckedKeySet(T,I,$,!0),L=getAvailableAscendantNodeSet(T,I),B=[];return N.forEach(k=>{(M.has(k)||L.has(k))&&B.push(k)}),B.forEach(k=>N.delete(k)),N}function getCheckedKeys(T,R){const{checkedKeys:I,keysToCheck:$,keysToUncheck:N,indeterminateKeys:M,cascade:L,leafOnly:B,checkStrategy:k,allowNotLoaded:U}=T;if(!L)return $!==void 0?{checkedKeys:merge(I,$),indeterminateKeys:Array.from(M)}:N!==void 0?{checkedKeys:minus(I,N),indeterminateKeys:Array.from(M)}:{checkedKeys:Array.from(I),indeterminateKeys:Array.from(M)};const{levelTreeNodeMap:H}=R;let z;N!==void 0?z=getExtendedCheckedKeySetAfterUncheck(N,I,R,U):$!==void 0?z=getExtendedCheckedKeySetAfterCheck($,I,R,U):z=getExtendedCheckedKeySet(I,R,U,!1);const V=k==="parent",W=k==="child"||B,K=z,Y=new Set,q=Math.max.apply(null,Array.from(H.keys()));for(let Z=q;Z>=0;Z-=1){const Q=Z===0,ee=H.get(Z);for(const ne of ee){if(ne.isLeaf)continue;const{key:te,shallowLoaded:re}=ne;if(W&&re&&ne.children.forEach(he=>{!he.disabled&&!he.isLeaf&&he.shallowLoaded&&K.has(he.key)&&K.delete(he.key)}),ne.disabled||!re)continue;let ie=!0,se=!1,le=!0;for(const he of ne.children){const pe=he.key;if(!he.disabled){if(le&&(le=!1),K.has(pe))se=!0;else if(Y.has(pe)){se=!0,ie=!1;break}else if(ie=!1,se)break}}ie&&!le?(V&&ne.children.forEach(he=>{!he.disabled&&K.has(he.key)&&K.delete(he.key)}),K.add(te)):se&&Y.add(te),Q&&W&&K.has(te)&&K.delete(te)}}return{checkedKeys:Array.from(K),indeterminateKeys:Array.from(Y)}}function getExtendedCheckedKeySet(T,R,I,$){const{treeNodeMap:N,getChildren:M}=R,L=new Set,B=new Set(T);return T.forEach(k=>{const U=N.get(k);U!==void 0&&traverseWithCb(U,H=>{if(H.disabled)return TRAVERSE_COMMAND.STOP;const{key:z}=H;if(!L.has(z)&&(L.add(z),B.add(z),isExpilicitlyNotLoaded(H.rawNode,M))){if($)return TRAVERSE_COMMAND.STOP;if(!I)throw new SubtreeNotLoadedError}})}),B}function getPath(T,{includeGroup:R=!1,includeSelf:I=!0},$){var N;const M=$.treeNodeMap;let L=T==null?null:(N=M.get(T))!==null&&N!==void 0?N:null;const B={keyPath:[],treeNodePath:[],treeNode:L};if(L!=null&&L.ignored)return B.treeNode=null,B;for(;L;)!L.ignored&&(R||!L.isGroup)&&B.treeNodePath.push(L),L=L.parent;return B.treeNodePath.reverse(),I||B.treeNodePath.pop(),B.keyPath=B.treeNodePath.map(k=>k.key),B}function getFirstAvailableNode(T){if(T.length===0)return null;const R=T[0];return R.isGroup||R.ignored||R.disabled?R.getNext():R}function rawGetNext(T,R){const I=T.siblings,$=I.length,{index:N}=T;return R?I[(N+1)%$]:N===I.length-1?null:I[N+1]}function move(T,R,{loop:I=!1,includeDisabled:$=!1}={}){const N=R==="prev"?rawGetPrev:rawGetNext,M={reverse:R==="prev"};let L=!1,B=null;function k(U){if(U!==null){if(U===T){if(!L)L=!0;else if(!T.disabled&&!T.isGroup){B=T;return}}else if((!U.disabled||$)&&!U.ignored&&!U.isGroup){B=U;return}if(U.isGroup){const H=getChild(U,M);H!==null?B=H:k(N(U,I))}else{const H=N(U,!1);if(H!==null)k(H);else{const z=rawGetParent(U);z!=null&&z.isGroup?k(N(z,I)):I&&k(N(U,!0))}}}}return k(T),B}function rawGetPrev(T,R){const I=T.siblings,$=I.length,{index:N}=T;return R?I[(N-1+$)%$]:N===0?null:I[N-1]}function rawGetParent(T){return T.parent}function getChild(T,R={}){const{reverse:I=!1}=R,{children:$}=T;if($){const{length:N}=$,M=I?N-1:0,L=I?-1:N,B=I?-1:1;for(let k=M;k!==L;k+=B){const U=$[k];if(!U.disabled&&!U.ignored)if(U.isGroup){const H=getChild(U,R);if(H!==null)return H}else return U}}return null}const moveMethods={getChild(){return this.ignored?null:getChild(this)},getParent(){const{parent:T}=this;return T!=null&&T.isGroup?T.getParent():T},getNext(T={}){return move(this,"next",T)},getPrev(T={}){return move(this,"prev",T)}};function flatten(T,R){const I=R?new Set(R):void 0,$=[];function N(M){M.forEach(L=>{$.push(L),!(L.isLeaf||!L.children||L.ignored)&&(L.isGroup||I===void 0||I.has(L.key))&&N(L.children)})}return N(T),$}function contains(T,R){const I=T.key;for(;R;){if(R.key===I)return!0;R=R.parent}return!1}function createTreeNodes(T,R,I,$,N,M=null,L=0){const B=[];return T.forEach((k,U)=>{var H;const z=Object.create($);if(z.rawNode=k,z.siblings=B,z.level=L,z.index=U,z.isFirstChild=U===0,z.isLastChild=U+1===T.length,z.parent=M,!z.ignored){const V=N(k);Array.isArray(V)&&(z.children=createTreeNodes(V,R,I,$,N,z,L+1))}B.push(z),R.set(z.key,z),I.has(L)||I.set(L,[]),(H=I.get(L))===null||H===void 0||H.push(z)}),B}function createTreeMate(T,R={}){var I;const $=new Map,N=new Map,{getDisabled:M=isDisabled,getIgnored:L=isIgnored,getIsGroup:B=isGroup,getKey:k=defaultGetKey}=R,U=(I=R.getChildren)!==null&&I!==void 0?I:defaultGetChildren,H=R.ignoreEmptyChildren?ne=>{const te=U(ne);return Array.isArray(te)?te.length?te:null:te}:U,z=Object.assign({get key(){return k(this.rawNode)},get disabled(){return M(this.rawNode)},get isGroup(){return B(this.rawNode)},get isLeaf(){return isLeaf(this.rawNode,H)},get shallowLoaded(){return isShallowLoaded(this.rawNode,H)},get ignored(){return L(this.rawNode)},contains(ne){return contains(this,ne)}},moveMethods),V=createTreeNodes(T,$,N,z,H);function W(ne){if(ne==null)return null;const te=$.get(ne);return te&&!te.isGroup&&!te.ignored?te:null}function K(ne){if(ne==null)return null;const te=$.get(ne);return te&&!te.ignored?te:null}function Y(ne,te){const re=K(ne);return re?re.getPrev(te):null}function q(ne,te){const re=K(ne);return re?re.getNext(te):null}function Z(ne){const te=K(ne);return te?te.getParent():null}function Q(ne){const te=K(ne);return te?te.getChild():null}const ee={treeNodes:V,treeNodeMap:$,levelTreeNodeMap:N,maxLevel:Math.max(...N.keys()),getChildren:H,getFlattenedNodes(ne){return flatten(V,ne)},getNode:W,getPrev:Y,getNext:q,getParent:Z,getChild:Q,getFirstAvailableNode(){return getFirstAvailableNode(V)},getPath(ne,te={}){return getPath(ne,te,ee)},getCheckedKeys(ne,te={}){const{cascade:re=!0,leafOnly:ie=!1,checkStrategy:se="all",allowNotLoaded:le=!1}=te;return getCheckedKeys({checkedKeys:unwrapCheckedKeys(ne),indeterminateKeys:unwrapIndeterminateKeys(ne),cascade:re,leafOnly:ie,checkStrategy:se,allowNotLoaded:le},ee)},check(ne,te,re={}){const{cascade:ie=!0,leafOnly:se=!1,checkStrategy:le="all",allowNotLoaded:he=!1}=re;return getCheckedKeys({checkedKeys:unwrapCheckedKeys(te),indeterminateKeys:unwrapIndeterminateKeys(te),keysToCheck:ne==null?[]:toArray(ne),cascade:ie,leafOnly:se,checkStrategy:le,allowNotLoaded:he},ee)},uncheck(ne,te,re={}){const{cascade:ie=!0,leafOnly:se=!1,checkStrategy:le="all",allowNotLoaded:he=!1}=re;return getCheckedKeys({checkedKeys:unwrapCheckedKeys(te),indeterminateKeys:unwrapIndeterminateKeys(te),keysToUncheck:ne==null?[]:toArray(ne),cascade:ie,leafOnly:se,checkStrategy:le,allowNotLoaded:he},ee)},getNonLeafKeys(ne={}){return getNonLeafKeys(V,ne)}};return ee}const base={neutralBase:"#FFF",neutralInvertBase:"#000",neutralTextBase:"#000",neutralPopover:"#fff",neutralCard:"#fff",neutralModal:"#fff",neutralBody:"#fff",alpha1:"0.82",alpha2:"0.72",alpha3:"0.38",alpha4:"0.24",alpha5:"0.18",alphaClose:"0.6",alphaDisabled:"0.5",alphaDisabledInput:"0.02",alphaPending:"0.05",alphaTablePending:"0.02",alphaPressed:"0.07",alphaAvatar:"0.2",alphaRail:"0.14",alphaProgressRail:".08",alphaBorder:"0.12",alphaDivider:"0.06",alphaInput:"0",alphaAction:"0.02",alphaTab:"0.04",alphaScrollbar:"0.25",alphaScrollbarHover:"0.4",alphaCode:"0.05",alphaTag:"0.02",primaryHover:"#36ad6a",primaryDefault:"#18a058",primaryActive:"#0c7a43",primarySuppl:"#36ad6a",infoHover:"#4098fc",infoDefault:"#2080f0",infoActive:"#1060c9",infoSuppl:"#4098fc",errorHover:"#de576d",errorDefault:"#d03050",errorActive:"#ab1f3f",errorSuppl:"#de576d",warningHover:"#fcb040",warningDefault:"#f0a020",warningActive:"#c97c10",warningSuppl:"#fcb040",successHover:"#36ad6a",successDefault:"#18a058",successActive:"#0c7a43",successSuppl:"#36ad6a"},baseBackgroundRgb=rgba(base.neutralBase),baseInvertBackgroundRgb=rgba(base.neutralInvertBase),overlayPrefix="rgba("+baseInvertBackgroundRgb.slice(0,3).join(", ")+", ";function overlay(T){return overlayPrefix+String(T)+")"}function neutral(T){const R=Array.from(baseInvertBackgroundRgb);return R[3]=Number(T),composite(baseBackgroundRgb,R)}const derived=Object.assign(Object.assign({name:"common"},commonVariables$9),{baseColor:base.neutralBase,primaryColor:base.primaryDefault,primaryColorHover:base.primaryHover,primaryColorPressed:base.primaryActive,primaryColorSuppl:base.primarySuppl,infoColor:base.infoDefault,infoColorHover:base.infoHover,infoColorPressed:base.infoActive,infoColorSuppl:base.infoSuppl,successColor:base.successDefault,successColorHover:base.successHover,successColorPressed:base.successActive,successColorSuppl:base.successSuppl,warningColor:base.warningDefault,warningColorHover:base.warningHover,warningColorPressed:base.warningActive,warningColorSuppl:base.warningSuppl,errorColor:base.errorDefault,errorColorHover:base.errorHover,errorColorPressed:base.errorActive,errorColorSuppl:base.errorSuppl,textColorBase:base.neutralTextBase,textColor1:"rgb(31, 34, 37)",textColor2:"rgb(51, 54, 57)",textColor3:"rgb(118, 124, 130)",textColorDisabled:neutral(base.alpha4),placeholderColor:neutral(base.alpha4),placeholderColorDisabled:neutral(base.alpha5),iconColor:neutral(base.alpha4),iconColorHover:scaleColor(neutral(base.alpha4),{lightness:.75}),iconColorPressed:scaleColor(neutral(base.alpha4),{lightness:.9}),iconColorDisabled:neutral(base.alpha5),opacity1:base.alpha1,opacity2:base.alpha2,opacity3:base.alpha3,opacity4:base.alpha4,opacity5:base.alpha5,dividerColor:"rgb(239, 239, 245)",borderColor:"rgb(224, 224, 230)",closeIconColor:neutral(Number(base.alphaClose)),closeIconColorHover:neutral(Number(base.alphaClose)),closeIconColorPressed:neutral(Number(base.alphaClose)),closeColorHover:"rgba(0, 0, 0, .09)",closeColorPressed:"rgba(0, 0, 0, .13)",clearColor:neutral(base.alpha4),clearColorHover:scaleColor(neutral(base.alpha4),{lightness:.75}),clearColorPressed:scaleColor(neutral(base.alpha4),{lightness:.9}),scrollbarColor:overlay(base.alphaScrollbar),scrollbarColorHover:overlay(base.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:neutral(base.alphaProgressRail),railColor:"rgb(219, 219, 223)",popoverColor:base.neutralPopover,tableColor:base.neutralCard,cardColor:base.neutralCard,modalColor:base.neutralModal,bodyColor:base.neutralBody,tagColor:"#eee",avatarColor:neutral(base.alphaAvatar),invertedColor:"rgb(0, 20, 40)",inputColor:neutral(base.alphaInput),codeColor:"rgb(244, 244, 248)",tabColor:"rgb(247, 247, 250)",actionColor:"rgb(250, 250, 252)",tableHeaderColor:"rgb(250, 250, 252)",hoverColor:"rgb(243, 243, 245)",tableColorHover:"rgba(0, 0, 100, 0.03)",tableColorStriped:"rgba(0, 0, 100, 0.02)",pressedColor:"rgb(237, 237, 239)",opacityDisabled:base.alphaDisabled,inputColorDisabled:"rgb(250, 250, 252)",buttonColor2:"rgba(46, 51, 56, .05)",buttonColor2Hover:"rgba(46, 51, 56, .09)",buttonColor2Pressed:"rgba(46, 51, 56, .13)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),commonLight=derived,commonVars$4={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"},self$k=T=>{const{textColorDisabled:R,iconColor:I,textColor2:$,fontSizeSmall:N,fontSizeMedium:M,fontSizeLarge:L,fontSizeHuge:B}=T;return Object.assign(Object.assign({},commonVars$4),{fontSizeSmall:N,fontSizeMedium:M,fontSizeLarge:L,fontSizeHuge:B,textColor:R,iconColor:I,extraTextColor:$})},emptyLight={name:"Empty",common:commonLight,self:self$k},emptyLight$1=emptyLight,style$m=cB("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[cE("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[c$2("+",[cE("description",`
 margin-top: 8px;
 `)])]),cE("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),cE("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]),emptyProps=Object.assign(Object.assign({},useTheme.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),NEmpty=defineComponent({name:"Empty",props:emptyProps,setup(T){const{mergedClsPrefixRef:R,inlineThemeDisabled:I}=useConfig(T),$=useTheme("Empty","-empty",style$m,emptyLight$1,T,R),{localeRef:N}=useLocale("Empty"),M=inject(configProviderInjectionKey,null),L=computed(()=>{var H,z,V;return(H=T.description)!==null&&H!==void 0?H:(V=(z=M==null?void 0:M.mergedComponentPropsRef.value)===null||z===void 0?void 0:z.Empty)===null||V===void 0?void 0:V.description}),B=computed(()=>{var H,z;return((z=(H=M==null?void 0:M.mergedComponentPropsRef.value)===null||H===void 0?void 0:H.Empty)===null||z===void 0?void 0:z.renderIcon)||(()=>h$1(EmptyIcon,null))}),k=computed(()=>{const{size:H}=T,{common:{cubicBezierEaseInOut:z},self:{[createKey("iconSize",H)]:V,[createKey("fontSize",H)]:W,textColor:K,iconColor:Y,extraTextColor:q}}=$.value;return{"--n-icon-size":V,"--n-font-size":W,"--n-bezier":z,"--n-text-color":K,"--n-icon-color":Y,"--n-extra-text-color":q}}),U=I?useThemeClass("empty",computed(()=>{let H="";const{size:z}=T;return H+=z[0],H}),k,T):void 0;return{mergedClsPrefix:R,mergedRenderIcon:B,localizedDescription:computed(()=>L.value||N.value.description),cssVars:I?void 0:k,themeClass:U==null?void 0:U.themeClass,onRender:U==null?void 0:U.onRender}},render(){const{$slots:T,mergedClsPrefix:R,onRender:I}=this;return I==null||I(),h$1("div",{class:[`${R}-empty`,this.themeClass],style:this.cssVars},this.showIcon?h$1("div",{class:`${R}-empty__icon`},T.icon?T.icon():h$1(NBaseIcon,{clsPrefix:R},{default:this.mergedRenderIcon})):null,this.showDescription?h$1("div",{class:`${R}-empty__description`},T.default?T.default():this.localizedDescription):null,T.extra?h$1("div",{class:`${R}-empty__extra`},T.extra()):null)}}),self$j=T=>{const{scrollbarColor:R,scrollbarColorHover:I}=T;return{color:R,colorHover:I}},scrollbarLight={name:"Scrollbar",common:commonLight,self:self$j},scrollbarLight$1=scrollbarLight,{cubicBezierEaseInOut:cubicBezierEaseInOut$3}=commonVariables$9;function fadeInTransition({name:T="fade-in",enterDuration:R="0.2s",leaveDuration:I="0.2s",enterCubicBezier:$=cubicBezierEaseInOut$3,leaveCubicBezier:N=cubicBezierEaseInOut$3}={}){return[c$2(`&.${T}-transition-enter-active`,{transition:`all ${R} ${$}!important`}),c$2(`&.${T}-transition-leave-active`,{transition:`all ${I} ${N}!important`}),c$2(`&.${T}-transition-enter-from, &.${T}-transition-leave-to`,{opacity:0}),c$2(`&.${T}-transition-leave-from, &.${T}-transition-enter-to`,{opacity:1})]}const style$l=cB("scrollbar",`
 overflow: hidden;
 position: relative;
 z-index: auto;
 height: 100%;
 width: 100%;
`,[c$2(">",[cB("scrollbar-container",`
 width: 100%;
 overflow: scroll;
 height: 100%;
 max-height: inherit;
 scrollbar-width: none;
 `,[c$2("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),c$2(">",[cB("scrollbar-content",`
 box-sizing: border-box;
 min-width: 100%;
 `)])])]),c$2(">, +",[cB("scrollbar-rail",`
 position: absolute;
 pointer-events: none;
 user-select: none;
 -webkit-user-select: none;
 `,[cM("horizontal",`
 left: 2px;
 right: 2px;
 bottom: 4px;
 height: var(--n-scrollbar-height);
 `,[c$2(">",[cE("scrollbar",`
 height: var(--n-scrollbar-height);
 border-radius: var(--n-scrollbar-border-radius);
 right: 0;
 `)])]),cM("vertical",`
 right: 4px;
 top: 2px;
 bottom: 2px;
 width: var(--n-scrollbar-width);
 `,[c$2(">",[cE("scrollbar",`
 width: var(--n-scrollbar-width);
 border-radius: var(--n-scrollbar-border-radius);
 bottom: 0;
 `)])]),cM("disabled",[c$2(">",[cE("scrollbar",{pointerEvents:"none"})])]),c$2(">",[cE("scrollbar",`
 position: absolute;
 cursor: pointer;
 pointer-events: all;
 background-color: var(--n-scrollbar-color);
 transition: background-color .2s var(--n-scrollbar-bezier);
 `,[fadeInTransition(),c$2("&:hover",{backgroundColor:"var(--n-scrollbar-color-hover)"})])])])])]),scrollbarProps=Object.assign(Object.assign({},useTheme.props),{size:{type:Number,default:5},duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,trigger:{type:String,default:"hover"},useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:String,contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function,internalHoistYRail:Boolean}),Scrollbar=defineComponent({name:"Scrollbar",props:scrollbarProps,inheritAttrs:!1,setup(T){const{mergedClsPrefixRef:R,inlineThemeDisabled:I,mergedRtlRef:$}=useConfig(T),N=useRtl("Scrollbar",$,R),M=ref(null),L=ref(null),B=ref(null),k=ref(null),U=ref(null),H=ref(null),z=ref(null),V=ref(null),W=ref(null),K=ref(null),Y=ref(null),q=ref(0),Z=ref(0),Q=ref(!1),ee=ref(!1);let ne=!1,te=!1,re,ie,se=0,le=0,he=0,pe=0;const fe=useIsIos(),Se=computed(()=>{const{value:_e}=V,{value:Ge}=H,{value:rt}=K;return _e===null||Ge===null||rt===null?0:Math.min(_e,rt*_e/Ge+T.size*1.5)}),Pe=computed(()=>`${Se.value}px`),ye=computed(()=>{const{value:_e}=W,{value:Ge}=z,{value:rt}=Y;return _e===null||Ge===null||rt===null?0:rt*_e/Ge+T.size*1.5}),we=computed(()=>`${ye.value}px`),Ee=computed(()=>{const{value:_e}=V,{value:Ge}=q,{value:rt}=H,{value:dt}=K;if(_e===null||rt===null||dt===null)return 0;{const pt=rt-_e;return pt?Ge/pt*(dt-Se.value):0}}),He=computed(()=>`${Ee.value}px`),Ae=computed(()=>{const{value:_e}=W,{value:Ge}=Z,{value:rt}=z,{value:dt}=Y;if(_e===null||rt===null||dt===null)return 0;{const pt=rt-_e;return pt?Ge/pt*(dt-ye.value):0}}),de=computed(()=>`${Ae.value}px`),Oe=computed(()=>{const{value:_e}=V,{value:Ge}=H;return _e!==null&&Ge!==null&&Ge>_e}),Ve=computed(()=>{const{value:_e}=W,{value:Ge}=z;return _e!==null&&Ge!==null&&Ge>_e}),Ze=computed(()=>{const{trigger:_e}=T;return _e==="none"||Q.value}),nt=computed(()=>{const{trigger:_e}=T;return _e==="none"||ee.value}),xe=computed(()=>{const{container:_e}=T;return _e?_e():L.value}),Le=computed(()=>{const{content:_e}=T;return _e?_e():B.value}),Ue=useReactivated(()=>{T.container||st({top:q.value,left:Z.value})}),Xe=()=>{Ue.isDeactivated||ot()},je=_e=>{if(Ue.isDeactivated)return;const{onResize:Ge}=T;Ge&&Ge(_e),ot()},st=(_e,Ge)=>{if(!T.scrollable)return;if(typeof _e=="number"){Qe(Ge!=null?Ge:0,_e,0,!1,"auto");return}const{left:rt,top:dt,index:pt,elSize:gt,position:yt,behavior:Tt,el:Jt,debounce:fn=!0}=_e;(rt!==void 0||dt!==void 0)&&Qe(rt!=null?rt:0,dt!=null?dt:0,0,!1,Tt),Jt!==void 0?Qe(0,Jt.offsetTop,Jt.offsetHeight,fn,Tt):pt!==void 0&&gt!==void 0?Qe(0,pt*gt,gt,fn,Tt):yt==="bottom"?Qe(0,Number.MAX_SAFE_INTEGER,0,!1,Tt):yt==="top"&&Qe(0,0,0,!1,Tt)},Ye=(_e,Ge)=>{if(!T.scrollable)return;const{value:rt}=xe;!rt||(typeof _e=="object"?rt.scrollBy(_e):rt.scrollBy(_e,Ge||0))};function Qe(_e,Ge,rt,dt,pt){const{value:gt}=xe;if(!!gt){if(dt){const{scrollTop:yt,offsetHeight:Tt}=gt;if(Ge>yt){Ge+rt<=yt+Tt||gt.scrollTo({left:_e,top:Ge+rt-Tt,behavior:pt});return}}gt.scrollTo({left:_e,top:Ge,behavior:pt})}}function ce(){Be(),We(),ot()}function ge(){Re()}function Re(){ke(),be()}function ke(){ie!==void 0&&window.clearTimeout(ie),ie=window.setTimeout(()=>{ee.value=!1},T.duration)}function be(){re!==void 0&&window.clearTimeout(re),re=window.setTimeout(()=>{Q.value=!1},T.duration)}function Be(){re!==void 0&&window.clearTimeout(re),Q.value=!0}function We(){ie!==void 0&&window.clearTimeout(ie),ee.value=!0}function Fe(_e){const{onScroll:Ge}=T;Ge&&Ge(_e),Te()}function Te(){const{value:_e}=xe;_e&&(q.value=_e.scrollTop,Z.value=_e.scrollLeft*(N!=null&&N.value?-1:1))}function Ie(){const{value:_e}=Le;_e&&(H.value=_e.offsetHeight,z.value=_e.offsetWidth);const{value:Ge}=xe;Ge&&(V.value=Ge.offsetHeight,W.value=Ge.offsetWidth);const{value:rt}=U,{value:dt}=k;rt&&(Y.value=rt.offsetWidth),dt&&(K.value=dt.offsetHeight)}function tt(){const{value:_e}=xe;_e&&(q.value=_e.scrollTop,Z.value=_e.scrollLeft*(N!=null&&N.value?-1:1),V.value=_e.offsetHeight,W.value=_e.offsetWidth,H.value=_e.scrollHeight,z.value=_e.scrollWidth);const{value:Ge}=U,{value:rt}=k;Ge&&(Y.value=Ge.offsetWidth),rt&&(K.value=rt.offsetHeight)}function ot(){!T.scrollable||(T.useUnifiedContainer?tt():(Ie(),Te()))}function lt(_e){var Ge;return!(!((Ge=M.value)===null||Ge===void 0)&&Ge.contains(_e.target))}function ft(_e){_e.preventDefault(),_e.stopPropagation(),te=!0,on("mousemove",window,mt,!0),on("mouseup",window,wt,!0),le=Z.value,he=N!=null&&N.value?window.innerWidth-_e.clientX:_e.clientX}function mt(_e){if(!te)return;re!==void 0&&window.clearTimeout(re),ie!==void 0&&window.clearTimeout(ie);const{value:Ge}=W,{value:rt}=z,{value:dt}=ye;if(Ge===null||rt===null)return;const gt=(N!=null&&N.value?window.innerWidth-_e.clientX-he:_e.clientX-he)*(rt-Ge)/(Ge-dt),yt=rt-Ge;let Tt=le+gt;Tt=Math.min(yt,Tt),Tt=Math.max(Tt,0);const{value:Jt}=xe;if(Jt){Jt.scrollLeft=Tt*(N!=null&&N.value?-1:1);const{internalOnUpdateScrollLeft:fn}=T;fn&&fn(Tt)}}function wt(_e){_e.preventDefault(),_e.stopPropagation(),off("mousemove",window,mt,!0),off("mouseup",window,wt,!0),te=!1,ot(),lt(_e)&&Re()}function St(_e){_e.preventDefault(),_e.stopPropagation(),ne=!0,on("mousemove",window,Rt,!0),on("mouseup",window,Mt,!0),se=q.value,pe=_e.clientY}function Rt(_e){if(!ne)return;re!==void 0&&window.clearTimeout(re),ie!==void 0&&window.clearTimeout(ie);const{value:Ge}=V,{value:rt}=H,{value:dt}=Se;if(Ge===null||rt===null)return;const gt=(_e.clientY-pe)*(rt-Ge)/(Ge-dt),yt=rt-Ge;let Tt=se+gt;Tt=Math.min(yt,Tt),Tt=Math.max(Tt,0);const{value:Jt}=xe;Jt&&(Jt.scrollTop=Tt)}function Mt(_e){_e.preventDefault(),_e.stopPropagation(),off("mousemove",window,Rt,!0),off("mouseup",window,Mt,!0),ne=!1,ot(),lt(_e)&&Re()}watchEffect(()=>{const{value:_e}=Ve,{value:Ge}=Oe,{value:rt}=R,{value:dt}=U,{value:pt}=k;dt&&(_e?dt.classList.remove(`${rt}-scrollbar-rail--disabled`):dt.classList.add(`${rt}-scrollbar-rail--disabled`)),pt&&(Ge?pt.classList.remove(`${rt}-scrollbar-rail--disabled`):pt.classList.add(`${rt}-scrollbar-rail--disabled`))}),onMounted(()=>{T.container||ot()}),onBeforeUnmount(()=>{re!==void 0&&window.clearTimeout(re),ie!==void 0&&window.clearTimeout(ie),off("mousemove",window,Rt,!0),off("mouseup",window,Mt,!0)});const rn=useTheme("Scrollbar","-scrollbar",style$l,scrollbarLight$1,T,R),Xt=computed(()=>{const{common:{cubicBezierEaseInOut:_e,scrollbarBorderRadius:Ge,scrollbarHeight:rt,scrollbarWidth:dt},self:{color:pt,colorHover:gt}}=rn.value;return{"--n-scrollbar-bezier":_e,"--n-scrollbar-color":pt,"--n-scrollbar-color-hover":gt,"--n-scrollbar-border-radius":Ge,"--n-scrollbar-width":dt,"--n-scrollbar-height":rt}}),Dt=I?useThemeClass("scrollbar",void 0,Xt,T):void 0;return Object.assign(Object.assign({},{scrollTo:st,scrollBy:Ye,sync:ot,syncUnifiedContainer:tt,handleMouseEnterWrapper:ce,handleMouseLeaveWrapper:ge}),{mergedClsPrefix:R,rtlEnabled:N,containerScrollTop:q,wrapperRef:M,containerRef:L,contentRef:B,yRailRef:k,xRailRef:U,needYBar:Oe,needXBar:Ve,yBarSizePx:Pe,xBarSizePx:we,yBarTopPx:He,xBarLeftPx:de,isShowXBar:Ze,isShowYBar:nt,isIos:fe,handleScroll:Fe,handleContentResize:Xe,handleContainerResize:je,handleYScrollMouseDown:St,handleXScrollMouseDown:ft,cssVars:I?void 0:Xt,themeClass:Dt==null?void 0:Dt.themeClass,onRender:Dt==null?void 0:Dt.onRender})},render(){var T;const{$slots:R,mergedClsPrefix:I,triggerDisplayManually:$,rtlEnabled:N,internalHoistYRail:M}=this;if(!this.scrollable)return(T=R.default)===null||T===void 0?void 0:T.call(R);const L=this.trigger==="none",B=()=>h$1("div",{ref:"yRailRef",class:[`${I}-scrollbar-rail`,`${I}-scrollbar-rail--vertical`],"data-scrollbar-rail":!0,style:this.verticalRailStyle,"aria-hidden":!0},h$1(L?Wrapper:Transition,L?null:{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?h$1("div",{class:`${I}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),k=()=>{var H,z;return(H=this.onRender)===null||H===void 0||H.call(this),h$1("div",mergeProps(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${I}-scrollbar`,this.themeClass,N&&`${I}-scrollbar--rtl`],style:this.cssVars,onMouseenter:$?void 0:this.handleMouseEnterWrapper,onMouseleave:$?void 0:this.handleMouseLeaveWrapper}),[this.container?(z=R.default)===null||z===void 0?void 0:z.call(R):h$1("div",{role:"none",ref:"containerRef",class:[`${I}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},h$1(VResizeObserver,{onResize:this.handleContentResize},{default:()=>h$1("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${I}-scrollbar-content`,this.contentClass]},R)})),M?null:B(),this.xScrollable&&h$1("div",{ref:"xRailRef",class:[`${I}-scrollbar-rail`,`${I}-scrollbar-rail--horizontal`],style:this.horizontalRailStyle,"data-scrollbar-rail":!0,"aria-hidden":!0},h$1(L?Wrapper:Transition,L?null:{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?h$1("div",{class:`${I}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,right:N?this.xBarLeftPx:void 0,left:N?void 0:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])},U=this.container?k():h$1(VResizeObserver,{onResize:this.handleContainerResize},{default:k});return M?h$1(Fragment,null,U,B()):U}}),NScrollbar=Scrollbar,XScrollbar=Scrollbar,commonVariables$8={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"},self$i=T=>{const{borderRadius:R,popoverColor:I,textColor3:$,dividerColor:N,textColor2:M,primaryColorPressed:L,textColorDisabled:B,primaryColor:k,opacityDisabled:U,hoverColor:H,fontSizeSmall:z,fontSizeMedium:V,fontSizeLarge:W,fontSizeHuge:K,heightSmall:Y,heightMedium:q,heightLarge:Z,heightHuge:Q}=T;return Object.assign(Object.assign({},commonVariables$8),{optionFontSizeSmall:z,optionFontSizeMedium:V,optionFontSizeLarge:W,optionFontSizeHuge:K,optionHeightSmall:Y,optionHeightMedium:q,optionHeightLarge:Z,optionHeightHuge:Q,borderRadius:R,color:I,groupHeaderTextColor:$,actionDividerColor:N,optionTextColor:M,optionTextColorPressed:L,optionTextColorDisabled:B,optionTextColorActive:k,optionOpacityDisabled:U,optionCheckColor:k,optionColorPending:H,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:H,actionTextColor:M,loadingColor:k})},internalSelectMenuLight={name:"InternalSelectMenu",common:commonLight,peers:{Scrollbar:scrollbarLight$1,Empty:emptyLight$1},self:self$i},internalSelectMenuLight$1=internalSelectMenuLight,checkMarkIcon=h$1(FinishedIcon);function renderCheckMark(T,R){return h$1(Transition,{name:"fade-in-scale-up-transition"},{default:()=>T?h$1(NBaseIcon,{clsPrefix:R,class:`${R}-base-select-option__check`},{default:()=>checkMarkIcon}):null})}const NSelectOption=defineComponent({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(T){const{valueRef:R,pendingTmNodeRef:I,multipleRef:$,valueSetRef:N,renderLabelRef:M,renderOptionRef:L,labelFieldRef:B,valueFieldRef:k,showCheckmarkRef:U,nodePropsRef:H,handleOptionClick:z,handleOptionMouseEnter:V}=inject(internalSelectionMenuInjectionKey),W=useMemo(()=>{const{value:Z}=I;return Z?T.tmNode.key===Z.key:!1});function K(Z){const{tmNode:Q}=T;Q.disabled||z(Z,Q)}function Y(Z){const{tmNode:Q}=T;Q.disabled||V(Z,Q)}function q(Z){const{tmNode:Q}=T,{value:ee}=W;Q.disabled||ee||V(Z,Q)}return{multiple:$,isGrouped:useMemo(()=>{const{tmNode:Z}=T,{parent:Q}=Z;return Q&&Q.rawNode.type==="group"}),showCheckmark:U,nodeProps:H,isPending:W,isSelected:useMemo(()=>{const{value:Z}=R,{value:Q}=$;if(Z===null)return!1;const ee=T.tmNode.rawNode[k.value];if(Q){const{value:ne}=N;return ne.has(ee)}else return Z===ee}),labelField:B,renderLabel:M,renderOption:L,handleMouseMove:q,handleMouseEnter:Y,handleClick:K}},render(){const{clsPrefix:T,tmNode:{rawNode:R},isSelected:I,isPending:$,isGrouped:N,showCheckmark:M,nodeProps:L,renderOption:B,renderLabel:k,handleClick:U,handleMouseEnter:H,handleMouseMove:z}=this,V=renderCheckMark(I,T),W=k?[k(R,I),M&&V]:[render$4(R[this.labelField],R,I),M&&V],K=L==null?void 0:L(R),Y=h$1("div",Object.assign({},K,{class:[`${T}-base-select-option`,R.class,K==null?void 0:K.class,{[`${T}-base-select-option--disabled`]:R.disabled,[`${T}-base-select-option--selected`]:I,[`${T}-base-select-option--grouped`]:N,[`${T}-base-select-option--pending`]:$,[`${T}-base-select-option--show-checkmark`]:M}],style:[(K==null?void 0:K.style)||"",R.style||""],onClick:mergeEventHandlers([U,K==null?void 0:K.onClick]),onMouseenter:mergeEventHandlers([H,K==null?void 0:K.onMouseenter]),onMousemove:mergeEventHandlers([z,K==null?void 0:K.onMousemove])}),h$1("div",{class:`${T}-base-select-option__content`},W));return R.render?R.render({node:Y,option:R,selected:I}):B?B({node:Y,option:R,selected:I}):Y}}),NSelectGroupHeader=defineComponent({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:T,renderOptionRef:R,labelFieldRef:I,nodePropsRef:$}=inject(internalSelectionMenuInjectionKey);return{labelField:I,nodeProps:$,renderLabel:T,renderOption:R}},render(){const{clsPrefix:T,renderLabel:R,renderOption:I,nodeProps:$,tmNode:{rawNode:N}}=this,M=$==null?void 0:$(N),L=R?R(N,!1):render$4(N[this.labelField],N,!1),B=h$1("div",Object.assign({},M,{class:[`${T}-base-select-group-header`,M==null?void 0:M.class]}),L);return N.render?N.render({node:B,option:N}):I?I({node:B,option:N,selected:!1}):B}}),{cubicBezierEaseIn:cubicBezierEaseIn$1,cubicBezierEaseOut:cubicBezierEaseOut$1}=commonVariables$9;function fadeInScaleUpTransition({transformOrigin:T="inherit",duration:R=".2s",enterScale:I=".9",originalTransform:$="",originalTransition:N=""}={}){return[c$2("&.fade-in-scale-up-transition-leave-active",{transformOrigin:T,transition:`opacity ${R} ${cubicBezierEaseIn$1}, transform ${R} ${cubicBezierEaseIn$1} ${N&&","+N}`}),c$2("&.fade-in-scale-up-transition-enter-active",{transformOrigin:T,transition:`opacity ${R} ${cubicBezierEaseOut$1}, transform ${R} ${cubicBezierEaseOut$1} ${N&&","+N}`}),c$2("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:`${$} scale(${I})`}),c$2("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:`${$} scale(1)`})]}const style$k=cB("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[cB("scrollbar",`
 max-height: var(--n-height);
 `),cB("virtual-list",`
 max-height: var(--n-height);
 `),cB("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[cE("content",`
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),cB("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),cB("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),cE("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),cE("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),cE("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),cB("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),cB("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[cM("show-checkmark",`
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `),c$2("&::before",`
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),c$2("&:active",`
 color: var(--n-option-text-color-pressed);
 `),cM("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),cM("pending",[c$2("&::before",`
 background-color: var(--n-option-color-pending);
 `)]),cM("selected",`
 color: var(--n-option-text-color-active);
 `,[c$2("&::before",`
 background-color: var(--n-option-color-active);
 `),cM("pending",[c$2("&::before",`
 background-color: var(--n-option-color-active-pending);
 `)])]),cM("disabled",`
 cursor: not-allowed;
 `,[cNotM("selected",`
 color: var(--n-option-text-color-disabled);
 `),cM("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),cE("check",`
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[fadeInScaleUpTransition({enterScale:"0.5"})])])]),NInternalSelectMenu=defineComponent({name:"InternalSelectMenu",props:Object.assign(Object.assign({},useTheme.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(T){const R=useTheme("InternalSelectMenu","-internal-select-menu",style$k,internalSelectMenuLight$1,T,toRef(T,"clsPrefix")),I=ref(null),$=ref(null),N=ref(null),M=computed(()=>T.treeMate.getFlattenedNodes()),L=computed(()=>createIndexGetter(M.value)),B=ref(null);function k(){const{treeMate:Ae}=T;let de=null;const{value:Oe}=T;Oe===null?de=Ae.getFirstAvailableNode():(T.multiple?de=Ae.getNode((Oe||[])[(Oe||[]).length-1]):de=Ae.getNode(Oe),(!de||de.disabled)&&(de=Ae.getFirstAvailableNode())),pe(de||null)}function U(){const{value:Ae}=B;Ae&&!T.treeMate.getNode(Ae.key)&&(B.value=null)}let H;watch(()=>T.show,Ae=>{Ae?H=watch(()=>T.treeMate,()=>{T.resetMenuOnOptionsChange?(T.autoPending?k():U(),nextTick(fe)):U()},{immediate:!0}):H==null||H()},{immediate:!0}),onBeforeUnmount(()=>{H==null||H()});const z=computed(()=>depx(R.value.self[createKey("optionHeight",T.size)])),V=computed(()=>getMargin(R.value.self[createKey("padding",T.size)])),W=computed(()=>T.multiple&&Array.isArray(T.value)?new Set(T.value):new Set),K=computed(()=>{const Ae=M.value;return Ae&&Ae.length===0});function Y(Ae){const{onToggle:de}=T;de&&de(Ae)}function q(Ae){const{onScroll:de}=T;de&&de(Ae)}function Z(Ae){var de;(de=N.value)===null||de===void 0||de.sync(),q(Ae)}function Q(){var Ae;(Ae=N.value)===null||Ae===void 0||Ae.sync()}function ee(){const{value:Ae}=B;return Ae||null}function ne(Ae,de){de.disabled||pe(de,!1)}function te(Ae,de){de.disabled||Y(de)}function re(Ae){var de;happensIn(Ae,"action")||(de=T.onKeyup)===null||de===void 0||de.call(T,Ae)}function ie(Ae){var de;happensIn(Ae,"action")||(de=T.onKeydown)===null||de===void 0||de.call(T,Ae)}function se(Ae){var de;(de=T.onMousedown)===null||de===void 0||de.call(T,Ae),!T.focusable&&Ae.preventDefault()}function le(){const{value:Ae}=B;Ae&&pe(Ae.getNext({loop:!0}),!0)}function he(){const{value:Ae}=B;Ae&&pe(Ae.getPrev({loop:!0}),!0)}function pe(Ae,de=!1){B.value=Ae,de&&fe()}function fe(){var Ae,de;const Oe=B.value;if(!Oe)return;const Ve=L.value(Oe.key);Ve!==null&&(T.virtualScroll?(Ae=$.value)===null||Ae===void 0||Ae.scrollTo({index:Ve}):(de=N.value)===null||de===void 0||de.scrollTo({index:Ve,elSize:z.value}))}function Se(Ae){var de,Oe;!((de=I.value)===null||de===void 0)&&de.contains(Ae.target)&&((Oe=T.onFocus)===null||Oe===void 0||Oe.call(T,Ae))}function Pe(Ae){var de,Oe;!((de=I.value)===null||de===void 0)&&de.contains(Ae.relatedTarget)||(Oe=T.onBlur)===null||Oe===void 0||Oe.call(T,Ae)}provide(internalSelectionMenuInjectionKey,{handleOptionMouseEnter:ne,handleOptionClick:te,valueSetRef:W,pendingTmNodeRef:B,nodePropsRef:toRef(T,"nodeProps"),showCheckmarkRef:toRef(T,"showCheckmark"),multipleRef:toRef(T,"multiple"),valueRef:toRef(T,"value"),renderLabelRef:toRef(T,"renderLabel"),renderOptionRef:toRef(T,"renderOption"),labelFieldRef:toRef(T,"labelField"),valueFieldRef:toRef(T,"valueField")}),provide(internalSelectionMenuBodyInjectionKey,I),onMounted(()=>{const{value:Ae}=N;Ae&&Ae.sync()});const ye=computed(()=>{const{size:Ae}=T,{common:{cubicBezierEaseInOut:de},self:{height:Oe,borderRadius:Ve,color:Ze,groupHeaderTextColor:nt,actionDividerColor:xe,optionTextColorPressed:Le,optionTextColor:Ue,optionTextColorDisabled:Xe,optionTextColorActive:je,optionOpacityDisabled:st,optionCheckColor:Ye,actionTextColor:Qe,optionColorPending:ce,optionColorActive:ge,loadingColor:Re,loadingSize:ke,optionColorActivePending:be,[createKey("optionFontSize",Ae)]:Be,[createKey("optionHeight",Ae)]:We,[createKey("optionPadding",Ae)]:Fe}}=R.value;return{"--n-height":Oe,"--n-action-divider-color":xe,"--n-action-text-color":Qe,"--n-bezier":de,"--n-border-radius":Ve,"--n-color":Ze,"--n-option-font-size":Be,"--n-group-header-text-color":nt,"--n-option-check-color":Ye,"--n-option-color-pending":ce,"--n-option-color-active":ge,"--n-option-color-active-pending":be,"--n-option-height":We,"--n-option-opacity-disabled":st,"--n-option-text-color":Ue,"--n-option-text-color-active":je,"--n-option-text-color-disabled":Xe,"--n-option-text-color-pressed":Le,"--n-option-padding":Fe,"--n-option-padding-left":getMargin(Fe,"left"),"--n-option-padding-right":getMargin(Fe,"right"),"--n-loading-color":Re,"--n-loading-size":ke}}),{inlineThemeDisabled:we}=T,Ee=we?useThemeClass("internal-select-menu",computed(()=>T.size[0]),ye,T):void 0,He={selfRef:I,next:le,prev:he,getPendingTmNode:ee};return useOnResize(I,T.onResize),Object.assign({mergedTheme:R,virtualListRef:$,scrollbarRef:N,itemSize:z,padding:V,flattenedNodes:M,empty:K,virtualListContainer(){const{value:Ae}=$;return Ae==null?void 0:Ae.listElRef},virtualListContent(){const{value:Ae}=$;return Ae==null?void 0:Ae.itemsElRef},doScroll:q,handleFocusin:Se,handleFocusout:Pe,handleKeyUp:re,handleKeyDown:ie,handleMouseDown:se,handleVirtualListResize:Q,handleVirtualListScroll:Z,cssVars:we?void 0:ye,themeClass:Ee==null?void 0:Ee.themeClass,onRender:Ee==null?void 0:Ee.onRender},He)},render(){const{$slots:T,virtualScroll:R,clsPrefix:I,mergedTheme:$,themeClass:N,onRender:M}=this;return M==null||M(),h$1("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${I}-base-select-menu`,N,this.multiple&&`${I}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},this.loading?h$1("div",{class:`${I}-base-select-menu__loading`},h$1(NBaseLoading,{clsPrefix:I,strokeWidth:20})):this.empty?h$1("div",{class:`${I}-base-select-menu__empty`,"data-empty":!0},resolveSlot(T.empty,()=>[h$1(NEmpty,{theme:$.peers.Empty,themeOverrides:$.peerOverrides.Empty})])):h$1(NScrollbar,{ref:"scrollbarRef",theme:$.peers.Scrollbar,themeOverrides:$.peerOverrides.Scrollbar,scrollable:this.scrollable,container:R?this.virtualListContainer:void 0,content:R?this.virtualListContent:void 0,onScroll:R?void 0:this.doScroll},{default:()=>R?h$1(VVirtualList,{ref:"virtualListRef",class:`${I}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:L})=>L.isGroup?h$1(NSelectGroupHeader,{key:L.key,clsPrefix:I,tmNode:L}):L.ignored?null:h$1(NSelectOption,{clsPrefix:I,key:L.key,tmNode:L})}):h$1("div",{class:`${I}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(L=>L.isGroup?h$1(NSelectGroupHeader,{key:L.key,clsPrefix:I,tmNode:L}):h$1(NSelectOption,{clsPrefix:I,key:L.key,tmNode:L})))}),resolveWrappedSlot(T.action,L=>L&&[h$1("div",{class:`${I}-base-select-menu__action`,"data-action":!0,key:"action"},L),h$1(FocusDetector,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),style$j=cB("base-wave",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
`),NBaseWave=defineComponent({name:"BaseWave",props:{clsPrefix:{type:String,required:!0}},setup(T){useStyle("-base-wave",style$j,toRef(T,"clsPrefix"));const R=ref(null),I=ref(!1);let $=null;return onBeforeUnmount(()=>{$!==null&&window.clearTimeout($)}),{active:I,selfRef:R,play(){$!==null&&(window.clearTimeout($),I.value=!1,$=null),nextTick(()=>{var N;(N=R.value)===null||N===void 0||N.offsetHeight,I.value=!0,$=window.setTimeout(()=>{I.value=!1,$=null},1e3)})}}},render(){const{clsPrefix:T}=this;return h$1("div",{ref:"selfRef","aria-hidden":!0,class:[`${T}-base-wave`,this.active&&`${T}-base-wave--active`]})}}),commonVariables$7={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"},self$h=T=>{const{boxShadow2:R,popoverColor:I,textColor2:$,borderRadius:N,fontSize:M,dividerColor:L}=T;return Object.assign(Object.assign({},commonVariables$7),{fontSize:M,borderRadius:N,color:I,dividerColor:L,textColor:$,boxShadow:R})},popoverLight={name:"Popover",common:commonLight,self:self$h},popoverLight$1=popoverLight,oppositePlacement={top:"bottom",bottom:"top",left:"right",right:"left"},arrowSize="var(--n-arrow-height) * 1.414",style$i=c$2([cB("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 `,[c$2(">",[cB("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),cNotM("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[cNotM("scrollable",[cNotM("show-header-or-footer","padding: var(--n-padding);")])]),cE("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),cE("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),cM("scrollable, show-header-or-footer",[cE("content",`
 padding: var(--n-padding);
 `)])]),cB("popover-shared",`
 transform-origin: inherit;
 `,[cB("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[cB("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${arrowSize});
 height: calc(${arrowSize});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),c$2("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),c$2("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),c$2("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),c$2("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),placementStyle("top-start",`
 top: calc(${arrowSize} / -2);
 left: calc(${getArrowOffset("top-start")} - var(--v-offset-left));
 `),placementStyle("top",`
 top: calc(${arrowSize} / -2);
 transform: translateX(calc(${arrowSize} / -2)) rotate(45deg);
 left: 50%;
 `),placementStyle("top-end",`
 top: calc(${arrowSize} / -2);
 right: calc(${getArrowOffset("top-end")} + var(--v-offset-left));
 `),placementStyle("bottom-start",`
 bottom: calc(${arrowSize} / -2);
 left: calc(${getArrowOffset("bottom-start")} - var(--v-offset-left));
 `),placementStyle("bottom",`
 bottom: calc(${arrowSize} / -2);
 transform: translateX(calc(${arrowSize} / -2)) rotate(45deg);
 left: 50%;
 `),placementStyle("bottom-end",`
 bottom: calc(${arrowSize} / -2);
 right: calc(${getArrowOffset("bottom-end")} + var(--v-offset-left));
 `),placementStyle("left-start",`
 left: calc(${arrowSize} / -2);
 top: calc(${getArrowOffset("left-start")} - var(--v-offset-top));
 `),placementStyle("left",`
 left: calc(${arrowSize} / -2);
 transform: translateY(calc(${arrowSize} / -2)) rotate(45deg);
 top: 50%;
 `),placementStyle("left-end",`
 left: calc(${arrowSize} / -2);
 bottom: calc(${getArrowOffset("left-end")} + var(--v-offset-top));
 `),placementStyle("right-start",`
 right: calc(${arrowSize} / -2);
 top: calc(${getArrowOffset("right-start")} - var(--v-offset-top));
 `),placementStyle("right",`
 right: calc(${arrowSize} / -2);
 transform: translateY(calc(${arrowSize} / -2)) rotate(45deg);
 top: 50%;
 `),placementStyle("right-end",`
 right: calc(${arrowSize} / -2);
 bottom: calc(${getArrowOffset("right-end")} + var(--v-offset-top));
 `),...map({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(T,R)=>{const I=["right","left"].includes(R),$=I?"width":"height";return T.map(N=>{const M=N.split("-")[1]==="end",B=`calc((${`var(--v-target-${$}, 0px)`} - ${arrowSize}) / 2)`,k=getArrowOffset(N);return c$2(`[v-placement="${N}"] >`,[cB("popover-shared",[cM("center-arrow",[cB("popover-arrow",`${R}: calc(max(${B}, ${k}) ${M?"+":"-"} var(--v-offset-${I?"left":"top"}));`)])])])})})]);function getArrowOffset(T){return["top","bottom"].includes(T.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function placementStyle(T,R){const I=T.split("-")[0],$=["top","bottom"].includes(I)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return c$2(`[v-placement="${T}"] >`,[cB("popover-shared",`
 margin-${oppositePlacement[I]}: var(--n-space);
 `,[cM("show-arrow",`
 margin-${oppositePlacement[I]}: var(--n-space-arrow);
 `),cM("overlap",`
 margin: 0;
 `),cCB("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${I}: 100%;
 ${oppositePlacement[I]}: auto;
 ${$}
 `,[cB("popover-arrow",R)])])])}const popoverBodyProps=Object.assign(Object.assign({},useTheme.props),{to:useAdjustedTo.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number}),renderArrow=({arrowStyle:T,clsPrefix:R})=>h$1("div",{key:"__popover-arrow__",class:`${R}-popover-arrow-wrapper`},h$1("div",{class:`${R}-popover-arrow`,style:T})),NPopoverBody=defineComponent({name:"PopoverBody",inheritAttrs:!1,props:popoverBodyProps,setup(T,{slots:R,attrs:I}){const{namespaceRef:$,mergedClsPrefixRef:N,inlineThemeDisabled:M}=useConfig(T),L=useTheme("Popover","-popover",style$i,popoverLight$1,T,N),B=ref(null),k=inject("NPopover"),U=ref(null),H=ref(T.show),z=ref(!1);watchEffect(()=>{const{show:ie}=T;ie&&!isJsdom()&&!T.internalDeactivateImmediately&&(z.value=!0)});const V=computed(()=>{const{trigger:ie,onClickoutside:se}=T,le=[],{positionManuallyRef:{value:he}}=k;return he||(ie==="click"&&!se&&le.push([clickoutside$1,ne,void 0,{capture:!0}]),ie==="hover"&&le.push([mousemoveoutside$1,ee])),se&&le.push([clickoutside$1,ne,void 0,{capture:!0}]),(T.displayDirective==="show"||T.animated&&z.value)&&le.push([vShow,T.show]),le}),W=computed(()=>{const ie=T.width==="trigger"?void 0:formatLength(T.width),se=[];ie&&se.push({width:ie});const{maxWidth:le,minWidth:he}=T;return le&&se.push({maxWidth:formatLength(le)}),he&&se.push({maxWidth:formatLength(he)}),M||se.push(K.value),se}),K=computed(()=>{const{common:{cubicBezierEaseInOut:ie,cubicBezierEaseIn:se,cubicBezierEaseOut:le},self:{space:he,spaceArrow:pe,padding:fe,fontSize:Se,textColor:Pe,dividerColor:ye,color:we,boxShadow:Ee,borderRadius:He,arrowHeight:Ae,arrowOffset:de,arrowOffsetVertical:Oe}}=L.value;return{"--n-box-shadow":Ee,"--n-bezier":ie,"--n-bezier-ease-in":se,"--n-bezier-ease-out":le,"--n-font-size":Se,"--n-text-color":Pe,"--n-color":we,"--n-divider-color":ye,"--n-border-radius":He,"--n-arrow-height":Ae,"--n-arrow-offset":de,"--n-arrow-offset-vertical":Oe,"--n-padding":fe,"--n-space":he,"--n-space-arrow":pe}}),Y=M?useThemeClass("popover",void 0,K,T):void 0;k.setBodyInstance({syncPosition:q}),onBeforeUnmount(()=>{k.setBodyInstance(null)}),watch(toRef(T,"show"),ie=>{T.animated||(ie?H.value=!0:H.value=!1)});function q(){var ie;(ie=B.value)===null||ie===void 0||ie.syncPosition()}function Z(ie){T.trigger==="hover"&&T.keepAliveOnHover&&T.show&&k.handleMouseEnter(ie)}function Q(ie){T.trigger==="hover"&&T.keepAliveOnHover&&k.handleMouseLeave(ie)}function ee(ie){T.trigger==="hover"&&!te().contains(ie.target)&&k.handleMouseMoveOutside(ie)}function ne(ie){(T.trigger==="click"&&!te().contains(ie.target)||T.onClickoutside)&&k.handleClickOutside(ie)}function te(){return k.getTriggerElement()}provide(popoverBodyInjectionKey,U),provide(drawerBodyInjectionKey,null),provide(modalBodyInjectionKey,null);function re(){if(Y==null||Y.onRender(),!(T.displayDirective==="show"||T.show||T.animated&&z.value))return null;let se;const le=k.internalRenderBodyRef.value,{value:he}=N;if(le)se=le([`${he}-popover-shared`,Y==null?void 0:Y.themeClass.value,T.overlap&&`${he}-popover-shared--overlap`,T.showArrow&&`${he}-popover-shared--show-arrow`,T.arrowPointToCenter&&`${he}-popover-shared--center-arrow`],U,W.value,Z,Q);else{const{value:pe}=k.extraClassRef,{internalTrapFocus:fe}=T,Se=!isSlotEmpty(R.header)||!isSlotEmpty(R.footer),Pe=()=>{var ye;const we=Se?h$1(Fragment,null,resolveWrappedSlot(R.header,Ae=>Ae?h$1("div",{class:`${he}-popover__header`,style:T.headerStyle},Ae):null),resolveWrappedSlot(R.default,Ae=>Ae?h$1("div",{class:`${he}-popover__content`,style:T.contentStyle},R):null),resolveWrappedSlot(R.footer,Ae=>Ae?h$1("div",{class:`${he}-popover__footer`,style:T.footerStyle},Ae):null)):T.scrollable?(ye=R.default)===null||ye===void 0?void 0:ye.call(R):h$1("div",{class:`${he}-popover__content`,style:T.contentStyle},R),Ee=T.scrollable?h$1(XScrollbar,{contentClass:Se?void 0:`${he}-popover__content`,contentStyle:Se?void 0:T.contentStyle},{default:()=>we}):we,He=T.showArrow?renderArrow({arrowStyle:T.arrowStyle,clsPrefix:he}):null;return[Ee,He]};se=h$1("div",mergeProps({class:[`${he}-popover`,`${he}-popover-shared`,Y==null?void 0:Y.themeClass.value,pe.map(ye=>`${he}-${ye}`),{[`${he}-popover--scrollable`]:T.scrollable,[`${he}-popover--show-header-or-footer`]:Se,[`${he}-popover--raw`]:T.raw,[`${he}-popover-shared--overlap`]:T.overlap,[`${he}-popover-shared--show-arrow`]:T.showArrow,[`${he}-popover-shared--center-arrow`]:T.arrowPointToCenter}],ref:U,style:W.value,onKeydown:k.handleKeydown,onMouseenter:Z,onMouseleave:Q},I),fe?h$1(FocusTrap,{active:T.show,autoFocus:!0},{default:Pe}):Pe())}return withDirectives(se,V.value)}return{displayed:z,namespace:$,isMounted:k.isMountedRef,zIndex:k.zIndexRef,followerRef:B,adjustedTo:useAdjustedTo(T),followerEnabled:H,renderContentNode:re}},render(){return h$1(VFollower,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===useAdjustedTo.tdkey},{default:()=>this.animated?h$1(Transition,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var T;(T=this.internalOnAfterLeave)===null||T===void 0||T.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),bodyPropKeys=Object.keys(popoverBodyProps),triggerEventMap={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function appendEvents(T,R,I){triggerEventMap[R].forEach($=>{T.props?T.props=Object.assign({},T.props):T.props={};const N=T.props[$],M=I[$];N?T.props[$]=(...L)=>{N(...L),M(...L)}:T.props[$]=M})}const textVNodeType=createTextVNode("").type,popoverBaseProps={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:useAdjustedTo.propTo,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},popoverProps=Object.assign(Object.assign(Object.assign({},useTheme.props),popoverBaseProps),{internalOnAfterLeave:Function,internalRenderBody:Function}),NPopover=defineComponent({name:"Popover",inheritAttrs:!1,props:popoverProps,__popover__:!0,setup(T){const R=isMounted(),I=ref(null),$=computed(()=>T.show),N=ref(T.defaultShow),M=useMergedState($,N),L=useMemo(()=>T.disabled?!1:M.value),B=()=>{if(T.disabled)return!0;const{getDisabled:Pe}=T;return!!(Pe!=null&&Pe())},k=()=>B()?!1:M.value,U=useCompitable(T,["arrow","showArrow"]),H=computed(()=>T.overlap?!1:U.value);let z=null;const V=ref(null),W=ref(null),K=useMemo(()=>T.x!==void 0&&T.y!==void 0);function Y(Pe){const{"onUpdate:show":ye,onUpdateShow:we,onShow:Ee,onHide:He}=T;N.value=Pe,ye&&call(ye,Pe),we&&call(we,Pe),Pe&&Ee&&call(Ee,!0),Pe&&He&&call(He,!1)}function q(){z&&z.syncPosition()}function Z(){const{value:Pe}=V;Pe&&(window.clearTimeout(Pe),V.value=null)}function Q(){const{value:Pe}=W;Pe&&(window.clearTimeout(Pe),W.value=null)}function ee(){const Pe=B();if(T.trigger==="focus"&&!Pe){if(k())return;Y(!0)}}function ne(){const Pe=B();if(T.trigger==="focus"&&!Pe){if(!k())return;Y(!1)}}function te(){const Pe=B();if(T.trigger==="hover"&&!Pe){if(Q(),V.value!==null||k())return;const ye=()=>{Y(!0),V.value=null},{delay:we}=T;we===0?ye():V.value=window.setTimeout(ye,we)}}function re(){const Pe=B();if(T.trigger==="hover"&&!Pe){if(Z(),W.value!==null||!k())return;const ye=()=>{Y(!1),W.value=null},{duration:we}=T;we===0?ye():W.value=window.setTimeout(ye,we)}}function ie(){re()}function se(Pe){var ye;!k()||(T.trigger==="click"&&(Z(),Q(),Y(!1)),(ye=T.onClickoutside)===null||ye===void 0||ye.call(T,Pe))}function le(){if(T.trigger==="click"&&!B()){Z(),Q();const Pe=!k();Y(Pe)}}function he(Pe){!T.internalTrapFocus||Pe.key==="Escape"&&(Z(),Q(),Y(!1))}function pe(Pe){N.value=Pe}function fe(){var Pe;return(Pe=I.value)===null||Pe===void 0?void 0:Pe.targetRef}function Se(Pe){z=Pe}return provide("NPopover",{getTriggerElement:fe,handleKeydown:he,handleMouseEnter:te,handleMouseLeave:re,handleClickOutside:se,handleMouseMoveOutside:ie,setBodyInstance:Se,positionManuallyRef:K,isMountedRef:R,zIndexRef:toRef(T,"zIndex"),extraClassRef:toRef(T,"internalExtraClass"),internalRenderBodyRef:toRef(T,"internalRenderBody")}),{binderInstRef:I,positionManually:K,mergedShowConsideringDisabledProp:L,uncontrolledShow:N,mergedShowArrow:H,getMergedShow:k,setShow:pe,handleClick:le,handleMouseEnter:te,handleMouseLeave:re,handleFocus:ee,handleBlur:ne,syncPosition:q}},render(){var T;const{positionManually:R,$slots:I}=this;let $,N=!1;if(!R&&(I.activator?$=getFirstSlotVNode(I,"activator"):$=getFirstSlotVNode(I,"trigger"),$)){$=cloneVNode($),$=$.type===textVNodeType?h$1("span",[$]):$;const M={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((T=$.type)===null||T===void 0)&&T.__popover__)N=!0,$.props||($.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),$.props.internalSyncTargetWithParent=!0,$.props.internalInheritedEventHandlers?$.props.internalInheritedEventHandlers=[M,...$.props.internalInheritedEventHandlers]:$.props.internalInheritedEventHandlers=[M];else{const{internalInheritedEventHandlers:L}=this,B=[M,...L],k={onBlur:U=>{B.forEach(H=>{H.onBlur(U)})},onFocus:U=>{B.forEach(H=>{H.onFocus(U)})},onClick:U=>{B.forEach(H=>{H.onClick(U)})},onMouseenter:U=>{B.forEach(H=>{H.onMouseenter(U)})},onMouseleave:U=>{B.forEach(H=>{H.onMouseleave(U)})}};appendEvents($,L?"nested":R?"manual":this.trigger,k)}}return h$1(VBinder,{ref:"binderInstRef",syncTarget:!N,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const M=this.getMergedShow();return[this.internalTrapFocus&&M?withDirectives(h$1("div",{style:{position:"fixed",inset:0}}),[[zindexable$1,{enabled:M,zIndex:this.zIndex}]]):null,R?null:h$1(VTarget,null,{default:()=>$}),h$1(NPopoverBody,keep(this.$props,bodyPropKeys,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:M})),{default:()=>{var L,B;return(B=(L=this.$slots).default)===null||B===void 0?void 0:B.call(L)},header:()=>{var L,B;return(B=(L=this.$slots).header)===null||B===void 0?void 0:B.call(L)},footer:()=>{var L,B;return(B=(L=this.$slots).footer)===null||B===void 0?void 0:B.call(L)}})]}})}}),commonVariables$6={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px",closeMarginRtl:"0 4px 0 0"},self$g=T=>{const{textColor2:R,primaryColorHover:I,primaryColorPressed:$,primaryColor:N,infoColor:M,successColor:L,warningColor:B,errorColor:k,baseColor:U,borderColor:H,opacityDisabled:z,tagColor:V,closeIconColor:W,closeIconColorHover:K,closeIconColorPressed:Y,borderRadiusSmall:q,fontSizeMini:Z,fontSizeTiny:Q,fontSizeSmall:ee,fontSizeMedium:ne,heightMini:te,heightTiny:re,heightSmall:ie,heightMedium:se,closeColorHover:le,closeColorPressed:he,buttonColor2Hover:pe,buttonColor2Pressed:fe,fontWeightStrong:Se}=T;return Object.assign(Object.assign({},commonVariables$6),{closeBorderRadius:q,heightTiny:te,heightSmall:re,heightMedium:ie,heightLarge:se,borderRadius:q,opacityDisabled:z,fontSizeTiny:Z,fontSizeSmall:Q,fontSizeMedium:ee,fontSizeLarge:ne,fontWeightStrong:Se,textColorCheckable:R,textColorHoverCheckable:R,textColorPressedCheckable:R,textColorChecked:U,colorCheckable:"#0000",colorHoverCheckable:pe,colorPressedCheckable:fe,colorChecked:N,colorCheckedHover:I,colorCheckedPressed:$,border:`1px solid ${H}`,textColor:R,color:V,colorBordered:"rgb(250, 250, 252)",closeIconColor:W,closeIconColorHover:K,closeIconColorPressed:Y,closeColorHover:le,closeColorPressed:he,borderPrimary:`1px solid ${changeColor(N,{alpha:.3})}`,textColorPrimary:N,colorPrimary:changeColor(N,{alpha:.12}),colorBorderedPrimary:changeColor(N,{alpha:.1}),closeIconColorPrimary:N,closeIconColorHoverPrimary:N,closeIconColorPressedPrimary:N,closeColorHoverPrimary:changeColor(N,{alpha:.12}),closeColorPressedPrimary:changeColor(N,{alpha:.18}),borderInfo:`1px solid ${changeColor(M,{alpha:.3})}`,textColorInfo:M,colorInfo:changeColor(M,{alpha:.12}),colorBorderedInfo:changeColor(M,{alpha:.1}),closeIconColorInfo:M,closeIconColorHoverInfo:M,closeIconColorPressedInfo:M,closeColorHoverInfo:changeColor(M,{alpha:.12}),closeColorPressedInfo:changeColor(M,{alpha:.18}),borderSuccess:`1px solid ${changeColor(L,{alpha:.3})}`,textColorSuccess:L,colorSuccess:changeColor(L,{alpha:.12}),colorBorderedSuccess:changeColor(L,{alpha:.1}),closeIconColorSuccess:L,closeIconColorHoverSuccess:L,closeIconColorPressedSuccess:L,closeColorHoverSuccess:changeColor(L,{alpha:.12}),closeColorPressedSuccess:changeColor(L,{alpha:.18}),borderWarning:`1px solid ${changeColor(B,{alpha:.35})}`,textColorWarning:B,colorWarning:changeColor(B,{alpha:.15}),colorBorderedWarning:changeColor(B,{alpha:.12}),closeIconColorWarning:B,closeIconColorHoverWarning:B,closeIconColorPressedWarning:B,closeColorHoverWarning:changeColor(B,{alpha:.12}),closeColorPressedWarning:changeColor(B,{alpha:.18}),borderError:`1px solid ${changeColor(k,{alpha:.23})}`,textColorError:k,colorError:changeColor(k,{alpha:.1}),colorBorderedError:changeColor(k,{alpha:.08}),closeIconColorError:k,closeIconColorHoverError:k,closeIconColorPressedError:k,closeColorHoverError:changeColor(k,{alpha:.12}),closeColorPressedError:changeColor(k,{alpha:.18})})},tagLight={name:"Tag",common:commonLight,self:self$g},tagLight$1=tagLight,commonProps={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},style$h=cB("tag",`
 white-space: nowrap;
 position: relative;
 box-sizing: border-box;
 cursor: default;
 display: inline-flex;
 align-items: center;
 flex-wrap: nowrap;
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 line-height: 1;
 height: var(--n-height);
 font-size: var(--n-font-size);
`,[cM("strong",`
 font-weight: var(--n-font-weight-strong);
 `),cE("border",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-border);
 transition: border-color .3s var(--n-bezier);
 `),cE("icon",`
 display: flex;
 margin: 0 4px 0 0;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 font-size: var(--n-avatar-size-override);
 `),cE("avatar",`
 display: flex;
 margin: 0 6px 0 0;
 `),cE("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 cursor: pointer;
 `),cM("round",`
 padding: 0 calc(var(--n-height) / 3);
 border-radius: calc(var(--n-height) / 2);
 `,[cE("icon",`
 margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);
 `),cE("avatar",`
 margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);
 `),cM("closable",`
 padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);
 `)]),cM("icon, avatar",[cM("round",`
 padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);
 `)]),cM("disabled",`
 cursor: not-allowed !important;
 opacity: var(--n-opacity-disabled);
 `),cM("checkable",`
 cursor: pointer;
 box-shadow: none;
 color: var(--n-text-color-checkable);
 background-color: var(--n-color-checkable);
 `,[cNotM("disabled",[c$2("&:hover","background-color: var(--n-color-hover-checkable);",[cNotM("checked","color: var(--n-text-color-hover-checkable);")]),c$2("&:active","background-color: var(--n-color-pressed-checkable);",[cNotM("checked","color: var(--n-text-color-pressed-checkable);")])]),cM("checked",`
 color: var(--n-text-color-checked);
 background-color: var(--n-color-checked);
 `,[cNotM("disabled",[c$2("&:hover","background-color: var(--n-color-checked-hover);"),c$2("&:active","background-color: var(--n-color-checked-pressed);")])])])]),tagProps=Object.assign(Object.assign(Object.assign({},useTheme.props),commonProps),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalStopClickPropagation:Boolean,onCheckedChange:{type:Function,validator:()=>!0,default:void 0}}),tagInjectionKey="n-tag",NTag=defineComponent({name:"Tag",props:tagProps,setup(T){const R=ref(null),{mergedBorderedRef:I,mergedClsPrefixRef:$,inlineThemeDisabled:N,mergedRtlRef:M}=useConfig(T),L=useTheme("Tag","-tag",style$h,tagLight$1,T,$);provide(tagInjectionKey,{roundRef:toRef(T,"round")});function B(W){if(!T.disabled&&T.checkable){const{checked:K,onCheckedChange:Y,onUpdateChecked:q,"onUpdate:checked":Z}=T;q&&q(!K),Z&&Z(!K),Y&&Y(!K)}}function k(W){if(T.internalStopClickPropagation&&W.stopPropagation(),!T.disabled){const{onClose:K}=T;K&&call(K,W)}}const U={setTextContent(W){const{value:K}=R;K&&(K.textContent=W)}},H=useRtl("Tag",M,$),z=computed(()=>{const{type:W,size:K,color:{color:Y,textColor:q}={}}=T,{common:{cubicBezierEaseInOut:Z},self:{padding:Q,closeMargin:ee,closeMarginRtl:ne,borderRadius:te,opacityDisabled:re,textColorCheckable:ie,textColorHoverCheckable:se,textColorPressedCheckable:le,textColorChecked:he,colorCheckable:pe,colorHoverCheckable:fe,colorPressedCheckable:Se,colorChecked:Pe,colorCheckedHover:ye,colorCheckedPressed:we,closeBorderRadius:Ee,fontWeightStrong:He,[createKey("colorBordered",W)]:Ae,[createKey("closeSize",K)]:de,[createKey("closeIconSize",K)]:Oe,[createKey("fontSize",K)]:Ve,[createKey("height",K)]:Ze,[createKey("color",W)]:nt,[createKey("textColor",W)]:xe,[createKey("border",W)]:Le,[createKey("closeIconColor",W)]:Ue,[createKey("closeIconColorHover",W)]:Xe,[createKey("closeIconColorPressed",W)]:je,[createKey("closeColorHover",W)]:st,[createKey("closeColorPressed",W)]:Ye}}=L.value;return{"--n-font-weight-strong":He,"--n-avatar-size-override":`calc(${Ze} - 8px)`,"--n-bezier":Z,"--n-border-radius":te,"--n-border":Le,"--n-close-icon-size":Oe,"--n-close-color-pressed":Ye,"--n-close-color-hover":st,"--n-close-border-radius":Ee,"--n-close-icon-color":Ue,"--n-close-icon-color-hover":Xe,"--n-close-icon-color-pressed":je,"--n-close-icon-color-disabled":Ue,"--n-close-margin":ee,"--n-close-margin-rtl":ne,"--n-close-size":de,"--n-color":Y||(I.value?Ae:nt),"--n-color-checkable":pe,"--n-color-checked":Pe,"--n-color-checked-hover":ye,"--n-color-checked-pressed":we,"--n-color-hover-checkable":fe,"--n-color-pressed-checkable":Se,"--n-font-size":Ve,"--n-height":Ze,"--n-opacity-disabled":re,"--n-padding":Q,"--n-text-color":q||xe,"--n-text-color-checkable":ie,"--n-text-color-checked":he,"--n-text-color-hover-checkable":se,"--n-text-color-pressed-checkable":le}}),V=N?useThemeClass("tag",computed(()=>{let W="";const{type:K,size:Y,color:{color:q,textColor:Z}={}}=T;return W+=K[0],W+=Y[0],q&&(W+=`a${color2Class(q)}`),Z&&(W+=`b${color2Class(Z)}`),I.value&&(W+="c"),W}),z,T):void 0;return Object.assign(Object.assign({},U),{rtlEnabled:H,mergedClsPrefix:$,contentRef:R,mergedBordered:I,handleClick:B,handleCloseClick:k,cssVars:N?void 0:z,themeClass:V==null?void 0:V.themeClass,onRender:V==null?void 0:V.onRender})},render(){var T,R;const{mergedClsPrefix:I,rtlEnabled:$,closable:N,color:{borderColor:M}={},round:L,onRender:B,$slots:k}=this;B==null||B();const U=resolveWrappedSlot(k.avatar,z=>z&&h$1("div",{class:`${I}-tag__avatar`},z)),H=resolveWrappedSlot(k.icon,z=>z&&h$1("div",{class:`${I}-tag__icon`},z));return h$1("div",{class:[`${I}-tag`,this.themeClass,{[`${I}-tag--rtl`]:$,[`${I}-tag--strong`]:this.strong,[`${I}-tag--disabled`]:this.disabled,[`${I}-tag--checkable`]:this.checkable,[`${I}-tag--checked`]:this.checkable&&this.checked,[`${I}-tag--round`]:L,[`${I}-tag--avatar`]:U,[`${I}-tag--icon`]:H,[`${I}-tag--closable`]:N}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},H||U,h$1("span",{class:`${I}-tag__content`,ref:"contentRef"},(R=(T=this.$slots).default)===null||R===void 0?void 0:R.call(T)),!this.checkable&&N?h$1(NBaseClose,{clsPrefix:I,class:`${I}-tag__close`,disabled:this.disabled,onClick:this.handleCloseClick,focusable:this.internalCloseFocusable,round:L,absolute:!0}):null,!this.checkable&&this.mergedBordered?h$1("div",{class:`${I}-tag__border`,style:{borderColor:M}}):null)}}),style$g=cB("base-clear",`
 flex-shrink: 0;
 height: 1em;
 width: 1em;
 position: relative;
`,[c$2(">",[cE("clear",`
 font-size: var(--n-clear-size);
 height: 1em;
 width: 1em;
 cursor: pointer;
 color: var(--n-clear-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 `,[c$2("&:hover",`
 color: var(--n-clear-color-hover)!important;
 `),c$2("&:active",`
 color: var(--n-clear-color-pressed)!important;
 `)]),cE("placeholder",`
 display: flex;
 `),cE("clear, placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[iconSwitchTransition({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),NBaseClear=defineComponent({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup(T){return useStyle("-base-clear",style$g,toRef(T,"clsPrefix")),{handleMouseDown(R){R.preventDefault()}}},render(){const{clsPrefix:T}=this;return h$1("div",{class:`${T}-base-clear`},h$1(NIconSwitchTransition,null,{default:()=>{var R,I;return this.show?h$1("div",{key:"dismiss",class:`${T}-base-clear__clear`,onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},resolveSlot(this.$slots.icon,()=>[h$1(NBaseIcon,{clsPrefix:T},{default:()=>h$1(ClearIcon,null)})])):h$1("div",{key:"icon",class:`${T}-base-clear__placeholder`},(I=(R=this.$slots).placeholder)===null||I===void 0?void 0:I.call(R))}}))}}),NBaseSuffix=defineComponent({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup(T,{slots:R}){return()=>{const{clsPrefix:I}=T;return h$1(NBaseLoading,{clsPrefix:I,class:`${I}-base-suffix`,strokeWidth:24,scale:.85,show:T.loading},{default:()=>T.showArrow?h$1(NBaseClear,{clsPrefix:I,show:T.showClear,onClear:T.onClear},{placeholder:()=>h$1(NBaseIcon,{clsPrefix:I,class:`${I}-base-suffix__arrow`},{default:()=>resolveSlot(R.default,()=>[h$1(ChevronDownIcon,null)])})}):null})}}}),commonVars$3={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"},self$f=T=>{const{borderRadius:R,textColor2:I,textColorDisabled:$,inputColor:N,inputColorDisabled:M,primaryColor:L,primaryColorHover:B,warningColor:k,warningColorHover:U,errorColor:H,errorColorHover:z,borderColor:V,iconColor:W,iconColorDisabled:K,clearColor:Y,clearColorHover:q,clearColorPressed:Z,placeholderColor:Q,placeholderColorDisabled:ee,fontSizeTiny:ne,fontSizeSmall:te,fontSizeMedium:re,fontSizeLarge:ie,heightTiny:se,heightSmall:le,heightMedium:he,heightLarge:pe}=T;return Object.assign(Object.assign({},commonVars$3),{fontSizeTiny:ne,fontSizeSmall:te,fontSizeMedium:re,fontSizeLarge:ie,heightTiny:se,heightSmall:le,heightMedium:he,heightLarge:pe,borderRadius:R,textColor:I,textColorDisabled:$,placeholderColor:Q,placeholderColorDisabled:ee,color:N,colorDisabled:M,colorActive:N,border:`1px solid ${V}`,borderHover:`1px solid ${B}`,borderActive:`1px solid ${L}`,borderFocus:`1px solid ${B}`,boxShadowHover:"none",boxShadowActive:`0 0 0 2px ${changeColor(L,{alpha:.2})}`,boxShadowFocus:`0 0 0 2px ${changeColor(L,{alpha:.2})}`,caretColor:L,arrowColor:W,arrowColorDisabled:K,loadingColor:L,borderWarning:`1px solid ${k}`,borderHoverWarning:`1px solid ${U}`,borderActiveWarning:`1px solid ${k}`,borderFocusWarning:`1px solid ${U}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 0 2px ${changeColor(k,{alpha:.2})}`,boxShadowFocusWarning:`0 0 0 2px ${changeColor(k,{alpha:.2})}`,colorActiveWarning:N,caretColorWarning:k,borderError:`1px solid ${H}`,borderHoverError:`1px solid ${z}`,borderActiveError:`1px solid ${H}`,borderFocusError:`1px solid ${z}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 0 2px ${changeColor(H,{alpha:.2})}`,boxShadowFocusError:`0 0 0 2px ${changeColor(H,{alpha:.2})}`,colorActiveError:N,caretColorError:H,clearColor:Y,clearColorHover:q,clearColorPressed:Z})},internalSelectionLight={name:"InternalSelection",common:commonLight,peers:{Popover:popoverLight$1},self:self$f},internalSelectionLight$1=internalSelectionLight,style$f=c$2([cB("base-selection",`
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[cB("base-loading",`
 color: var(--n-loading-color);
 `),cB("base-selection-tags","min-height: var(--n-height);"),cE("border, state-border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),cE("state-border",`
 z-index: 1;
 border-color: #0000;
 `),cB("base-suffix",`
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `,[cE("arrow",`
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]),cB("base-selection-overlay",`
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `,[cE("wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),cB("base-selection-placeholder",`
 color: var(--n-placeholder-color);
 `,[cE("inner",`
 max-width: 100%;
 overflow: hidden;
 `)]),cB("base-selection-tags",`
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),cB("base-selection-label",`
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `,[cB("base-selection-input",`
 font-size: inherit;
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `,[cE("content",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]),cE("render-label",`
 color: var(--n-text-color);
 `)]),cNotM("disabled",[c$2("&:hover",[cE("state-border",`
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]),cM("focus",[cE("state-border",`
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]),cM("active",[cE("state-border",`
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `),cB("base-selection-label","background-color: var(--n-color-active);"),cB("base-selection-tags","background-color: var(--n-color-active);")])]),cM("disabled","cursor: not-allowed;",[cE("arrow",`
 color: var(--n-arrow-color-disabled);
 `),cB("base-selection-label",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[cB("base-selection-input",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `),cE("render-label",`
 color: var(--n-text-color-disabled);
 `)]),cB("base-selection-tags",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `),cB("base-selection-placeholder",`
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]),cB("base-selection-input-tag",`
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `,[cE("input",`
 font-size: inherit;
 font-family: inherit;
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `),cE("mirror",`
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 -webkit-user-select: none;
 opacity: 0;
 `)]),["warning","error"].map(T=>cM(`${T}-status`,[cE("state-border",`border: var(--n-border-${T});`),cNotM("disabled",[c$2("&:hover",[cE("state-border",`
 box-shadow: var(--n-box-shadow-hover-${T});
 border: var(--n-border-hover-${T});
 `)]),cM("active",[cE("state-border",`
 box-shadow: var(--n-box-shadow-active-${T});
 border: var(--n-border-active-${T});
 `),cB("base-selection-label",`background-color: var(--n-color-active-${T});`),cB("base-selection-tags",`background-color: var(--n-color-active-${T});`)]),cM("focus",[cE("state-border",`
 box-shadow: var(--n-box-shadow-focus-${T});
 border: var(--n-border-focus-${T});
 `)])])]))]),cB("base-selection-popover",`
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 margin-right: -8px;
 `),cB("base-selection-tag-wrapper",`
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `,[c$2("&:last-child","padding-right: 0;"),cB("tag",`
 font-size: 14px;
 max-width: 100%;
 `,[cE("content",`
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]),NInternalSelection=defineComponent({name:"InternalSelection",props:Object.assign(Object.assign({},useTheme.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,onResize:Function}),setup(T){const R=ref(null),I=ref(null),$=ref(null),N=ref(null),M=ref(null),L=ref(null),B=ref(null),k=ref(null),U=ref(null),H=ref(null),z=ref(!1),V=ref(!1),W=ref(!1),K=useTheme("InternalSelection","-internal-selection",style$f,internalSelectionLight$1,T,toRef(T,"clsPrefix")),Y=computed(()=>T.clearable&&!T.disabled&&(W.value||T.active)),q=computed(()=>T.selectedOption?T.renderTag?T.renderTag({option:T.selectedOption,handleClose:()=>{}}):T.renderLabel?T.renderLabel(T.selectedOption,!0):render$4(T.selectedOption[T.labelField],T.selectedOption,!0):T.placeholder),Z=computed(()=>{const Te=T.selectedOption;if(!!Te)return Te[T.labelField]}),Q=computed(()=>T.multiple?!!(Array.isArray(T.selectedOptions)&&T.selectedOptions.length):T.selectedOption!==null);function ee(){var Te;const{value:Ie}=R;if(Ie){const{value:tt}=I;tt&&(tt.style.width=`${Ie.offsetWidth}px`,T.maxTagCount!=="responsive"&&((Te=U.value)===null||Te===void 0||Te.sync()))}}function ne(){const{value:Te}=H;Te&&(Te.style.display="none")}function te(){const{value:Te}=H;Te&&(Te.style.display="inline-block")}watch(toRef(T,"active"),Te=>{Te||ne()}),watch(toRef(T,"pattern"),()=>{T.multiple&&nextTick(ee)});function re(Te){const{onFocus:Ie}=T;Ie&&Ie(Te)}function ie(Te){const{onBlur:Ie}=T;Ie&&Ie(Te)}function se(Te){const{onDeleteOption:Ie}=T;Ie&&Ie(Te)}function le(Te){const{onClear:Ie}=T;Ie&&Ie(Te)}function he(Te){const{onPatternInput:Ie}=T;Ie&&Ie(Te)}function pe(Te){var Ie;(!Te.relatedTarget||!(!((Ie=$.value)===null||Ie===void 0)&&Ie.contains(Te.relatedTarget)))&&re(Te)}function fe(Te){var Ie;!((Ie=$.value)===null||Ie===void 0)&&Ie.contains(Te.relatedTarget)||ie(Te)}function Se(Te){le(Te)}function Pe(){W.value=!0}function ye(){W.value=!1}function we(Te){!T.active||!T.filterable||Te.target!==I.value&&Te.preventDefault()}function Ee(Te){se(Te)}function He(Te){if(Te.key==="Backspace"&&!Ae.value&&!T.pattern.length){const{selectedOptions:Ie}=T;Ie!=null&&Ie.length&&Ee(Ie[Ie.length-1])}}const Ae=ref(!1);let de=null;function Oe(Te){const{value:Ie}=R;if(Ie){const tt=Te.target.value;Ie.textContent=tt,ee()}Ae.value?de=Te:he(Te)}function Ve(){Ae.value=!0}function Ze(){Ae.value=!1,he(de),de=null}function nt(Te){var Ie;V.value=!0,(Ie=T.onPatternFocus)===null||Ie===void 0||Ie.call(T,Te)}function xe(Te){var Ie;V.value=!1,(Ie=T.onPatternBlur)===null||Ie===void 0||Ie.call(T,Te)}function Le(){var Te,Ie;if(T.filterable)V.value=!1,(Te=L.value)===null||Te===void 0||Te.blur(),(Ie=I.value)===null||Ie===void 0||Ie.blur();else if(T.multiple){const{value:tt}=N;tt==null||tt.blur()}else{const{value:tt}=M;tt==null||tt.blur()}}function Ue(){var Te,Ie,tt;T.filterable?(V.value=!1,(Te=L.value)===null||Te===void 0||Te.focus()):T.multiple?(Ie=N.value)===null||Ie===void 0||Ie.focus():(tt=M.value)===null||tt===void 0||tt.focus()}function Xe(){const{value:Te}=I;Te&&(te(),Te.focus())}function je(){const{value:Te}=I;Te&&Te.blur()}function st(Te){const{value:Ie}=B;Ie&&Ie.setTextContent(`+${Te}`)}function Ye(){const{value:Te}=k;return Te}function Qe(){return I.value}let ce=null;function ge(){ce!==null&&window.clearTimeout(ce)}function Re(){T.disabled||T.active||(ge(),ce=window.setTimeout(()=>{z.value=!0},100))}function ke(){ge()}function be(Te){Te||(ge(),z.value=!1)}onMounted(()=>{watchEffect(()=>{const Te=L.value;!Te||(Te.tabIndex=T.disabled||V.value?-1:0)})}),useOnResize($,T.onResize);const{inlineThemeDisabled:Be}=T,We=computed(()=>{const{size:Te}=T,{common:{cubicBezierEaseInOut:Ie},self:{borderRadius:tt,color:ot,placeholderColor:lt,textColor:ft,paddingSingle:mt,paddingMultiple:wt,caretColor:St,colorDisabled:Rt,textColorDisabled:Mt,placeholderColorDisabled:rn,colorActive:Xt,boxShadowFocus:Dt,boxShadowActive:Kt,boxShadowHover:_e,border:Ge,borderFocus:rt,borderHover:dt,borderActive:pt,arrowColor:gt,arrowColorDisabled:yt,loadingColor:Tt,colorActiveWarning:Jt,boxShadowFocusWarning:fn,boxShadowActiveWarning:Vn,boxShadowHoverWarning:Dn,borderWarning:gr,borderFocusWarning:mr,borderHoverWarning:or,borderActiveWarning:gn,colorActiveError:Ne,boxShadowFocusError:ve,boxShadowActiveError:De,boxShadowHoverError:it,borderError:at,borderFocusError:ct,borderHoverError:Ut,borderActiveError:Ft,clearColor:Qt,clearColorHover:cn,clearColorPressed:en,clearSize:Ht,arrowSize:Yt,[createKey("height",Te)]:bn,[createKey("fontSize",Te)]:yr}}=K.value;return{"--n-bezier":Ie,"--n-border":Ge,"--n-border-active":pt,"--n-border-focus":rt,"--n-border-hover":dt,"--n-border-radius":tt,"--n-box-shadow-active":Kt,"--n-box-shadow-focus":Dt,"--n-box-shadow-hover":_e,"--n-caret-color":St,"--n-color":ot,"--n-color-active":Xt,"--n-color-disabled":Rt,"--n-font-size":yr,"--n-height":bn,"--n-padding-single":mt,"--n-padding-multiple":wt,"--n-placeholder-color":lt,"--n-placeholder-color-disabled":rn,"--n-text-color":ft,"--n-text-color-disabled":Mt,"--n-arrow-color":gt,"--n-arrow-color-disabled":yt,"--n-loading-color":Tt,"--n-color-active-warning":Jt,"--n-box-shadow-focus-warning":fn,"--n-box-shadow-active-warning":Vn,"--n-box-shadow-hover-warning":Dn,"--n-border-warning":gr,"--n-border-focus-warning":mr,"--n-border-hover-warning":or,"--n-border-active-warning":gn,"--n-color-active-error":Ne,"--n-box-shadow-focus-error":ve,"--n-box-shadow-active-error":De,"--n-box-shadow-hover-error":it,"--n-border-error":at,"--n-border-focus-error":ct,"--n-border-hover-error":Ut,"--n-border-active-error":Ft,"--n-clear-size":Ht,"--n-clear-color":Qt,"--n-clear-color-hover":cn,"--n-clear-color-pressed":en,"--n-arrow-size":Yt}}),Fe=Be?useThemeClass("internal-selection",computed(()=>T.size[0]),We,T):void 0;return{mergedTheme:K,mergedClearable:Y,patternInputFocused:V,filterablePlaceholder:q,label:Z,selected:Q,showTagsPanel:z,isCompositing:Ae,counterRef:B,counterWrapperRef:k,patternInputMirrorRef:R,patternInputRef:I,selfRef:$,multipleElRef:N,singleElRef:M,patternInputWrapperRef:L,overflowRef:U,inputTagElRef:H,handleMouseDown:we,handleFocusin:pe,handleClear:Se,handleMouseEnter:Pe,handleMouseLeave:ye,handleDeleteOption:Ee,handlePatternKeyDown:He,handlePatternInputInput:Oe,handlePatternInputBlur:xe,handlePatternInputFocus:nt,handleMouseEnterCounter:Re,handleMouseLeaveCounter:ke,handleFocusout:fe,handleCompositionEnd:Ze,handleCompositionStart:Ve,onPopoverUpdateShow:be,focus:Ue,focusInput:Xe,blur:Le,blurInput:je,updateCounter:st,getCounter:Ye,getTail:Qe,renderLabel:T.renderLabel,cssVars:Be?void 0:We,themeClass:Fe==null?void 0:Fe.themeClass,onRender:Fe==null?void 0:Fe.onRender}},render(){const{status:T,multiple:R,size:I,disabled:$,filterable:N,maxTagCount:M,bordered:L,clsPrefix:B,onRender:k,renderTag:U,renderLabel:H}=this;k==null||k();const z=M==="responsive",V=typeof M=="number",W=z||V,K=h$1(Wrapper,null,{default:()=>h$1(NBaseSuffix,{clsPrefix:B,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var q,Z;return(Z=(q=this.$slots).arrow)===null||Z===void 0?void 0:Z.call(q)}})});let Y;if(R){const{labelField:q}=this,Z=fe=>h$1("div",{class:`${B}-base-selection-tag-wrapper`,key:fe.value},U?U({option:fe,handleClose:()=>this.handleDeleteOption(fe)}):h$1(NTag,{size:I,closable:!fe.disabled,disabled:$,onClose:()=>this.handleDeleteOption(fe),internalCloseFocusable:!1,internalStopClickPropagation:!0},{default:()=>H?H(fe,!0):render$4(fe[q],fe,!0)})),Q=(V?this.selectedOptions.slice(0,M):this.selectedOptions).map(Z),ee=N?h$1("div",{class:`${B}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},h$1("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:$,value:this.pattern,autofocus:this.autofocus,class:`${B}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),h$1("span",{ref:"patternInputMirrorRef",class:`${B}-base-selection-input-tag__mirror`},this.pattern)):null,ne=z?()=>h$1("div",{class:`${B}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},h$1(NTag,{size:I,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:$})):void 0;let te;if(V){const fe=this.selectedOptions.length-M;fe>0&&(te=h$1("div",{class:`${B}-base-selection-tag-wrapper`,key:"__counter__"},h$1(NTag,{size:I,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:$},{default:()=>`+${fe}`})))}const re=z?N?h$1(VOverflow,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:()=>Q,counter:ne,tail:()=>ee}):h$1(VOverflow,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:()=>Q,counter:ne}):V?Q.concat(te):Q,ie=W?()=>h$1("div",{class:`${B}-base-selection-popover`},z?Q:this.selectedOptions.map(Z)):void 0,se=W?{show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover}:null,he=(this.selected?!1:this.active?!this.pattern&&!this.isCompositing:!0)?h$1("div",{class:`${B}-base-selection-placeholder ${B}-base-selection-overlay`},h$1("div",{class:`${B}-base-selection-placeholder__inner`},this.placeholder)):null,pe=N?h$1("div",{ref:"patternInputWrapperRef",class:`${B}-base-selection-tags`},re,z?null:ee,K):h$1("div",{ref:"multipleElRef",class:`${B}-base-selection-tags`,tabindex:$?void 0:0},re,K);Y=h$1(Fragment,null,W?h$1(NPopover,Object.assign({},se,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>pe,default:ie}):pe,he)}else if(N){const q=this.pattern||this.isCompositing,Z=this.active?!q:!this.selected,Q=this.active?!1:this.selected;Y=h$1("div",{ref:"patternInputWrapperRef",class:`${B}-base-selection-label`},h$1("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${B}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:$,disabled:$,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),Q?h$1("div",{class:`${B}-base-selection-label__render-label ${B}-base-selection-overlay`,key:"input"},h$1("div",{class:`${B}-base-selection-overlay__wrapper`},U?U({option:this.selectedOption,handleClose:()=>{}}):H?H(this.selectedOption,!0):render$4(this.label,this.selectedOption,!0))):null,Z?h$1("div",{class:`${B}-base-selection-placeholder ${B}-base-selection-overlay`,key:"placeholder"},h$1("div",{class:`${B}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,K)}else Y=h$1("div",{ref:"singleElRef",class:`${B}-base-selection-label`,tabindex:this.disabled?void 0:0},this.label!==void 0?h$1("div",{class:`${B}-base-selection-input`,title:getTitleAttribute(this.label),key:"input"},h$1("div",{class:`${B}-base-selection-input__content`},U?U({option:this.selectedOption,handleClose:()=>{}}):H?H(this.selectedOption,!0):render$4(this.label,this.selectedOption,!0))):h$1("div",{class:`${B}-base-selection-placeholder ${B}-base-selection-overlay`,key:"placeholder"},h$1("div",{class:`${B}-base-selection-placeholder__inner`},this.placeholder)),K);return h$1("div",{ref:"selfRef",class:[`${B}-base-selection`,this.themeClass,T&&`${B}-base-selection--${T}-status`,{[`${B}-base-selection--active`]:this.active,[`${B}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${B}-base-selection--disabled`]:this.disabled,[`${B}-base-selection--multiple`]:this.multiple,[`${B}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},Y,L?h$1("div",{class:`${B}-base-selection__border`}):null,L?h$1("div",{class:`${B}-base-selection__state-border`}):null)}}),{cubicBezierEaseInOut:cubicBezierEaseInOut$2}=commonVariables$9;function fadeInWidthExpandTransition({duration:T=".2s",delay:R=".1s"}={}){return[c$2("&.fade-in-width-expand-transition-leave-from, &.fade-in-width-expand-transition-enter-to",{opacity:1}),c$2("&.fade-in-width-expand-transition-leave-to, &.fade-in-width-expand-transition-enter-from",`
 opacity: 0!important;
 margin-left: 0!important;
 margin-right: 0!important;
 `),c$2("&.fade-in-width-expand-transition-leave-active",`
 overflow: hidden;
 transition:
 opacity ${T} ${cubicBezierEaseInOut$2},
 max-width ${T} ${cubicBezierEaseInOut$2} ${R},
 margin-left ${T} ${cubicBezierEaseInOut$2} ${R},
 margin-right ${T} ${cubicBezierEaseInOut$2} ${R};
 `),c$2("&.fade-in-width-expand-transition-enter-active",`
 overflow: hidden;
 transition:
 opacity ${T} ${cubicBezierEaseInOut$2} ${R},
 max-width ${T} ${cubicBezierEaseInOut$2},
 margin-left ${T} ${cubicBezierEaseInOut$2},
 margin-right ${T} ${cubicBezierEaseInOut$2};
 `)]}const{cubicBezierEaseInOut:cubicBezierEaseInOut$1,cubicBezierEaseOut,cubicBezierEaseIn}=commonVariables$9;function fadeInHeightExpandTransition({overflow:T="hidden",duration:R=".3s",originalTransition:I="",leavingDelay:$="0s",foldPadding:N=!1,enterToProps:M=void 0,leaveToProps:L=void 0,reverse:B=!1}={}){const k=B?"leave":"enter",U=B?"enter":"leave";return[c$2(`&.fade-in-height-expand-transition-${U}-from,
 &.fade-in-height-expand-transition-${k}-to`,Object.assign(Object.assign({},M),{opacity:1})),c$2(`&.fade-in-height-expand-transition-${U}-to,
 &.fade-in-height-expand-transition-${k}-from`,Object.assign(Object.assign({},L),{opacity:0,marginTop:"0 !important",marginBottom:"0 !important",paddingTop:N?"0 !important":void 0,paddingBottom:N?"0 !important":void 0})),c$2(`&.fade-in-height-expand-transition-${U}-active`,`
 overflow: ${T};
 transition:
 max-height ${R} ${cubicBezierEaseInOut$1} ${$},
 opacity ${R} ${cubicBezierEaseOut} ${$},
 margin-top ${R} ${cubicBezierEaseInOut$1} ${$},
 margin-bottom ${R} ${cubicBezierEaseInOut$1} ${$},
 padding-top ${R} ${cubicBezierEaseInOut$1} ${$},
 padding-bottom ${R} ${cubicBezierEaseInOut$1} ${$}
 ${I?","+I:""}
 `),c$2(`&.fade-in-height-expand-transition-${k}-active`,`
 overflow: ${T};
 transition:
 max-height ${R} ${cubicBezierEaseInOut$1},
 opacity ${R} ${cubicBezierEaseIn},
 margin-top ${R} ${cubicBezierEaseInOut$1},
 margin-bottom ${R} ${cubicBezierEaseInOut$1},
 padding-top ${R} ${cubicBezierEaseInOut$1},
 padding-bottom ${R} ${cubicBezierEaseInOut$1}
 ${I?","+I:""}
 `)]}function getIsGroup(T){return T.type==="group"}function getIgnored(T){return T.type==="ignored"}function patternMatched(T,R){try{return!!(1+R.toString().toLowerCase().indexOf(T.trim().toLowerCase()))}catch{return!1}}function createTmOptions(T,R){return{getIsGroup,getIgnored,getKey($){return getIsGroup($)?$.name||$.key||"key-required":$[T]},getChildren($){return $[R]}}}function filterOptions(T,R,I,$){if(!R)return T;function N(M){if(!Array.isArray(M))return[];const L=[];for(const B of M)if(getIsGroup(B)){const k=N(B[$]);k.length&&L.push(Object.assign({},B,{[$]:k}))}else{if(getIgnored(B))continue;R(I,B)&&L.push(B)}return L}return N(T)}function createValOptMap(T,R,I){const $=new Map;return T.forEach(N=>{getIsGroup(N)?N[I].forEach(M=>{$.set(M[R],M)}):$.set(N[R],N)}),$}const commonVariables$5={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"},self$e=T=>{const{textColor2:R,textColor3:I,textColorDisabled:$,primaryColor:N,primaryColorHover:M,inputColor:L,inputColorDisabled:B,borderColor:k,warningColor:U,warningColorHover:H,errorColor:z,errorColorHover:V,borderRadius:W,lineHeight:K,fontSizeTiny:Y,fontSizeSmall:q,fontSizeMedium:Z,fontSizeLarge:Q,heightTiny:ee,heightSmall:ne,heightMedium:te,heightLarge:re,actionColor:ie,clearColor:se,clearColorHover:le,clearColorPressed:he,placeholderColor:pe,placeholderColorDisabled:fe,iconColor:Se,iconColorDisabled:Pe,iconColorHover:ye,iconColorPressed:we}=T;return Object.assign(Object.assign({},commonVariables$5),{countTextColor:I,heightTiny:ee,heightSmall:ne,heightMedium:te,heightLarge:re,fontSizeTiny:Y,fontSizeSmall:q,fontSizeMedium:Z,fontSizeLarge:Q,lineHeight:K,lineHeightTextarea:K,borderRadius:W,iconSize:"16px",groupLabelColor:ie,groupLabelTextColor:R,textColor:R,textColorDisabled:$,textDecorationColor:R,caretColor:N,placeholderColor:pe,placeholderColorDisabled:fe,color:L,colorDisabled:B,colorFocus:L,groupLabelBorder:`1px solid ${k}`,border:`1px solid ${k}`,borderHover:`1px solid ${M}`,borderDisabled:`1px solid ${k}`,borderFocus:`1px solid ${M}`,boxShadowFocus:`0 0 0 2px ${changeColor(N,{alpha:.2})}`,loadingColor:N,loadingColorWarning:U,borderWarning:`1px solid ${U}`,borderHoverWarning:`1px solid ${H}`,colorFocusWarning:L,borderFocusWarning:`1px solid ${H}`,boxShadowFocusWarning:`0 0 0 2px ${changeColor(U,{alpha:.2})}`,caretColorWarning:U,loadingColorError:z,borderError:`1px solid ${z}`,borderHoverError:`1px solid ${V}`,colorFocusError:L,borderFocusError:`1px solid ${V}`,boxShadowFocusError:`0 0 0 2px ${changeColor(z,{alpha:.2})}`,caretColorError:z,clearColor:se,clearColorHover:le,clearColorPressed:he,iconColor:Se,iconColorDisabled:Pe,iconColorHover:ye,iconColorPressed:we,suffixTextColor:R})},inputLight={name:"Input",common:commonLight,self:self$e},inputLight$1=inputLight,inputInjectionKey="n-input";function len(T){let R=0;for(const I of T)R++;return R}function isEmptyInputValue(T){return T===""||T==null}function useCursor(T){const R=ref(null);function I(){const{value:M}=T;if(!M||!M.focus){N();return}const{selectionStart:L,selectionEnd:B,value:k}=M;if(L==null||B==null){N();return}R.value={start:L,end:B,beforeText:k.slice(0,L),afterText:k.slice(B)}}function $(){var M;const{value:L}=R,{value:B}=T;if(!L||!B)return;const{value:k}=B,{start:U,beforeText:H,afterText:z}=L;let V=k.length;if(k.endsWith(z))V=k.length-z.length;else if(k.startsWith(H))V=H.length;else{const W=H[U-1],K=k.indexOf(W,U-1);K!==-1&&(V=K+1)}(M=B.setSelectionRange)===null||M===void 0||M.call(B,V,V)}function N(){R.value=null}return watch(T,N),{recordCursor:I,restoreCursor:$}}const WordCount=defineComponent({name:"InputWordCount",setup(T,{slots:R}){const{mergedValueRef:I,maxlengthRef:$,mergedClsPrefixRef:N}=inject(inputInjectionKey),M=computed(()=>{const{value:L}=I;return L===null||Array.isArray(L)?0:len(L)});return()=>{const{value:L}=$,{value:B}=I;return h$1("span",{class:`${N.value}-input-word-count`},resolveSlotWithProps(R.default,{value:B===null||Array.isArray(B)?"":B},()=>[L===void 0?M.value:`${M.value} / ${L}`]))}}}),style$e=cB("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);
`,[cE("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),cE("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 -webkit-text-fill-color .3s var(--n-bezier),
 caret-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 `),cE("input-el, textarea-el",`
 -webkit-appearance: none;
 scrollbar-width: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--n-text-decoration-color);
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 background-color: transparent;
 `,[c$2("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),c$2("&::placeholder","color: #0000;"),c$2("&:-webkit-autofill ~",[cE("placeholder","display: none;")])]),cM("round",[cNotM("textarea","border-radius: calc(var(--n-height) / 2);")]),cE("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--n-placeholder-color);
 `,[c$2("span",`
 width: 100%;
 display: inline-block;
 `)]),cM("textarea",[cE("placeholder","overflow: visible;")]),cNotM("autosize","width: 100%;"),cM("autosize",[cE("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),cB("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 `),cE("input-mirror",`
 padding: 0;
 height: var(--n-height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: nowrap;
 pointer-events: none;
 `),cE("input-el",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[c$2("+",[cE("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),cNotM("textarea",[cE("placeholder","white-space: nowrap;")]),cE("eye",`
 transition: color .3s var(--n-bezier);
 `),cM("textarea","width: 100%;",[cB("input-word-count",`
 position: absolute;
 right: var(--n-padding-right);
 bottom: var(--n-padding-vertical);
 `),cM("resizable",[cB("input-wrapper",`
 resize: vertical;
 min-height: var(--n-height);
 `)]),cE("textarea-el, textarea-mirror, placeholder",`
 height: 100%;
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--n-padding-vertical);
 padding-bottom: var(--n-padding-vertical);
 word-break: break-word;
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--n-line-height-textarea);
 margin: 0;
 resize: none;
 white-space: pre-wrap;
 `),cE("textarea-mirror",`
 width: 100%;
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),cM("pair",[cE("input-el, placeholder","text-align: center;"),cE("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 white-space: nowrap;
 `,[cB("icon",`
 color: var(--n-icon-color);
 `),cB("base-icon",`
 color: var(--n-icon-color);
 `)])]),cM("disabled",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[cE("border","border: var(--n-border-disabled);"),cE("input-el, textarea-el",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 text-decoration-color: var(--n-text-color-disabled);
 -webkit-text-fill-color: var(--n-text-color-disabled);
 `),cE("placeholder","color: var(--n-placeholder-color-disabled);"),cE("separator","color: var(--n-text-color-disabled);",[cB("icon",`
 color: var(--n-icon-color-disabled);
 `),cB("base-icon",`
 color: var(--n-icon-color-disabled);
 `)]),cE("suffix, prefix","color: var(--n-text-color-disabled);",[cB("icon",`
 color: var(--n-icon-color-disabled);
 `),cB("internal-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),cNotM("disabled",[cE("eye",`
 display: flex;
 align-items: center;
 justify-content: center;
 color: var(--n-icon-color);
 cursor: pointer;
 `,[c$2("&:hover",`
 color: var(--n-icon-color-hover);
 `),c$2("&:active",`
 color: var(--n-icon-color-pressed);
 `)]),c$2("&:hover",[cE("state-border","border: var(--n-border-hover);")]),cM("focus","background-color: var(--n-color-focus);",[cE("state-border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),cE("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--n-border);
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),cE("state-border",`
 border-color: #0000;
 z-index: 1;
 `),cE("prefix","margin-right: 4px;"),cE("suffix",`
 margin-left: 4px;
 `),cE("suffix, prefix",`
 transition: color .3s var(--n-bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--n-height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-suffix-text-color);
 `,[cB("base-loading",`
 font-size: var(--n-icon-size);
 margin: 0 2px;
 color: var(--n-loading-color);
 `),cB("base-clear",`
 font-size: var(--n-icon-size);
 `,[cE("placeholder",[cB("base-icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)])]),c$2(">",[cB("icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),cB("base-icon",`
 font-size: var(--n-icon-size);
 `)]),cB("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--n-count-text-color);
 transition: color .3s var(--n-bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `),["warning","error"].map(T=>cM(`${T}-status`,[cNotM("disabled",[cB("base-loading",`
 color: var(--n-loading-color-${T})
 `),cE("input-el, textarea-el",`
 caret-color: var(--n-caret-color-${T});
 `),cE("state-border",`
 border: var(--n-border-${T});
 `),c$2("&:hover",[cE("state-border",`
 border: var(--n-border-hover-${T});
 `)]),c$2("&:focus",`
 background-color: var(--n-color-focus-${T});
 `,[cE("state-border",`
 box-shadow: var(--n-box-shadow-focus-${T});
 border: var(--n-border-focus-${T});
 `)]),cM("focus",`
 background-color: var(--n-color-focus-${T});
 `,[cE("state-border",`
 box-shadow: var(--n-box-shadow-focus-${T});
 border: var(--n-border-focus-${T});
 `)])])]))]),inputProps=Object.assign(Object.assign({},useTheme.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},allowInput:Function,onMousedown:Function,onKeydown:Function,onKeyup:Function,onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:Boolean,showPasswordToggle:Boolean}),__unplugin_components_0$4=defineComponent({name:"Input",props:inputProps,setup(T){const{mergedClsPrefixRef:R,mergedBorderedRef:I,inlineThemeDisabled:$,mergedRtlRef:N}=useConfig(T),M=useTheme("Input","-input",style$e,inputLight$1,T,R),L=ref(null),B=ref(null),k=ref(null),U=ref(null),H=ref(null),z=ref(null),V=ref(null),W=useCursor(V),K=ref(null),{localeRef:Y}=useLocale("Input"),q=ref(T.defaultValue),Z=toRef(T,"value"),Q=useMergedState(Z,q),ee=useFormItem(T),{mergedSizeRef:ne,mergedDisabledRef:te,mergedStatusRef:re}=ee,ie=ref(!1),se=ref(!1),le=ref(!1),he=ref(!1);let pe=null;const fe=computed(()=>{const{placeholder:Ne,pair:ve}=T;return ve?Array.isArray(Ne)?Ne:Ne===void 0?["",""]:[Ne,Ne]:Ne===void 0?[Y.value.placeholder]:[Ne]}),Se=computed(()=>{const{value:Ne}=le,{value:ve}=Q,{value:De}=fe;return!Ne&&(isEmptyInputValue(ve)||Array.isArray(ve)&&isEmptyInputValue(ve[0]))&&De[0]}),Pe=computed(()=>{const{value:Ne}=le,{value:ve}=Q,{value:De}=fe;return!Ne&&De[1]&&(isEmptyInputValue(ve)||Array.isArray(ve)&&isEmptyInputValue(ve[1]))}),ye=useMemo(()=>T.internalForceFocus||ie.value),we=useMemo(()=>{if(te.value||T.readonly||!T.clearable||!ye.value&&!se.value)return!1;const{value:Ne}=Q,{value:ve}=ye;return T.pair?!!(Array.isArray(Ne)&&(Ne[0]||Ne[1]))&&(se.value||ve):!!Ne&&(se.value||ve)}),Ee=computed(()=>{const{showPasswordOn:Ne}=T;if(Ne)return Ne;if(T.showPasswordToggle)return"click"}),He=ref(!1),Ae=computed(()=>{const{textDecoration:Ne}=T;return Ne?Array.isArray(Ne)?Ne.map(ve=>({textDecoration:ve})):[{textDecoration:Ne}]:["",""]}),de=ref(void 0),Oe=()=>{var Ne,ve;if(T.type==="textarea"){const{autosize:De}=T;if(De&&(de.value=(ve=(Ne=K.value)===null||Ne===void 0?void 0:Ne.$el)===null||ve===void 0?void 0:ve.offsetWidth),!B.value||typeof De=="boolean")return;const{paddingTop:it,paddingBottom:at,lineHeight:ct}=window.getComputedStyle(B.value),Ut=Number(it.slice(0,-2)),Ft=Number(at.slice(0,-2)),Qt=Number(ct.slice(0,-2)),{value:cn}=k;if(!cn)return;if(De.minRows){const en=Math.max(De.minRows,1),Ht=`${Ut+Ft+Qt*en}px`;cn.style.minHeight=Ht}if(De.maxRows){const en=`${Ut+Ft+Qt*De.maxRows}px`;cn.style.maxHeight=en}}},Ve=computed(()=>{const{maxlength:Ne}=T;return Ne===void 0?void 0:Number(Ne)});onMounted(()=>{const{value:Ne}=Q;Array.isArray(Ne)||yt(Ne)});const Ze=getCurrentInstance().proxy;function nt(Ne){const{onUpdateValue:ve,"onUpdate:value":De,onInput:it}=T,{nTriggerFormInput:at}=ee;ve&&call(ve,Ne),De&&call(De,Ne),it&&call(it,Ne),q.value=Ne,at()}function xe(Ne){const{onChange:ve}=T,{nTriggerFormChange:De}=ee;ve&&call(ve,Ne),q.value=Ne,De()}function Le(Ne){const{onBlur:ve}=T,{nTriggerFormBlur:De}=ee;ve&&call(ve,Ne),De()}function Ue(Ne){const{onFocus:ve}=T,{nTriggerFormFocus:De}=ee;ve&&call(ve,Ne),De()}function Xe(Ne){const{onClear:ve}=T;ve&&call(ve,Ne)}function je(Ne){const{onInputBlur:ve}=T;ve&&call(ve,Ne)}function st(Ne){const{onInputFocus:ve}=T;ve&&call(ve,Ne)}function Ye(){const{onDeactivate:Ne}=T;Ne&&call(Ne)}function Qe(){const{onActivate:Ne}=T;Ne&&call(Ne)}function ce(Ne){const{onClick:ve}=T;ve&&call(ve,Ne)}function ge(Ne){const{onWrapperFocus:ve}=T;ve&&call(ve,Ne)}function Re(Ne){const{onWrapperBlur:ve}=T;ve&&call(ve,Ne)}function ke(){le.value=!0}function be(Ne){le.value=!1,Ne.target===z.value?Be(Ne,1):Be(Ne,0)}function Be(Ne,ve=0,De="input"){const it=Ne.target.value;if(yt(it),T.type==="textarea"){const{value:ct}=K;ct&&ct.syncUnifiedContainer()}if(pe=it,le.value)return;W.recordCursor();const at=We(it);if(at)if(!T.pair)De==="input"?nt(it):xe(it);else{let{value:ct}=Q;Array.isArray(ct)?ct=[ct[0],ct[1]]:ct=["",""],ct[ve]=it,De==="input"?nt(ct):xe(ct)}Ze.$forceUpdate(),at||nextTick(W.restoreCursor)}function We(Ne){const{allowInput:ve}=T;return typeof ve=="function"?ve(Ne):!0}function Fe(Ne){je(Ne),Ne.relatedTarget===L.value&&Ye(),Ne.relatedTarget!==null&&(Ne.relatedTarget===H.value||Ne.relatedTarget===z.value||Ne.relatedTarget===B.value)||(he.value=!1),ot(Ne,"blur"),V.value=null}function Te(Ne,ve){st(Ne),ie.value=!0,he.value=!0,Qe(),ot(Ne,"focus"),ve===0?V.value=H.value:ve===1?V.value=z.value:ve===2&&(V.value=B.value)}function Ie(Ne){T.passivelyActivated&&(Re(Ne),ot(Ne,"blur"))}function tt(Ne){T.passivelyActivated&&(ie.value=!0,ge(Ne),ot(Ne,"focus"))}function ot(Ne,ve){Ne.relatedTarget!==null&&(Ne.relatedTarget===H.value||Ne.relatedTarget===z.value||Ne.relatedTarget===B.value||Ne.relatedTarget===L.value)||(ve==="focus"?(Ue(Ne),ie.value=!0):ve==="blur"&&(Le(Ne),ie.value=!1))}function lt(Ne,ve){Be(Ne,ve,"change")}function ft(Ne){ce(Ne)}function mt(Ne){Xe(Ne),T.pair?(nt(["",""]),xe(["",""])):(nt(""),xe(""))}function wt(Ne){const{onMousedown:ve}=T;ve&&ve(Ne);const{tagName:De}=Ne.target;if(De!=="INPUT"&&De!=="TEXTAREA"){if(T.resizable){const{value:it}=L;if(it){const{left:at,top:ct,width:Ut,height:Ft}=it.getBoundingClientRect(),Qt=14;if(at+Ut-Qt<Ne.clientX&&Ne.clientY<at+Ut&&ct+Ft-Qt<Ne.clientY&&Ne.clientY<ct+Ft)return}}Ne.preventDefault(),ie.value||_e()}}function St(){var Ne;se.value=!0,T.type==="textarea"&&((Ne=K.value)===null||Ne===void 0||Ne.handleMouseEnterWrapper())}function Rt(){var Ne;se.value=!1,T.type==="textarea"&&((Ne=K.value)===null||Ne===void 0||Ne.handleMouseLeaveWrapper())}function Mt(){te.value||Ee.value==="click"&&(He.value=!He.value)}function rn(Ne){if(te.value)return;Ne.preventDefault();const ve=it=>{it.preventDefault(),off("mouseup",document,ve)};if(on("mouseup",document,ve),Ee.value!=="mousedown")return;He.value=!0;const De=()=>{He.value=!1,off("mouseup",document,De)};on("mouseup",document,De)}function Xt(Ne){var ve;switch((ve=T.onKeydown)===null||ve===void 0||ve.call(T,Ne),Ne.key){case"Escape":Kt();break;case"Enter":Dt(Ne);break}}function Dt(Ne){var ve,De;if(T.passivelyActivated){const{value:it}=he;if(it){T.internalDeactivateOnEnter&&Kt();return}Ne.preventDefault(),T.type==="textarea"?(ve=B.value)===null||ve===void 0||ve.focus():(De=H.value)===null||De===void 0||De.focus()}}function Kt(){T.passivelyActivated&&(he.value=!1,nextTick(()=>{var Ne;(Ne=L.value)===null||Ne===void 0||Ne.focus()}))}function _e(){var Ne,ve,De;te.value||(T.passivelyActivated?(Ne=L.value)===null||Ne===void 0||Ne.focus():((ve=B.value)===null||ve===void 0||ve.focus(),(De=H.value)===null||De===void 0||De.focus()))}function Ge(){var Ne;!((Ne=L.value)===null||Ne===void 0)&&Ne.contains(document.activeElement)&&document.activeElement.blur()}function rt(){var Ne,ve;(Ne=B.value)===null||Ne===void 0||Ne.select(),(ve=H.value)===null||ve===void 0||ve.select()}function dt(){te.value||(B.value?B.value.focus():H.value&&H.value.focus())}function pt(){const{value:Ne}=L;(Ne==null?void 0:Ne.contains(document.activeElement))&&Ne!==document.activeElement&&Kt()}function gt(Ne){if(T.type==="textarea"){const{value:ve}=B;ve==null||ve.scrollTo(Ne)}else{const{value:ve}=H;ve==null||ve.scrollTo(Ne)}}function yt(Ne){const{type:ve,pair:De,autosize:it}=T;if(!De&&it)if(ve==="textarea"){const{value:at}=k;at&&(at.textContent=(Ne!=null?Ne:"")+`\r
`)}else{const{value:at}=U;at&&(Ne?at.textContent=Ne:at.innerHTML="&nbsp;")}}function Tt(){Oe()}const Jt=ref({top:"0"});function fn(Ne){var ve;const{scrollTop:De}=Ne.target;Jt.value.top=`${-De}px`,(ve=K.value)===null||ve===void 0||ve.syncUnifiedContainer()}let Vn=null;watchEffect(()=>{const{autosize:Ne,type:ve}=T;Ne&&ve==="textarea"?Vn=watch(Q,De=>{!Array.isArray(De)&&De!==pe&&yt(De)}):Vn==null||Vn()});let Dn=null;watchEffect(()=>{T.type==="textarea"?Dn=watch(Q,Ne=>{var ve;!Array.isArray(Ne)&&Ne!==pe&&((ve=K.value)===null||ve===void 0||ve.syncUnifiedContainer())}):Dn==null||Dn()}),provide(inputInjectionKey,{mergedValueRef:Q,maxlengthRef:Ve,mergedClsPrefixRef:R});const gr={wrapperElRef:L,inputElRef:H,textareaElRef:B,isCompositing:le,focus:_e,blur:Ge,select:rt,deactivate:pt,activate:dt,scrollTo:gt},mr=useRtl("Input",N,R),or=computed(()=>{const{value:Ne}=ne,{common:{cubicBezierEaseInOut:ve},self:{color:De,borderRadius:it,textColor:at,caretColor:ct,caretColorError:Ut,caretColorWarning:Ft,textDecorationColor:Qt,border:cn,borderDisabled:en,borderHover:Ht,borderFocus:Yt,placeholderColor:bn,placeholderColorDisabled:yr,lineHeightTextarea:Bt,colorDisabled:ln,colorFocus:jn,textColorDisabled:Ar,boxShadowFocus:Yn,iconSize:Ir,colorFocusWarning:_r,boxShadowFocusWarning:lo,borderWarning:ci,borderFocusWarning:hi,borderHoverWarning:di,colorFocusError:uo,boxShadowFocusError:co,borderError:ho,borderFocusError:fo,borderHoverError:fi,clearSize:pi,clearColor:vi,clearColorHover:jr,clearColorPressed:po,iconColor:gi,iconColorDisabled:Or,suffixTextColor:mi,countTextColor:vo,iconColorHover:yi,iconColorPressed:_i,loadingColor:Wr,loadingColorError:go,loadingColorWarning:bi,[createKey("padding",Ne)]:Xr,[createKey("fontSize",Ne)]:Kr,[createKey("height",Ne)]:sr}}=M.value,{left:xi,right:Ti}=getMargin(Xr);return{"--n-bezier":ve,"--n-count-text-color":vo,"--n-color":De,"--n-font-size":Kr,"--n-border-radius":it,"--n-height":sr,"--n-padding-left":xi,"--n-padding-right":Ti,"--n-text-color":at,"--n-caret-color":ct,"--n-text-decoration-color":Qt,"--n-border":cn,"--n-border-disabled":en,"--n-border-hover":Ht,"--n-border-focus":Yt,"--n-placeholder-color":bn,"--n-placeholder-color-disabled":yr,"--n-icon-size":Ir,"--n-line-height-textarea":Bt,"--n-color-disabled":ln,"--n-color-focus":jn,"--n-text-color-disabled":Ar,"--n-box-shadow-focus":Yn,"--n-loading-color":Wr,"--n-caret-color-warning":Ft,"--n-color-focus-warning":_r,"--n-box-shadow-focus-warning":lo,"--n-border-warning":ci,"--n-border-focus-warning":hi,"--n-border-hover-warning":di,"--n-loading-color-warning":bi,"--n-caret-color-error":Ut,"--n-color-focus-error":uo,"--n-box-shadow-focus-error":co,"--n-border-error":ho,"--n-border-focus-error":fo,"--n-border-hover-error":fi,"--n-loading-color-error":go,"--n-clear-color":vi,"--n-clear-size":pi,"--n-clear-color-hover":jr,"--n-clear-color-pressed":po,"--n-icon-color":gi,"--n-icon-color-hover":yi,"--n-icon-color-pressed":_i,"--n-icon-color-disabled":Or,"--n-suffix-text-color":mi}}),gn=$?useThemeClass("input",computed(()=>{const{value:Ne}=ne;return Ne[0]}),or,T):void 0;return Object.assign(Object.assign({},gr),{wrapperElRef:L,inputElRef:H,inputMirrorElRef:U,inputEl2Ref:z,textareaElRef:B,textareaMirrorElRef:k,textareaScrollbarInstRef:K,rtlEnabled:mr,uncontrolledValue:q,mergedValue:Q,passwordVisible:He,mergedPlaceholder:fe,showPlaceholder1:Se,showPlaceholder2:Pe,mergedFocus:ye,isComposing:le,activated:he,showClearButton:we,mergedSize:ne,mergedDisabled:te,textDecorationStyle:Ae,mergedClsPrefix:R,mergedBordered:I,mergedShowPasswordOn:Ee,placeholderStyle:Jt,mergedStatus:re,textAreaScrollContainerWidth:de,handleTextAreaScroll:fn,handleCompositionStart:ke,handleCompositionEnd:be,handleInput:Be,handleInputBlur:Fe,handleInputFocus:Te,handleWrapperBlur:Ie,handleWrapperFocus:tt,handleMouseEnter:St,handleMouseLeave:Rt,handleMouseDown:wt,handleChange:lt,handleClick:ft,handleClear:mt,handlePasswordToggleClick:Mt,handlePasswordToggleMousedown:rn,handleWrapperKeydown:Xt,handleTextAreaMirrorResize:Tt,getTextareaScrollContainer:()=>B.value,mergedTheme:M,cssVars:$?void 0:or,themeClass:gn==null?void 0:gn.themeClass,onRender:gn==null?void 0:gn.onRender})},render(){var T,R;const{mergedClsPrefix:I,mergedStatus:$,themeClass:N,type:M,onRender:L}=this,B=this.$slots;return L==null||L(),h$1("div",{ref:"wrapperElRef",class:[`${I}-input`,N,$&&`${I}-input--${$}-status`,{[`${I}-input--rtl`]:this.rtlEnabled,[`${I}-input--disabled`]:this.mergedDisabled,[`${I}-input--textarea`]:M==="textarea",[`${I}-input--resizable`]:this.resizable&&!this.autosize,[`${I}-input--autosize`]:this.autosize,[`${I}-input--round`]:this.round&&M!=="textarea",[`${I}-input--pair`]:this.pair,[`${I}-input--focus`]:this.mergedFocus,[`${I}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.onKeyup,onKeydown:this.handleWrapperKeydown},h$1("div",{class:`${I}-input-wrapper`},resolveWrappedSlot(B.prefix,k=>k&&h$1("div",{class:`${I}-input__prefix`},k)),M==="textarea"?h$1(NScrollbar,{ref:"textareaScrollbarInstRef",class:`${I}-input__textarea`,container:this.getTextareaScrollContainer,triggerDisplayManually:!0,useUnifiedContainer:!0,internalHoistYRail:!0},{default:()=>{var k,U;const{textAreaScrollContainerWidth:H}=this,z={width:this.autosize&&H&&`${H}px`};return h$1(Fragment,null,h$1("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:[`${I}-input__textarea-el`,(k=this.inputProps)===null||k===void 0?void 0:k.class],autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],(U=this.inputProps)===null||U===void 0?void 0:U.style,z],onBlur:this.handleInputBlur,onFocus:V=>this.handleInputFocus(V,2),onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?h$1("div",{class:`${I}-input__placeholder`,style:[this.placeholderStyle,z],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?h$1(VResizeObserver,{onResize:this.handleTextAreaMirrorResize},{default:()=>h$1("div",{ref:"textareaMirrorElRef",class:`${I}-input__textarea-mirror`,key:"mirror"})}):null)}}):h$1("div",{class:`${I}-input__input`},h$1("input",Object.assign({type:M==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":M},this.inputProps,{ref:"inputElRef",class:[`${I}-input__input-el`,(T=this.inputProps)===null||T===void 0?void 0:T.class],style:[this.textDecorationStyle[0],(R=this.inputProps)===null||R===void 0?void 0:R.style],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:k=>this.handleInputFocus(k,0),onInput:k=>this.handleInput(k,0),onChange:k=>this.handleChange(k,0)})),this.showPlaceholder1?h$1("div",{class:`${I}-input__placeholder`},h$1("span",null,this.mergedPlaceholder[0])):null,this.autosize?h$1("div",{class:`${I}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"},"\xA0"):null),!this.pair&&resolveWrappedSlot(B.suffix,k=>k||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?h$1("div",{class:`${I}-input__suffix`},[resolveWrappedSlot(B["clear-icon-placeholder"],U=>(this.clearable||U)&&h$1(NBaseClear,{clsPrefix:I,show:this.showClearButton,onClear:this.handleClear},{placeholder:()=>U,icon:()=>{var H,z;return(z=(H=this.$slots)["clear-icon"])===null||z===void 0?void 0:z.call(H)}})),this.internalLoadingBeforeSuffix?null:k,this.loading!==void 0?h$1(NBaseSuffix,{clsPrefix:I,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?k:null,this.showCount&&this.type!=="textarea"?h$1(WordCount,null,{default:U=>{var H;return(H=B.count)===null||H===void 0?void 0:H.call(B,U)}}):null,this.mergedShowPasswordOn&&this.type==="password"?h$1("div",{class:`${I}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},this.passwordVisible?resolveSlot(B["password-visible-icon"],()=>[h$1(NBaseIcon,{clsPrefix:I},{default:()=>h$1(EyeIcon,null)})]):resolveSlot(B["password-invisible-icon"],()=>[h$1(NBaseIcon,{clsPrefix:I},{default:()=>h$1(EyeOffIcon,null)})])):null]):null)),this.pair?h$1("span",{class:`${I}-input__separator`},resolveSlot(B.separator,()=>[this.separator])):null,this.pair?h$1("div",{class:`${I}-input-wrapper`},h$1("div",{class:`${I}-input__input`},h$1("input",{ref:"inputEl2Ref",type:this.type,class:`${I}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:k=>this.handleInputFocus(k,1),onInput:k=>this.handleInput(k,1),onChange:k=>this.handleChange(k,1)}),this.showPlaceholder2?h$1("div",{class:`${I}-input__placeholder`},h$1("span",null,this.mergedPlaceholder[1])):null),resolveWrappedSlot(B.suffix,k=>(this.clearable||k)&&h$1("div",{class:`${I}-input__suffix`},[this.clearable&&h$1(NBaseClear,{clsPrefix:I,show:this.showClearButton,onClear:this.handleClear},{icon:()=>{var U;return(U=B["clear-icon"])===null||U===void 0?void 0:U.call(B)},placeholder:()=>{var U;return(U=B["clear-icon-placeholder"])===null||U===void 0?void 0:U.call(B)}}),k]))):null,this.mergedBordered?h$1("div",{class:`${I}-input__border`}):null,this.mergedBordered?h$1("div",{class:`${I}-input__state-border`}):null,this.showCount&&M==="textarea"?h$1(WordCount,null,{default:k=>{var U;return(U=B.count)===null||U===void 0?void 0:U.call(B,k)}}):null)}});function createHoverColor(T){return composite(T,[255,255,255,.16])}function createPressedColor(T){return composite(T,[0,0,0,.12])}const buttonGroupInjectionKey="n-button-group",isChrome=isBrowser$2&&"chrome"in window;isBrowser$2&&navigator.userAgent.includes("Firefox");const isSafari=isBrowser$2&&navigator.userAgent.includes("Safari")&&!isChrome,commonVariables$4={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"},self$d=T=>{const{heightTiny:R,heightSmall:I,heightMedium:$,heightLarge:N,borderRadius:M,fontSizeTiny:L,fontSizeSmall:B,fontSizeMedium:k,fontSizeLarge:U,opacityDisabled:H,textColor2:z,textColor3:V,primaryColorHover:W,primaryColorPressed:K,borderColor:Y,primaryColor:q,baseColor:Z,infoColor:Q,infoColorHover:ee,infoColorPressed:ne,successColor:te,successColorHover:re,successColorPressed:ie,warningColor:se,warningColorHover:le,warningColorPressed:he,errorColor:pe,errorColorHover:fe,errorColorPressed:Se,fontWeight:Pe,buttonColor2:ye,buttonColor2Hover:we,buttonColor2Pressed:Ee,fontWeightStrong:He}=T;return Object.assign(Object.assign({},commonVariables$4),{heightTiny:R,heightSmall:I,heightMedium:$,heightLarge:N,borderRadiusTiny:M,borderRadiusSmall:M,borderRadiusMedium:M,borderRadiusLarge:M,fontSizeTiny:L,fontSizeSmall:B,fontSizeMedium:k,fontSizeLarge:U,opacityDisabled:H,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:ye,colorSecondaryHover:we,colorSecondaryPressed:Ee,colorTertiary:ye,colorTertiaryHover:we,colorTertiaryPressed:Ee,colorQuaternary:"#0000",colorQuaternaryHover:we,colorQuaternaryPressed:Ee,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:z,textColorTertiary:V,textColorHover:W,textColorPressed:K,textColorFocus:W,textColorDisabled:z,textColorText:z,textColorTextHover:W,textColorTextPressed:K,textColorTextFocus:W,textColorTextDisabled:z,textColorGhost:z,textColorGhostHover:W,textColorGhostPressed:K,textColorGhostFocus:W,textColorGhostDisabled:z,border:`1px solid ${Y}`,borderHover:`1px solid ${W}`,borderPressed:`1px solid ${K}`,borderFocus:`1px solid ${W}`,borderDisabled:`1px solid ${Y}`,rippleColor:q,colorPrimary:q,colorHoverPrimary:W,colorPressedPrimary:K,colorFocusPrimary:W,colorDisabledPrimary:q,textColorPrimary:Z,textColorHoverPrimary:Z,textColorPressedPrimary:Z,textColorFocusPrimary:Z,textColorDisabledPrimary:Z,textColorTextPrimary:q,textColorTextHoverPrimary:W,textColorTextPressedPrimary:K,textColorTextFocusPrimary:W,textColorTextDisabledPrimary:z,textColorGhostPrimary:q,textColorGhostHoverPrimary:W,textColorGhostPressedPrimary:K,textColorGhostFocusPrimary:W,textColorGhostDisabledPrimary:q,borderPrimary:`1px solid ${q}`,borderHoverPrimary:`1px solid ${W}`,borderPressedPrimary:`1px solid ${K}`,borderFocusPrimary:`1px solid ${W}`,borderDisabledPrimary:`1px solid ${q}`,rippleColorPrimary:q,colorInfo:Q,colorHoverInfo:ee,colorPressedInfo:ne,colorFocusInfo:ee,colorDisabledInfo:Q,textColorInfo:Z,textColorHoverInfo:Z,textColorPressedInfo:Z,textColorFocusInfo:Z,textColorDisabledInfo:Z,textColorTextInfo:Q,textColorTextHoverInfo:ee,textColorTextPressedInfo:ne,textColorTextFocusInfo:ee,textColorTextDisabledInfo:z,textColorGhostInfo:Q,textColorGhostHoverInfo:ee,textColorGhostPressedInfo:ne,textColorGhostFocusInfo:ee,textColorGhostDisabledInfo:Q,borderInfo:`1px solid ${Q}`,borderHoverInfo:`1px solid ${ee}`,borderPressedInfo:`1px solid ${ne}`,borderFocusInfo:`1px solid ${ee}`,borderDisabledInfo:`1px solid ${Q}`,rippleColorInfo:Q,colorSuccess:te,colorHoverSuccess:re,colorPressedSuccess:ie,colorFocusSuccess:re,colorDisabledSuccess:te,textColorSuccess:Z,textColorHoverSuccess:Z,textColorPressedSuccess:Z,textColorFocusSuccess:Z,textColorDisabledSuccess:Z,textColorTextSuccess:te,textColorTextHoverSuccess:re,textColorTextPressedSuccess:ie,textColorTextFocusSuccess:re,textColorTextDisabledSuccess:z,textColorGhostSuccess:te,textColorGhostHoverSuccess:re,textColorGhostPressedSuccess:ie,textColorGhostFocusSuccess:re,textColorGhostDisabledSuccess:te,borderSuccess:`1px solid ${te}`,borderHoverSuccess:`1px solid ${re}`,borderPressedSuccess:`1px solid ${ie}`,borderFocusSuccess:`1px solid ${re}`,borderDisabledSuccess:`1px solid ${te}`,rippleColorSuccess:te,colorWarning:se,colorHoverWarning:le,colorPressedWarning:he,colorFocusWarning:le,colorDisabledWarning:se,textColorWarning:Z,textColorHoverWarning:Z,textColorPressedWarning:Z,textColorFocusWarning:Z,textColorDisabledWarning:Z,textColorTextWarning:se,textColorTextHoverWarning:le,textColorTextPressedWarning:he,textColorTextFocusWarning:le,textColorTextDisabledWarning:z,textColorGhostWarning:se,textColorGhostHoverWarning:le,textColorGhostPressedWarning:he,textColorGhostFocusWarning:le,textColorGhostDisabledWarning:se,borderWarning:`1px solid ${se}`,borderHoverWarning:`1px solid ${le}`,borderPressedWarning:`1px solid ${he}`,borderFocusWarning:`1px solid ${le}`,borderDisabledWarning:`1px solid ${se}`,rippleColorWarning:se,colorError:pe,colorHoverError:fe,colorPressedError:Se,colorFocusError:fe,colorDisabledError:pe,textColorError:Z,textColorHoverError:Z,textColorPressedError:Z,textColorFocusError:Z,textColorDisabledError:Z,textColorTextError:pe,textColorTextHoverError:fe,textColorTextPressedError:Se,textColorTextFocusError:fe,textColorTextDisabledError:z,textColorGhostError:pe,textColorGhostHoverError:fe,textColorGhostPressedError:Se,textColorGhostFocusError:fe,textColorGhostDisabledError:pe,borderError:`1px solid ${pe}`,borderHoverError:`1px solid ${fe}`,borderPressedError:`1px solid ${Se}`,borderFocusError:`1px solid ${fe}`,borderDisabledError:`1px solid ${pe}`,rippleColorError:pe,waveOpacity:"0.6",fontWeight:Pe,fontWeightStrong:He})},buttonLight={name:"Button",common:commonLight,self:self$d},buttonLight$1=buttonLight,style$d=c$2([cB("button",`
 margin: 0;
 font-weight: var(--n-font-weight);
 line-height: 1;
 font-family: inherit;
 padding: var(--n-padding);
 height: var(--n-height);
 font-size: var(--n-font-size);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 width: var(--n-width);
 white-space: nowrap;
 outline: none;
 position: relative;
 z-index: auto;
 border: none;
 display: inline-flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 align-items: center;
 justify-content: center;
 user-select: none;
 -webkit-user-select: none;
 text-align: center;
 cursor: pointer;
 text-decoration: none;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[cM("color",[cE("border",{borderColor:"var(--n-border-color)"}),cM("disabled",[cE("border",{borderColor:"var(--n-border-color-disabled)"})]),cNotM("disabled",[c$2("&:focus",[cE("state-border",{borderColor:"var(--n-border-color-focus)"})]),c$2("&:hover",[cE("state-border",{borderColor:"var(--n-border-color-hover)"})]),c$2("&:active",[cE("state-border",{borderColor:"var(--n-border-color-pressed)"})]),cM("pressed",[cE("state-border",{borderColor:"var(--n-border-color-pressed)"})])])]),cM("disabled",{backgroundColor:"var(--n-color-disabled)",color:"var(--n-text-color-disabled)"},[cE("border",{border:"var(--n-border-disabled)"})]),cNotM("disabled",[c$2("&:focus",{backgroundColor:"var(--n-color-focus)",color:"var(--n-text-color-focus)"},[cE("state-border",{border:"var(--n-border-focus)"})]),c$2("&:hover",{backgroundColor:"var(--n-color-hover)",color:"var(--n-text-color-hover)"},[cE("state-border",{border:"var(--n-border-hover)"})]),c$2("&:active",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[cE("state-border",{border:"var(--n-border-pressed)"})]),cM("pressed",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[cE("state-border",{border:"var(--n-border-pressed)"})])]),cM("loading","cursor: wait;"),cB("base-wave",`
 pointer-events: none;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 animation-iteration-count: 1;
 animation-duration: var(--n-ripple-duration);
 animation-timing-function: var(--n-bezier-ease-out), var(--n-bezier-ease-out);
 `,[cM("active",{zIndex:1,animationName:"button-wave-spread, button-wave-opacity"})]),isBrowser$2&&"MozBoxSizing"in document.createElement("div").style?c$2("&::moz-focus-inner",{border:0}):null,cE("border, state-border",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 border-radius: inherit;
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 `),cE("border",{border:"var(--n-border)"}),cE("state-border",{border:"var(--n-border)",borderColor:"#0000",zIndex:1}),cE("icon",`
 margin: var(--n-icon-margin);
 margin-left: 0;
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 max-width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 position: relative;
 flex-shrink: 0;
 `,[cB("icon-slot",`
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `,[iconSwitchTransition({top:"50%",originalTransform:"translateY(-50%)"})]),fadeInWidthExpandTransition()]),cE("content",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 min-width: 0;
 `,[c$2("~",[cE("icon",{margin:"var(--n-icon-margin)",marginRight:0})])]),cM("block",`
 display: flex;
 width: 100%;
 `),cM("dashed",[cE("border, state-border",{borderStyle:"dashed !important"})]),cM("disabled",{cursor:"not-allowed",opacity:"var(--n-opacity-disabled)"})]),c$2("@keyframes button-wave-spread",{from:{boxShadow:"0 0 0.5px 0 var(--n-ripple-color)"},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)"}}),c$2("@keyframes button-wave-opacity",{from:{opacity:"var(--n-wave-opacity)"},to:{opacity:0}})]),buttonProps=Object.assign(Object.assign({},useTheme.props),{color:String,textColor:String,text:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,circle:Boolean,size:String,ghost:Boolean,round:Boolean,secondary:Boolean,tertiary:Boolean,quaternary:Boolean,strong:Boolean,focusable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},tag:{type:String,default:"button"},type:{type:String,default:"default"},dashed:Boolean,iconPlacement:{type:String,default:"left"},attrType:{type:String,default:"button"},bordered:{type:Boolean,default:!0},onClick:[Function,Array],nativeFocusBehavior:{type:Boolean,default:!isSafari}}),Button=defineComponent({name:"Button",props:buttonProps,setup(T){const R=ref(null),I=ref(null),$=ref(!1),N=useMemo(()=>!T.quaternary&&!T.tertiary&&!T.secondary&&!T.text&&(!T.color||T.ghost||T.dashed)&&T.bordered),M=inject(buttonGroupInjectionKey,{}),{mergedSizeRef:L}=useFormItem({},{defaultSize:"medium",mergedSize:ne=>{const{size:te}=T;if(te)return te;const{size:re}=M;if(re)return re;const{mergedSize:ie}=ne||{};return ie?ie.value:"medium"}}),B=computed(()=>T.focusable&&!T.disabled),k=ne=>{var te;B.value||ne.preventDefault(),!T.nativeFocusBehavior&&(ne.preventDefault(),!T.disabled&&B.value&&((te=R.value)===null||te===void 0||te.focus({preventScroll:!0})))},U=ne=>{var te;if(!T.disabled&&!T.loading){const{onClick:re}=T;re&&call(re,ne),T.text||(te=I.value)===null||te===void 0||te.play()}},H=ne=>{switch(ne.key){case"Enter":if(!T.keyboard)return;$.value=!1}},z=ne=>{switch(ne.key){case"Enter":if(!T.keyboard||T.loading){ne.preventDefault();return}$.value=!0}},V=()=>{$.value=!1},{inlineThemeDisabled:W,mergedClsPrefixRef:K,mergedRtlRef:Y}=useConfig(T),q=useTheme("Button","-button",style$d,buttonLight$1,T,K),Z=useRtl("Button",Y,K),Q=computed(()=>{const ne=q.value,{common:{cubicBezierEaseInOut:te,cubicBezierEaseOut:re},self:ie}=ne,{rippleDuration:se,opacityDisabled:le,fontWeight:he,fontWeightStrong:pe}=ie,fe=L.value,{dashed:Se,type:Pe,ghost:ye,text:we,color:Ee,round:He,circle:Ae,textColor:de,secondary:Oe,tertiary:Ve,quaternary:Ze,strong:nt}=T,xe={"font-weight":nt?pe:he};let Le={"--n-color":"initial","--n-color-hover":"initial","--n-color-pressed":"initial","--n-color-focus":"initial","--n-color-disabled":"initial","--n-ripple-color":"initial","--n-text-color":"initial","--n-text-color-hover":"initial","--n-text-color-pressed":"initial","--n-text-color-focus":"initial","--n-text-color-disabled":"initial"};const Ue=Pe==="tertiary",Xe=Pe==="default",je=Ue?"default":Pe;if(we){const Fe=de||Ee,Te=Fe||ie[createKey("textColorText",je)];Le={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":"#0000","--n-text-color":Te,"--n-text-color-hover":Fe?createHoverColor(Fe):ie[createKey("textColorTextHover",je)],"--n-text-color-pressed":Fe?createPressedColor(Fe):ie[createKey("textColorTextPressed",je)],"--n-text-color-focus":Fe?createHoverColor(Fe):ie[createKey("textColorTextHover",je)],"--n-text-color-disabled":Fe||ie[createKey("textColorTextDisabled",je)]}}else if(ye||Se){const Fe=de||Ee;Le={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":Ee||ie[createKey("rippleColor",je)],"--n-text-color":Fe||ie[createKey("textColorGhost",je)],"--n-text-color-hover":Fe?createHoverColor(Fe):ie[createKey("textColorGhostHover",je)],"--n-text-color-pressed":Fe?createPressedColor(Fe):ie[createKey("textColorGhostPressed",je)],"--n-text-color-focus":Fe?createHoverColor(Fe):ie[createKey("textColorGhostHover",je)],"--n-text-color-disabled":Fe||ie[createKey("textColorGhostDisabled",je)]}}else if(Oe){const Fe=Xe?ie.textColor:Ue?ie.textColorTertiary:ie[createKey("color",je)],Te=Ee||Fe,Ie=Pe!=="default"&&Pe!=="tertiary";Le={"--n-color":Ie?changeColor(Te,{alpha:Number(ie.colorOpacitySecondary)}):ie.colorSecondary,"--n-color-hover":Ie?changeColor(Te,{alpha:Number(ie.colorOpacitySecondaryHover)}):ie.colorSecondaryHover,"--n-color-pressed":Ie?changeColor(Te,{alpha:Number(ie.colorOpacitySecondaryPressed)}):ie.colorSecondaryPressed,"--n-color-focus":Ie?changeColor(Te,{alpha:Number(ie.colorOpacitySecondaryHover)}):ie.colorSecondaryHover,"--n-color-disabled":ie.colorSecondary,"--n-ripple-color":"#0000","--n-text-color":Te,"--n-text-color-hover":Te,"--n-text-color-pressed":Te,"--n-text-color-focus":Te,"--n-text-color-disabled":Te}}else if(Ve||Ze){const Fe=Xe?ie.textColor:Ue?ie.textColorTertiary:ie[createKey("color",je)],Te=Ee||Fe;Ve?(Le["--n-color"]=ie.colorTertiary,Le["--n-color-hover"]=ie.colorTertiaryHover,Le["--n-color-pressed"]=ie.colorTertiaryPressed,Le["--n-color-focus"]=ie.colorSecondaryHover,Le["--n-color-disabled"]=ie.colorTertiary):(Le["--n-color"]=ie.colorQuaternary,Le["--n-color-hover"]=ie.colorQuaternaryHover,Le["--n-color-pressed"]=ie.colorQuaternaryPressed,Le["--n-color-focus"]=ie.colorQuaternaryHover,Le["--n-color-disabled"]=ie.colorQuaternary),Le["--n-ripple-color"]="#0000",Le["--n-text-color"]=Te,Le["--n-text-color-hover"]=Te,Le["--n-text-color-pressed"]=Te,Le["--n-text-color-focus"]=Te,Le["--n-text-color-disabled"]=Te}else Le={"--n-color":Ee||ie[createKey("color",je)],"--n-color-hover":Ee?createHoverColor(Ee):ie[createKey("colorHover",je)],"--n-color-pressed":Ee?createPressedColor(Ee):ie[createKey("colorPressed",je)],"--n-color-focus":Ee?createHoverColor(Ee):ie[createKey("colorFocus",je)],"--n-color-disabled":Ee||ie[createKey("colorDisabled",je)],"--n-ripple-color":Ee||ie[createKey("rippleColor",je)],"--n-text-color":de||(Ee?ie.textColorPrimary:Ue?ie.textColorTertiary:ie[createKey("textColor",je)]),"--n-text-color-hover":de||(Ee?ie.textColorHoverPrimary:ie[createKey("textColorHover",je)]),"--n-text-color-pressed":de||(Ee?ie.textColorPressedPrimary:ie[createKey("textColorPressed",je)]),"--n-text-color-focus":de||(Ee?ie.textColorFocusPrimary:ie[createKey("textColorFocus",je)]),"--n-text-color-disabled":de||(Ee?ie.textColorDisabledPrimary:ie[createKey("textColorDisabled",je)])};let st={"--n-border":"initial","--n-border-hover":"initial","--n-border-pressed":"initial","--n-border-focus":"initial","--n-border-disabled":"initial"};we?st={"--n-border":"none","--n-border-hover":"none","--n-border-pressed":"none","--n-border-focus":"none","--n-border-disabled":"none"}:st={"--n-border":ie[createKey("border",je)],"--n-border-hover":ie[createKey("borderHover",je)],"--n-border-pressed":ie[createKey("borderPressed",je)],"--n-border-focus":ie[createKey("borderFocus",je)],"--n-border-disabled":ie[createKey("borderDisabled",je)]};const{[createKey("height",fe)]:Ye,[createKey("fontSize",fe)]:Qe,[createKey("padding",fe)]:ce,[createKey("paddingRound",fe)]:ge,[createKey("iconSize",fe)]:Re,[createKey("borderRadius",fe)]:ke,[createKey("iconMargin",fe)]:be,waveOpacity:Be}=ie,We={"--n-width":Ae&&!we?Ye:"initial","--n-height":we?"initial":Ye,"--n-font-size":Qe,"--n-padding":Ae||we?"initial":He?ge:ce,"--n-icon-size":Re,"--n-icon-margin":be,"--n-border-radius":we?"initial":Ae||He?Ye:ke};return Object.assign(Object.assign(Object.assign(Object.assign({"--n-bezier":te,"--n-bezier-ease-out":re,"--n-ripple-duration":se,"--n-opacity-disabled":le,"--n-wave-opacity":Be},xe),Le),st),We)}),ee=W?useThemeClass("button",computed(()=>{let ne="";const{dashed:te,type:re,ghost:ie,text:se,color:le,round:he,circle:pe,textColor:fe,secondary:Se,tertiary:Pe,quaternary:ye,strong:we}=T;te&&(ne+="a"),ie&&(ne+="b"),se&&(ne+="c"),he&&(ne+="d"),pe&&(ne+="e"),Se&&(ne+="f"),Pe&&(ne+="g"),ye&&(ne+="h"),we&&(ne+="i"),le&&(ne+="j"+color2Class(le)),fe&&(ne+="k"+color2Class(fe));const{value:Ee}=L;return ne+="l"+Ee[0],ne+="m"+re[0],ne}),Q,T):void 0;return{selfElRef:R,waveElRef:I,mergedClsPrefix:K,mergedFocusable:B,mergedSize:L,showBorder:N,enterPressed:$,rtlEnabled:Z,handleMousedown:k,handleKeydown:z,handleBlur:V,handleKeyup:H,handleClick:U,customColorCssVars:computed(()=>{const{color:ne}=T;if(!ne)return null;const te=createHoverColor(ne);return{"--n-border-color":ne,"--n-border-color-hover":te,"--n-border-color-pressed":createPressedColor(ne),"--n-border-color-focus":te,"--n-border-color-disabled":ne}}),cssVars:W?void 0:Q,themeClass:ee==null?void 0:ee.themeClass,onRender:ee==null?void 0:ee.onRender}},render(){const{mergedClsPrefix:T,tag:R,onRender:I}=this;I==null||I();const $=resolveWrappedSlot(this.$slots.default,N=>N&&h$1("span",{class:`${T}-button__content`},N));return h$1(R,{ref:"selfElRef",class:[this.themeClass,`${T}-button`,`${T}-button--${this.type}-type`,`${T}-button--${this.mergedSize}-type`,this.rtlEnabled&&`${T}-button--rtl`,this.disabled&&`${T}-button--disabled`,this.block&&`${T}-button--block`,this.enterPressed&&`${T}-button--pressed`,!this.text&&this.dashed&&`${T}-button--dashed`,this.color&&`${T}-button--color`,this.secondary&&`${T}-button--secondary`,this.loading&&`${T}-button--loading`,this.ghost&&`${T}-button--ghost`],tabindex:this.mergedFocusable?0:-1,type:this.attrType,style:this.cssVars,disabled:this.disabled,onClick:this.handleClick,onBlur:this.handleBlur,onMousedown:this.handleMousedown,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},this.iconPlacement==="right"&&$,h$1(NFadeInExpandTransition,{width:!0},{default:()=>resolveWrappedSlot(this.$slots.icon,N=>(this.loading||N)&&h$1("span",{class:`${T}-button__icon`,style:{margin:isSlotEmpty(this.$slots.default)?"0":""}},h$1(NIconSwitchTransition,null,{default:()=>this.loading?h$1(NBaseLoading,{clsPrefix:T,key:"loading",class:`${T}-icon-slot`,strokeWidth:20}):h$1("div",{key:"icon",class:`${T}-icon-slot`,role:"none"},N)})))}),this.iconPlacement==="left"&&$,this.text?null:h$1(NBaseWave,{ref:"waveElRef",clsPrefix:T}),this.showBorder?h$1("div",{"aria-hidden":!0,class:`${T}-button__border`,style:this.customColorCssVars}):null,this.showBorder?h$1("div",{"aria-hidden":!0,class:`${T}-button__state-border`,style:this.customColorCssVars}):null)}}),__unplugin_components_1$3=Button,XButton=Button,commonVariables$3={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeIconSize:"18px",closeSize:"22px"},self$c=T=>{const{primaryColor:R,borderRadius:I,lineHeight:$,fontSize:N,cardColor:M,textColor2:L,textColor1:B,dividerColor:k,fontWeightStrong:U,closeIconColor:H,closeIconColorHover:z,closeIconColorPressed:V,closeColorHover:W,closeColorPressed:K,modalColor:Y,boxShadow1:q,popoverColor:Z,actionColor:Q}=T;return Object.assign(Object.assign({},commonVariables$3),{lineHeight:$,color:M,colorModal:Y,colorPopover:Z,colorTarget:R,colorEmbedded:Q,textColor:L,titleTextColor:B,borderColor:k,actionColor:Q,titleFontWeight:U,closeColorHover:W,closeColorPressed:K,closeBorderRadius:I,closeIconColor:H,closeIconColorHover:z,closeIconColorPressed:V,fontSizeSmall:N,fontSizeMedium:N,fontSizeLarge:N,fontSizeHuge:N,boxShadow:q,borderRadius:I})},cardLight={name:"Card",common:commonLight,self:self$c},cardLight$1=cardLight,style$c=c$2([cB("card",`
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 display: flex;
 flex-direction: column;
 width: 100%;
 box-sizing: border-box;
 position: relative;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 color: var(--n-text-color);
 word-break: break-word;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[cM("hoverable",[c$2("&:hover","box-shadow: var(--n-box-shadow);")]),cM("content-segmented",[c$2(">",[cE("content",{paddingTop:"var(--n-padding-bottom)"})])]),cM("content-soft-segmented",[c$2(">",[cE("content",`
 margin: 0 var(--n-padding-left);
 padding: var(--n-padding-bottom) 0;
 `)])]),cM("footer-segmented",[c$2(">",[cE("footer",{paddingTop:"var(--n-padding-bottom)"})])]),cM("footer-soft-segmented",[c$2(">",[cE("footer",`
 padding: var(--n-padding-bottom) 0;
 margin: 0 var(--n-padding-left);
 `)])]),c$2(">",[cB("card-header",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 padding:
 var(--n-padding-top)
 var(--n-padding-left)
 var(--n-padding-bottom)
 var(--n-padding-left);
 `,[cE("main",`
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 color: var(--n-title-text-color);
 `),cE("extra",`
 display: flex;
 align-items: center;
 font-size: var(--n-font-size);
 font-weight: 400;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),cE("close",`
 margin: 0 0 0 8px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),cE("action",`
 box-sizing: border-box;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 background-clip: padding-box;
 background-color: var(--n-action-color);
 `),cE("content","flex: 1;"),cE("content, footer",`
 box-sizing: border-box;
 padding: 0 var(--n-padding-left) var(--n-padding-bottom) var(--n-padding-left);
 font-size: var(--n-font-size);
 `,[c$2("&:first-child",{paddingTop:"var(--n-padding-bottom)"})]),cE("action",`
 background-color: var(--n-action-color);
 padding: var(--n-padding-bottom) var(--n-padding-left);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `)]),cB("card-cover",`
 overflow: hidden;
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 `,[c$2("img",`
 display: block;
 width: 100%;
 `)]),cM("bordered",`
 border: 1px solid var(--n-border-color);
 `,[c$2("&:target","border-color: var(--n-color-target);")]),cM("action-segmented",[c$2(">",[cE("action",[c$2("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),cM("content-segmented, content-soft-segmented",[c$2(">",[cE("content",{transition:"border-color 0.3s var(--n-bezier)"},[c$2("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),cM("footer-segmented, footer-soft-segmented",[c$2(">",[cE("footer",{transition:"border-color 0.3s var(--n-bezier)"},[c$2("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])])]),insideModal(cB("card",{background:"var(--n-color-modal)"})),insidePopover(cB("card",{background:"var(--n-color-popover)"})),cB("card",[asModal({background:"var(--n-color-modal)"})])]),cardBaseProps={title:String,contentStyle:[Object,String],headerStyle:[Object,String],headerExtraStyle:[Object,String],footerStyle:[Object,String],embedded:Boolean,segmented:{type:[Boolean,Object],default:!1},size:{type:String,default:"medium"},bordered:{type:Boolean,default:!0},closable:{type:Boolean,default:!1},hoverable:Boolean,role:String,onClose:[Function,Array]},cardBasePropKeys=keysOf(cardBaseProps),cardProps=Object.assign(Object.assign({},useTheme.props),cardBaseProps),NCard=defineComponent({name:"Card",props:cardProps,setup(T){const R=()=>{const{onClose:U}=T;U&&call(U)},{inlineThemeDisabled:I,mergedClsPrefixRef:$,mergedRtlRef:N}=useConfig(T),M=useTheme("Card","-card",style$c,cardLight$1,T,$),L=useRtl("Card",N,$),B=computed(()=>{const{size:U}=T,{self:{color:H,colorModal:z,colorTarget:V,textColor:W,titleTextColor:K,titleFontWeight:Y,borderColor:q,actionColor:Z,borderRadius:Q,lineHeight:ee,closeIconColor:ne,closeIconColorHover:te,closeIconColorPressed:re,closeColorHover:ie,closeColorPressed:se,closeBorderRadius:le,closeIconSize:he,closeSize:pe,boxShadow:fe,colorPopover:Se,colorEmbedded:Pe,[createKey("padding",U)]:ye,[createKey("fontSize",U)]:we,[createKey("titleFontSize",U)]:Ee},common:{cubicBezierEaseInOut:He}}=M.value,{top:Ae,left:de,bottom:Oe}=getMargin(ye);return{"--n-bezier":He,"--n-border-radius":Q,"--n-color":T.embedded?Pe:H,"--n-color-modal":z,"--n-color-popover":Se,"--n-color-target":V,"--n-text-color":W,"--n-line-height":ee,"--n-action-color":Z,"--n-title-text-color":K,"--n-title-font-weight":Y,"--n-close-icon-color":ne,"--n-close-icon-color-hover":te,"--n-close-icon-color-pressed":re,"--n-close-color-hover":ie,"--n-close-color-pressed":se,"--n-border-color":q,"--n-box-shadow":fe,"--n-padding-top":Ae,"--n-padding-bottom":Oe,"--n-padding-left":de,"--n-font-size":we,"--n-title-font-size":Ee,"--n-close-size":pe,"--n-close-icon-size":he,"--n-close-border-radius":le}}),k=I?useThemeClass("card",computed(()=>T.size[0]),B,T):void 0;return{rtlEnabled:L,mergedClsPrefix:$,mergedTheme:M,handleCloseClick:R,cssVars:I?void 0:B,themeClass:k==null?void 0:k.themeClass,onRender:k==null?void 0:k.onRender}},render(){const{segmented:T,bordered:R,hoverable:I,mergedClsPrefix:$,rtlEnabled:N,onRender:M,$slots:L}=this;return M==null||M(),h$1("div",{class:[`${$}-card`,this.themeClass,{[`${$}-card--rtl`]:N,[`${$}-card--content${typeof T!="boolean"&&T.content==="soft"?"-soft":""}-segmented`]:T===!0||T!==!1&&T.content,[`${$}-card--footer${typeof T!="boolean"&&T.footer==="soft"?"-soft":""}-segmented`]:T===!0||T!==!1&&T.footer,[`${$}-card--action-segmented`]:T===!0||T!==!1&&T.action,[`${$}-card--bordered`]:R,[`${$}-card--hoverable`]:I}],style:this.cssVars,role:this.role},resolveWrappedSlot(L.cover,B=>B&&h$1("div",{class:`${$}-card-cover`,role:"none"},B)),resolveWrappedSlot(L.header,B=>B||this.title||this.closable?h$1("div",{class:`${$}-card-header`,style:this.headerStyle},h$1("div",{class:`${$}-card-header__main`,role:"heading"},B||[this.title]),resolveWrappedSlot(L["header-extra"],k=>k&&h$1("div",{class:`${$}-card-header__extra`,style:this.headerExtraStyle},k)),this.closable?h$1(NBaseClose,{clsPrefix:$,class:`${$}-card-header__close`,onClick:this.handleCloseClick,absolute:!0}):null):null),resolveWrappedSlot(L.default,B=>B&&h$1("div",{class:`${$}-card__content`,style:this.contentStyle,role:"none"},B)),resolveWrappedSlot(L.footer,B=>B&&[h$1("div",{class:`${$}-card__footer`,style:this.footerStyle,role:"none"},B)]),resolveWrappedSlot(L.action,B=>B&&h$1("div",{class:`${$}-card__action`,role:"none"},B)))}}),commonVariables$2={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px"},self$b=T=>{const{baseColor:R,inputColorDisabled:I,cardColor:$,modalColor:N,popoverColor:M,textColorDisabled:L,borderColor:B,primaryColor:k,textColor2:U,fontSizeSmall:H,fontSizeMedium:z,fontSizeLarge:V,borderRadiusSmall:W,lineHeight:K}=T;return Object.assign(Object.assign({},commonVariables$2),{labelLineHeight:K,fontSizeSmall:H,fontSizeMedium:z,fontSizeLarge:V,borderRadius:W,color:R,colorChecked:k,colorDisabled:I,colorDisabledChecked:I,colorTableHeader:$,colorTableHeaderModal:N,colorTableHeaderPopover:M,checkMarkColor:R,checkMarkColorDisabled:L,checkMarkColorDisabledChecked:L,border:`1px solid ${B}`,borderDisabled:`1px solid ${B}`,borderDisabledChecked:`1px solid ${B}`,borderChecked:`1px solid ${k}`,borderFocus:`1px solid ${k}`,boxShadowFocus:`0 0 0 2px ${changeColor(k,{alpha:.3})}`,textColor:U,textColorDisabled:L})},checkboxLight={name:"Checkbox",common:commonLight,self:self$b},checkboxLight$1=checkboxLight,CheckMark=h$1("svg",{viewBox:"0 0 64 64",class:"check-icon"},h$1("path",{d:"M50.42,16.76L22.34,39.45l-8.1-11.46c-1.12-1.58-3.3-1.96-4.88-0.84c-1.58,1.12-1.95,3.3-0.84,4.88l10.26,14.51  c0.56,0.79,1.42,1.31,2.38,1.45c0.16,0.02,0.32,0.03,0.48,0.03c0.8,0,1.57-0.27,2.2-0.78l30.99-25.03c1.5-1.21,1.74-3.42,0.52-4.92  C54.13,15.78,51.93,15.55,50.42,16.76z"})),LineMark=h$1("svg",{viewBox:"0 0 100 100",class:"line-icon"},h$1("path",{d:"M80.2,55.5H21.4c-2.8,0-5.1-2.5-5.1-5.5l0,0c0-3,2.3-5.5,5.1-5.5h58.7c2.8,0,5.1,2.5,5.1,5.5l0,0C85.2,53.1,82.9,55.5,80.2,55.5z"})),checkboxGroupInjectionKey="n-checkbox-group",checkboxGroupProps={min:Number,max:Number,size:String,value:Array,defaultValue:{type:Array,default:null},disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:[Function,Array]};defineComponent({name:"CheckboxGroup",props:checkboxGroupProps,setup(T){const{mergedClsPrefixRef:R}=useConfig(T),I=useFormItem(T),{mergedSizeRef:$,mergedDisabledRef:N}=I,M=ref(T.defaultValue),L=computed(()=>T.value),B=useMergedState(L,M),k=computed(()=>{var z;return((z=B.value)===null||z===void 0?void 0:z.length)||0}),U=computed(()=>Array.isArray(B.value)?new Set(B.value):new Set);function H(z,V){const{nTriggerFormInput:W,nTriggerFormChange:K}=I,{onChange:Y,"onUpdate:value":q,onUpdateValue:Z}=T;if(Array.isArray(B.value)){const Q=Array.from(B.value),ee=Q.findIndex(ne=>ne===V);z?~ee||(Q.push(V),Z&&call(Z,Q,{actionType:"check",value:V}),q&&call(q,Q,{actionType:"check",value:V}),W(),K(),M.value=Q,Y&&call(Y,Q)):~ee&&(Q.splice(ee,1),Z&&call(Z,Q,{actionType:"uncheck",value:V}),q&&call(q,Q,{actionType:"uncheck",value:V}),Y&&call(Y,Q),M.value=Q,W(),K())}else z?(Z&&call(Z,[V],{actionType:"check",value:V}),q&&call(q,[V],{actionType:"check",value:V}),Y&&call(Y,[V]),M.value=[V],W(),K()):(Z&&call(Z,[],{actionType:"uncheck",value:V}),q&&call(q,[],{actionType:"uncheck",value:V}),Y&&call(Y,[]),M.value=[],W(),K())}return provide(checkboxGroupInjectionKey,{checkedCountRef:k,maxRef:toRef(T,"max"),minRef:toRef(T,"min"),valueSetRef:U,disabledRef:N,mergedSizeRef:$,toggleCheckbox:H}),{mergedClsPrefix:R}},render(){return h$1("div",{class:`${this.mergedClsPrefix}-checkbox-group`,role:"group"},this.$slots)}});const style$b=c$2([cB("checkbox",`
 line-height: var(--n-label-line-height);
 font-size: var(--n-font-size);
 outline: none;
 cursor: pointer;
 display: inline-flex;
 flex-wrap: nowrap;
 align-items: flex-start;
 word-break: break-word;
 --n-merged-color-table: var(--n-color-table);
 `,[c$2("&:hover",[cB("checkbox-box",[cE("border",{border:"var(--n-border-checked)"})])]),c$2("&:focus:not(:active)",[cB("checkbox-box",[cE("border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),cM("inside-table",[cB("checkbox-box",`
 background-color: var(--n-merged-color-table);
 `)]),cM("checked",[cB("checkbox-box",`
 background-color: var(--n-color-checked);
 `,[cB("checkbox-icon",[c$2(".check-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),cM("indeterminate",[cB("checkbox-box",[cB("checkbox-icon",[c$2(".check-icon",`
 opacity: 0;
 transform: scale(.5);
 `),c$2(".line-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),cM("checked, indeterminate",[c$2("&:focus:not(:active)",[cB("checkbox-box",[cE("border",`
 border: var(--n-border-checked);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),cB("checkbox-box",`
 background-color: var(--n-color-checked);
 border-left: 0;
 border-top: 0;
 `,[cE("border",{border:"var(--n-border-checked)"})])]),cM("disabled",{cursor:"not-allowed"},[cM("checked",[cB("checkbox-box",`
 background-color: var(--n-color-disabled-checked);
 `,[cE("border",{border:"var(--n-border-disabled-checked)"}),cB("checkbox-icon",[c$2(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled-checked)"})])])]),cB("checkbox-box",`
 background-color: var(--n-color-disabled);
 `,[cE("border",{border:"var(--n-border-disabled)"}),cB("checkbox-icon",[c$2(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled)"})])]),cE("label",{color:"var(--n-text-color-disabled)"})]),cB("checkbox-box-wrapper",`
 position: relative;
 width: var(--n-size);
 flex-shrink: 0;
 flex-grow: 0;
 user-select: none;
 -webkit-user-select: none;
 `),cB("checkbox-box",`
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 height: var(--n-size);
 width: var(--n-size);
 display: inline-block;
 box-sizing: border-box;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color 0.3s var(--n-bezier);
 `,[cE("border",`
 transition:
 border-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border: var(--n-border);
 `),cB("checkbox-icon",`
 display: flex;
 align-items: center;
 justify-content: center;
 position: absolute;
 left: 1px;
 right: 1px;
 top: 1px;
 bottom: 1px;
 `,[c$2(".check-icon, .line-icon",`
 width: 100%;
 fill: var(--n-check-mark-color);
 opacity: 0;
 transform: scale(0.5);
 transform-origin: center;
 transition:
 fill 0.3s var(--n-bezier),
 transform 0.3s var(--n-bezier),
 opacity 0.3s var(--n-bezier),
 border-color 0.3s var(--n-bezier);
 `),iconSwitchTransition({left:"1px",top:"1px"})])]),cE("label",`
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 user-select: none;
 -webkit-user-select: none;
 padding: var(--n-label-padding);
 `,[c$2("&:empty",{display:"none"})])]),insideModal(cB("checkbox",`
 --n-merged-color-table: var(--n-color-table-modal);
 `)),insidePopover(cB("checkbox",`
 --n-merged-color-table: var(--n-color-table-popover);
 `))]),checkboxProps=Object.assign(Object.assign({},useTheme.props),{size:String,checked:{type:[Boolean,String,Number],default:void 0},defaultChecked:{type:[Boolean,String,Number],default:!1},value:[String,Number],disabled:{type:Boolean,default:void 0},indeterminate:Boolean,label:String,focusable:{type:Boolean,default:!0},checkedValue:{type:[Boolean,String,Number],default:!0},uncheckedValue:{type:[Boolean,String,Number],default:!1},"onUpdate:checked":[Function,Array],onUpdateChecked:[Function,Array],privateInsideTable:Boolean,onChange:[Function,Array]}),NCheckbox=defineComponent({name:"Checkbox",props:checkboxProps,setup(T){const R=ref(null),{mergedClsPrefixRef:I,inlineThemeDisabled:$,mergedRtlRef:N}=useConfig(T),M=useFormItem(T,{mergedSize(re){const{size:ie}=T;if(ie!==void 0)return ie;if(k){const{value:se}=k.mergedSizeRef;if(se!==void 0)return se}if(re){const{mergedSize:se}=re;if(se!==void 0)return se.value}return"medium"},mergedDisabled(re){const{disabled:ie}=T;if(ie!==void 0)return ie;if(k){if(k.disabledRef.value)return!0;const{maxRef:{value:se},checkedCountRef:le}=k;if(se!==void 0&&le.value>=se&&!V.value)return!0;const{minRef:{value:he}}=k;if(he!==void 0&&le.value<=he&&V.value)return!0}return re?re.disabled.value:!1}}),{mergedDisabledRef:L,mergedSizeRef:B}=M,k=inject(checkboxGroupInjectionKey,null),U=ref(T.defaultChecked),H=toRef(T,"checked"),z=useMergedState(H,U),V=useMemo(()=>{if(k){const re=k.valueSetRef.value;return re&&T.value!==void 0?re.has(T.value):!1}else return z.value===T.checkedValue}),W=useTheme("Checkbox","-checkbox",style$b,checkboxLight$1,T,I);function K(re){if(k&&T.value!==void 0)k.toggleCheckbox(!V.value,T.value);else{const{onChange:ie,"onUpdate:checked":se,onUpdateChecked:le}=T,{nTriggerFormInput:he,nTriggerFormChange:pe}=M,fe=V.value?T.uncheckedValue:T.checkedValue;se&&call(se,fe,re),le&&call(le,fe,re),ie&&call(ie,fe,re),he(),pe(),U.value=fe}}function Y(re){L.value||K(re)}function q(re){if(!L.value)switch(re.key){case" ":case"Enter":K(re)}}function Z(re){switch(re.key){case" ":re.preventDefault()}}const Q={focus:()=>{var re;(re=R.value)===null||re===void 0||re.focus()},blur:()=>{var re;(re=R.value)===null||re===void 0||re.blur()}},ee=useRtl("Checkbox",N,I),ne=computed(()=>{const{value:re}=B,{common:{cubicBezierEaseInOut:ie},self:{borderRadius:se,color:le,colorChecked:he,colorDisabled:pe,colorTableHeader:fe,colorTableHeaderModal:Se,colorTableHeaderPopover:Pe,checkMarkColor:ye,checkMarkColorDisabled:we,border:Ee,borderFocus:He,borderDisabled:Ae,borderChecked:de,boxShadowFocus:Oe,textColor:Ve,textColorDisabled:Ze,checkMarkColorDisabledChecked:nt,colorDisabledChecked:xe,borderDisabledChecked:Le,labelPadding:Ue,labelLineHeight:Xe,[createKey("fontSize",re)]:je,[createKey("size",re)]:st}}=W.value;return{"--n-label-line-height":Xe,"--n-size":st,"--n-bezier":ie,"--n-border-radius":se,"--n-border":Ee,"--n-border-checked":de,"--n-border-focus":He,"--n-border-disabled":Ae,"--n-border-disabled-checked":Le,"--n-box-shadow-focus":Oe,"--n-color":le,"--n-color-checked":he,"--n-color-table":fe,"--n-color-table-modal":Se,"--n-color-table-popover":Pe,"--n-color-disabled":pe,"--n-color-disabled-checked":xe,"--n-text-color":Ve,"--n-text-color-disabled":Ze,"--n-check-mark-color":ye,"--n-check-mark-color-disabled":we,"--n-check-mark-color-disabled-checked":nt,"--n-font-size":je,"--n-label-padding":Ue}}),te=$?useThemeClass("checkbox",computed(()=>B.value[0]),ne,T):void 0;return Object.assign(M,Q,{rtlEnabled:ee,selfRef:R,mergedClsPrefix:I,mergedDisabled:L,renderedChecked:V,mergedTheme:W,labelId:createId(),handleClick:Y,handleKeyUp:q,handleKeyDown:Z,cssVars:$?void 0:ne,themeClass:te==null?void 0:te.themeClass,onRender:te==null?void 0:te.onRender})},render(){var T;const{$slots:R,renderedChecked:I,mergedDisabled:$,indeterminate:N,privateInsideTable:M,cssVars:L,labelId:B,label:k,mergedClsPrefix:U,focusable:H,handleKeyUp:z,handleKeyDown:V,handleClick:W}=this;return(T=this.onRender)===null||T===void 0||T.call(this),h$1("div",{ref:"selfRef",class:[`${U}-checkbox`,this.themeClass,this.rtlEnabled&&`${U}-checkbox--rtl`,I&&`${U}-checkbox--checked`,$&&`${U}-checkbox--disabled`,N&&`${U}-checkbox--indeterminate`,M&&`${U}-checkbox--inside-table`],tabindex:$||!H?void 0:0,role:"checkbox","aria-checked":N?"mixed":I,"aria-labelledby":B,style:L,onKeyup:z,onKeydown:V,onClick:W,onMousedown:()=>{on("selectstart",window,K=>{K.preventDefault()},{once:!0})}},h$1("div",{class:`${U}-checkbox-box-wrapper`},"\xA0",h$1("div",{class:`${U}-checkbox-box`},h$1(NIconSwitchTransition,null,{default:()=>this.indeterminate?h$1("div",{key:"indeterminate",class:`${U}-checkbox-icon`},LineMark):h$1("div",{key:"check",class:`${U}-checkbox-icon`},CheckMark)}),h$1("div",{class:`${U}-checkbox-box__border`}))),k!==null||R.default?h$1("span",{class:`${U}-checkbox__label`,id:B},R.default?R.default():k):null)}});function self$a(T){const{boxShadow2:R}=T;return{menuBoxShadow:R}}const selectLight={name:"Select",common:commonLight,peers:{InternalSelection:internalSelectionLight$1,InternalSelectMenu:internalSelectMenuLight$1},self:self$a},selectLight$1=selectLight,style$a=c$2([cB("select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 `),cB("select-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[fadeInScaleUpTransition({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),selectProps=Object.assign(Object.assign({},useTheme.props),{to:useAdjustedTo.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,internalShowCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),__unplugin_components_1$2=defineComponent({name:"Select",props:selectProps,setup(T){const{mergedClsPrefixRef:R,mergedBorderedRef:I,namespaceRef:$,inlineThemeDisabled:N}=useConfig(T),M=useTheme("Select","-select",style$a,selectLight$1,T,R),L=ref(T.defaultValue),B=toRef(T,"value"),k=useMergedState(B,L),U=ref(!1),H=ref(""),z=computed(()=>{const{valueField:_e,childrenField:Ge}=T,rt=createTmOptions(_e,Ge);return createTreeMate(fe.value,rt)}),V=computed(()=>createValOptMap(he.value,T.valueField,T.childrenField)),W=ref(!1),K=useMergedState(toRef(T,"show"),W),Y=ref(null),q=ref(null),Z=ref(null),{localeRef:Q}=useLocale("Select"),ee=computed(()=>{var _e;return(_e=T.placeholder)!==null&&_e!==void 0?_e:Q.value.placeholder}),ne=useCompitable(T,["items","options"]),te=[],re=ref([]),ie=ref([]),se=ref(new Map),le=computed(()=>{const{fallbackOption:_e}=T;if(_e===void 0){const{labelField:Ge,valueField:rt}=T;return dt=>({[Ge]:String(dt),[rt]:dt})}return _e===!1?!1:Ge=>Object.assign(_e(Ge),{value:Ge})}),he=computed(()=>ie.value.concat(re.value).concat(ne.value)),pe=computed(()=>{const{filter:_e}=T;if(_e)return _e;const{labelField:Ge,valueField:rt}=T;return(dt,pt)=>{if(!pt)return!1;const gt=pt[Ge];if(typeof gt=="string")return patternMatched(dt,gt);const yt=pt[rt];return typeof yt=="string"?patternMatched(dt,yt):typeof yt=="number"?patternMatched(dt,String(yt)):!1}}),fe=computed(()=>{if(T.remote)return ne.value;{const{value:_e}=he,{value:Ge}=H;return!Ge.length||!T.filterable?_e:filterOptions(_e,pe.value,Ge,T.childrenField)}});function Se(_e){const Ge=T.remote,{value:rt}=se,{value:dt}=V,{value:pt}=le,gt=[];return _e.forEach(yt=>{if(dt.has(yt))gt.push(dt.get(yt));else if(Ge&&rt.has(yt))gt.push(rt.get(yt));else if(pt){const Tt=pt(yt);Tt&&gt.push(Tt)}}),gt}const Pe=computed(()=>{if(T.multiple){const{value:_e}=k;return Array.isArray(_e)?Se(_e):[]}return null}),ye=computed(()=>{const{value:_e}=k;return!T.multiple&&!Array.isArray(_e)?_e===null?null:Se([_e])[0]||null:null}),we=useFormItem(T),{mergedSizeRef:Ee,mergedDisabledRef:He,mergedStatusRef:Ae}=we;function de(_e,Ge){const{onChange:rt,"onUpdate:value":dt,onUpdateValue:pt}=T,{nTriggerFormChange:gt,nTriggerFormInput:yt}=we;rt&&call(rt,_e,Ge),pt&&call(pt,_e,Ge),dt&&call(dt,_e,Ge),L.value=_e,gt(),yt()}function Oe(_e){const{onBlur:Ge}=T,{nTriggerFormBlur:rt}=we;Ge&&call(Ge,_e),rt()}function Ve(){const{onClear:_e}=T;_e&&call(_e)}function Ze(_e){const{onFocus:Ge}=T,{nTriggerFormFocus:rt}=we;Ge&&call(Ge,_e),rt()}function nt(_e){const{onSearch:Ge}=T;Ge&&call(Ge,_e)}function xe(_e){const{onScroll:Ge}=T;Ge&&call(Ge,_e)}function Le(){var _e;const{remote:Ge,multiple:rt}=T;if(Ge){const{value:dt}=se;if(rt){const{valueField:pt}=T;(_e=Pe.value)===null||_e===void 0||_e.forEach(gt=>{dt.set(gt[pt],gt)})}else{const pt=ye.value;pt&&dt.set(pt[T.valueField],pt)}}}function Ue(_e){const{onUpdateShow:Ge,"onUpdate:show":rt}=T;Ge&&call(Ge,_e),rt&&call(rt,_e),W.value=_e}function Xe(){He.value||(Ue(!0),W.value=!0,T.filterable&&Mt())}function je(){Ue(!1)}function st(){H.value="",ie.value=te}const Ye=ref(!1);function Qe(){T.filterable&&(Ye.value=!0)}function ce(){T.filterable&&(Ye.value=!1,K.value||st())}function ge(){He.value||(K.value?T.filterable?Mt():je():Xe())}function Re(_e){var Ge,rt;!((rt=(Ge=Z.value)===null||Ge===void 0?void 0:Ge.selfRef)===null||rt===void 0)&&rt.contains(_e.relatedTarget)||(U.value=!1,Oe(_e),je())}function ke(_e){Ze(_e),U.value=!0}function be(_e){U.value=!0}function Be(_e){var Ge;!((Ge=Y.value)===null||Ge===void 0)&&Ge.$el.contains(_e.relatedTarget)||(U.value=!1,Oe(_e),je())}function We(){var _e;(_e=Y.value)===null||_e===void 0||_e.focus(),je()}function Fe(_e){var Ge;K.value&&(!((Ge=Y.value)===null||Ge===void 0)&&Ge.$el.contains(_e.target)||je())}function Te(_e){if(!Array.isArray(_e))return[];if(le.value)return Array.from(_e);{const{remote:Ge}=T,{value:rt}=V;if(Ge){const{value:dt}=se;return _e.filter(pt=>rt.has(pt)||dt.has(pt))}else return _e.filter(dt=>rt.has(dt))}}function Ie(_e){tt(_e.rawNode)}function tt(_e){if(He.value)return;const{tag:Ge,remote:rt,clearFilterAfterSelect:dt,valueField:pt}=T;if(Ge&&!rt){const{value:gt}=ie,yt=gt[0]||null;if(yt){const Tt=re.value;Tt.length?Tt.push(yt):re.value=[yt],ie.value=te}}if(rt&&se.value.set(_e[pt],_e),T.multiple){const gt=Te(k.value),yt=gt.findIndex(Tt=>Tt===_e[pt]);if(~yt){if(gt.splice(yt,1),Ge&&!rt){const Tt=ot(_e[pt]);~Tt&&(re.value.splice(Tt,1),dt&&(H.value=""))}}else gt.push(_e[pt]),dt&&(H.value="");de(gt,Se(gt))}else{if(Ge&&!rt){const gt=ot(_e[pt]);~gt?re.value=[re.value[gt]]:re.value=te}Rt(),je(),de(_e[pt],_e)}}function ot(_e){return re.value.findIndex(rt=>rt[T.valueField]===_e)}function lt(_e){K.value||Xe();const{value:Ge}=_e.target;H.value=Ge;const{tag:rt,remote:dt}=T;if(nt(Ge),rt&&!dt){if(!Ge){ie.value=te;return}const{onCreate:pt}=T,gt=pt?pt(Ge):{[T.labelField]:Ge,[T.valueField]:Ge},{valueField:yt}=T;ne.value.some(Tt=>Tt[yt]===gt[yt])||re.value.some(Tt=>Tt[yt]===gt[yt])?ie.value=te:ie.value=[gt]}}function ft(_e){_e.stopPropagation();const{multiple:Ge}=T;!Ge&&T.filterable&&je(),Ve(),Ge?de([],[]):de(null,null)}function mt(_e){!happensIn(_e,"action")&&!happensIn(_e,"empty")&&_e.preventDefault()}function wt(_e){xe(_e)}function St(_e){var Ge,rt,dt,pt,gt;switch(_e.key){case" ":if(T.filterable)break;_e.preventDefault();case"Enter":if(!(!((Ge=Y.value)===null||Ge===void 0)&&Ge.isCompositing)){if(K.value){const yt=(rt=Z.value)===null||rt===void 0?void 0:rt.getPendingTmNode();yt?Ie(yt):T.filterable||(je(),Rt())}else if(Xe(),T.tag&&Ye.value){const yt=ie.value[0];if(yt){const Tt=yt[T.valueField],{value:Jt}=k;T.multiple&&Array.isArray(Jt)&&Jt.some(fn=>fn===Tt)||tt(yt)}}}_e.preventDefault();break;case"ArrowUp":if(_e.preventDefault(),T.loading)return;K.value&&((dt=Z.value)===null||dt===void 0||dt.prev());break;case"ArrowDown":if(_e.preventDefault(),T.loading)return;K.value?(pt=Z.value)===null||pt===void 0||pt.next():Xe();break;case"Escape":K.value&&(markEventEffectPerformed(_e),je()),(gt=Y.value)===null||gt===void 0||gt.focus();break}}function Rt(){var _e;(_e=Y.value)===null||_e===void 0||_e.focus()}function Mt(){var _e;(_e=Y.value)===null||_e===void 0||_e.focusInput()}function rn(){var _e;!K.value||(_e=q.value)===null||_e===void 0||_e.syncPosition()}Le(),watch(toRef(T,"options"),Le);const Xt={focus:()=>{var _e;(_e=Y.value)===null||_e===void 0||_e.focus()},blur:()=>{var _e;(_e=Y.value)===null||_e===void 0||_e.blur()}},Dt=computed(()=>{const{self:{menuBoxShadow:_e}}=M.value;return{"--n-menu-box-shadow":_e}}),Kt=N?useThemeClass("select",void 0,Dt,T):void 0;return Object.assign(Object.assign({},Xt),{mergedStatus:Ae,mergedClsPrefix:R,mergedBordered:I,namespace:$,treeMate:z,isMounted:isMounted(),triggerRef:Y,menuRef:Z,pattern:H,uncontrolledShow:W,mergedShow:K,adjustedTo:useAdjustedTo(T),uncontrolledValue:L,mergedValue:k,followerRef:q,localizedPlaceholder:ee,selectedOption:ye,selectedOptions:Pe,mergedSize:Ee,mergedDisabled:He,focused:U,activeWithoutMenuOpen:Ye,inlineThemeDisabled:N,onTriggerInputFocus:Qe,onTriggerInputBlur:ce,handleTriggerOrMenuResize:rn,handleMenuFocus:be,handleMenuBlur:Be,handleMenuTabOut:We,handleTriggerClick:ge,handleToggle:Ie,handleDeleteOption:tt,handlePatternInput:lt,handleClear:ft,handleTriggerBlur:Re,handleTriggerFocus:ke,handleKeydown:St,handleMenuAfterLeave:st,handleMenuClickOutside:Fe,handleMenuScroll:wt,handleMenuKeydown:St,handleMenuMousedown:mt,mergedTheme:M,cssVars:N?void 0:Dt,themeClass:Kt==null?void 0:Kt.themeClass,onRender:Kt==null?void 0:Kt.onRender})},render(){return h$1("div",{class:`${this.mergedClsPrefix}-select`},h$1(VBinder,null,{default:()=>[h$1(VTarget,null,{default:()=>h$1(NInternalSelection,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize},{arrow:()=>{var T,R;return[(R=(T=this.$slots).arrow)===null||R===void 0?void 0:R.call(T)]}})}),h$1(VFollower,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===useAdjustedTo.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>h$1(Transition,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var T,R,I;return this.mergedShow||this.displayDirective==="show"?((T=this.onRender)===null||T===void 0||T.call(this),withDirectives(h$1(NInternalSelectMenu,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,this.themeClass,(R=this.menuProps)===null||R===void 0?void 0:R.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:"medium",renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(I=this.menuProps)===null||I===void 0?void 0:I.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.internalShowCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var $,N;return[(N=($=this.$slots).empty)===null||N===void 0?void 0:N.call($)]},action:()=>{var $,N;return[(N=($=this.$slots).action)===null||N===void 0?void 0:N.call($)]}}),this.displayDirective==="show"?[[vShow,this.mergedShow],[clickoutside$1,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[clickoutside$1,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),self$9=T=>{const{textColorBase:R,opacity1:I,opacity2:$,opacity3:N,opacity4:M,opacity5:L}=T;return{color:R,opacity1Depth:I,opacity2Depth:$,opacity3Depth:N,opacity4Depth:M,opacity5Depth:L}},iconLight={name:"Icon",common:commonLight,self:self$9},iconLight$1=iconLight,style$9=cB("icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[cM("color-transition",{transition:"color .3s var(--n-bezier)"}),cM("depth",{color:"var(--n-color)"},[c$2("svg",{opacity:"var(--n-opacity)",transition:"opacity .3s var(--n-bezier)"})]),c$2("svg",{height:"1em",width:"1em"})]),iconProps=Object.assign(Object.assign({},useTheme.props),{depth:[String,Number],size:[Number,String],color:String,component:Object}),NIcon=defineComponent({_n_icon__:!0,name:"Icon",inheritAttrs:!1,props:iconProps,setup(T){const{mergedClsPrefixRef:R,inlineThemeDisabled:I}=useConfig(T),$=useTheme("Icon","-icon",style$9,iconLight$1,T,R),N=computed(()=>{const{depth:L}=T,{common:{cubicBezierEaseInOut:B},self:k}=$.value;if(L!==void 0){const{color:U,[`opacity${L}Depth`]:H}=k;return{"--n-bezier":B,"--n-color":U,"--n-opacity":H}}return{"--n-bezier":B,"--n-color":"","--n-opacity":""}}),M=I?useThemeClass("icon",computed(()=>`${T.depth||"d"}`),N,T):void 0;return{mergedClsPrefix:R,mergedStyle:computed(()=>{const{size:L,color:B}=T;return{fontSize:formatLength(L),color:B}}),cssVars:I?void 0:N,themeClass:M==null?void 0:M.themeClass,onRender:M==null?void 0:M.onRender}},render(){var T;const{$parent:R,depth:I,mergedClsPrefix:$,component:N,onRender:M,themeClass:L}=this;return!((T=R==null?void 0:R.$options)===null||T===void 0)&&T._n_icon__&&warn$2("icon","don't wrap `n-icon` inside `n-icon`"),M==null||M(),h$1("i",mergeProps(this.$attrs,{role:"img",class:[`${$}-icon`,L,{[`${$}-icon--depth`]:I,[`${$}-icon--color-transition`]:I!==void 0}],style:[this.cssVars,this.mergedStyle]}),N?h$1(N):this.$slots)}}),commonVars$2={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"22px",closeIconSize:"18px",closeMargin:"20px 26px 0 0",closeMarginIconTop:"10px 16px 0 0"},self$8=T=>{const{textColor1:R,textColor2:I,modalColor:$,closeIconColor:N,closeIconColorHover:M,closeIconColorPressed:L,closeColorHover:B,closeColorPressed:k,infoColor:U,successColor:H,warningColor:z,errorColor:V,primaryColor:W,dividerColor:K,borderRadius:Y,fontWeightStrong:q,lineHeight:Z,fontSize:Q}=T;return Object.assign(Object.assign({},commonVars$2),{fontSize:Q,lineHeight:Z,border:`1px solid ${K}`,titleTextColor:R,textColor:I,color:$,closeColorHover:B,closeColorPressed:k,closeIconColor:N,closeIconColorHover:M,closeIconColorPressed:L,closeBorderRadius:Y,iconColor:W,iconColorInfo:U,iconColorSuccess:H,iconColorWarning:z,iconColorError:V,borderRadius:Y,titleFontWeight:q})},dialogLight={name:"Dialog",common:commonLight,peers:{Button:buttonLight$1},self:self$8},dialogLight$1=dialogLight,dialogProps={icon:Function,type:{type:String,default:"default"},title:[String,Function],closable:{type:Boolean,default:!0},negativeText:String,positiveText:String,positiveButtonProps:Object,negativeButtonProps:Object,content:[String,Function],action:Function,showIcon:{type:Boolean,default:!0},loading:Boolean,bordered:Boolean,iconPlacement:String,onPositiveClick:Function,onNegativeClick:Function,onClose:Function},dialogPropKeys=keysOf(dialogProps),style$8=c$2([cB("dialog",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: relative;
 background: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 margin: auto;
 border-radius: var(--n-border-radius);
 padding: var(--n-padding);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[cE("icon",{color:"var(--n-icon-color)"}),cM("bordered",{border:"var(--n-border)"}),cM("icon-top",[cE("close",{margin:"var(--n-close-margin)"}),cE("icon",{margin:"var(--n-icon-margin)"}),cE("content",{textAlign:"center"}),cE("title",{justifyContent:"center"}),cE("action",{justifyContent:"center"})]),cM("icon-left",[cE("icon",{margin:"var(--n-icon-margin)"}),cM("closable",[cE("title",`
 padding-right: calc(var(--n-close-size) + 6px);
 `)])]),cE("close",`
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 z-index: 1;
 `),cE("content",`
 font-size: var(--n-font-size);
 margin: var(--n-content-margin);
 position: relative;
 word-break: break-word;
 `,[cM("last","margin-bottom: 0;")]),cE("action",`
 display: flex;
 justify-content: flex-end;
 `,[c$2("> *:not(:last-child)",{marginRight:"var(--n-action-space)"})]),cE("icon",{fontSize:"var(--n-icon-size)",transition:"color .3s var(--n-bezier)"}),cE("title",`
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),cB("dialog-icon-container",{display:"flex",justifyContent:"center"})]),insideModal(cB("dialog",`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)),cB("dialog",[asModal(`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)])]),iconRenderMap$1={default:()=>h$1(InfoIcon,null),info:()=>h$1(InfoIcon,null),success:()=>h$1(SuccessIcon,null),warning:()=>h$1(WarningIcon,null),error:()=>h$1(ErrorIcon,null)},NDialog=defineComponent({name:"Dialog",alias:["NimbusConfirmCard","Confirm"],props:Object.assign(Object.assign({},useTheme.props),dialogProps),setup(T){const{mergedComponentPropsRef:R,mergedClsPrefixRef:I,inlineThemeDisabled:$}=useConfig(T),N=computed(()=>{var z,V;const{iconPlacement:W}=T;return W||((V=(z=R==null?void 0:R.value)===null||z===void 0?void 0:z.Dialog)===null||V===void 0?void 0:V.iconPlacement)||"left"});function M(z){const{onPositiveClick:V}=T;V&&V(z)}function L(z){const{onNegativeClick:V}=T;V&&V(z)}function B(){const{onClose:z}=T;z&&z()}const k=useTheme("Dialog","-dialog",style$8,dialogLight$1,T,I),U=computed(()=>{const{type:z}=T,V=N.value,{common:{cubicBezierEaseInOut:W},self:{fontSize:K,lineHeight:Y,border:q,titleTextColor:Z,textColor:Q,color:ee,closeBorderRadius:ne,closeColorHover:te,closeColorPressed:re,closeIconColor:ie,closeIconColorHover:se,closeIconColorPressed:le,closeIconSize:he,borderRadius:pe,titleFontWeight:fe,titleFontSize:Se,padding:Pe,iconSize:ye,actionSpace:we,contentMargin:Ee,closeSize:He,[V==="top"?"iconMarginIconTop":"iconMargin"]:Ae,[V==="top"?"closeMarginIconTop":"closeMargin"]:de,[createKey("iconColor",z)]:Oe}}=k.value;return{"--n-font-size":K,"--n-icon-color":Oe,"--n-bezier":W,"--n-close-margin":de,"--n-icon-margin":Ae,"--n-icon-size":ye,"--n-close-size":He,"--n-close-icon-size":he,"--n-close-border-radius":ne,"--n-close-color-hover":te,"--n-close-color-pressed":re,"--n-close-icon-color":ie,"--n-close-icon-color-hover":se,"--n-close-icon-color-pressed":le,"--n-color":ee,"--n-text-color":Q,"--n-border-radius":pe,"--n-padding":Pe,"--n-line-height":Y,"--n-border":q,"--n-content-margin":Ee,"--n-title-font-size":Se,"--n-title-font-weight":fe,"--n-title-text-color":Z,"--n-action-space":we}}),H=$?useThemeClass("dialog",computed(()=>`${T.type[0]}${N.value[0]}`),U,T):void 0;return{mergedClsPrefix:I,mergedIconPlacement:N,mergedTheme:k,handlePositiveClick:M,handleNegativeClick:L,handleCloseClick:B,cssVars:$?void 0:U,themeClass:H==null?void 0:H.themeClass,onRender:H==null?void 0:H.onRender}},render(){var T;const{bordered:R,mergedIconPlacement:I,cssVars:$,closable:N,showIcon:M,title:L,content:B,action:k,negativeText:U,positiveText:H,positiveButtonProps:z,negativeButtonProps:V,handlePositiveClick:W,handleNegativeClick:K,mergedTheme:Y,loading:q,type:Z,mergedClsPrefix:Q}=this;(T=this.onRender)===null||T===void 0||T.call(this);const ee=M?h$1(NBaseIcon,{clsPrefix:Q,class:`${Q}-dialog__icon`},{default:()=>resolveWrappedSlot(this.$slots.icon,te=>te||(this.icon?render$4(this.icon):iconRenderMap$1[this.type]()))}):null,ne=resolveWrappedSlot(this.$slots.action,te=>te||H||U||k?h$1("div",{class:`${Q}-dialog__action`},te||(k?[render$4(k)]:[this.negativeText&&h$1(__unplugin_components_1$3,Object.assign({theme:Y.peers.Button,themeOverrides:Y.peerOverrides.Button,ghost:!0,size:"small",onClick:K},V),{default:()=>render$4(this.negativeText)}),this.positiveText&&h$1(__unplugin_components_1$3,Object.assign({theme:Y.peers.Button,themeOverrides:Y.peerOverrides.Button,size:"small",type:Z==="default"?"primary":Z,disabled:q,loading:q,onClick:W},z),{default:()=>render$4(this.positiveText)})])):null);return h$1("div",{class:[`${Q}-dialog`,this.themeClass,this.closable&&`${Q}-dialog--closable`,`${Q}-dialog--icon-${I}`,R&&`${Q}-dialog--bordered`],style:$,role:"dialog"},N?h$1(NBaseClose,{clsPrefix:Q,class:`${Q}-dialog__close`,onClick:this.handleCloseClick}):null,M&&I==="top"?h$1("div",{class:`${Q}-dialog-icon-container`},ee):null,h$1("div",{class:`${Q}-dialog__title`},M&&I==="left"?ee:null,resolveSlot(this.$slots.header,()=>[render$4(L)])),h$1("div",{class:[`${Q}-dialog__content`,ne?"":`${Q}-dialog__content--last`]},resolveSlot(this.$slots.default,()=>[render$4(B)])),ne)}}),dialogProviderInjectionKey="n-dialog-provider",self$7=T=>{const{modalColor:R,textColor2:I,boxShadow3:$}=T;return{color:R,textColor:I,boxShadow:$}},modalLight={name:"Modal",common:commonLight,peers:{Scrollbar:scrollbarLight$1,Dialog:dialogLight$1,Card:cardLight$1},self:self$7},modalLight$1=modalLight,presetProps=Object.assign(Object.assign({},cardBaseProps),dialogProps),presetPropsKeys=keysOf(presetProps),NModalBodyWrapper=defineComponent({name:"ModalBody",inheritAttrs:!1,props:Object.assign(Object.assign({show:{type:Boolean,required:!0},preset:String,displayDirective:{type:String,required:!0},trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},blockScroll:Boolean},presetProps),{renderMask:Function,onClickoutside:Function,onBeforeLeave:{type:Function,required:!0},onAfterLeave:{type:Function,required:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0},onClose:{type:Function,required:!0},onAfterEnter:Function,onEsc:Function}),setup(T){const R=ref(null),I=ref(null),$=ref(T.show),N=ref(null),M=ref(null);watch(toRef(T,"show"),q=>{q&&($.value=!0)}),useLockHtmlScroll(computed(()=>T.blockScroll&&$.value));const L=inject(modalInjectionKey);function B(){if(L.transformOriginRef.value==="center")return"";const{value:q}=N,{value:Z}=M;if(q===null||Z===null)return"";if(I.value){const Q=I.value.containerScrollTop;return`${q}px ${Z+Q}px`}return""}function k(q){if(L.transformOriginRef.value==="center")return;const Z=L.getMousePosition();if(!Z||!I.value)return;const Q=I.value.containerScrollTop,{offsetLeft:ee,offsetTop:ne}=q;if(Z){const te=Z.y,re=Z.x;N.value=-(ee-re),M.value=-(ne-te-Q)}q.style.transformOrigin=B()}function U(q){nextTick(()=>{k(q)})}function H(q){q.style.transformOrigin=B(),T.onBeforeLeave()}function z(){$.value=!1,N.value=null,M.value=null,T.onAfterLeave()}function V(){const{onClose:q}=T;q&&q()}function W(){T.onNegativeClick()}function K(){T.onPositiveClick()}const Y=ref(null);return watch(Y,q=>{q&&nextTick(()=>{const Z=q.el;Z&&R.value!==Z&&(R.value=Z)})}),provide(modalBodyInjectionKey,R),provide(drawerBodyInjectionKey,null),provide(popoverBodyInjectionKey,null),{mergedTheme:L.mergedThemeRef,appear:L.appearRef,isMounted:L.isMountedRef,mergedClsPrefix:L.mergedClsPrefixRef,bodyRef:R,scrollbarRef:I,displayed:$,childNodeRef:Y,handlePositiveClick:K,handleNegativeClick:W,handleCloseClick:V,handleAfterLeave:z,handleBeforeLeave:H,handleEnter:U}},render(){const{$slots:T,$attrs:R,handleEnter:I,handleAfterLeave:$,handleBeforeLeave:N,preset:M,mergedClsPrefix:L}=this;let B=null;if(!M){if(B=getFirstSlotVNode(T),!B){warn$2("modal","default slot is empty");return}B=cloneVNode(B),B.props=mergeProps({class:`${L}-modal`},R,B.props||{})}return this.displayDirective==="show"||this.displayed||this.show?withDirectives(h$1("div",{role:"none",class:`${L}-modal-body-wrapper`},h$1(NScrollbar,{ref:"scrollbarRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:`${L}-modal-scroll-content`},{default:()=>{var k;return[(k=this.renderMask)===null||k===void 0?void 0:k.call(this),h$1(FocusTrap,{disabled:!this.trapFocus,active:this.show,onEsc:this.onEsc,autoFocus:this.autoFocus},{default:()=>{var U;return h$1(Transition,{name:"fade-in-scale-up-transition",appear:(U=this.appear)!==null&&U!==void 0?U:this.isMounted,onEnter:I,onAfterEnter:this.onAfterEnter,onAfterLeave:$,onBeforeLeave:N},{default:()=>{const H=[[vShow,this.show]],{onClickoutside:z}=this;return z&&H.push([clickoutside$1,this.onClickoutside,void 0,{capture:!0}]),withDirectives(this.preset==="confirm"||this.preset==="dialog"?h$1(NDialog,Object.assign({},this.$attrs,{class:[`${L}-modal`,this.$attrs.class],ref:"bodyRef",theme:this.mergedTheme.peers.Dialog,themeOverrides:this.mergedTheme.peerOverrides.Dialog},keep(this.$props,dialogPropKeys),{"aria-modal":"true"}),T):this.preset==="card"?h$1(NCard,Object.assign({},this.$attrs,{ref:"bodyRef",class:[`${L}-modal`,this.$attrs.class],theme:this.mergedTheme.peers.Card,themeOverrides:this.mergedTheme.peerOverrides.Card},keep(this.$props,cardBasePropKeys),{"aria-modal":"true",role:"dialog"}),T):this.childNodeRef=B,H)}})}})]}})),[[vShow,this.displayDirective==="if"||this.displayed||this.show]]):null}}),style$7=c$2([cB("modal-container",`
 position: fixed;
 left: 0;
 top: 0;
 height: 0;
 width: 0;
 display: flex;
 `),cB("modal-mask",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background-color: rgba(0, 0, 0, .4);
 `,[fadeInTransition({enterDuration:".25s",leaveDuration:".25s",enterCubicBezier:"var(--n-bezier-ease-out)",leaveCubicBezier:"var(--n-bezier-ease-out)"})]),cB("modal-body-wrapper",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: visible;
 `,[cB("modal-scroll-content",`
 min-height: 100%;
 display: flex;
 position: relative;
 `)]),cB("modal",`
 position: relative;
 align-self: center;
 color: var(--n-text-color);
 margin: auto;
 box-shadow: var(--n-box-shadow);
 `,[fadeInScaleUpTransition({duration:".25s",enterScale:".5"})])]),modalProps=Object.assign(Object.assign(Object.assign(Object.assign({},useTheme.props),{show:Boolean,unstableShowMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preset:String,to:[String,Object],displayDirective:{type:String,default:"if"},transformOrigin:{type:String,default:"mouse"},zIndex:Number,autoFocus:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0}}),presetProps),{onEsc:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onBeforeLeave:Function,onAfterLeave:Function,onClose:Function,onPositiveClick:Function,onNegativeClick:Function,onMaskClick:Function,internalDialog:Boolean,internalAppear:{type:Boolean,default:void 0},overlayStyle:[String,Object],onBeforeHide:Function,onAfterHide:Function,onHide:Function}),__unplugin_components_3$1=defineComponent({name:"Modal",inheritAttrs:!1,props:modalProps,setup(T){const R=ref(null),{mergedClsPrefixRef:I,namespaceRef:$,inlineThemeDisabled:N}=useConfig(T),M=useTheme("Modal","-modal",style$7,modalLight$1,T,I),L=useClicked(64),B=useClickPosition(),k=isMounted(),U=T.internalDialog?inject(dialogProviderInjectionKey,null):null,H=useIsComposing();function z(te){const{onUpdateShow:re,"onUpdate:show":ie,onHide:se}=T;re&&call(re,te),ie&&call(ie,te),se&&!te&&se(te)}function V(){const{onClose:te}=T;te?Promise.resolve(te()).then(re=>{re!==!1&&z(!1)}):z(!1)}function W(){const{onPositiveClick:te}=T;te?Promise.resolve(te()).then(re=>{re!==!1&&z(!1)}):z(!1)}function K(){const{onNegativeClick:te}=T;te?Promise.resolve(te()).then(re=>{re!==!1&&z(!1)}):z(!1)}function Y(){const{onBeforeLeave:te,onBeforeHide:re}=T;te&&call(te),re&&re()}function q(){const{onAfterLeave:te,onAfterHide:re}=T;te&&call(te),re&&re()}function Z(te){var re;const{onMaskClick:ie}=T;ie&&ie(te),T.maskClosable&&!((re=R.value)===null||re===void 0)&&re.contains(te.target)&&z(!1)}function Q(te){var re;(re=T.onEsc)===null||re===void 0||re.call(T),T.show&&T.closeOnEsc&&eventEffectNotPerformed(te)&&!H.value&&z(!1)}provide(modalInjectionKey,{getMousePosition:()=>{if(U){const{clickedRef:te,clickPositionRef:re}=U;if(te.value&&re.value)return re.value}return L.value?B.value:null},mergedClsPrefixRef:I,mergedThemeRef:M,isMountedRef:k,appearRef:toRef(T,"internalAppear"),transformOriginRef:toRef(T,"transformOrigin")});const ee=computed(()=>{const{common:{cubicBezierEaseOut:te},self:{boxShadow:re,color:ie,textColor:se}}=M.value;return{"--n-bezier-ease-out":te,"--n-box-shadow":re,"--n-color":ie,"--n-text-color":se}}),ne=N?useThemeClass("theme-class",void 0,ee,T):void 0;return{mergedClsPrefix:I,namespace:$,isMounted:k,containerRef:R,presetProps:computed(()=>keep(T,presetPropsKeys)),handleEsc:Q,handleAfterLeave:q,handleClickoutside:Z,handleBeforeLeave:Y,doUpdateShow:z,handleNegativeClick:K,handlePositiveClick:W,handleCloseClick:V,cssVars:N?void 0:ee,themeClass:ne==null?void 0:ne.themeClass,onRender:ne==null?void 0:ne.onRender}},render(){const{mergedClsPrefix:T}=this;return h$1(LazyTeleport,{to:this.to,show:this.show},{default:()=>{var R;(R=this.onRender)===null||R===void 0||R.call(this);const{unstableShowMask:I}=this;return withDirectives(h$1("div",{role:"none",ref:"containerRef",class:[`${T}-modal-container`,this.themeClass,this.namespace],style:this.cssVars},h$1(NModalBodyWrapper,Object.assign({style:this.overlayStyle},this.$attrs,{ref:"bodyWrapper",displayDirective:this.displayDirective,show:this.show,preset:this.preset,autoFocus:this.autoFocus,trapFocus:this.trapFocus,blockScroll:this.blockScroll},this.presetProps,{onEsc:this.handleEsc,onClose:this.handleCloseClick,onNegativeClick:this.handleNegativeClick,onPositiveClick:this.handlePositiveClick,onBeforeLeave:this.handleBeforeLeave,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave,onClickoutside:I?void 0:this.handleClickoutside,renderMask:I?()=>{var $;return h$1(Transition,{name:"fade-in-transition",key:"mask",appear:($=this.internalAppear)!==null&&$!==void 0?$:this.isMounted},{default:()=>this.show?h$1("div",{"aria-hidden":!0,ref:"containerRef",class:`${T}-modal-mask`,onClick:this.handleClickoutside}):null})}:void 0}),this.$slots)),[[zindexable$1,{zIndex:this.zIndex,enabled:this.show}]])}})}}),commonVariables$1={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 6px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right"},self$6=T=>{const{heightSmall:R,heightMedium:I,heightLarge:$,textColor1:N,errorColor:M,warningColor:L,lineHeight:B,textColor3:k}=T;return Object.assign(Object.assign({},commonVariables$1),{blankHeightSmall:R,blankHeightMedium:I,blankHeightLarge:$,lineHeight:B,labelTextColor:N,asteriskColor:M,feedbackTextColorError:M,feedbackTextColorWarning:L,feedbackTextColor:k})},formLight={name:"Form",common:commonLight,self:self$6},formLight$1=formLight,style$6=cB("form",[cM("inline",`
 width: 100%;
 display: inline-flex;
 align-items: flex-start;
 align-content: space-around;
 `,[cB("form-item",{width:"auto",marginRight:"18px"},[c$2("&:last-child",{marginRight:0})])])]),formInjectionKey="n-form",formItemInstsInjectionKey="n-form-item-insts";var __awaiter$4=globalThis&&globalThis.__awaiter||function(T,R,I,$){function N(M){return M instanceof I?M:new I(function(L){L(M)})}return new(I||(I=Promise))(function(M,L){function B(H){try{U($.next(H))}catch(z){L(z)}}function k(H){try{U($.throw(H))}catch(z){L(z)}}function U(H){H.done?M(H.value):N(H.value).then(B,k)}U(($=$.apply(T,R||[])).next())})};const formProps=Object.assign(Object.assign({},useTheme.props),{inline:Boolean,labelWidth:[Number,String],labelAlign:String,labelPlacement:{type:String,default:"top"},model:{type:Object,default:()=>{}},rules:Object,disabled:Boolean,size:String,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:!0},onSubmit:{type:Function,default:T=>T.preventDefault()},showLabel:{type:Boolean,default:void 0},validateMessages:Object}),NForm=defineComponent({name:"Form",props:formProps,setup(T){const{mergedClsPrefixRef:R}=useConfig(T);useTheme("Form","-form",style$6,formLight$1,T,R);const I={},$=ref(void 0),N=k=>{const U=$.value;(U===void 0||k>=U)&&($.value=k)};function M(k,U=()=>!0){return __awaiter$4(this,void 0,void 0,function*(){return yield new Promise((H,z)=>{const V=[];for(const W of keysOf(I)){const K=I[W];for(const Y of K)Y.path&&V.push(Y.internalValidate(null,U))}Promise.all(V).then(W=>{if(W.some(K=>!K.valid)){const K=W.filter(Y=>Y.errors).map(Y=>Y.errors);k&&k(K),z(K)}else k&&k(),H()})})})}function L(){for(const k of keysOf(I)){const U=I[k];for(const H of U)H.restoreValidation()}}return provide(formInjectionKey,{props:T,maxChildLabelWidthRef:$,deriveMaxChildLabelWidth:N}),provide(formItemInstsInjectionKey,{formItems:I}),Object.assign({validate:M,restoreValidation:L},{mergedClsPrefix:R})},render(){const{mergedClsPrefix:T}=this;return h$1("form",{class:[`${T}-form`,this.inline&&`${T}-form--inline`],onSubmit:this.onSubmit},this.$slots)}});function _extends(){return _extends=Object.assign?Object.assign.bind():function(T){for(var R=1;R<arguments.length;R++){var I=arguments[R];for(var $ in I)Object.prototype.hasOwnProperty.call(I,$)&&(T[$]=I[$])}return T},_extends.apply(this,arguments)}function _inheritsLoose(T,R){T.prototype=Object.create(R.prototype),T.prototype.constructor=T,_setPrototypeOf(T,R)}function _getPrototypeOf(T){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},_getPrototypeOf(T)}function _setPrototypeOf(T,R){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,N){return $.__proto__=N,$},_setPrototypeOf(T,R)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(T,R,I){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(N,M,L){var B=[null];B.push.apply(B,M);var k=Function.bind.apply(N,B),U=new k;return L&&_setPrototypeOf(U,L.prototype),U},_construct.apply(null,arguments)}function _isNativeFunction(T){return Function.toString.call(T).indexOf("[native code]")!==-1}function _wrapNativeSuper(T){var R=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function($){if($===null||!_isNativeFunction($))return $;if(typeof $!="function")throw new TypeError("Super expression must either be null or a function");if(typeof R<"u"){if(R.has($))return R.get($);R.set($,N)}function N(){return _construct($,arguments,_getPrototypeOf(this).constructor)}return N.prototype=Object.create($.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(N,$)},_wrapNativeSuper(T)}var formatRegExp=/%[sdj%]/g,warning=function T(){};typeof process<"u"&&process.env;function convertFieldsError(T){if(!T||!T.length)return null;var R={};return T.forEach(function(I){var $=I.field;R[$]=R[$]||[],R[$].push(I)}),R}function format$1(T){for(var R=arguments.length,I=new Array(R>1?R-1:0),$=1;$<R;$++)I[$-1]=arguments[$];var N=0,M=I.length;if(typeof T=="function")return T.apply(null,I);if(typeof T=="string"){var L=T.replace(formatRegExp,function(B){if(B==="%%")return"%";if(N>=M)return B;switch(B){case"%s":return String(I[N++]);case"%d":return Number(I[N++]);case"%j":try{return JSON.stringify(I[N++])}catch{return"[Circular]"}break;default:return B}});return L}return T}function isNativeStringType(T){return T==="string"||T==="url"||T==="hex"||T==="email"||T==="date"||T==="pattern"}function isEmptyValue(T,R){return!!(T==null||R==="array"&&Array.isArray(T)&&!T.length||isNativeStringType(R)&&typeof T=="string"&&!T)}function asyncParallelArray(T,R,I){var $=[],N=0,M=T.length;function L(B){$.push.apply($,B||[]),N++,N===M&&I($)}T.forEach(function(B){R(B,L)})}function asyncSerialArray(T,R,I){var $=0,N=T.length;function M(L){if(L&&L.length){I(L);return}var B=$;$=$+1,B<N?R(T[B],M):I([])}M([])}function flattenObjArr(T){var R=[];return Object.keys(T).forEach(function(I){R.push.apply(R,T[I]||[])}),R}var AsyncValidationError=function(T){_inheritsLoose(R,T);function R(I,$){var N;return N=T.call(this,"Async Validation Error")||this,N.errors=I,N.fields=$,N}return R}(_wrapNativeSuper(Error));function asyncMap(T,R,I,$,N){if(R.first){var M=new Promise(function(V,W){var K=function(Z){return $(Z),Z.length?W(new AsyncValidationError(Z,convertFieldsError(Z))):V(N)},Y=flattenObjArr(T);asyncSerialArray(Y,I,K)});return M.catch(function(V){return V}),M}var L=R.firstFields===!0?Object.keys(T):R.firstFields||[],B=Object.keys(T),k=B.length,U=0,H=[],z=new Promise(function(V,W){var K=function(q){if(H.push.apply(H,q),U++,U===k)return $(H),H.length?W(new AsyncValidationError(H,convertFieldsError(H))):V(N)};B.length||($(H),V(N)),B.forEach(function(Y){var q=T[Y];L.indexOf(Y)!==-1?asyncSerialArray(q,I,K):asyncParallelArray(q,I,K)})});return z.catch(function(V){return V}),z}function isErrorObj(T){return!!(T&&T.message!==void 0)}function getValue(T,R){for(var I=T,$=0;$<R.length;$++){if(I==null)return I;I=I[R[$]]}return I}function complementError(T,R){return function(I){var $;return T.fullFields?$=getValue(R,T.fullFields):$=R[I.field||T.fullField],isErrorObj(I)?(I.field=I.field||T.fullField,I.fieldValue=$,I):{message:typeof I=="function"?I():I,fieldValue:$,field:I.field||T.fullField}}}function deepMerge(T,R){if(R){for(var I in R)if(R.hasOwnProperty(I)){var $=R[I];typeof $=="object"&&typeof T[I]=="object"?T[I]=_extends({},T[I],$):T[I]=$}}return T}var required$1=function T(R,I,$,N,M,L){R.required&&(!$.hasOwnProperty(R.field)||isEmptyValue(I,L||R.type))&&N.push(format$1(M.messages.required,R.fullField))},whitespace=function T(R,I,$,N,M){(/^\s+$/.test(I)||I==="")&&N.push(format$1(M.messages.whitespace,R.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var T="[a-fA-F\\d:]",R=function(ne){return ne&&ne.includeBoundaries?"(?:(?<=\\s|^)(?="+T+")|(?<="+T+")(?=\\s|$))":""},I="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",$="[a-fA-F\\d]{1,4}",N=(`
(?:
(?:`+$+":){7}(?:"+$+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+$+":){6}(?:"+I+"|:"+$+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+$+":){5}(?::"+I+"|(?::"+$+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+$+":){4}(?:(?::"+$+"){0,1}:"+I+"|(?::"+$+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+$+":){3}(?:(?::"+$+"){0,2}:"+I+"|(?::"+$+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+$+":){2}(?:(?::"+$+"){0,3}:"+I+"|(?::"+$+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+$+":){1}(?:(?::"+$+"){0,4}:"+I+"|(?::"+$+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+$+"){0,5}:"+I+"|(?::"+$+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),M=new RegExp("(?:^"+I+"$)|(?:^"+N+"$)"),L=new RegExp("^"+I+"$"),B=new RegExp("^"+N+"$"),k=function(ne){return ne&&ne.exact?M:new RegExp("(?:"+R(ne)+I+R(ne)+")|(?:"+R(ne)+N+R(ne)+")","g")};k.v4=function(ee){return ee&&ee.exact?L:new RegExp(""+R(ee)+I+R(ee),"g")},k.v6=function(ee){return ee&&ee.exact?B:new RegExp(""+R(ee)+N+R(ee),"g")};var U="(?:(?:[a-z]+:)?//)",H="(?:\\S+(?::\\S*)?@)?",z=k.v4().source,V=k.v6().source,W="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",K="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",Y="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",q="(?::\\d{2,5})?",Z='(?:[/?#][^\\s"]*)?',Q="(?:"+U+"|www\\.)"+H+"(?:localhost|"+z+"|"+V+"|"+W+K+Y+")"+q+Z;return urlReg=new RegExp("(?:^"+Q+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types={integer:function T(R){return types.number(R)&&parseInt(R,10)===R},float:function T(R){return types.number(R)&&!types.integer(R)},array:function T(R){return Array.isArray(R)},regexp:function T(R){if(R instanceof RegExp)return!0;try{return!!new RegExp(R)}catch{return!1}},date:function T(R){return typeof R.getTime=="function"&&typeof R.getMonth=="function"&&typeof R.getYear=="function"&&!isNaN(R.getTime())},number:function T(R){return isNaN(R)?!1:typeof R=="number"},object:function T(R){return typeof R=="object"&&!types.array(R)},method:function T(R){return typeof R=="function"},email:function T(R){return typeof R=="string"&&R.length<=320&&!!R.match(pattern$2.email)},url:function T(R){return typeof R=="string"&&R.length<=2048&&!!R.match(getUrlRegex())},hex:function T(R){return typeof R=="string"&&!!R.match(pattern$2.hex)}},type$1=function T(R,I,$,N,M){if(R.required&&I===void 0){required$1(R,I,$,N,M);return}var L=["integer","float","array","regexp","object","method","email","number","date","url","hex"],B=R.type;L.indexOf(B)>-1?types[B](I)||N.push(format$1(M.messages.types[B],R.fullField,R.type)):B&&typeof I!==R.type&&N.push(format$1(M.messages.types[B],R.fullField,R.type))},range=function T(R,I,$,N,M){var L=typeof R.len=="number",B=typeof R.min=="number",k=typeof R.max=="number",U=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,H=I,z=null,V=typeof I=="number",W=typeof I=="string",K=Array.isArray(I);if(V?z="number":W?z="string":K&&(z="array"),!z)return!1;K&&(H=I.length),W&&(H=I.replace(U,"_").length),L?H!==R.len&&N.push(format$1(M.messages[z].len,R.fullField,R.len)):B&&!k&&H<R.min?N.push(format$1(M.messages[z].min,R.fullField,R.min)):k&&!B&&H>R.max?N.push(format$1(M.messages[z].max,R.fullField,R.max)):B&&k&&(H<R.min||H>R.max)&&N.push(format$1(M.messages[z].range,R.fullField,R.min,R.max))},ENUM$1="enum",enumerable$1=function T(R,I,$,N,M){R[ENUM$1]=Array.isArray(R[ENUM$1])?R[ENUM$1]:[],R[ENUM$1].indexOf(I)===-1&&N.push(format$1(M.messages[ENUM$1],R.fullField,R[ENUM$1].join(", ")))},pattern$1=function T(R,I,$,N,M){if(R.pattern){if(R.pattern instanceof RegExp)R.pattern.lastIndex=0,R.pattern.test(I)||N.push(format$1(M.messages.pattern.mismatch,R.fullField,I,R.pattern));else if(typeof R.pattern=="string"){var L=new RegExp(R.pattern);L.test(I)||N.push(format$1(M.messages.pattern.mismatch,R.fullField,I,R.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string=function T(R,I,$,N,M){var L=[],B=R.required||!R.required&&N.hasOwnProperty(R.field);if(B){if(isEmptyValue(I,"string")&&!R.required)return $();rules.required(R,I,N,L,M,"string"),isEmptyValue(I,"string")||(rules.type(R,I,N,L,M),rules.range(R,I,N,L,M),rules.pattern(R,I,N,L,M),R.whitespace===!0&&rules.whitespace(R,I,N,L,M))}$(L)},method=function T(R,I,$,N,M){var L=[],B=R.required||!R.required&&N.hasOwnProperty(R.field);if(B){if(isEmptyValue(I)&&!R.required)return $();rules.required(R,I,N,L,M),I!==void 0&&rules.type(R,I,N,L,M)}$(L)},number=function T(R,I,$,N,M){var L=[],B=R.required||!R.required&&N.hasOwnProperty(R.field);if(B){if(I===""&&(I=void 0),isEmptyValue(I)&&!R.required)return $();rules.required(R,I,N,L,M),I!==void 0&&(rules.type(R,I,N,L,M),rules.range(R,I,N,L,M))}$(L)},_boolean=function T(R,I,$,N,M){var L=[],B=R.required||!R.required&&N.hasOwnProperty(R.field);if(B){if(isEmptyValue(I)&&!R.required)return $();rules.required(R,I,N,L,M),I!==void 0&&rules.type(R,I,N,L,M)}$(L)},regexp=function T(R,I,$,N,M){var L=[],B=R.required||!R.required&&N.hasOwnProperty(R.field);if(B){if(isEmptyValue(I)&&!R.required)return $();rules.required(R,I,N,L,M),isEmptyValue(I)||rules.type(R,I,N,L,M)}$(L)},integer=function T(R,I,$,N,M){var L=[],B=R.required||!R.required&&N.hasOwnProperty(R.field);if(B){if(isEmptyValue(I)&&!R.required)return $();rules.required(R,I,N,L,M),I!==void 0&&(rules.type(R,I,N,L,M),rules.range(R,I,N,L,M))}$(L)},floatFn=function T(R,I,$,N,M){var L=[],B=R.required||!R.required&&N.hasOwnProperty(R.field);if(B){if(isEmptyValue(I)&&!R.required)return $();rules.required(R,I,N,L,M),I!==void 0&&(rules.type(R,I,N,L,M),rules.range(R,I,N,L,M))}$(L)},array=function T(R,I,$,N,M){var L=[],B=R.required||!R.required&&N.hasOwnProperty(R.field);if(B){if(I==null&&!R.required)return $();rules.required(R,I,N,L,M,"array"),I!=null&&(rules.type(R,I,N,L,M),rules.range(R,I,N,L,M))}$(L)},object=function T(R,I,$,N,M){var L=[],B=R.required||!R.required&&N.hasOwnProperty(R.field);if(B){if(isEmptyValue(I)&&!R.required)return $();rules.required(R,I,N,L,M),I!==void 0&&rules.type(R,I,N,L,M)}$(L)},ENUM="enum",enumerable=function T(R,I,$,N,M){var L=[],B=R.required||!R.required&&N.hasOwnProperty(R.field);if(B){if(isEmptyValue(I)&&!R.required)return $();rules.required(R,I,N,L,M),I!==void 0&&rules[ENUM](R,I,N,L,M)}$(L)},pattern=function T(R,I,$,N,M){var L=[],B=R.required||!R.required&&N.hasOwnProperty(R.field);if(B){if(isEmptyValue(I,"string")&&!R.required)return $();rules.required(R,I,N,L,M),isEmptyValue(I,"string")||rules.pattern(R,I,N,L,M)}$(L)},date=function T(R,I,$,N,M){var L=[],B=R.required||!R.required&&N.hasOwnProperty(R.field);if(B){if(isEmptyValue(I,"date")&&!R.required)return $();if(rules.required(R,I,N,L,M),!isEmptyValue(I,"date")){var k;I instanceof Date?k=I:k=new Date(I),rules.type(R,k,N,L,M),k&&rules.range(R,k.getTime(),N,L,M)}}$(L)},required=function T(R,I,$,N,M){var L=[],B=Array.isArray(I)?"array":typeof I;rules.required(R,I,N,L,M,B),$(L)},type=function T(R,I,$,N,M){var L=R.type,B=[],k=R.required||!R.required&&N.hasOwnProperty(R.field);if(k){if(isEmptyValue(I,L)&&!R.required)return $();rules.required(R,I,N,B,M,L),isEmptyValue(I,L)||rules.type(R,I,N,B,M)}$(B)},any=function T(R,I,$,N,M){var L=[],B=R.required||!R.required&&N.hasOwnProperty(R.field);if(B){if(isEmptyValue(I)&&!R.required)return $();rules.required(R,I,N,L,M)}$(L)},validators={string,method,number,boolean:_boolean,regexp,integer,float:floatFn,array,object,enum:enumerable,pattern,date,url:type,hex:type,email:type,required,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var R=JSON.parse(JSON.stringify(this));return R.clone=this.clone,R}}}var messages=newMessages(),Schema=function(){function T(I){this.rules=null,this._messages=messages,this.define(I)}var R=T.prototype;return R.define=function($){var N=this;if(!$)throw new Error("Cannot configure a schema with no rules");if(typeof $!="object"||Array.isArray($))throw new Error("Rules must be an object");this.rules={},Object.keys($).forEach(function(M){var L=$[M];N.rules[M]=Array.isArray(L)?L:[L]})},R.messages=function($){return $&&(this._messages=deepMerge(newMessages(),$)),this._messages},R.validate=function($,N,M){var L=this;N===void 0&&(N={}),M===void 0&&(M=function(){});var B=$,k=N,U=M;if(typeof k=="function"&&(U=k,k={}),!this.rules||Object.keys(this.rules).length===0)return U&&U(null,B),Promise.resolve(B);function H(Y){var q=[],Z={};function Q(ne){if(Array.isArray(ne)){var te;q=(te=q).concat.apply(te,ne)}else q.push(ne)}for(var ee=0;ee<Y.length;ee++)Q(Y[ee]);q.length?(Z=convertFieldsError(q),U(q,Z)):U(null,B)}if(k.messages){var z=this.messages();z===messages&&(z=newMessages()),deepMerge(z,k.messages),k.messages=z}else k.messages=this.messages();var V={},W=k.keys||Object.keys(this.rules);W.forEach(function(Y){var q=L.rules[Y],Z=B[Y];q.forEach(function(Q){var ee=Q;typeof ee.transform=="function"&&(B===$&&(B=_extends({},B)),Z=B[Y]=ee.transform(Z)),typeof ee=="function"?ee={validator:ee}:ee=_extends({},ee),ee.validator=L.getValidationMethod(ee),ee.validator&&(ee.field=Y,ee.fullField=ee.fullField||Y,ee.type=L.getType(ee),V[Y]=V[Y]||[],V[Y].push({rule:ee,value:Z,source:B,field:Y}))})});var K={};return asyncMap(V,k,function(Y,q){var Z=Y.rule,Q=(Z.type==="object"||Z.type==="array")&&(typeof Z.fields=="object"||typeof Z.defaultField=="object");Q=Q&&(Z.required||!Z.required&&Y.value),Z.field=Y.field;function ee(re,ie){return _extends({},ie,{fullField:Z.fullField+"."+re,fullFields:Z.fullFields?[].concat(Z.fullFields,[re]):[re]})}function ne(re){re===void 0&&(re=[]);var ie=Array.isArray(re)?re:[re];!k.suppressWarning&&ie.length&&T.warning("async-validator:",ie),ie.length&&Z.message!==void 0&&(ie=[].concat(Z.message));var se=ie.map(complementError(Z,B));if(k.first&&se.length)return K[Z.field]=1,q(se);if(!Q)q(se);else{if(Z.required&&!Y.value)return Z.message!==void 0?se=[].concat(Z.message).map(complementError(Z,B)):k.error&&(se=[k.error(Z,format$1(k.messages.required,Z.field))]),q(se);var le={};Z.defaultField&&Object.keys(Y.value).map(function(fe){le[fe]=Z.defaultField}),le=_extends({},le,Y.rule.fields);var he={};Object.keys(le).forEach(function(fe){var Se=le[fe],Pe=Array.isArray(Se)?Se:[Se];he[fe]=Pe.map(ee.bind(null,fe))});var pe=new T(he);pe.messages(k.messages),Y.rule.options&&(Y.rule.options.messages=k.messages,Y.rule.options.error=k.error),pe.validate(Y.value,Y.rule.options||k,function(fe){var Se=[];se&&se.length&&Se.push.apply(Se,se),fe&&fe.length&&Se.push.apply(Se,fe),q(Se.length?Se:null)})}}var te;if(Z.asyncValidator)te=Z.asyncValidator(Z,Y.value,ne,Y.source,k);else if(Z.validator){try{te=Z.validator(Z,Y.value,ne,Y.source,k)}catch(re){console.error==null||console.error(re),k.suppressValidatorError||setTimeout(function(){throw re},0),ne(re.message)}te===!0?ne():te===!1?ne(typeof Z.message=="function"?Z.message(Z.fullField||Z.field):Z.message||(Z.fullField||Z.field)+" fails"):te instanceof Array?ne(te):te instanceof Error&&ne(te.message)}te&&te.then&&te.then(function(){return ne()},function(re){return ne(re)})},function(Y){H(Y)},B)},R.getType=function($){if($.type===void 0&&$.pattern instanceof RegExp&&($.type="pattern"),typeof $.validator!="function"&&$.type&&!validators.hasOwnProperty($.type))throw new Error(format$1("Unknown rule type %s",$.type));return $.type||"string"},R.getValidationMethod=function($){if(typeof $.validator=="function")return $.validator;var N=Object.keys($),M=N.indexOf("message");return M!==-1&&N.splice(M,1),N.length===1&&N[0]==="required"?validators.required:validators[this.getType($)]||void 0},T}();Schema.register=function T(R,I){if(typeof I!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators[R]=I};Schema.warning=warning;Schema.messages=messages;Schema.validators=validators;function formItemSize(T){const R=inject(formInjectionKey,null);return{mergedSize:computed(()=>T.size!==void 0?T.size:(R==null?void 0:R.props.size)!==void 0?R.props.size:"medium")}}function formItemMisc(T){const R=inject(formInjectionKey,null),I=computed(()=>{if($.value==="top")return;const{labelWidth:V}=T;if(V!==void 0&&V!=="auto")return formatLength(V);if(V==="auto"||(R==null?void 0:R.props.labelWidth)==="auto"){const W=R==null?void 0:R.maxChildLabelWidthRef.value;return W!==void 0?formatLength(W):void 0}if((R==null?void 0:R.props.labelWidth)!==void 0)return formatLength(R.props.labelWidth)}),$=computed(()=>{const{labelPlacement:V}=T;return V!==void 0?V:R!=null&&R.props.labelPlacement?R.props.labelPlacement:"top"}),N=computed(()=>{const{labelAlign:V}=T;if(V)return V;if(R!=null&&R.props.labelAlign)return R.props.labelAlign}),M=computed(()=>{var V;return[(V=T.labelProps)===null||V===void 0?void 0:V.style,T.labelStyle,{width:I.value}]}),L=computed(()=>{const{showRequireMark:V}=T;return V!==void 0?V:R==null?void 0:R.props.showRequireMark}),B=computed(()=>{const{requireMarkPlacement:V}=T;return V!==void 0?V:(R==null?void 0:R.props.requireMarkPlacement)||"right"}),k=ref(!1),U=computed(()=>{const{validationStatus:V}=T;if(V!==void 0)return V;if(k.value)return"error"}),H=computed(()=>{const{showFeedback:V}=T;return V!==void 0?V:(R==null?void 0:R.props.showFeedback)!==void 0?R.props.showFeedback:!0}),z=computed(()=>{const{showLabel:V}=T;return V!==void 0?V:(R==null?void 0:R.props.showLabel)!==void 0?R.props.showLabel:!0});return{validationErrored:k,mergedLabelStyle:M,mergedLabelPlacement:$,mergedLabelAlign:N,mergedShowRequireMark:L,mergedRequireMarkPlacement:B,mergedValidationStatus:U,mergedShowFeedback:H,mergedShowLabel:z}}function formItemRule(T){const R=inject(formInjectionKey,null),I=computed(()=>{const{rulePath:L}=T;if(L!==void 0)return L;const{path:B}=T;if(B!==void 0)return B}),$=computed(()=>{const L=[],{rule:B}=T;if(B!==void 0&&(Array.isArray(B)?L.push(...B):L.push(B)),R){const{rules:k}=R.props,{value:U}=I;if(k!==void 0&&U!==void 0){const H=get(k,U);H!==void 0&&(Array.isArray(H)?L.push(...H):L.push(H))}}return L}),N=computed(()=>$.value.some(L=>L.required)),M=computed(()=>N.value||T.required);return{mergedRules:$,mergedRequired:M}}const{cubicBezierEaseInOut}=commonVariables$9;function fadeDownTransition({name:T="fade-down",fromOffset:R="-4px",enterDuration:I=".3s",leaveDuration:$=".3s",enterCubicBezier:N=cubicBezierEaseInOut,leaveCubicBezier:M=cubicBezierEaseInOut}={}){return[c$2(`&.${T}-transition-enter-from, &.${T}-transition-leave-to`,{opacity:0,transform:`translateY(${R})`}),c$2(`&.${T}-transition-enter-to, &.${T}-transition-leave-from`,{opacity:1,transform:"translateY(0)"}),c$2(`&.${T}-transition-leave-active`,{transition:`opacity ${$} ${M}, transform ${$} ${M}`}),c$2(`&.${T}-transition-enter-active`,{transition:`opacity ${I} ${N}, transform ${I} ${N}`})]}const style$5=cB("form-item",{display:"grid",lineHeight:"var(--n-line-height)"},[cB("form-item-label",`
 grid-area: label;
 align-items: center;
 line-height: 1.25;
 text-align: var(--n-label-text-align);
 font-size: var(--n-label-font-size);
 height: var(--n-label-height);
 padding: var(--n-label-padding);
 color: var(--n-label-text-color);
 transition: color .3s var(--n-bezier);
 box-sizing: border-box;
 `,[cE("asterisk",`
 user-select: none;
 -webkit-user-select: none;
 color: var(--n-asterisk-color);
 transition: color .3s var(--n-bezier);
 `),cE("asterisk-placeholder",`
 user-select: none;
 -webkit-user-select: none;
 visibility: hidden; 
 `)]),cB("form-item-blank",{gridArea:"blank",minHeight:"var(--n-blank-height)"}),cM("left-labelled",`
 grid-template-areas:
 "label blank"
 "label feedback";
 grid-template-columns: auto minmax(0, 1fr);
 `,[cB("form-item-label",`
 height: var(--n-blank-height);
 line-height: var(--n-blank-height);
 box-sizing: border-box;
 white-space: nowrap;
 flex-shrink: 0;
 flex-grow: 0;
 `)]),cM("top-labelled",`
 grid-template-areas:
 "label"
 "blank"
 "feedback";
 grid-template-rows: var(--n-label-height) 1fr;
 grid-template-columns: minmax(0, 100%);
 `,[cM("no-label",`
 grid-template-areas:
 "blank"
 "feedback";
 grid-template-rows: 1fr;
 `),cB("form-item-label",{display:"flex",alignItems:"flex-end",justifyContent:"var(--n-label-text-align)"})]),cB("form-item-blank",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 position: relative;
 `),cB("form-item-feedback-wrapper",`
 grid-area: feedback;
 box-sizing: border-box;
 min-height: var(--n-feedback-height);
 font-size: var(--n-feedback-font-size);
 line-height: 1.25;
 transform-origin: top left;
 `,[c$2("&:not(:empty)",`
 padding: var(--n-feedback-padding);
 `),cB("form-item-feedback",{transition:"color .3s var(--n-bezier)",color:"var(--n-feedback-text-color)"},[cM("warning",{color:"var(--n-feedback-text-color-warning)"}),cM("error",{color:"var(--n-feedback-text-color-error)"}),fadeDownTransition({fromOffset:"-3px",enterDuration:".3s",leaveDuration:".2s"})])])]);var __awaiter$3=globalThis&&globalThis.__awaiter||function(T,R,I,$){function N(M){return M instanceof I?M:new I(function(L){L(M)})}return new(I||(I=Promise))(function(M,L){function B(H){try{U($.next(H))}catch(z){L(z)}}function k(H){try{U($.throw(H))}catch(z){L(z)}}function U(H){H.done?M(H.value):N(H.value).then(B,k)}U(($=$.apply(T,R||[])).next())})};const formItemProps=Object.assign(Object.assign({},useTheme.props),{label:String,labelWidth:[Number,String],labelStyle:[String,Object],labelAlign:String,labelPlacement:String,path:String,first:Boolean,rulePath:String,required:Boolean,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:void 0},rule:[Object,Array],size:String,ignorePathChange:Boolean,validationStatus:String,feedback:String,showLabel:{type:Boolean,default:void 0},labelProps:Object});function wrapValidator(T,R){return(...I)=>{try{const $=T(...I);return!R&&(typeof $=="boolean"||$ instanceof Error||Array.isArray($))||($==null?void 0:$.then)?$:($===void 0||warn$2("form-item/validate",`You return a ${typeof $} typed value in the validator method, which is not recommended. Please use `+(R?"`Promise`":"`boolean`, `Error` or `Promise`")+" typed value instead."),!0)}catch($){warn$2("form-item/validate","An error is catched in the validation, so the validation won't be done. Your callback in `validate` method of `n-form` or `n-form-item` won't be called in this validation."),console.error($);return}}}const __unplugin_components_1$1=defineComponent({name:"FormItem",props:formItemProps,setup(T){useInjectionInstanceCollection(formItemInstsInjectionKey,"formItems",toRef(T,"path"));const{mergedClsPrefixRef:R,inlineThemeDisabled:I}=useConfig(T),$=inject(formInjectionKey,null),N=formItemSize(T),M=formItemMisc(T),{validationErrored:L}=M,{mergedRequired:B,mergedRules:k}=formItemRule(T),{mergedSize:U}=N,{mergedLabelPlacement:H,mergedLabelAlign:z}=M,V=ref([]),W=ref(createId()),K=$?toRef($.props,"disabled"):ref(!1),Y=useTheme("Form","-form-item",style$5,formLight$1,T,R);watch(toRef(T,"path"),()=>{T.ignorePathChange||q()});function q(){V.value=[],L.value=!1,T.feedback&&(W.value=createId())}function Z(){re("blur")}function Q(){re("change")}function ee(){re("focus")}function ne(){re("input")}function te(pe,fe){return __awaiter$3(this,void 0,void 0,function*(){let Se,Pe,ye,we;return typeof pe=="string"?(Se=pe,Pe=fe):pe!==null&&typeof pe=="object"&&(Se=pe.trigger,Pe=pe.callback,ye=pe.shouldRuleBeApplied,we=pe.options),yield new Promise((Ee,He)=>{re(Se,ye,we).then(({valid:Ae,errors:de})=>{Ae?(Pe&&Pe(),Ee()):(Pe&&Pe(de),He(de))})})})}const re=(pe=null,fe=()=>!0,Se={suppressWarning:!0})=>__awaiter$3(this,void 0,void 0,function*(){const{path:Pe}=T;Se?Se.first||(Se.first=T.first):Se={};const{value:ye}=k,we=$?get($.props.model,Pe||""):void 0,Ee={},He={},Ae=(pe?ye.filter(Ze=>Array.isArray(Ze.trigger)?Ze.trigger.includes(pe):Ze.trigger===pe):ye).filter(fe).map((Ze,nt)=>{const xe=Object.assign({},Ze);if(xe.validator&&(xe.validator=wrapValidator(xe.validator,!1)),xe.asyncValidator&&(xe.asyncValidator=wrapValidator(xe.asyncValidator,!0)),xe.renderMessage){const Le=`__renderMessage__${nt}`;He[Le]=xe.message,xe.message=Le,Ee[Le]=xe.renderMessage}return xe});if(!Ae.length)return{valid:!0};const de=Pe!=null?Pe:"__n_no_path__",Oe=new Schema({[de]:Ae}),{validateMessages:Ve}=($==null?void 0:$.props)||{};return Ve&&Oe.messages(Ve),yield new Promise(Ze=>{Oe.validate({[de]:we},Se,nt=>{nt!=null&&nt.length?(V.value=nt.map(xe=>{const Le=(xe==null?void 0:xe.message)||"";return{key:Le,render:()=>Le.startsWith("__renderMessage__")?Ee[Le]():Le}}),nt.forEach(xe=>{var Le;!((Le=xe.message)===null||Le===void 0)&&Le.startsWith("__renderMessage__")&&(xe.message=He[xe.message])}),L.value=!0,Ze({valid:!1,errors:nt})):(q(),Ze({valid:!0}))})})});provide(formItemInjectionKey,{path:toRef(T,"path"),disabled:K,mergedSize:N.mergedSize,mergedValidationStatus:M.mergedValidationStatus,restoreValidation:q,handleContentBlur:Z,handleContentChange:Q,handleContentFocus:ee,handleContentInput:ne});const ie={validate:te,restoreValidation:q,internalValidate:re},se=ref(null);onMounted(()=>{se.value!==null&&($==null||$.deriveMaxChildLabelWidth(Number(getComputedStyle(se.value).width.slice(0,-2))))});const le=computed(()=>{var pe;const{value:fe}=U,{value:Se}=H,Pe=Se==="top"?"vertical":"horizontal",{common:{cubicBezierEaseInOut:ye},self:{labelTextColor:we,asteriskColor:Ee,lineHeight:He,feedbackTextColor:Ae,feedbackTextColorWarning:de,feedbackTextColorError:Oe,feedbackPadding:Ve,[createKey("labelHeight",fe)]:Ze,[createKey("blankHeight",fe)]:nt,[createKey("feedbackFontSize",fe)]:xe,[createKey("feedbackHeight",fe)]:Le,[createKey("labelPadding",Pe)]:Ue,[createKey("labelTextAlign",Pe)]:Xe,[createKey(createKey("labelFontSize",Se),fe)]:je}}=Y.value;let st=(pe=z.value)!==null&&pe!==void 0?pe:Xe;return Se==="top"&&(st=st==="right"?"flex-end":"flex-start"),{"--n-bezier":ye,"--n-line-height":He,"--n-blank-height":nt,"--n-label-font-size":je,"--n-label-text-align":st,"--n-label-height":Ze,"--n-label-padding":Ue,"--n-asterisk-color":Ee,"--n-label-text-color":we,"--n-feedback-padding":Ve,"--n-feedback-font-size":xe,"--n-feedback-height":Le,"--n-feedback-text-color":Ae,"--n-feedback-text-color-warning":de,"--n-feedback-text-color-error":Oe}}),he=useThemeClass("form-item",computed(()=>{var pe;return`${U.value[0]}${H.value[0]}${((pe=z.value)===null||pe===void 0?void 0:pe[0])||""}`}),le,T);return Object.assign(Object.assign(Object.assign(Object.assign({labelElementRef:se,mergedClsPrefix:R,mergedRequired:B,feedbackId:W,renderExplains:V},M),N),ie),{cssVars:I?void 0:le,themeClass:he==null?void 0:he.themeClass,onRender:he==null?void 0:he.onRender})},render(){var T;const{$slots:R,mergedClsPrefix:I,mergedShowLabel:$,mergedShowRequireMark:N,mergedRequireMarkPlacement:M,onRender:L}=this,B=N!==void 0?N:this.mergedRequired;return L==null||L(),h$1("div",{class:[`${I}-form-item`,this.themeClass,`${I}-form-item--${this.mergedSize}-size`,`${I}-form-item--${this.mergedLabelPlacement}-labelled`,!$&&`${I}-form-item--no-label`],style:this.cssVars},$&&(this.label||R.label)?h$1("label",Object.assign({},this.labelProps,{class:[(T=this.labelProps)===null||T===void 0?void 0:T.class,`${I}-form-item-label`],style:this.mergedLabelStyle,ref:"labelElementRef"}),M!=="left"?R.label?R.label():this.label:null,B?h$1("span",{class:`${I}-form-item-label__asterisk`},M!=="left"?"\xA0*":"*\xA0"):M==="right-hanging"&&h$1("span",{class:`${I}-form-item-label__asterisk-placeholder`},"\xA0*"),M==="left"?R.label?R.label():this.label:null):null,h$1("div",{class:[`${I}-form-item-blank`,this.mergedValidationStatus&&`${I}-form-item-blank--${this.mergedValidationStatus}`]},R),this.mergedShowFeedback?h$1("div",{key:this.feedbackId,class:`${I}-form-item-feedback-wrapper`},h$1(Transition,{name:"fade-down-transition",mode:"out-in"},{default:()=>{const{mergedValidationStatus:k}=this;return resolveWrappedSlot(R.feedback,U=>{var H;const{feedback:z}=this,V=U||z?h$1("div",{key:"__feedback__",class:`${I}-form-item-feedback__line`},U||z):this.renderExplains.length?(H=this.renderExplains)===null||H===void 0?void 0:H.map(({key:W,render:K})=>h$1("div",{key:W,class:`${I}-form-item-feedback__line`},K())):null;return V?k==="warning"?h$1("div",{key:"controlled-warning",class:`${I}-form-item-feedback ${I}-form-item-feedback--warning`},V):k==="error"?h$1("div",{key:"controlled-error",class:`${I}-form-item-feedback ${I}-form-item-feedback--error`},V):k==="success"?h$1("div",{key:"controlled-success",class:`${I}-form-item-feedback ${I}-form-item-feedback--success`},V):h$1("div",{key:"controlled-default",class:`${I}-form-item-feedback`},V):null})}})):null)}}),self$5=T=>{const{textColorDisabled:R}=T;return{iconColorDisabled:R}},inputNumberLight={name:"InputNumber",common:commonLight,peers:{Button:buttonLight$1,Input:inputLight$1},self:self$5},inputNumberLight$1=inputNumberLight,commonVariables={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 10px",closeSize:"20px",closeIconSize:"16px",iconSize:"20px",fontSize:"14px"},self$4=T=>{const{textColor2:R,closeIconColor:I,closeIconColorHover:$,closeIconColorPressed:N,infoColor:M,successColor:L,errorColor:B,warningColor:k,popoverColor:U,boxShadow2:H,primaryColor:z,lineHeight:V,borderRadius:W,closeColorHover:K,closeColorPressed:Y}=T;return Object.assign(Object.assign({},commonVariables),{closeBorderRadius:W,textColor:R,textColorInfo:R,textColorSuccess:R,textColorError:R,textColorWarning:R,textColorLoading:R,color:U,colorInfo:U,colorSuccess:U,colorError:U,colorWarning:U,colorLoading:U,boxShadow:H,boxShadowInfo:H,boxShadowSuccess:H,boxShadowError:H,boxShadowWarning:H,boxShadowLoading:H,iconColor:R,iconColorInfo:M,iconColorSuccess:L,iconColorWarning:k,iconColorError:B,iconColorLoading:z,closeColorHover:K,closeColorPressed:Y,closeIconColor:I,closeIconColorHover:$,closeIconColorPressed:N,closeColorHoverInfo:K,closeColorPressedInfo:Y,closeIconColorInfo:I,closeIconColorHoverInfo:$,closeIconColorPressedInfo:N,closeColorHoverSuccess:K,closeColorPressedSuccess:Y,closeIconColorSuccess:I,closeIconColorHoverSuccess:$,closeIconColorPressedSuccess:N,closeColorHoverError:K,closeColorPressedError:Y,closeIconColorError:I,closeIconColorHoverError:$,closeIconColorPressedError:N,closeColorHoverWarning:K,closeColorPressedWarning:Y,closeIconColorWarning:I,closeIconColorHoverWarning:$,closeIconColorPressedWarning:N,closeColorHoverLoading:K,closeColorPressedLoading:Y,closeIconColorLoading:I,closeIconColorHoverLoading:$,closeIconColorPressedLoading:N,loadingColor:z,lineHeight:V,borderRadius:W})},messageLight={name:"Message",common:commonLight,self:self$4},messageLight$1=messageLight,commonVars$1={iconSize:"22px"},self$3=T=>{const{fontSize:R,warningColor:I}=T;return Object.assign(Object.assign({},commonVars$1),{fontSize:R,iconColor:I})},popconfirmLight={name:"Popconfirm",common:commonLight,peers:{Button:buttonLight$1,Popover:popoverLight$1},self:self$3},popconfirmLight$1=popconfirmLight,commonVars={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"},self$2=T=>{const{primaryColor:R,opacityDisabled:I,borderRadius:$,textColor3:N}=T,M="rgba(0, 0, 0, .14)";return Object.assign(Object.assign({},commonVars),{iconColor:N,textColor:"white",loadingColor:R,opacityDisabled:I,railColor:M,railColorActive:R,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:$,railBorderRadiusMedium:$,railBorderRadiusLarge:$,buttonBorderRadiusSmall:$,buttonBorderRadiusMedium:$,buttonBorderRadiusLarge:$,boxShadowFocus:`0 0 0 2px ${changeColor(R,{alpha:.2})}`})},switchLight={name:"Switch",common:commonLight,self:self$2},switchLight$1=switchLight,self$1=T=>{const{borderRadiusSmall:R,hoverColor:I,pressedColor:$,primaryColor:N,textColor3:M,textColor2:L,textColorDisabled:B,fontSize:k}=T;return{fontSize:k,nodeBorderRadius:R,nodeColorHover:I,nodeColorPressed:$,nodeColorActive:changeColor(N,{alpha:.1}),arrowColor:M,nodeTextColor:L,nodeTextColorDisabled:B,loadingColor:N,dropMarkColor:N}},treeLight={name:"Tree",common:commonLight,peers:{Checkbox:checkboxLight$1,Scrollbar:scrollbarLight$1,Empty:emptyLight$1},self:self$1},treeLight$1=treeLight;function parse(T){return T==null||typeof T=="string"&&T.trim()===""?null:Number(T)}function isWipValue(T){return T.includes(".")&&(/^(-)?\d+.*(\.|0)$/.test(T)||/^\.\d+$/.test(T))}function validator(T){return T==null?!0:!Number.isNaN(T)}function format(T,R){return T==null?"":R===void 0?String(T):T.toFixed(R)}function parseNumber(T){if(T===null)return null;if(typeof T=="number")return T;{const R=Number(T);return Number.isNaN(R)?null:R}}const style$4=c$2([cB("input-number-suffix",`
 display: inline-block;
 margin-right: 10px;
 `),cB("input-number-prefix",`
 display: inline-block;
 margin-left: 10px;
 `)]),HOLDING_CHANGE_THRESHOLD=800,HOLDING_CHANGE_INTERVAL=100,inputNumberProps=Object.assign(Object.assign({},useTheme.props),{autofocus:Boolean,loading:{type:Boolean,default:void 0},placeholder:String,defaultValue:{type:Number,default:null},value:Number,step:{type:[Number,String],default:1},min:[Number,String],max:[Number,String],size:String,disabled:{type:Boolean,default:void 0},validator:Function,bordered:{type:Boolean,default:void 0},showButton:{type:Boolean,default:!0},buttonPlacement:{type:String,default:"right"},readonly:Boolean,clearable:Boolean,keyboard:{type:Object,default:{}},updateValueOnInput:{type:Boolean,default:!0},parse:Function,format:Function,precision:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onChange:[Function,Array]}),__unplugin_components_3=defineComponent({name:"InputNumber",props:inputNumberProps,setup(T){const{mergedBorderedRef:R,mergedClsPrefixRef:I,mergedRtlRef:$}=useConfig(T),N=useTheme("InputNumber","-input-number",style$4,inputNumberLight$1,T,I),{localeRef:M}=useLocale("InputNumber"),L=useFormItem(T),{mergedSizeRef:B,mergedDisabledRef:k,mergedStatusRef:U}=L,H=ref(null),z=ref(null),V=ref(null),W=ref(T.defaultValue),K=toRef(T,"value"),Y=useMergedState(K,W),q=ref(""),Z=be=>{const Be=String(be).split(".")[1];return Be?Be.length:0},Q=be=>{const Be=[T.min,T.max,T.step,be].map(We=>We===void 0?0:Z(We));return Math.max(...Be)},ee=useMemo(()=>{const{placeholder:be}=T;return be!==void 0?be:M.value.placeholder}),ne=useMemo(()=>{const be=parseNumber(T.step);return be!==null?be===0?1:Math.abs(be):1}),te=useMemo(()=>{const be=parseNumber(T.min);return be!==null?be:null}),re=useMemo(()=>{const be=parseNumber(T.max);return be!==null?be:null}),ie=be=>{const{value:Be}=Y;if(be===Be){le();return}const{"onUpdate:value":We,onUpdateValue:Fe,onChange:Te}=T,{nTriggerFormInput:Ie,nTriggerFormChange:tt}=L;Te&&call(Te,be),Fe&&call(Fe,be),We&&call(We,be),W.value=be,Ie(),tt()},se=({offset:be,doUpdateIfValid:Be,fixPrecision:We,isInputing:Fe})=>{const{value:Te}=q;if(Fe&&isWipValue(Te))return!1;const Ie=(T.parse||parse)(Te);if(Ie===null)return Be&&ie(null),null;if(validator(Ie)){const tt=Z(Ie),{precision:ot}=T;if(ot!==void 0&&ot<tt&&!We)return!1;let lt=parseFloat((Ie+be).toFixed(ot!=null?ot:Q(Ie)));if(validator(lt)){const{value:ft}=re,{value:mt}=te;if(ft!==null&&lt>ft){if(!Be||Fe)return!1;lt=ft}if(mt!==null&&lt<mt){if(!Be||Fe)return!1;lt=mt}return T.validator&&!T.validator(lt)?!1:(Be&&ie(lt),lt)}}return!1},le=()=>{const{value:be}=Y;if(validator(be)){const{format:Be,precision:We}=T;Be?q.value=Be(be):be===null||We===void 0||Z(be)>We?q.value=format(be,void 0):q.value=format(be,We)}else q.value=String(be)};le();const he=useMemo(()=>se({offset:0,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})===!1),pe=useMemo(()=>{const{value:be}=Y;if(T.validator&&be===null)return!1;const{value:Be}=ne;return se({offset:-Be,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1}),fe=useMemo(()=>{const{value:be}=Y;if(T.validator&&be===null)return!1;const{value:Be}=ne;return se({offset:+Be,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1});function Se(be){const{onFocus:Be}=T,{nTriggerFormFocus:We}=L;Be&&call(Be,be),We()}function Pe(be){var Be,We;if(be.target===((Be=H.value)===null||Be===void 0?void 0:Be.wrapperElRef))return;const Fe=se({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0});if(Fe!==!1){const tt=(We=H.value)===null||We===void 0?void 0:We.inputElRef;tt&&(tt.value=String(Fe||"")),Y.value===Fe&&le()}else le();const{onBlur:Te}=T,{nTriggerFormBlur:Ie}=L;Te&&call(Te,be),Ie()}function ye(be){const{onClear:Be}=T;Be&&call(Be,be)}function we(){const{value:be}=fe;if(!be){Ue();return}const{value:Be}=Y;if(Be===null)T.validator||ie(de());else{const{value:We}=ne;se({offset:We,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}function Ee(){const{value:be}=pe;if(!be){Le();return}const{value:Be}=Y;if(Be===null)T.validator||ie(de());else{const{value:We}=ne;se({offset:-We,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}const He=Se,Ae=Pe;function de(){if(T.validator)return null;const{value:be}=te,{value:Be}=re;return be!==null?Math.max(0,be):Be!==null?Math.min(0,Be):0}function Oe(be){ye(be),ie(null)}function Ve(be){var Be,We,Fe;!((Be=V.value)===null||Be===void 0)&&Be.$el.contains(be.target)&&be.preventDefault(),!((We=z.value)===null||We===void 0)&&We.$el.contains(be.target)&&be.preventDefault(),(Fe=H.value)===null||Fe===void 0||Fe.activate()}let Ze=null,nt=null,xe=null;function Le(){xe&&(window.clearTimeout(xe),xe=null),Ze&&(window.clearInterval(Ze),Ze=null)}function Ue(){je&&(window.clearTimeout(je),je=null),nt&&(window.clearInterval(nt),nt=null)}function Xe(){xe=window.setTimeout(()=>{Ze=window.setInterval(()=>{Ee()},HOLDING_CHANGE_INTERVAL)},HOLDING_CHANGE_THRESHOLD),on("mouseup",document,()=>{window.setTimeout(Le,0)},{once:!0})}let je=null;function st(){je=window.setTimeout(()=>{nt=window.setInterval(()=>{we()},HOLDING_CHANGE_INTERVAL)},HOLDING_CHANGE_THRESHOLD),on("mouseup",document,()=>{window.setTimeout(Ue,0)},{once:!0})}const Ye=()=>{nt||we()},Qe=()=>{Ze||Ee()};function ce(be){var Be,We;if(be.key==="Enter"){if(be.target===((Be=H.value)===null||Be===void 0?void 0:Be.wrapperElRef))return;se({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&((We=H.value)===null||We===void 0||We.deactivate())}else if(be.key==="ArrowUp"){if(!fe.value||T.keyboard.ArrowUp===!1)return;be.preventDefault(),se({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&we()}else if(be.key==="ArrowDown"){if(!pe.value||T.keyboard.ArrowDown===!1)return;be.preventDefault(),se({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&Ee()}}function ge(be){q.value=be,T.updateValueOnInput&&!T.format&&!T.parse&&T.precision===void 0&&se({offset:0,doUpdateIfValid:!0,isInputing:!0,fixPrecision:!1})}watch(Y,()=>{le()});const Re={focus:()=>{var be;return(be=H.value)===null||be===void 0?void 0:be.focus()},blur:()=>{var be;return(be=H.value)===null||be===void 0?void 0:be.blur()}},ke=useRtl("InputNumber",$,I);return Object.assign(Object.assign({},Re),{rtlEnabled:ke,inputInstRef:H,minusButtonInstRef:z,addButtonInstRef:V,mergedClsPrefix:I,mergedBordered:R,uncontrolledValue:W,mergedValue:Y,mergedPlaceholder:ee,displayedValueInvalid:he,mergedSize:B,mergedDisabled:k,displayedValue:q,addable:fe,minusable:pe,mergedStatus:U,handleFocus:He,handleBlur:Ae,handleClear:Oe,handleMouseDown:Ve,handleAddClick:Ye,handleMinusClick:Qe,handleAddMousedown:st,handleMinusMousedown:Xe,handleKeyDown:ce,handleUpdateDisplayedValue:ge,mergedTheme:N,inputThemeOverrides:{paddingSmall:"0 8px 0 10px",paddingMedium:"0 8px 0 12px",paddingLarge:"0 8px 0 14px"},buttonThemeOverrides:computed(()=>{const{self:{iconColorDisabled:be}}=N.value,[Be,We,Fe,Te]=rgba(be);return{textColorTextDisabled:`rgb(${Be}, ${We}, ${Fe})`,opacityDisabled:`${Te}`}})})},render(){const{mergedClsPrefix:T,$slots:R}=this,I=()=>h$1(XButton,{text:!0,disabled:!this.minusable||this.mergedDisabled||this.readonly,focusable:!1,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleMinusClick,onMousedown:this.handleMinusMousedown,ref:"minusButtonInstRef"},{icon:()=>resolveSlot(R["minus-icon"],()=>[h$1(NBaseIcon,{clsPrefix:T},{default:()=>h$1(RemoveIcon,null)})])}),$=()=>h$1(XButton,{text:!0,disabled:!this.addable||this.mergedDisabled||this.readonly,focusable:!1,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleAddClick,onMousedown:this.handleAddMousedown,ref:"addButtonInstRef"},{icon:()=>resolveSlot(R["add-icon"],()=>[h$1(NBaseIcon,{clsPrefix:T},{default:()=>h$1(AddIcon,null)})])});return h$1("div",{class:[`${T}-input-number`,this.rtlEnabled&&`${T}-input-number--rtl`]},h$1(__unplugin_components_0$4,{ref:"inputInstRef",autofocus:this.autofocus,status:this.mergedStatus,bordered:this.mergedBordered,loading:this.loading,value:this.displayedValue,onUpdateValue:this.handleUpdateDisplayedValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,builtinThemeOverrides:this.inputThemeOverrides,size:this.mergedSize,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,readonly:this.readonly,textDecoration:this.displayedValueInvalid?"line-through":void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onClear:this.handleClear,clearable:this.clearable,internalLoadingBeforeSuffix:!0},{prefix:()=>{var N;return this.showButton&&this.buttonPlacement==="both"?[I(),resolveWrappedSlot(R.prefix,M=>M?h$1("span",{class:`${T}-input-number-prefix`},M):null)]:(N=R.prefix)===null||N===void 0?void 0:N.call(R)},suffix:()=>{var N;return this.showButton?[resolveWrappedSlot(R.suffix,M=>M?h$1("span",{class:`${T}-input-number-suffix`},M):null),this.buttonPlacement==="right"?I():null,$()]:(N=R.suffix)===null||N===void 0?void 0:N.call(R)}}))}}),messageProps={icon:Function,type:{type:String,default:"info"},content:[String,Number,Function],showIcon:{type:Boolean,default:!0},closable:Boolean,keepAliveOnHover:Boolean,onClose:Function,onMouseenter:Function,onMouseleave:Function},messageApiInjectionKey="n-message-api",messageProviderInjectionKey="n-message-provider",style$3=c$2([cB("message-wrapper",`
 margin: var(--n-margin);
 z-index: 0;
 transform-origin: top center;
 display: flex;
 `,[fadeInHeightExpandTransition({overflow:"visible",originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.85)"}})]),cB("message",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 margin-bottom .3s var(--n-bezier);
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 flex-wrap: nowrap;
 overflow: hidden;
 max-width: var(--n-max-width);
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-shadow: var(--n-box-shadow);
 `,[cE("content",`
 display: inline-block;
 line-height: var(--n-line-height);
 font-size: var(--n-font-size);
 `),cE("icon",`
 position: relative;
 margin: var(--n-icon-margin);
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 flex-shrink: 0;
 `,[["default","info","success","warning","error","loading"].map(T=>cM(`${T}-type`,[c$2("> *",`
 color: var(--n-icon-color-${T});
 transition: color .3s var(--n-bezier);
 `)])),c$2("> *",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[iconSwitchTransition()])]),cE("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 flex-shrink: 0;
 `,[c$2("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),c$2("&:active",`
 color: var(--n-close-icon-color-pressed);
 `)])]),cB("message-container",`
 z-index: 6000;
 position: fixed;
 height: 0;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: center;
 `,[cM("top",`
 top: 12px;
 left: 0;
 right: 0;
 `),cM("top-left",`
 top: 12px;
 left: 12px;
 right: 0;
 align-items: flex-start;
 `),cM("top-right",`
 top: 12px;
 left: 0;
 right: 12px;
 align-items: flex-end;
 `),cM("bottom",`
 bottom: 4px;
 left: 0;
 right: 0;
 justify-content: flex-end;
 `),cM("bottom-left",`
 bottom: 4px;
 left: 12px;
 right: 0;
 justify-content: flex-end;
 align-items: flex-start;
 `),cM("bottom-right",`
 bottom: 4px;
 left: 0;
 right: 12px;
 justify-content: flex-end;
 align-items: flex-end;
 `)])]),iconRenderMap={info:()=>h$1(InfoIcon,null),success:()=>h$1(SuccessIcon,null),warning:()=>h$1(WarningIcon,null),error:()=>h$1(ErrorIcon,null),default:()=>null},NMessage=defineComponent({name:"Message",props:Object.assign(Object.assign({},messageProps),{render:Function}),setup(T){const{inlineThemeDisabled:R}=useConfig(),{props:I,mergedClsPrefixRef:$}=inject(messageProviderInjectionKey),N=useTheme("Message","-message",style$3,messageLight$1,I,$),M=computed(()=>{const{type:B}=T,{common:{cubicBezierEaseInOut:k},self:{padding:U,margin:H,maxWidth:z,iconMargin:V,closeMargin:W,closeSize:K,iconSize:Y,fontSize:q,lineHeight:Z,borderRadius:Q,iconColorInfo:ee,iconColorSuccess:ne,iconColorWarning:te,iconColorError:re,iconColorLoading:ie,closeIconSize:se,closeBorderRadius:le,[createKey("textColor",B)]:he,[createKey("boxShadow",B)]:pe,[createKey("color",B)]:fe,[createKey("closeColorHover",B)]:Se,[createKey("closeColorPressed",B)]:Pe,[createKey("closeIconColor",B)]:ye,[createKey("closeIconColorPressed",B)]:we,[createKey("closeIconColorHover",B)]:Ee}}=N.value;return{"--n-bezier":k,"--n-margin":H,"--n-padding":U,"--n-max-width":z,"--n-font-size":q,"--n-icon-margin":V,"--n-icon-size":Y,"--n-close-icon-size":se,"--n-close-border-radius":le,"--n-close-size":K,"--n-close-margin":W,"--n-text-color":he,"--n-color":fe,"--n-box-shadow":pe,"--n-icon-color-info":ee,"--n-icon-color-success":ne,"--n-icon-color-warning":te,"--n-icon-color-error":re,"--n-icon-color-loading":ie,"--n-close-color-hover":Se,"--n-close-color-pressed":Pe,"--n-close-icon-color":ye,"--n-close-icon-color-pressed":we,"--n-close-icon-color-hover":Ee,"--n-line-height":Z,"--n-border-radius":Q}}),L=R?useThemeClass("message",computed(()=>T.type[0]),M,{}):void 0;return{mergedClsPrefix:$,messageProviderProps:I,handleClose(){var B;(B=T.onClose)===null||B===void 0||B.call(T)},cssVars:R?void 0:M,themeClass:L==null?void 0:L.themeClass,onRender:L==null?void 0:L.onRender,placement:I.placement}},render(){const{render:T,type:R,closable:I,content:$,mergedClsPrefix:N,cssVars:M,themeClass:L,onRender:B,icon:k,handleClose:U,showIcon:H}=this;B==null||B();let z;return h$1("div",{class:[`${N}-message-wrapper`,L],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:[{alignItems:this.placement.startsWith("top")?"flex-start":"flex-end"},M]},T?T(this.$props):h$1("div",{class:`${N}-message ${N}-message--${R}-type`},(z=createIconVNode(k,R,N))&&H?h$1("div",{class:`${N}-message__icon ${N}-message__icon--${R}-type`},h$1(NIconSwitchTransition,null,{default:()=>z})):null,h$1("div",{class:`${N}-message__content`},render$4($)),I?h$1(NBaseClose,{clsPrefix:N,class:`${N}-message__close`,onClick:U,absolute:!0}):null))}});function createIconVNode(T,R,I){if(typeof T=="function")return T();{const $=R==="loading"?h$1(NBaseLoading,{clsPrefix:I,strokeWidth:24,scale:.85}):iconRenderMap[R]();return $?h$1(NBaseIcon,{clsPrefix:I,key:R},{default:()=>$}):null}}const MessageEnvironment=defineComponent({name:"MessageEnvironment",props:Object.assign(Object.assign({},messageProps),{duration:{type:Number,default:3e3},onAfterLeave:Function,onLeave:Function,internalKey:{type:String,required:!0},onInternalAfterLeave:Function,onHide:Function,onAfterHide:Function}),setup(T){let R=null;const I=ref(!0);onMounted(()=>{$()});function $(){const{duration:H}=T;H&&(R=window.setTimeout(L,H))}function N(H){H.currentTarget===H.target&&R!==null&&(window.clearTimeout(R),R=null)}function M(H){H.currentTarget===H.target&&$()}function L(){const{onHide:H}=T;I.value=!1,R&&(window.clearTimeout(R),R=null),H&&H()}function B(){const{onClose:H}=T;H&&H(),L()}function k(){const{onAfterLeave:H,onInternalAfterLeave:z,onAfterHide:V,internalKey:W}=T;H&&H(),z&&z(W),V&&V()}function U(){L()}return{show:I,hide:L,handleClose:B,handleAfterLeave:k,handleMouseleave:M,handleMouseenter:N,deactivate:U}},render(){return h$1(NFadeInExpandTransition,{appear:!0,onAfterLeave:this.handleAfterLeave,onLeave:this.onLeave},{default:()=>[this.show?h$1(NMessage,{content:this.content,type:this.type,icon:this.icon,showIcon:this.showIcon,closable:this.closable,onClose:this.handleClose,onMouseenter:this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.keepAliveOnHover?this.handleMouseleave:void 0}):null]})}}),messageProviderProps=Object.assign(Object.assign({},useTheme.props),{to:[String,Object],duration:{type:Number,default:3e3},keepAliveOnHover:Boolean,max:Number,placement:{type:String,default:"top"},closable:Boolean,containerStyle:[String,Object]}),__unplugin_components_0$3=defineComponent({name:"MessageProvider",props:messageProviderProps,setup(T){const{mergedClsPrefixRef:R}=useConfig(T),I=ref([]),$=ref({}),N={create(k,U){return M(k,Object.assign({type:"default"},U))},info(k,U){return M(k,Object.assign(Object.assign({},U),{type:"info"}))},success(k,U){return M(k,Object.assign(Object.assign({},U),{type:"success"}))},warning(k,U){return M(k,Object.assign(Object.assign({},U),{type:"warning"}))},error(k,U){return M(k,Object.assign(Object.assign({},U),{type:"error"}))},loading(k,U){return M(k,Object.assign(Object.assign({},U),{type:"loading"}))},destroyAll:B};provide(messageProviderInjectionKey,{props:T,mergedClsPrefixRef:R}),provide(messageApiInjectionKey,N);function M(k,U){const H=createId(),z=reactive(Object.assign(Object.assign({},U),{content:k,key:H,destroy:()=>{var W;(W=$.value[H])===null||W===void 0||W.hide()}})),{max:V}=T;return V&&I.value.length>=V&&I.value.shift(),I.value.push(z),z}function L(k){I.value.splice(I.value.findIndex(U=>U.key===k),1),delete $.value[k]}function B(){Object.values($.value).forEach(k=>{k.hide()})}return Object.assign({mergedClsPrefix:R,messageRefs:$,messageList:I,handleAfterLeave:L},N)},render(){var T,R,I;return h$1(Fragment,null,(R=(T=this.$slots).default)===null||R===void 0?void 0:R.call(T),this.messageList.length?h$1(Teleport,{to:(I=this.to)!==null&&I!==void 0?I:"body"},h$1("div",{class:[`${this.mergedClsPrefix}-message-container`,`${this.mergedClsPrefix}-message-container--${this.placement}`],key:"message-container",style:this.containerStyle},this.messageList.map($=>h$1(MessageEnvironment,Object.assign({ref:N=>{N&&(this.messageRefs[$.key]=N)},internalKey:$.key,onInternalAfterLeave:this.handleAfterLeave},omit($,["destroy"],void 0),{duration:$.duration===void 0?this.duration:$.duration,keepAliveOnHover:$.keepAliveOnHover===void 0?this.keepAliveOnHover:$.keepAliveOnHover,closable:$.closable===void 0?this.closable:$.closable}))))):null)}});function useMessage(){const T=inject(messageApiInjectionKey,null);return T===null&&throwError("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),T}const popconfirmInjectionKey="n-popconfirm",panelProps={positiveText:String,negativeText:String,showIcon:{type:Boolean,default:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0}},panelPropKeys=keysOf(panelProps),PopconfirmPanel=defineComponent({name:"NPopconfirmPanel",props:panelProps,setup(T){const{localeRef:R}=useLocale("Popconfirm"),{inlineThemeDisabled:I}=useConfig(),{mergedClsPrefixRef:$,mergedThemeRef:N,props:M}=inject(popconfirmInjectionKey),L=computed(()=>{const{common:{cubicBezierEaseInOut:k},self:{fontSize:U,iconSize:H,iconColor:z}}=N.value;return{"--n-bezier":k,"--n-font-size":U,"--n-icon-size":H,"--n-icon-color":z}}),B=I?useThemeClass("popconfirm-panel",void 0,L,M):void 0;return Object.assign(Object.assign({},useLocale("Popconfirm")),{mergedClsPrefix:$,cssVars:I?void 0:L,localizedPositiveText:computed(()=>T.positiveText||R.value.positiveText),localizedNegativeText:computed(()=>T.negativeText||R.value.negativeText),positiveButtonProps:toRef(M,"positiveButtonProps"),negativeButtonProps:toRef(M,"negativeButtonProps"),handlePositiveClick(k){T.onPositiveClick(k)},handleNegativeClick(k){T.onNegativeClick(k)},themeClass:B==null?void 0:B.themeClass,onRender:B==null?void 0:B.onRender})},render(){var T;const{mergedClsPrefix:R,showIcon:I,$slots:$}=this,N=resolveSlot($.action,()=>this.negativeText===null&&this.positiveText===null?[]:[this.negativeText!==null&&h$1(__unplugin_components_1$3,Object.assign({size:"small",onClick:this.handleNegativeClick},this.negativeButtonProps),{default:()=>this.localizedNegativeText}),this.positiveText!==null&&h$1(__unplugin_components_1$3,Object.assign({size:"small",type:"primary",onClick:this.handlePositiveClick},this.positiveButtonProps),{default:()=>this.localizedPositiveText})]);return(T=this.onRender)===null||T===void 0||T.call(this),h$1("div",{class:[`${R}-popconfirm__panel`,this.themeClass],style:this.cssVars},resolveWrappedSlot($.default,M=>I||M?h$1("div",{class:`${R}-popconfirm__body`},I?h$1("div",{class:`${R}-popconfirm__icon`},resolveSlot($.icon,()=>[h$1(NBaseIcon,{clsPrefix:R},{default:()=>h$1(WarningIcon,null)})])):null,M):null),N?h$1("div",{class:[`${R}-popconfirm__action`]},N):null)}}),style$2=cB("popconfirm",[cE("body",`
 font-size: var(--n-font-size);
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 position: relative;
 `,[cE("icon",`
 display: flex;
 font-size: var(--n-icon-size);
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 margin: 0 8px 0 0;
 `)]),cE("action",`
 display: flex;
 justify-content: flex-end;
 `,[c$2("&:not(:first-child)","margin-top: 8px"),cB("button",[c$2("&:not(:last-child)","margin-right: 8px;")])])]),popconfirmProps=Object.assign(Object.assign(Object.assign({},useTheme.props),popoverBaseProps),{positiveText:String,negativeText:String,showIcon:{type:Boolean,default:!0},trigger:{type:String,default:"click"},positiveButtonProps:Object,negativeButtonProps:Object,onPositiveClick:Function,onNegativeClick:Function}),__unplugin_components_2$1=defineComponent({name:"Popconfirm",props:popconfirmProps,__popover__:!0,setup(T){const{mergedClsPrefixRef:R}=useConfig(),I=useTheme("Popconfirm","-popconfirm",style$2,popconfirmLight$1,T,R),$=ref(null);function N(B){const{onPositiveClick:k,"onUpdate:show":U}=T;Promise.resolve(k?k(B):!0).then(H=>{var z;H!==!1&&((z=$.value)===null||z===void 0||z.setShow(!1),U&&call(U,!1))})}function M(B){const{onNegativeClick:k,"onUpdate:show":U}=T;Promise.resolve(k?k(B):!0).then(H=>{var z;H!==!1&&((z=$.value)===null||z===void 0||z.setShow(!1),U&&call(U,!1))})}return provide(popconfirmInjectionKey,{mergedThemeRef:I,mergedClsPrefixRef:R,props:T}),Object.assign(Object.assign({},{setShow(B){var k;(k=$.value)===null||k===void 0||k.setShow(B)},syncPosition(){var B;(B=$.value)===null||B===void 0||B.syncPosition()}}),{mergedTheme:I,popoverInstRef:$,handlePositiveClick:N,handleNegativeClick:M})},render(){const{$slots:T,$props:R,mergedTheme:I}=this;return h$1(NPopover,omit(R,panelPropKeys,{theme:I.peers.Popover,themeOverrides:I.peerOverrides.Popover,internalExtraClass:["popconfirm"],ref:"popoverInstRef"}),{trigger:T.activator||T.trigger,default:()=>{const $=keep(R,panelPropKeys);return h$1(PopconfirmPanel,Object.assign(Object.assign({},$),{onPositiveClick:this.handlePositiveClick,onNegativeClick:this.handleNegativeClick}),T)}})}}),style$1=cB("switch",`
 height: var(--n-height);
 min-width: var(--n-width);
 vertical-align: middle;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[cE("children-placeholder",`
 height: var(--n-rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),cE("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),cE("button-placeholder",`
 width: calc(1.75 * var(--n-rail-height));
 height: var(--n-rail-height);
 `),cB("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--n-button-width) - 4px);
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 `,[iconSwitchTransition({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),cE("checked, unchecked",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),cE("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),cE("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),c$2("&:focus",[cE("rail",`
 box-shadow: var(--n-box-shadow-focus);
 `)]),cM("round",[cE("rail","border-radius: calc(var(--n-rail-height) / 2);",[cE("button","border-radius: calc(var(--n-button-height) / 2);")])]),cNotM("disabled",[cNotM("icon",[cM("rubber-band",[cM("pressed",[cE("rail",[cE("button","max-width: var(--n-button-width-pressed);")])]),cE("rail",[c$2("&:active",[cE("button","max-width: var(--n-button-width-pressed);")])]),cM("active",[cM("pressed",[cE("rail",[cE("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),cE("rail",[c$2("&:active",[cE("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),cM("active",[cE("rail",[cE("button","left: calc(100% - (var(--n-rail-height) + var(--n-button-width)) / 2)")])]),cE("rail",`
 overflow: hidden;
 height: var(--n-rail-height);
 min-width: var(--n-rail-width);
 border-radius: var(--n-rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 opacity .3s var(--n-bezier),
 background .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[cE("button-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 font-size: calc(var(--n-button-height) - 4px);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 line-height: 1;
 `,[iconSwitchTransition()]),cE("button",`
 align-items: center; 
 top: var(--n-offset);
 left: var(--n-offset);
 height: var(--n-button-width);
 width: var(--n-button-width-pressed);
 max-width: var(--n-button-width);
 border-radius: var(--n-button-border-radius);
 background-color: var(--n-button-color);
 box-shadow: var(--n-button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--n-bezier),
 left .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `)]),cM("active",[cE("rail","background-color: var(--n-rail-color-active);")]),cM("loading",[cE("rail",`
 cursor: wait;
 `)]),cM("disabled",[cE("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)])]),switchProps=Object.assign(Object.assign({},useTheme.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]}),__unplugin_components_2=defineComponent({name:"Switch",props:switchProps,setup(T){const{mergedClsPrefixRef:R,inlineThemeDisabled:I}=useConfig(T),$=useTheme("Switch","-switch",style$1,switchLight$1,T,R),N=useFormItem(T),{mergedSizeRef:M,mergedDisabledRef:L}=N,B=ref(T.defaultValue),k=toRef(T,"value"),U=useMergedState(k,B),H=computed(()=>U.value===T.checkedValue),z=ref(!1),V=ref(!1),W=computed(()=>{const{railStyle:se}=T;if(!!se)return se({focused:V.value,checked:H.value})});function K(se){const{"onUpdate:value":le,onChange:he,onUpdateValue:pe}=T,{nTriggerFormInput:fe,nTriggerFormChange:Se}=N;le&&call(le,se),pe&&call(pe,se),he&&call(he,se),B.value=se,fe(),Se()}function Y(){const{nTriggerFormFocus:se}=N;se()}function q(){const{nTriggerFormBlur:se}=N;se()}function Z(){T.loading||L.value||(U.value!==T.checkedValue?K(T.checkedValue):K(T.uncheckedValue))}function Q(){V.value=!0,Y()}function ee(){V.value=!1,q(),z.value=!1}function ne(se){T.loading||L.value||se.key===" "&&(U.value!==T.checkedValue?K(T.checkedValue):K(T.uncheckedValue),z.value=!1)}function te(se){T.loading||L.value||se.key===" "&&(se.preventDefault(),z.value=!0)}const re=computed(()=>{const{value:se}=M,{self:{opacityDisabled:le,railColor:he,railColorActive:pe,buttonBoxShadow:fe,buttonColor:Se,boxShadowFocus:Pe,loadingColor:ye,textColor:we,iconColor:Ee,[createKey("buttonHeight",se)]:He,[createKey("buttonWidth",se)]:Ae,[createKey("buttonWidthPressed",se)]:de,[createKey("railHeight",se)]:Oe,[createKey("railWidth",se)]:Ve,[createKey("railBorderRadius",se)]:Ze,[createKey("buttonBorderRadius",se)]:nt},common:{cubicBezierEaseInOut:xe}}=$.value,Le=pxfy((depx(Oe)-depx(He))/2),Ue=pxfy(Math.max(depx(Oe),depx(He))),Xe=depx(Oe)>depx(He)?Ve:pxfy(depx(Ve)+depx(He)-depx(Oe));return{"--n-bezier":xe,"--n-button-border-radius":nt,"--n-button-box-shadow":fe,"--n-button-color":Se,"--n-button-width":Ae,"--n-button-width-pressed":de,"--n-button-height":He,"--n-height":Ue,"--n-offset":Le,"--n-opacity-disabled":le,"--n-rail-border-radius":Ze,"--n-rail-color":he,"--n-rail-color-active":pe,"--n-rail-height":Oe,"--n-rail-width":Ve,"--n-width":Xe,"--n-box-shadow-focus":Pe,"--n-loading-color":ye,"--n-text-color":we,"--n-icon-color":Ee}}),ie=I?useThemeClass("switch",computed(()=>M.value[0]),re,T):void 0;return{handleClick:Z,handleBlur:ee,handleFocus:Q,handleKeyup:ne,handleKeydown:te,mergedRailStyle:W,pressed:z,mergedClsPrefix:R,mergedValue:U,checked:H,mergedDisabled:L,cssVars:I?void 0:re,themeClass:ie==null?void 0:ie.themeClass,onRender:ie==null?void 0:ie.onRender}},render(){const{mergedClsPrefix:T,mergedDisabled:R,checked:I,mergedRailStyle:$,onRender:N,$slots:M}=this;N==null||N();const{checked:L,unchecked:B,icon:k,"checked-icon":U,"unchecked-icon":H}=M,z=!(isSlotEmpty(k)&&isSlotEmpty(U)&&isSlotEmpty(H));return h$1("div",{role:"switch","aria-checked":I,class:[`${T}-switch`,this.themeClass,z&&`${T}-switch--icon`,I&&`${T}-switch--active`,R&&`${T}-switch--disabled`,this.round&&`${T}-switch--round`,this.loading&&`${T}-switch--loading`,this.pressed&&`${T}-switch--pressed`,this.rubberBand&&`${T}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},h$1("div",{class:`${T}-switch__rail`,"aria-hidden":"true",style:$},resolveWrappedSlot(L,V=>resolveWrappedSlot(B,W=>V||W?h$1("div",{"aria-hidden":!0,class:`${T}-switch__children-placeholder`},h$1("div",{class:`${T}-switch__rail-placeholder`},h$1("div",{class:`${T}-switch__button-placeholder`}),V),h$1("div",{class:`${T}-switch__rail-placeholder`},h$1("div",{class:`${T}-switch__button-placeholder`}),W)):null)),h$1("div",{class:`${T}-switch__button`},resolveWrappedSlot(k,V=>resolveWrappedSlot(U,W=>resolveWrappedSlot(H,K=>h$1(NIconSwitchTransition,null,{default:()=>this.loading?h$1(NBaseLoading,{key:"loading",clsPrefix:T,strokeWidth:20}):this.checked&&(W||V)?h$1("div",{class:`${T}-switch__button-icon`,key:W?"checked-icon":"icon"},W||V):!this.checked&&(K||V)?h$1("div",{class:`${T}-switch__button-icon`,key:K?"unchecked-icon":"icon"},K||V):null})))),resolveWrappedSlot(L,V=>V&&h$1("div",{key:"checked",class:`${T}-switch__checked`},V)),resolveWrappedSlot(B,V=>V&&h$1("div",{key:"unchecked",class:`${T}-switch__unchecked`},V)))))}}),treeSelectInjectionKey="n-tree-select",treeInjectionKey="n-tree",NTreeNodeSwitcher=defineComponent({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,hide:Boolean,loading:Boolean,onClick:Function},setup(T){const{renderSwitcherIconRef:R}=inject(treeInjectionKey,null);return()=>{const{clsPrefix:I}=T;return h$1("span",{"data-switcher":!0,class:[`${I}-tree-node-switcher`,{[`${I}-tree-node-switcher--expanded`]:T.expanded,[`${I}-tree-node-switcher--hide`]:T.hide}],onClick:T.onClick},h$1("div",{class:`${I}-tree-node-switcher__icon`},h$1(NIconSwitchTransition,null,{default:()=>{if(T.loading)return h$1(NBaseLoading,{clsPrefix:I,key:"loading",radius:85,strokeWidth:20});const{value:$}=R;return $?$():h$1(NBaseIcon,{clsPrefix:I,key:"switcher"},{default:()=>h$1(SwitcherIcon,null)})}})))}}}),NTreeNodeCheckbox=defineComponent({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},right:Boolean,focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(T){const R=inject(treeInjectionKey);function I(N){const{onCheck:M}=T;if(M)return M(N)}function $(N){T.indeterminate?I(!1):I(N)}return{handleUpdateValue:$,mergedTheme:R.mergedThemeRef}},render(){const{clsPrefix:T,mergedTheme:R,checked:I,indeterminate:$,disabled:N,focusable:M,handleUpdateValue:L}=this;return h$1("span",{class:[`${T}-tree-node-checkbox`,this.right&&`${T}-tree-node-checkbox--right`],"data-checkbox":!0},h$1(NCheckbox,{focusable:M,disabled:N,theme:R.peers.Checkbox,themeOverrides:R.peerOverrides.Checkbox,checked:I,indeterminate:$,onUpdateChecked:L}))}}),NTreeNodeContent=defineComponent({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(T){const{renderLabelRef:R,renderPrefixRef:I,renderSuffixRef:$,labelFieldRef:N}=inject(treeInjectionKey),M=ref(null);function L(k){const{onClick:U}=T;U&&U(k)}function B(k){L(k)}return{selfRef:M,renderLabel:R,renderPrefix:I,renderSuffix:$,labelField:N,handleClick:B}},render(){const{clsPrefix:T,labelField:R,nodeProps:I,checked:$=!1,selected:N=!1,renderLabel:M,renderPrefix:L,renderSuffix:B,handleClick:k,onDragstart:U,tmNode:{rawNode:H,rawNode:{prefix:z,suffix:V,[R]:W}}}=this;return h$1("span",Object.assign({},I,{ref:"selfRef",class:[`${T}-tree-node-content`,I==null?void 0:I.class],onClick:k,draggable:U===void 0?void 0:!0,onDragstart:U}),L||z?h$1("div",{class:`${T}-tree-node-content__prefix`},L?L({option:H,selected:N,checked:$}):render$4(z)):null,h$1("div",{class:`${T}-tree-node-content__text`},M?M({option:H,selected:N,checked:$}):render$4(W)),B||V?h$1("div",{class:`${T}-tree-node-content__suffix`},B?B({option:H,selected:N,checked:$}):render$4(V)):null)}});function renderDropMark({position:T,offsetLevel:R,indent:I,el:$}){const N={position:"absolute",boxSizing:"border-box",right:0};if(T==="inside")N.left=0,N.top=0,N.bottom=0,N.borderRadius="inherit",N.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const M=T==="before"?"top":"bottom";N[M]=0,N.left=`${$.offsetLeft+6-R*I}px`,N.height="2px",N.backgroundColor="var(--n-drop-mark-color)",N.transformOrigin=M,N.borderRadius="1px",N.transform=T==="before"?"translateY(-4px)":"translateY(4px)"}return h$1("div",{style:N})}function defaultAllowDrop({dropPosition:T,node:R}){return R.isLeaf===!1||R.children?!0:T!=="inside"}const TreeNode=defineComponent({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(T){const R=inject(treeInjectionKey),{droppingNodeParentRef:I,droppingMouseNodeRef:$,draggingNodeRef:N,droppingPositionRef:M,droppingOffsetLevelRef:L,nodePropsRef:B,indentRef:k,blockLineRef:U,checkboxPlacementRef:H,checkOnClickRef:z}=R,V=computed(()=>R.disabledRef.value||T.tmNode.disabled),W=computed(()=>{const{value:ye}=B;if(!!ye)return ye({option:T.tmNode.rawNode})}),K=ref(null),Y={value:null};onMounted(()=>{Y.value=K.value.$el});function q(){const{tmNode:ye}=T;if(!ye.isLeaf&&!ye.shallowLoaded){if(!R.loadingKeysRef.value.has(ye.key))R.loadingKeysRef.value.add(ye.key);else return;const{onLoadRef:{value:we}}=R;we&&we(ye.rawNode).then(()=>{R.handleSwitcherClick(ye)}).finally(()=>{R.loadingKeysRef.value.delete(ye.key)})}else R.handleSwitcherClick(ye)}const Z=useMemo(()=>!T.tmNode.disabled&&R.selectableRef.value&&(R.internalTreeSelect?R.mergedCheckStrategyRef.value!=="child"||R.multipleRef.value&&R.cascadeRef.value||T.tmNode.isLeaf:!0)),Q=useMemo(()=>R.checkableRef.value&&(R.cascadeRef.value||R.mergedCheckStrategyRef.value!=="child"||T.tmNode.isLeaf)),ee=useMemo(()=>R.displayedCheckedKeysRef.value.includes(T.tmNode.key)),ne=useMemo(()=>{const{value:ye}=Q;if(!ye)return!1;const{value:we}=z;return typeof we=="boolean"?we:we(T.tmNode.rawNode)});function te(ye){const{value:we}=R.expandOnClickRef,{value:Ee}=Z,{value:He}=ne;if(!Ee&&!we&&!He||happensIn(ye,"checkbox")||happensIn(ye,"switcher"))return;const{tmNode:Ae}=T;Ee&&R.handleSelect(Ae),we&&!Ae.isLeaf&&q(),He&&se(!ee.value)}function re(ye){var we,Ee;U.value||(V.value||te(ye),(Ee=(we=W.value)===null||we===void 0?void 0:we.onClick)===null||Ee===void 0||Ee.call(we,ye))}function ie(ye){var we,Ee;!U.value||(V.value||te(ye),(Ee=(we=W.value)===null||we===void 0?void 0:we.onClick)===null||Ee===void 0||Ee.call(we,ye))}function se(ye){R.handleCheck(T.tmNode,ye)}function le(ye){R.handleDragStart({event:ye,node:T.tmNode})}function he(ye){ye.currentTarget===ye.target&&R.handleDragEnter({event:ye,node:T.tmNode})}function pe(ye){ye.preventDefault(),R.handleDragOver({event:ye,node:T.tmNode})}function fe(ye){R.handleDragEnd({event:ye,node:T.tmNode})}function Se(ye){ye.currentTarget===ye.target&&R.handleDragLeave({event:ye,node:T.tmNode})}function Pe(ye){ye.preventDefault(),M.value!==null&&R.handleDrop({event:ye,node:T.tmNode,dropPosition:M.value})}return{showDropMark:useMemo(()=>{const{value:ye}=N;if(!ye)return;const{value:we}=M;if(!we)return;const{value:Ee}=$;if(!Ee)return;const{tmNode:He}=T;return He.key===Ee.key}),showDropMarkAsParent:useMemo(()=>{const{value:ye}=I;if(!ye)return!1;const{tmNode:we}=T,{value:Ee}=M;return Ee==="before"||Ee==="after"?ye.key===we.key:!1}),pending:useMemo(()=>R.pendingNodeKeyRef.value===T.tmNode.key),loading:useMemo(()=>R.loadingKeysRef.value.has(T.tmNode.key)),highlight:useMemo(()=>{var ye;return(ye=R.highlightKeySetRef.value)===null||ye===void 0?void 0:ye.has(T.tmNode.key)}),checked:ee,indeterminate:useMemo(()=>R.displayedIndeterminateKeysRef.value.includes(T.tmNode.key)),selected:useMemo(()=>R.mergedSelectedKeysRef.value.includes(T.tmNode.key)),expanded:useMemo(()=>R.mergedExpandedKeysRef.value.includes(T.tmNode.key)),disabled:V,checkable:Q,mergedCheckOnClick:ne,checkboxDisabled:computed(()=>!!T.tmNode.rawNode.checkboxDisabled),selectable:Z,expandOnClick:R.expandOnClickRef,internalScrollable:R.internalScrollableRef,draggable:R.draggableRef,blockLine:U,nodeProps:W,checkboxFocusable:R.internalCheckboxFocusableRef,droppingPosition:M,droppingOffsetLevel:L,indent:k,checkboxPlacement:H,contentInstRef:K,contentElRef:Y,handleCheck:se,handleDrop:Pe,handleDragStart:le,handleDragEnter:he,handleDragOver:pe,handleDragEnd:fe,handleDragLeave:Se,handleLineClick:ie,handleContentClick:re,handleSwitcherClick:q}},render(){const{tmNode:T,clsPrefix:R,checkable:I,expandOnClick:$,selectable:N,selected:M,checked:L,highlight:B,draggable:k,blockLine:U,indent:H,disabled:z,pending:V,internalScrollable:W,nodeProps:K,checkboxPlacement:Y}=this,q=k&&!z?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,Z=W?createDataKey(T.key):void 0,Q=Y==="right",ee=I?h$1(NTreeNodeCheckbox,{right:Q,focusable:this.checkboxFocusable,disabled:z||this.checkboxDisabled,clsPrefix:R,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null;return h$1("div",Object.assign({class:`${R}-tree-node-wrapper`},q),h$1("div",Object.assign({},U?K:void 0,{class:[`${R}-tree-node`,{[`${R}-tree-node--selected`]:M,[`${R}-tree-node--checkable`]:I,[`${R}-tree-node--highlight`]:B,[`${R}-tree-node--pending`]:V,[`${R}-tree-node--disabled`]:z,[`${R}-tree-node--selectable`]:N,[`${R}-tree-node--clickable`]:N||$||this.mergedCheckOnClick},K==null?void 0:K.class],"data-key":Z,draggable:k&&U,onClick:this.handleLineClick,onDragstart:k&&U&&!z?this.handleDragStart:void 0}),repeat(T.level,h$1("div",{class:`${R}-tree-node-indent`},h$1("div",{style:{width:`${H}px`}}))),h$1(NTreeNodeSwitcher,{clsPrefix:R,expanded:this.expanded,loading:this.loading,hide:T.isLeaf,onClick:this.handleSwitcherClick}),Q?null:ee,h$1(NTreeNodeContent,{ref:"contentInstRef",clsPrefix:R,checked:L,selected:M,onClick:this.handleContentClick,nodeProps:U?void 0:K,onDragstart:k&&!U&&!z?this.handleDragStart:void 0,tmNode:T}),k?this.showDropMark?renderDropMark({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:H}):this.showDropMarkAsParent?renderDropMark({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:H}):null:null,Q?ee:null))}}),NTreeNode=TreeNode;function traverse(T,R,I,$){T==null||T.forEach(N=>{I(N),traverse(N[R],R,I,$),$(N)})}function keysWithFilter(T,R,I,$,N){const M=new Set,L=new Set,B=[];return traverse(T,$,k=>{if(B.push(k),N(R,k)){L.add(k[I]);for(let U=B.length-2;U>=0;--U)if(!M.has(B[U][I]))M.add(B[U][I]);else return}},()=>{B.pop()}),{expandedKeys:Array.from(M),highlightKeySet:L}}if(isBrowser$2&&Image){const T=new Image;T.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function filterTree(T,R,I,$,N){const M=new Set,L=new Set,B=new Set,k=[],U=[],H=[];function z(W){W.forEach(K=>{if(H.push(K),R(I,K)){M.add(K[$]),B.add(K[$]);for(let q=H.length-2;q>=0;--q){const Z=H[q][$];if(!L.has(Z))L.add(Z),M.has(Z)&&M.delete(Z);else break}}const Y=K[N];Y&&z(Y),H.pop()})}z(T);function V(W,K){W.forEach(Y=>{const q=Y[$],Z=M.has(q),Q=L.has(q);if(!Z&&!Q)return;const ee=Y[N];if(ee)if(Z)K.push(Y);else{k.push(q);const ne=Object.assign(Object.assign({},Y),{[N]:[]});K.push(ne),V(ee,ne[N])}else K.push(Y)})}return V(T,U),{filteredTree:U,highlightKeySet:B,expandedKeys:k}}function useKeyboard({fNodesRef:T,mergedExpandedKeysRef:R,mergedSelectedKeysRef:I,handleSelect:$,handleSwitcherClick:N}){const{value:M}=I,L=inject(treeSelectInjectionKey,null),B=L?L.pendingNodeKeyRef:ref(M.length?M[M.length-1]:null);function k(U){const{value:H}=B;if(H===null){if((U.key==="ArrowDown"||U.key==="ArrowUp")&&U.preventDefault(),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(U.key)&&H===null){const{value:z}=T;let V=0;for(;V<z.length;){if(!z[V].disabled){B.value=z[V].key;break}V+=1}}}else{const{value:z}=T;let V=z.findIndex(W=>W.key===H);if(!~V)return;if(U.key==="Enter")$(z[V]);else if(U.key==="ArrowDown")for(U.preventDefault(),V+=1;V<z.length;){if(!z[V].disabled){B.value=z[V].key;break}V+=1}else if(U.key==="ArrowUp")for(U.preventDefault(),V-=1;V>=0;){if(!z[V].disabled){B.value=z[V].key;break}V-=1}else if(U.key==="ArrowLeft"){const W=z[V];if(W.isLeaf||!R.value.includes(H)){const K=W.getParent();K&&(B.value=K.key)}else N(W)}else if(U.key==="ArrowRight"){const W=z[V];if(W.isLeaf)return;if(!R.value.includes(H))N(W);else for(V+=1;V<z.length;){if(!z[V].disabled){B.value=z[V].key;break}V+=1}}}}return{pendingNodeKeyRef:B,handleKeydown:k}}const MotionWrapper=defineComponent({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:T}=this;return h$1(NFadeInExpandTransition,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>h$1("div",{class:[`${T}-tree-motion-wrapper`,`${T}-tree-motion-wrapper--${this.mode}`],style:{height:pxfy(this.height)}},this.nodes.map(R=>h$1(NTreeNode,{clsPrefix:T,tmNode:R})))})}}),style=cB("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[c$2("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),c$2(">",[cB("tree-node",[c$2("&:first-child",{marginTop:0})])]),cB("tree-node-indent",`
 flex-grow: 0;
 flex-shrink: 0;
 height: 0;
 `),cB("tree-motion-wrapper",[cM("expand",[fadeInHeightExpandTransition({duration:"0.2s"})]),cM("collapse",[fadeInHeightExpandTransition({duration:"0.2s",reverse:!0})])]),cB("tree-node-wrapper",`
 box-sizing: border-box;
 padding: 3px 0;
 `),cB("tree-node",`
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[cM("highlight",[cB("tree-node-content",[cE("text",{borderBottomColor:"var(--n-node-text-color-disabled)"})])]),cM("disabled",[cB("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),cNotM("disabled",[cM("clickable",[cB("tree-node-content",`
 cursor: pointer;
 `)])])]),cM("block-node",[cB("tree-node-content",`
 flex-grow: 1;
 flex-shrink: 0;
 `)]),cNotM("block-line",[cB("tree-node",[cNotM("disabled",[cB("tree-node-content",[c$2("&:hover",{backgroundColor:"var(--n-node-color-hover)"})]),cM("selectable",[cB("tree-node-content",[c$2("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),cM("pending",[cB("tree-node-content",`
 background-color: var(--n-node-color-hover);
 `)]),cM("selected",[cB("tree-node-content",{backgroundColor:"var(--n-node-color-active)"})])])])]),cM("block-line",[cB("tree-node",[cNotM("disabled",[c$2("&:hover",{backgroundColor:"var(--n-node-color-hover)"}),cM("pending",`
 background-color: var(--n-node-color-hover);
 `),cM("selectable",[cNotM("selected",[c$2("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),cM("selected",{backgroundColor:"var(--n-node-color-active)"})]),cM("disabled",`
 cursor: not-allowed;
 `)])]),cB("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: 24px;
 width: 24px;
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[cE("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[cB("icon",[iconSwitchTransition()]),cB("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[iconSwitchTransition()]),cB("base-icon",[iconSwitchTransition()])]),cM("hide",{visibility:"hidden"}),cM("expanded",{transform:"rotate(90deg)"})]),cB("tree-node-checkbox",`
 display: inline-flex;
 height: 24px;
 width: 16px;
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 margin-right: 4px;
 `,[cM("right","margin-left: 4px;")]),cM("checkable",[cB("tree-node-content",`
 padding: 0 6px;
 `)]),cB("tree-node-content",`
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: 24px;
 box-sizing: border-box;
 line-height: 1.5;
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 text-decoration-color: #0000;
 text-decoration-line: underline;
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[c$2("&:last-child",{marginBottom:0}),cE("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),cE("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow:1;
 `),cE("suffix",`
 display: inline-flex;
 `)]),cE("empty","margin: auto;")]);var __awaiter$2=globalThis&&globalThis.__awaiter||function(T,R,I,$){function N(M){return M instanceof I?M:new I(function(L){L(M)})}return new(I||(I=Promise))(function(M,L){function B(H){try{U($.next(H))}catch(z){L(z)}}function k(H){try{U($.throw(H))}catch(z){L(z)}}function U(H){H.done?M(H.value):N(H.value).then(B,k)}U(($=$.apply(T,R||[])).next())})};const ITEM_SIZE=30;function createTreeMateOptions(T,R){return{getKey(I){return I[T]},getChildren(I){return I[R]},getDisabled(I){return!!(I.disabled||I.checkboxDisabled)}}}const treeSharedProps={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,renderSwitcherIcon:Function,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array]},treeProps=Object.assign(Object.assign(Object.assign(Object.assign({},useTheme.props),{accordion:Boolean,showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},expandOnClick:Boolean,checkOnClick:{type:[Boolean,Function],default:!1},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},indent:{type:Number,default:16},allowDrop:{type:Function,default:defaultAllowDrop},animated:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),treeSharedProps),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean}),__unplugin_components_0$2=defineComponent({name:"Tree",props:treeProps,setup(T){const{mergedClsPrefixRef:R,inlineThemeDisabled:I,mergedRtlRef:$}=useConfig(T),N=useRtl("Tree",$,R),M=useTheme("Tree","-tree",style,treeLight$1,T,R),L=ref(null),B=ref(null),k=ref(null);function U(){var ve;return(ve=k.value)===null||ve===void 0?void 0:ve.listElRef}function H(){var ve;return(ve=k.value)===null||ve===void 0?void 0:ve.itemsElRef}const z=computed(()=>{const{pattern:ve}=T;return ve?!ve.length||!Ye.value?{filteredTree:T.data,highlightKeySet:null,expandedKeys:void 0}:filterTree(T.data,Ye.value,ve,T.keyField,T.childrenField):{filteredTree:T.data,highlightKeySet:null,expandedKeys:void 0}}),V=computed(()=>createTreeMate(T.showIrrelevantNodes?T.data:z.value.filteredTree,createTreeMateOptions(T.keyField,T.childrenField))),W=inject(treeSelectInjectionKey,null),K=T.internalTreeSelect?W.dataTreeMate:V,{watchProps:Y}=T,q=ref([]);Y!=null&&Y.includes("defaultCheckedKeys")?watchEffect(()=>{q.value=T.defaultCheckedKeys}):q.value=T.defaultCheckedKeys;const Z=toRef(T,"checkedKeys"),Q=useMergedState(Z,q),ee=computed(()=>K.value.getCheckedKeys(Q.value,{cascade:T.cascade,allowNotLoaded:T.allowCheckingNotLoaded})),ne=computed(()=>T.leafOnly?"child":T.checkStrategy),te=computed(()=>ee.value.checkedKeys),re=computed(()=>{const{indeterminateKeys:ve}=T;return ve!==void 0?ve:ee.value.indeterminateKeys}),ie=ref([]);Y!=null&&Y.includes("defaultSelectedKeys")?watchEffect(()=>{ie.value=T.defaultSelectedKeys}):ie.value=T.defaultSelectedKeys;const se=toRef(T,"selectedKeys"),le=useMergedState(se,ie),he=ref([]),pe=ve=>{he.value=T.defaultExpandAll?K.value.getNonLeafKeys():ve===void 0?T.defaultExpandedKeys:ve};Y!=null&&Y.includes("defaultExpandedKeys")?watchEffect(()=>pe(void 0)):watchEffect(()=>pe(T.defaultExpandedKeys));const fe=toRef(T,"expandedKeys"),Se=useMergedState(fe,he),Pe=computed(()=>V.value.getFlattenedNodes(Se.value)),{pendingNodeKeyRef:ye,handleKeydown:we}=useKeyboard({mergedSelectedKeysRef:le,fNodesRef:Pe,mergedExpandedKeysRef:Se,handleSelect:rt,handleSwitcherClick:Ge});let Ee=null,He=null;const Ae=ref(new Set),de=computed(()=>T.internalHighlightKeySet||z.value.highlightKeySet),Oe=useMergedState(de,Ae),Ve=ref(new Set),Ze=computed(()=>Se.value.filter(ve=>!Ve.value.has(ve)));let nt=0;const xe=ref(null),Le=ref(null),Ue=ref(null),Xe=ref(null),je=ref(0),st=computed(()=>{const{value:ve}=Le;return ve?ve.parent:null}),Ye=computed(()=>{const{filter:ve}=T;if(ve)return ve;const{labelField:De}=T;return(it,at)=>{if(!it.length)return!0;const ct=at[De];return typeof ct=="string"?ct.toLowerCase().includes(it.toLowerCase()):!1}});watch(toRef(T,"data"),()=>{Ve.value.clear(),ye.value=null,Mt()},{deep:!1});let Qe;watch(toRef(T,"pattern"),(ve,De)=>{if(T.showIrrelevantNodes)if(Qe=void 0,ve){const{expandedKeys:it,highlightKeySet:at}=keysWithFilter(T.data,T.pattern,T.keyField,T.childrenField,Ye.value);Ae.value=at,Te(it,Fe(it))}else Ae.value=new Set;else if(!ve.length)Qe!==void 0&&Te(Qe,Fe(Qe));else{De.length||(Qe=Se.value);const{expandedKeys:it}=z.value;it!==void 0&&Te(it,Fe(it))}});function ce(ve){return __awaiter$2(this,void 0,void 0,function*(){const{onLoad:De}=T;if(!De)return yield Promise.resolve();const{value:it}=Ve;return yield new Promise(at=>{it.has(ve.key)||(it.add(ve.key),De(ve.rawNode).then(()=>{it.delete(ve.key),at()}).catch(ct=>{console.error(ct),Dt()}))})})}watchEffect(()=>{var ve;const{value:De}=V;if(!De)return;const{getNode:it}=De;(ve=Se.value)===null||ve===void 0||ve.forEach(at=>{const ct=it(at);ct&&!ct.shallowLoaded&&ce(ct)})});const ge=ref(!1),Re=ref([]);watch(Ze,(ve,De)=>{if(!T.animated){nextTick(Be);return}const it=new Set(De);let at=null,ct=null;for(const Ht of ve)if(!it.has(Ht)){if(at!==null)return;at=Ht}const Ut=new Set(ve);for(const Ht of De)if(!Ut.has(Ht)){if(ct!==null)return;ct=Ht}if(at===null&&ct===null)return;const{virtualScroll:Ft}=T,Qt=(Ft?k.value.listElRef:L.value).offsetHeight,cn=Math.ceil(Qt/ITEM_SIZE)+1;let en;if(at!==null&&(en=De),ct!==null&&(en===void 0?en=ve:en=en.filter(Ht=>Ht!==ct)),ge.value=!0,Re.value=V.value.getFlattenedNodes(en),at!==null){const Ht=Re.value.findIndex(Yt=>Yt.key===at);if(~Ht){const Yt=Re.value[Ht].children;if(Yt){const bn=flatten(Yt,ve);Re.value.splice(Ht+1,0,{__motion:!0,mode:"expand",height:Ft?bn.length*ITEM_SIZE:void 0,nodes:Ft?bn.slice(0,cn):bn})}}}if(ct!==null){const Ht=Re.value.findIndex(Yt=>Yt.key===ct);if(~Ht){const Yt=Re.value[Ht].children;if(!Yt)return;ge.value=!0;const bn=flatten(Yt,ve);Re.value.splice(Ht+1,0,{__motion:!0,mode:"collapse",height:Ft?bn.length*ITEM_SIZE:void 0,nodes:Ft?bn.slice(0,cn):bn})}}});const ke=computed(()=>createIndexGetter(Pe.value)),be=computed(()=>ge.value?Re.value:Pe.value);function Be(){const{value:ve}=B;ve&&ve.sync()}function We(){ge.value=!1,T.virtualScroll&&nextTick(Be)}function Fe(ve){const{getNode:De}=K.value;return ve.map(it=>{var at;return((at=De(it))===null||at===void 0?void 0:at.rawNode)||null})}function Te(ve,De){const{"onUpdate:expandedKeys":it,onUpdateExpandedKeys:at}=T;he.value=ve,it&&call(it,ve,De),at&&call(at,ve,De)}function Ie(ve,De){const{"onUpdate:checkedKeys":it,onUpdateCheckedKeys:at}=T;q.value=ve,at&&call(at,ve,De),it&&call(it,ve,De)}function tt(ve,De){const{"onUpdate:indeterminateKeys":it,onUpdateIndeterminateKeys:at}=T;it&&call(it,ve,De),at&&call(at,ve,De)}function ot(ve,De){const{"onUpdate:selectedKeys":it,onUpdateSelectedKeys:at}=T;ie.value=ve,at&&call(at,ve,De),it&&call(it,ve,De)}function lt(ve){const{onDragenter:De}=T;De&&call(De,ve)}function ft(ve){const{onDragleave:De}=T;De&&call(De,ve)}function mt(ve){const{onDragend:De}=T;De&&call(De,ve)}function wt(ve){const{onDragstart:De}=T;De&&call(De,ve)}function St(ve){const{onDragover:De}=T;De&&call(De,ve)}function Rt(ve){const{onDrop:De}=T;De&&call(De,ve)}function Mt(){rn(),Xt()}function rn(){xe.value=null}function Xt(){je.value=0,Le.value=null,Ue.value=null,Xe.value=null,Dt()}function Dt(){Ee&&(window.clearTimeout(Ee),Ee=null),He=null}function Kt(ve,De){if(T.disabled||ve.disabled)return;if(T.internalUnifySelectCheck&&!T.multiple){rt(ve);return}const{checkedKeys:it,indeterminateKeys:at}=K.value[De?"check":"uncheck"](ve.key,te.value,{cascade:T.cascade,checkStrategy:ne.value,allowNotLoaded:T.allowCheckingNotLoaded});Ie(it,Fe(it)),tt(at,Fe(at))}function _e(ve){if(T.disabled)return;const{key:De}=ve,{value:it}=Se,at=it.findIndex(ct=>ct===De);if(~at){const ct=Array.from(it);ct.splice(at,1),Te(ct,Fe(ct))}else{const ct=V.value.getNode(De);if(!ct||ct.isLeaf)return;let Ut;if(T.accordion){const Ft=new Set(ve.siblings.map(({key:Qt})=>Qt));Ut=it.filter(Qt=>!Ft.has(Qt)),Ut.push(De)}else Ut=it.concat(De);Te(Ut,Fe(Ut))}}function Ge(ve){T.disabled||ge.value||_e(ve)}function rt(ve){if(!(T.disabled||!T.selectable)){if(ye.value=ve.key,T.internalUnifySelectCheck){const{value:{checkedKeys:De,indeterminateKeys:it}}=ee;T.multiple?Kt(ve,!(De.includes(ve.key)||it.includes(ve.key))):Ie([ve.key],Fe([ve.key]))}if(T.multiple){const De=Array.from(le.value),it=De.findIndex(at=>at===ve.key);~it?T.cancelable&&De.splice(it,1):~it||De.push(ve.key),ot(De,Fe(De))}else le.value.includes(ve.key)?T.cancelable&&ot([],[]):ot([ve.key],Fe([ve.key]))}}function dt(ve){if(Ee&&(window.clearTimeout(Ee),Ee=null),ve.isLeaf)return;He=ve.key;const De=()=>{if(He!==ve.key)return;const{value:it}=Ue;if(it&&it.key===ve.key&&!Se.value.includes(ve.key)){const at=Se.value.concat(ve.key);Te(at,Fe(at))}Ee=null,He=null};ve.shallowLoaded?Ee=window.setTimeout(()=>{De()},1e3):Ee=window.setTimeout(()=>{ce(ve).then(()=>{De()})},1e3)}function pt({event:ve,node:De}){!T.draggable||T.disabled||De.disabled||(fn({event:ve,node:De},!1),lt({event:ve,node:De.rawNode}))}function gt({event:ve,node:De}){!T.draggable||T.disabled||De.disabled||ft({event:ve,node:De.rawNode})}function yt(ve){ve.target===ve.currentTarget&&Xt()}function Tt({event:ve,node:De}){Mt(),!(!T.draggable||T.disabled||De.disabled)&&mt({event:ve,node:De.rawNode})}function Jt({event:ve,node:De}){!T.draggable||T.disabled||De.disabled||(nt=ve.clientX,xe.value=De,wt({event:ve,node:De.rawNode}))}function fn({event:ve,node:De},it=!0){var at;if(!T.draggable||T.disabled||De.disabled)return;const{value:ct}=xe;if(!ct)return;const{allowDrop:Ut,indent:Ft}=T;it&&St({event:ve,node:De.rawNode});const Qt=ve.currentTarget,{height:cn,top:en}=Qt.getBoundingClientRect(),Ht=ve.clientY-en;let Yt;Ut({node:De.rawNode,dropPosition:"inside",phase:"drag"})?Ht<=8?Yt="before":Ht>=cn-8?Yt="after":Yt="inside":Ht<=cn/2?Yt="before":Yt="after";const{value:yr}=ke;let Bt,ln;const jn=yr(De.key);if(jn===null){Xt();return}let Ar=!1;Yt==="inside"?(Bt=De,ln="inside"):Yt==="before"?De.isFirstChild?(Bt=De,ln="before"):(Bt=Pe.value[jn-1],ln="after"):(Bt=De,ln="after"),!Bt.isLeaf&&Se.value.includes(Bt.key)&&(Ar=!0,ln==="after"&&(Bt=Pe.value[jn+1],Bt?ln="before":(Bt=De,ln="inside")));const Yn=Bt;if(Ue.value=Yn,!Ar&&ct.isLastChild&&ct.key===Bt.key&&(ln="after"),ln==="after"){let Ir=nt-ve.clientX,_r=0;for(;Ir>=Ft/2&&Bt.parent!==null&&Bt.isLastChild&&_r<1;)Ir-=Ft,_r+=1,Bt=Bt.parent;je.value=_r}else je.value=0;if((ct.contains(Bt)||ln==="inside"&&((at=ct.parent)===null||at===void 0?void 0:at.key)===Bt.key)&&!(ct.key===Yn.key&&ct.key===Bt.key)){Xt();return}if(!Ut({node:Bt.rawNode,dropPosition:ln,phase:"drag"})){Xt();return}if(ct.key===Bt.key)Dt();else if(He!==Bt.key)if(ln==="inside"){if(T.expandOnDragenter){if(dt(Bt),!Bt.shallowLoaded&&He!==Bt.key){Mt();return}}else if(!Bt.shallowLoaded){Mt();return}}else Dt();else ln!=="inside"&&Dt();Xe.value=ln,Le.value=Bt}function Vn({event:ve,node:De,dropPosition:it}){if(!T.draggable||T.disabled||De.disabled)return;const{value:at}=xe,{value:ct}=Le,{value:Ut}=Xe;if(!(!at||!ct||!Ut)&&!!T.allowDrop({node:ct.rawNode,dropPosition:Ut,phase:"drag"})&&at.key!==ct.key){if(Ut==="before"){const Ft=at.getNext({includeDisabled:!0});if(Ft&&Ft.key===ct.key){Xt();return}}if(Ut==="after"){const Ft=at.getPrev({includeDisabled:!0});if(Ft&&Ft.key===ct.key){Xt();return}}Rt({event:ve,node:ct.rawNode,dragNode:at.rawNode,dropPosition:it}),Mt()}}function Dn(){Be()}function gr(){Be()}function mr(ve){var De;if(T.virtualScroll||T.internalScrollable){const{value:it}=B;if(!((De=it==null?void 0:it.containerRef)===null||De===void 0)&&De.contains(ve.relatedTarget))return;ye.value=null}else{const{value:it}=L;if(it!=null&&it.contains(ve.relatedTarget))return;ye.value=null}}watch(ye,ve=>{var De,it;if(ve!==null){if(T.virtualScroll)(De=k.value)===null||De===void 0||De.scrollTo({key:ve});else if(T.internalScrollable){const{value:at}=B;if(at===null)return;const ct=(it=at.contentRef)===null||it===void 0?void 0:it.querySelector(`[data-key="${createDataKey(ve)}"]`);if(!ct)return;at.scrollTo({el:ct})}}}),provide(treeInjectionKey,{loadingKeysRef:Ve,highlightKeySetRef:Oe,displayedCheckedKeysRef:te,displayedIndeterminateKeysRef:re,mergedSelectedKeysRef:le,mergedExpandedKeysRef:Se,mergedThemeRef:M,mergedCheckStrategyRef:ne,nodePropsRef:toRef(T,"nodeProps"),disabledRef:toRef(T,"disabled"),checkableRef:toRef(T,"checkable"),selectableRef:toRef(T,"selectable"),expandOnClickRef:toRef(T,"expandOnClick"),onLoadRef:toRef(T,"onLoad"),draggableRef:toRef(T,"draggable"),blockLineRef:toRef(T,"blockLine"),indentRef:toRef(T,"indent"),cascadeRef:toRef(T,"cascade"),checkOnClickRef:toRef(T,"checkOnClick"),checkboxPlacementRef:T.checkboxPlacement,droppingMouseNodeRef:Ue,droppingNodeParentRef:st,draggingNodeRef:xe,droppingPositionRef:Xe,droppingOffsetLevelRef:je,fNodesRef:Pe,pendingNodeKeyRef:ye,internalScrollableRef:toRef(T,"internalScrollable"),internalCheckboxFocusableRef:toRef(T,"internalCheckboxFocusable"),internalTreeSelect:T.internalTreeSelect,renderLabelRef:toRef(T,"renderLabel"),renderPrefixRef:toRef(T,"renderPrefix"),renderSuffixRef:toRef(T,"renderSuffix"),renderSwitcherIconRef:toRef(T,"renderSwitcherIcon"),labelFieldRef:toRef(T,"labelField"),multipleRef:toRef(T,"multiple"),handleSwitcherClick:Ge,handleDragEnd:Tt,handleDragEnter:pt,handleDragLeave:gt,handleDragStart:Jt,handleDrop:Vn,handleDragOver:fn,handleSelect:rt,handleCheck:Kt});const or={handleKeydown:we},gn=computed(()=>{const{common:{cubicBezierEaseInOut:ve},self:{fontSize:De,nodeBorderRadius:it,nodeColorHover:at,nodeColorPressed:ct,nodeColorActive:Ut,arrowColor:Ft,loadingColor:Qt,nodeTextColor:cn,nodeTextColorDisabled:en,dropMarkColor:Ht}}=M.value;return{"--n-arrow-color":Ft,"--n-loading-color":Qt,"--n-bezier":ve,"--n-font-size":De,"--n-node-border-radius":it,"--n-node-color-active":Ut,"--n-node-color-hover":at,"--n-node-color-pressed":ct,"--n-node-text-color":cn,"--n-node-text-color-disabled":en,"--n-drop-mark-color":Ht}}),Ne=I?useThemeClass("tree",void 0,gn,T):void 0;return{mergedClsPrefix:R,mergedTheme:M,rtlEnabled:N,fNodes:be,aip:ge,selfElRef:L,virtualListInstRef:k,scrollbarInstRef:B,handleFocusout:mr,handleDragLeaveTree:yt,handleScroll:Dn,getScrollContainer:U,getScrollContent:H,handleAfterEnter:We,handleResize:gr,handleKeydown:or.handleKeydown,cssVars:I?void 0:gn,themeClass:Ne==null?void 0:Ne.themeClass,onRender:Ne==null?void 0:Ne.onRender}},render(){var T;const{fNodes:R,internalRenderEmpty:I}=this;if(!R.length&&I)return I();const{mergedClsPrefix:$,blockNode:N,blockLine:M,draggable:L,disabled:B,internalFocusable:k,checkable:U,handleKeydown:H,rtlEnabled:z,handleFocusout:V}=this,W=k&&!B,K=W?"0":void 0,Y=[`${$}-tree`,z&&`${$}-tree--rtl`,U&&`${$}-tree--checkable`,(M||N)&&`${$}-tree--block-node`,M&&`${$}-tree--block-line`],q=Q=>"__motion"in Q?h$1(MotionWrapper,{height:Q.height,nodes:Q.nodes,clsPrefix:$,mode:Q.mode,onAfterEnter:this.handleAfterEnter}):h$1(NTreeNode,{key:Q.key,tmNode:Q,clsPrefix:$});if(this.virtualScroll){const{mergedTheme:Q,internalScrollablePadding:ee}=this,ne=getMargin(ee||"0");return h$1(XScrollbar,{ref:"scrollbarInstRef",onDragleave:L?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:Y,theme:Q.peers.Scrollbar,themeOverrides:Q.peerOverrides.Scrollbar,tabindex:K,onKeydown:W?H:void 0,onFocusout:W?V:void 0},{default:()=>{var te;return(te=this.onRender)===null||te===void 0||te.call(this),h$1(VVirtualList,{ref:"virtualListInstRef",items:this.fNodes,itemSize:ITEM_SIZE,ignoreItemResize:this.aip,paddingTop:ne.top,paddingBottom:ne.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:ne.left,paddingRight:ne.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:re})=>q(re)})}})}const{internalScrollable:Z}=this;return Y.push(this.themeClass),(T=this.onRender)===null||T===void 0||T.call(this),Z?h$1(XScrollbar,{class:Y,tabindex:K,onKeydown:W?H:void 0,onFocusout:W?V:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}},{default:()=>h$1("div",{onDragleave:L?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(q))}):h$1("div",{class:Y,tabindex:K,ref:"selfElRef",style:this.cssVars,onKeydown:W?H:void 0,onFocusout:W?V:void 0,onDragleave:L?this.handleDragLeaveTree:void 0},R.length?R.map(q):resolveSlot(this.$slots.empty,()=>{var Q,ee,ne,te;return[h$1(NEmpty,{class:`${$}-tree__empty`,theme:(ee=(Q=this.theme)===null||Q===void 0?void 0:Q.peers)===null||ee===void 0?void 0:ee.Empty,themeOverrides:(te=(ne=this.themeOverrides)===null||ne===void 0?void 0:ne.peers)===null||te===void 0?void 0:te.Empty})]}))}}),_hoisted_1$9={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$5=createBaseVNode("path",{fill:"currentColor",d:"M24 8v16H8V8h16m0-2H8a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2Z"},null,-1),_hoisted_3$4=[_hoisted_2$5];function render$2(T,R){return openBlock(),createElementBlock("svg",_hoisted_1$9,_hoisted_3$4)}const __unplugin_components_1={name:"carbon-stop",render:render$2},_hoisted_1$8={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$4=createBaseVNode("path",{fill:"currentColor",d:"M7 28a1 1 0 0 1-1-1V5a1 1 0 0 1 1.482-.876l20 11a1 1 0 0 1 0 1.752l-20 11A1 1 0 0 1 7 28ZM8 6.69v18.62L24.925 16Z"},null,-1),_hoisted_3$3=[_hoisted_2$4];function render$1(T,R){return openBlock(),createElementBlock("svg",_hoisted_1$8,_hoisted_3$3)}const __unplugin_components_0$1={name:"carbon-play",render:render$1};/*!
 * @pixi/sound - v4.3.0
 * https://github.com/pixijs/pixi-sound
 * Compiled Fri, 05 Aug 2022 20:12:47 UTC
 *
 * @pixi/sound is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */var r;function s(){return r}var u=function(T,R){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var N in $)Object.prototype.hasOwnProperty.call($,N)&&(I[N]=$[N])})(T,R)};function a(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function I(){this.constructor=T}u(T,R),T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var c=function(){return(c=Object.assign||function(T){for(var R,I=1,$=arguments.length;I<$;I++)for(var N in R=arguments[I])Object.prototype.hasOwnProperty.call(R,N)&&(T[N]=R[N]);return T}).apply(this,arguments)},l=["mp3","ogg","oga","opus","mpeg","wav","m4a","aiff","wma","mid","caf"],p={};function h(T){var R=c({m4a:"audio/mp4",oga:"audio/ogg",opus:'audio/ogg; codecs="opus"',caf:'audio/x-caf; codecs="opus"'},T||{}),I=document.createElement("audio"),$={},N=/^no$/;l.forEach(function(M){var L=I.canPlayType("audio/".concat(M)).replace(N,""),B=R[M]?I.canPlayType(R[M]).replace(N,""):"";$[M]=!!L||!!B}),Object.assign(p,$)}h();var f=/\.(\{([^\}]+)\})(\?.*)?$/;function d(T){var R=f,I=typeof T=="string"?T:T.url;if(!R.test(I))return I;for(var $=R.exec(I),N=$[2].split(","),M=N[N.length-1],L=0,B=N.length;L<B;L++){var k=N[L];if(p[k]){M=k;break}}var U=I.replace($[1],M);if(typeof T!="string"){var H=T;H.extension=M,H.url=U}return U}var _=function(){function T(){}return T.add=function(){T.setLegacy(s().useLegacy)},T.setLegacy=function(R){var I=l;R?I.forEach(function($){LoaderResource.setExtensionXhrType($,LoaderResource.XHR_RESPONSE_TYPE.DEFAULT),LoaderResource.setExtensionLoadType($,LoaderResource.LOAD_TYPE.AUDIO)}):I.forEach(function($){LoaderResource.setExtensionXhrType($,LoaderResource.XHR_RESPONSE_TYPE.BUFFER),LoaderResource.setExtensionLoadType($,LoaderResource.LOAD_TYPE.XHR)})},T.pre=function(R,I){d(R),I()},T.use=function(R,I){R.data&&l.indexOf(R.extension)>-1?R.sound=s().add(R.name,{loaded:I,preload:!0,url:R.url,source:R.data}):I()},T}(),y=0,m=function(T){function R(I){var $=T.call(this)||this;return $.id=y++,$.init(I),$}return a(R,T),R.prototype.set=function(I,$){if(this[I]===void 0)throw new Error("Property with name ".concat(I," does not exist."));switch(I){case"speed":this.speed=$;break;case"volume":this.volume=$;break;case"paused":this.paused=$;break;case"loop":this.loop=$;break;case"muted":this.muted=$}return this},Object.defineProperty(R.prototype,"progress",{get:function(){return this._source.currentTime/this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"paused",{get:function(){return this._paused},set:function(I){this._paused=I,this.refreshPaused()},enumerable:!1,configurable:!0}),R.prototype._onPlay=function(){this._playing=!0},R.prototype._onPause=function(){this._playing=!1},R.prototype.init=function(I){this._playing=!1,this._duration=I.source.duration;var $=this._source=I.source.cloneNode(!1);$.src=I.parent.url,$.onplay=this._onPlay.bind(this),$.onpause=this._onPause.bind(this),I.context.on("refresh",this.refresh,this),I.context.on("refreshPaused",this.refreshPaused,this),this._media=I},R.prototype._internalStop=function(){this._source&&this._playing&&(this._source.onended=null,this._source.pause())},R.prototype.stop=function(){this._internalStop(),this._source&&this.emit("stop")},Object.defineProperty(R.prototype,"speed",{get:function(){return this._speed},set:function(I){this._speed=I,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"volume",{get:function(){return this._volume},set:function(I){this._volume=I,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"loop",{get:function(){return this._loop},set:function(I){this._loop=I,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"muted",{get:function(){return this._muted},set:function(I){this._muted=I,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"filters",{get:function(){return null},set:function(I){},enumerable:!1,configurable:!0}),R.prototype.refresh=function(){var I=this._media.context,$=this._media.parent;this._source.loop=this._loop||$.loop;var N=I.volume*(I.muted?0:1),M=$.volume*($.muted?0:1),L=this._volume*(this._muted?0:1);this._source.volume=L*N*M,this._source.playbackRate=this._speed*I.speed*$.speed},R.prototype.refreshPaused=function(){var I=this._media.context,$=this._media.parent,N=this._paused||$.paused||I.paused;N!==this._pausedReal&&(this._pausedReal=N,N?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._source.currentTime,end:this._end,volume:this._volume,speed:this._speed,loop:this._loop})),this.emit("pause",N))},R.prototype.play=function(I){var $=this,N=I.start,M=I.end,L=I.speed,B=I.loop,k=I.volume,U=I.muted;this._speed=L,this._volume=k,this._loop=!!B,this._muted=U,this.refresh(),this.loop&&M!==null&&(this.loop=!1),this._start=N,this._end=M||this._duration,this._start=Math.max(0,this._start-R.PADDING),this._end=Math.min(this._end+R.PADDING,this._duration),this._source.onloadedmetadata=function(){$._source&&($._source.currentTime=N,$._source.onloadedmetadata=null,$.emit("progress",N,$._duration),Ticker.shared.add($._onUpdate,$))},this._source.onended=this._onComplete.bind(this),this._source.play(),this.emit("start")},R.prototype._onUpdate=function(){this.emit("progress",this.progress,this._duration),this._source.currentTime>=this._end&&!this._source.loop&&this._onComplete()},R.prototype._onComplete=function(){Ticker.shared.remove(this._onUpdate,this),this._internalStop(),this.emit("progress",1,this._duration),this.emit("end",this)},R.prototype.destroy=function(){Ticker.shared.remove(this._onUpdate,this),this.removeAllListeners();var I=this._source;I&&(I.onended=null,I.onplay=null,I.onpause=null,this._internalStop()),this._source=null,this._speed=1,this._volume=1,this._loop=!1,this._end=null,this._start=0,this._duration=0,this._playing=!1,this._pausedReal=!1,this._paused=!1,this._muted=!1,this._media&&(this._media.context.off("refresh",this.refresh,this),this._media.context.off("refreshPaused",this.refreshPaused,this),this._media=null)},R.prototype.toString=function(){return"[HTMLAudioInstance id=".concat(this.id,"]")},R.PADDING=.1,R}(n$1),g=function(T){function R(){return T!==null&&T.apply(this,arguments)||this}return a(R,T),R.prototype.init=function(I){this.parent=I,this._source=I.options.source||new Audio,I.url&&(this._source.src=I.url)},R.prototype.create=function(){return new m(this)},Object.defineProperty(R.prototype,"isPlayable",{get:function(){return!!this._source&&this._source.readyState===4},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"duration",{get:function(){return this._source.duration},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"context",{get:function(){return this.parent.context},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"filters",{get:function(){return null},set:function(I){},enumerable:!1,configurable:!0}),R.prototype.destroy=function(){this.removeAllListeners(),this.parent=null,this._source&&(this._source.src="",this._source.load(),this._source=null)},Object.defineProperty(R.prototype,"source",{get:function(){return this._source},enumerable:!1,configurable:!0}),R.prototype.load=function(I){var $=this._source,N=this.parent;if($.readyState!==4)if(N.url){$.src=N.url;var M=function(){k(),N.isLoaded=!0;var H=N.autoPlayStart();I&&I(null,N,H)},L=function(){k(),I&&I(new Error("Sound loading has been aborted"))},B=function(){k();var H="Failed to load audio element (code: ".concat($.error.code,")");I&&I(new Error(H))},k=function(){$.removeEventListener("canplaythrough",M),$.removeEventListener("load",M),$.removeEventListener("abort",L),$.removeEventListener("error",B)};$.addEventListener("canplaythrough",M,!1),$.addEventListener("load",M,!1),$.addEventListener("abort",L,!1),$.addEventListener("error",B,!1),$.load()}else I(new Error("sound.url or sound.source must be set"));else{N.isLoaded=!0;var U=N.autoPlayStart();I&&setTimeout(function(){I(null,N,U)},0)}},R}(n$1),b=function(){function T(R,I){this.parent=R,Object.assign(this,I),this.duration=this.end-this.start}return T.prototype.play=function(R){return this.parent.play({complete:R,speed:this.speed||this.parent.speed,end:this.end,start:this.start,loop:this.loop})},T.prototype.destroy=function(){this.parent=null},T}(),v=function(){function T(){}return T.setParamValue=function(R,I){if(R.setValueAtTime){var $=s().context;R.setValueAtTime(I,$.audioContext.currentTime)}else R.value=I;return I},T}(),P=0,x=function(T){function R(I){var $=T.call(this)||this;return $.id=P++,$._media=null,$._paused=!1,$._muted=!1,$._elapsed=0,$.init(I),$}return a(R,T),R.prototype.set=function(I,$){if(this[I]===void 0)throw new Error("Property with name ".concat(I," does not exist."));switch(I){case"speed":this.speed=$;break;case"volume":this.volume=$;break;case"muted":this.muted=$;break;case"loop":this.loop=$;break;case"paused":this.paused=$}return this},R.prototype.stop=function(){this._source&&(this._internalStop(),this.emit("stop"))},Object.defineProperty(R.prototype,"speed",{get:function(){return this._speed},set:function(I){this._speed=I,this.refresh(),this._update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"volume",{get:function(){return this._volume},set:function(I){this._volume=I,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"muted",{get:function(){return this._muted},set:function(I){this._muted=I,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"loop",{get:function(){return this._loop},set:function(I){this._loop=I,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"filters",{get:function(){return this._filters},set:function(I){var $;this._filters&&(($=this._filters)===null||$===void 0||$.filter(function(N){return N}).forEach(function(N){return N.disconnect()}),this._filters=null,this._source.connect(this._gain)),this._filters=I!=null&&I.length?I.slice(0):null,this.refresh()},enumerable:!1,configurable:!0}),R.prototype.refresh=function(){if(this._source){var I=this._media.context,$=this._media.parent;this._source.loop=this._loop||$.loop;var N=I.volume*(I.muted?0:1),M=$.volume*($.muted?0:1),L=this._volume*(this._muted?0:1);v.setParamValue(this._gain.gain,L*M*N),v.setParamValue(this._source.playbackRate,this._speed*$.speed*I.speed),this.applyFilters()}},R.prototype.applyFilters=function(){var I;if(!((I=this._filters)===null||I===void 0)&&I.length){this._source.disconnect();var $=this._source;this._filters.forEach(function(N){$.connect(N.destination),$=N}),$.connect(this._gain)}},R.prototype.refreshPaused=function(){var I=this._media.context,$=this._media.parent,N=this._paused||$.paused||I.paused;N!==this._pausedReal&&(this._pausedReal=N,N?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._elapsed%this._duration,end:this._end,speed:this._speed,loop:this._loop,volume:this._volume})),this.emit("pause",N))},R.prototype.play=function(I){var $=I.start,N=I.end,M=I.speed,L=I.loop,B=I.volume,k=I.muted,U=I.filters;this._paused=!1;var H=this._media.nodes.cloneBufferSource(),z=H.source,V=H.gain;this._source=z,this._gain=V,this._speed=M,this._volume=B,this._loop=!!L,this._muted=k,this._filters=U,this.refresh();var W=this._source.buffer.duration;this._duration=W,this._end=N,this._lastUpdate=this._now(),this._elapsed=$,this._source.onended=this._onComplete.bind(this),this._loop?(this._source.loopEnd=N,this._source.loopStart=$,this._source.start(0,$)):N?this._source.start(0,$,N-$):this._source.start(0,$),this.emit("start"),this._update(!0),this.enableTicker(!0)},R.prototype.enableTicker=function(I){Ticker.shared.remove(this._updateListener,this),I&&Ticker.shared.add(this._updateListener,this)},Object.defineProperty(R.prototype,"progress",{get:function(){return this._progress},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"paused",{get:function(){return this._paused},set:function(I){this._paused=I,this.refreshPaused()},enumerable:!1,configurable:!0}),R.prototype.destroy=function(){var I;this.removeAllListeners(),this._internalStop(),this._gain&&(this._gain.disconnect(),this._gain=null),this._media&&(this._media.context.events.off("refresh",this.refresh,this),this._media.context.events.off("refreshPaused",this.refreshPaused,this),this._media=null),(I=this._filters)===null||I===void 0||I.forEach(function($){return $.disconnect()}),this._filters=null,this._end=null,this._speed=1,this._volume=1,this._loop=!1,this._elapsed=0,this._duration=0,this._paused=!1,this._muted=!1,this._pausedReal=!1},R.prototype.toString=function(){return"[WebAudioInstance id=".concat(this.id,"]")},R.prototype._now=function(){return this._media.context.audioContext.currentTime},R.prototype._updateListener=function(){this._update()},R.prototype._update=function(I){if(I===void 0&&(I=!1),this._source){var $=this._now(),N=$-this._lastUpdate;if(N>0||I){var M=this._source.playbackRate.value;this._elapsed+=N*M,this._lastUpdate=$;var L=this._duration,B=void 0;if(this._source.loopStart){var k=this._source.loopEnd-this._source.loopStart;B=(this._source.loopStart+this._elapsed%k)/L}else B=this._elapsed%L/L;this._progress=B,this.emit("progress",this._progress,L)}}},R.prototype.init=function(I){this._media=I,I.context.events.on("refresh",this.refresh,this),I.context.events.on("refreshPaused",this.refreshPaused,this)},R.prototype._internalStop=function(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.stop(0),this._source.disconnect();try{this._source.buffer=null}catch{}this._source=null}},R.prototype._onComplete=function(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.disconnect();try{this._source.buffer=null}catch{}}this._source=null,this._progress=1,this.emit("progress",1,this._duration),this.emit("end",this)},R}(n$1),O=function(){function T(R,I){this._output=I,this._input=R}return Object.defineProperty(T.prototype,"destination",{get:function(){return this._input},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"filters",{get:function(){return this._filters},set:function(R){var I=this;if(this._filters&&(this._filters.forEach(function(N){N&&N.disconnect()}),this._filters=null,this._input.connect(this._output)),R&&R.length){this._filters=R.slice(0),this._input.disconnect();var $=null;R.forEach(function(N){$===null?I._input.connect(N.destination):$.connect(N.destination),$=N}),$.connect(this._output)}},enumerable:!1,configurable:!0}),T.prototype.destroy=function(){this.filters=null,this._input=null,this._output=null},T}(),j=function(T){function R(I){var $=this,N=I.audioContext,M=N.createBufferSource(),L=N.createGain(),B=N.createAnalyser();return M.connect(B),B.connect(L),L.connect(I.destination),($=T.call(this,B,L)||this).context=I,$.bufferSource=M,$.gain=L,$.analyser=B,$}return a(R,T),Object.defineProperty(R.prototype,"script",{get:function(){return this._script||(this._script=this.context.audioContext.createScriptProcessor(R.BUFFER_SIZE),this._script.connect(this.context.destination)),this._script},enumerable:!1,configurable:!0}),R.prototype.destroy=function(){T.prototype.destroy.call(this),this.bufferSource.disconnect(),this._script&&this._script.disconnect(),this.gain.disconnect(),this.analyser.disconnect(),this.bufferSource=null,this._script=null,this.gain=null,this.analyser=null,this.context=null},R.prototype.cloneBufferSource=function(){var I=this.bufferSource,$=this.context.audioContext.createBufferSource();$.buffer=I.buffer,v.setParamValue($.playbackRate,I.playbackRate.value),$.loop=I.loop;var N=this.context.audioContext.createGain();return $.connect(N),N.connect(this.destination),{source:$,gain:N}},Object.defineProperty(R.prototype,"bufferSize",{get:function(){return this.script.bufferSize},enumerable:!1,configurable:!0}),R.BUFFER_SIZE=0,R}(O),w=function(){function T(){}return T.prototype.init=function(R){this.parent=R,this._nodes=new j(this.context),this._source=this._nodes.bufferSource,this.source=R.options.source},T.prototype.destroy=function(){this.parent=null,this._nodes.destroy(),this._nodes=null;try{this._source.buffer=null}catch{}this._source=null,this.source=null},T.prototype.create=function(){return new x(this)},Object.defineProperty(T.prototype,"context",{get:function(){return this.parent.context},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"isPlayable",{get:function(){return!!this._source&&!!this._source.buffer},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"filters",{get:function(){return this._nodes.filters},set:function(R){this._nodes.filters=R},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"duration",{get:function(){return this._source.buffer.duration},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"buffer",{get:function(){return this._source.buffer},set:function(R){this._source.buffer=R},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"nodes",{get:function(){return this._nodes},enumerable:!1,configurable:!0}),T.prototype.load=function(R){this.source?this._decode(this.source,R):this.parent.url?this._loadUrl(R):R&&R(new Error("sound.url or sound.source must be set"))},T.prototype._loadUrl=function(R){var I=this,$=new XMLHttpRequest,N=this.parent.url;$.open("GET",N,!0),$.responseType="arraybuffer",$.onload=function(){I.source=$.response,I._decode($.response,R)},$.send()},T.prototype._decode=function(R,I){var $=this,N=function(M,L){if(M)I&&I(M);else{$.parent.isLoaded=!0,$.buffer=L;var B=$.parent.autoPlayStart();I&&I(null,$.parent,B)}};R instanceof AudioBuffer?N(null,R):this.parent.context.decode(R,N)},T}(),A=function(){function T(R,I){this.media=R,this.options=I,this._instances=[],this._sprites={},this.media.init(this);var $=I.complete;this._autoPlayOptions=$?{complete:$}:null,this.isLoaded=!1,this.isPlaying=!1,this.autoPlay=I.autoPlay,this.singleInstance=I.singleInstance,this.preload=I.preload||this.autoPlay,this.url=I.url,this.speed=I.speed,this.volume=I.volume,this.loop=I.loop,I.sprites&&this.addSprites(I.sprites),this.preload&&this._preload(I.loaded)}return T.from=function(R){var I={};return typeof R=="string"?I.url=R:R instanceof ArrayBuffer||R instanceof AudioBuffer||R instanceof HTMLAudioElement?I.source=R:I=R,(I=c({autoPlay:!1,singleInstance:!1,url:null,source:null,preload:!1,volume:1,speed:1,complete:null,loaded:null,loop:!1},I)).url&&(I.url=d(I.url)),Object.freeze(I),new T(s().useLegacy?new g:new w,I)},Object.defineProperty(T.prototype,"context",{get:function(){return s().context},enumerable:!1,configurable:!0}),T.prototype.pause=function(){return this.isPlaying=!1,this.paused=!0,this},T.prototype.resume=function(){return this.isPlaying=this._instances.length>0,this.paused=!1,this},Object.defineProperty(T.prototype,"paused",{get:function(){return this._paused},set:function(R){this._paused=R,this.refreshPaused()},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"speed",{get:function(){return this._speed},set:function(R){this._speed=R,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"filters",{get:function(){return this.media.filters},set:function(R){this.media.filters=R},enumerable:!1,configurable:!0}),T.prototype.addSprites=function(R,I){if(typeof R=="object"){var $={};for(var N in R)$[N]=this.addSprites(N,R[N]);return $}var M=new b(this,I);return this._sprites[R]=M,M},T.prototype.destroy=function(){this._removeInstances(),this.removeSprites(),this.media.destroy(),this.media=null,this._sprites=null,this._instances=null},T.prototype.removeSprites=function(R){if(R){var I=this._sprites[R];I!==void 0&&(I.destroy(),delete this._sprites[R])}else for(var $ in this._sprites)this.removeSprites($);return this},Object.defineProperty(T.prototype,"isPlayable",{get:function(){return this.isLoaded&&this.media&&this.media.isPlayable},enumerable:!1,configurable:!0}),T.prototype.stop=function(){if(!this.isPlayable)return this.autoPlay=!1,this._autoPlayOptions=null,this;this.isPlaying=!1;for(var R=this._instances.length-1;R>=0;R--)this._instances[R].stop();return this},T.prototype.play=function(R,I){var $,N=this;if(typeof R=="string"?$={sprite:L=R,loop:this.loop,complete:I}:typeof R=="function"?($={}).complete=R:$=R,($=c({complete:null,loaded:null,sprite:null,end:null,start:0,volume:1,speed:1,muted:!1,loop:!1},$||{})).sprite){var M=$.sprite,L=this._sprites[M];$.start=L.start+($.start||0),$.end=L.end,$.speed=L.speed||1,$.loop=L.loop||$.loop,delete $.sprite}if($.offset&&($.start=$.offset),!this.isLoaded)return new Promise(function(k,U){N.autoPlay=!0,N._autoPlayOptions=$,N._preload(function(H,z,V){H?U(H):($.loaded&&$.loaded(H,z,V),k(V))})});(this.singleInstance||$.singleInstance)&&this._removeInstances();var B=this._createInstance();return this._instances.push(B),this.isPlaying=!0,B.once("end",function(){$.complete&&$.complete(N),N._onComplete(B)}),B.once("stop",function(){N._onComplete(B)}),B.play($),B},T.prototype.refresh=function(){for(var R=this._instances.length,I=0;I<R;I++)this._instances[I].refresh()},T.prototype.refreshPaused=function(){for(var R=this._instances.length,I=0;I<R;I++)this._instances[I].refreshPaused()},Object.defineProperty(T.prototype,"volume",{get:function(){return this._volume},set:function(R){this._volume=R,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"muted",{get:function(){return this._muted},set:function(R){this._muted=R,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"loop",{get:function(){return this._loop},set:function(R){this._loop=R,this.refresh()},enumerable:!1,configurable:!0}),T.prototype._preload=function(R){this.media.load(R)},Object.defineProperty(T.prototype,"instances",{get:function(){return this._instances},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"sprites",{get:function(){return this._sprites},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"duration",{get:function(){return this.media.duration},enumerable:!1,configurable:!0}),T.prototype.autoPlayStart=function(){var R;return this.autoPlay&&(R=this.play(this._autoPlayOptions)),R},T.prototype._removeInstances=function(){for(var R=this._instances.length-1;R>=0;R--)this._poolInstance(this._instances[R]);this._instances.length=0},T.prototype._onComplete=function(R){if(this._instances){var I=this._instances.indexOf(R);I>-1&&this._instances.splice(I,1),this.isPlaying=this._instances.length>0}this._poolInstance(R)},T.prototype._createInstance=function(){if(T._pool.length>0){var R=T._pool.pop();return R.init(this.media),R}return this.media.create()},T.prototype._poolInstance=function(R){R.destroy(),T._pool.indexOf(R)<0&&T._pool.push(R)},T._pool=[],T}(),F=function(T){function R(){var I=T!==null&&T.apply(this,arguments)||this;return I.speed=1,I.muted=!1,I.volume=1,I.paused=!1,I}return a(R,T),R.prototype.refresh=function(){this.emit("refresh")},R.prototype.refreshPaused=function(){this.emit("refreshPaused")},Object.defineProperty(R.prototype,"filters",{get:function(){return null},set:function(I){},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"audioContext",{get:function(){return null},enumerable:!1,configurable:!0}),R.prototype.toggleMute=function(){return this.muted=!this.muted,this.refresh(),this.muted},R.prototype.togglePause=function(){return this.paused=!this.paused,this.refreshPaused(),this.paused},R.prototype.destroy=function(){this.removeAllListeners()},R}(n$1),C=function(T){function R(){var I=this,$=window,N=new R.AudioContext,M=N.createDynamicsCompressor(),L=N.createAnalyser();return L.connect(M),M.connect(N.destination),(I=T.call(this,L,M)||this)._ctx=N,I._offlineCtx=new R.OfflineAudioContext(1,2,$.OfflineAudioContext?Math.max(8e3,Math.min(96e3,N.sampleRate)):44100),I._unlocked=!1,I.compressor=M,I.analyser=L,I.events=new n$1,I.volume=1,I.speed=1,I.muted=!1,I.paused=!1,N.state!=="running"&&(I._unlock(),I._unlock=I._unlock.bind(I),document.addEventListener("mousedown",I._unlock,!0),document.addEventListener("touchstart",I._unlock,!0),document.addEventListener("touchend",I._unlock,!0)),I}return a(R,T),R.prototype._unlock=function(){this._unlocked||(this.playEmptySound(),this._ctx.state==="running"&&(document.removeEventListener("mousedown",this._unlock,!0),document.removeEventListener("touchend",this._unlock,!0),document.removeEventListener("touchstart",this._unlock,!0),this._unlocked=!0))},R.prototype.playEmptySound=function(){var I=this._ctx.createBufferSource();I.buffer=this._ctx.createBuffer(1,1,22050),I.connect(this._ctx.destination),I.start(0,0,0),I.context.state==="suspended"&&I.context.resume()},Object.defineProperty(R,"AudioContext",{get:function(){var I=window;return I.AudioContext||I.webkitAudioContext||null},enumerable:!1,configurable:!0}),Object.defineProperty(R,"OfflineAudioContext",{get:function(){var I=window;return I.OfflineAudioContext||I.webkitOfflineAudioContext||null},enumerable:!1,configurable:!0}),R.prototype.destroy=function(){T.prototype.destroy.call(this);var I=this._ctx;I.close!==void 0&&I.close(),this.events.removeAllListeners(),this.analyser.disconnect(),this.compressor.disconnect(),this.analyser=null,this.compressor=null,this.events=null,this._offlineCtx=null,this._ctx=null},Object.defineProperty(R.prototype,"audioContext",{get:function(){return this._ctx},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"offlineContext",{get:function(){return this._offlineCtx},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"paused",{get:function(){return this._paused},set:function(I){I&&this._ctx.state==="running"?this._ctx.suspend():I||this._ctx.state!=="suspended"||this._ctx.resume(),this._paused=I},enumerable:!1,configurable:!0}),R.prototype.refresh=function(){this.events.emit("refresh")},R.prototype.refreshPaused=function(){this.events.emit("refreshPaused")},R.prototype.toggleMute=function(){return this.muted=!this.muted,this.refresh(),this.muted},R.prototype.togglePause=function(){return this.paused=!this.paused,this.refreshPaused(),this._paused},R.prototype.decode=function(I,$){var N=function(L){$(new Error((L==null?void 0:L.message)||"Unable to decode file"))},M=this._offlineCtx.decodeAudioData(I,function(L){$(null,L)},N);M&&M.catch(N)},R}(O),E=function(){function T(){this.init()}return T.prototype.init=function(){return this.supported&&(this._webAudioContext=new C),this._htmlAudioContext=new F,this._sounds={},this.useLegacy=!this.supported,this},Object.defineProperty(T.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"filtersAll",{get:function(){return this.useLegacy?[]:this._context.filters},set:function(R){this.useLegacy||(this._context.filters=R)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"supported",{get:function(){return C.AudioContext!==null},enumerable:!1,configurable:!0}),T.prototype.add=function(R,I){if(typeof R=="object"){var $={};for(var N in R){var M=this._getOptions(R[N],I);$[N]=this.add(N,M)}return $}if(I instanceof A)return this._sounds[R]=I,I;var L=this._getOptions(I),B=A.from(L);return this._sounds[R]=B,B},T.prototype._getOptions=function(R,I){var $;return $=typeof R=="string"?{url:R}:R instanceof ArrayBuffer||R instanceof AudioBuffer||R instanceof HTMLAudioElement?{source:R}:R,$=c(c({},$),I||{})},Object.defineProperty(T.prototype,"useLegacy",{get:function(){return this._useLegacy},set:function(R){_.setLegacy(R),this._useLegacy=R,this._context=!R&&this.supported?this._webAudioContext:this._htmlAudioContext},enumerable:!1,configurable:!0}),T.prototype.remove=function(R){return this.exists(R,!0),this._sounds[R].destroy(),delete this._sounds[R],this},Object.defineProperty(T.prototype,"volumeAll",{get:function(){return this._context.volume},set:function(R){this._context.volume=R,this._context.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"speedAll",{get:function(){return this._context.speed},set:function(R){this._context.speed=R,this._context.refresh()},enumerable:!1,configurable:!0}),T.prototype.togglePauseAll=function(){return this._context.togglePause()},T.prototype.pauseAll=function(){return this._context.paused=!0,this._context.refreshPaused(),this},T.prototype.resumeAll=function(){return this._context.paused=!1,this._context.refreshPaused(),this},T.prototype.toggleMuteAll=function(){return this._context.toggleMute()},T.prototype.muteAll=function(){return this._context.muted=!0,this._context.refresh(),this},T.prototype.unmuteAll=function(){return this._context.muted=!1,this._context.refresh(),this},T.prototype.removeAll=function(){for(var R in this._sounds)this._sounds[R].destroy(),delete this._sounds[R];return this},T.prototype.stopAll=function(){for(var R in this._sounds)this._sounds[R].stop();return this},T.prototype.exists=function(R,I){return!!this._sounds[R]},T.prototype.find=function(R){return this.exists(R,!0),this._sounds[R]},T.prototype.play=function(R,I){return this.find(R).play(I)},T.prototype.stop=function(R){return this.find(R).stop()},T.prototype.pause=function(R){return this.find(R).pause()},T.prototype.resume=function(R){return this.find(R).resume()},T.prototype.volume=function(R,I){var $=this.find(R);return I!==void 0&&($.volume=I),$.volume},T.prototype.speed=function(R,I){var $=this.find(R);return I!==void 0&&($.speed=I),$.speed},T.prototype.duration=function(R){return this.find(R).duration},T.prototype.close=function(){return this.removeAll(),this._sounds=null,this._webAudioContext&&(this._webAudioContext.destroy(),this._webAudioContext=null),this._htmlAudioContext&&(this._htmlAudioContext.destroy(),this._htmlAudioContext=null),this._context=null,this},T}(),S=function(){function T(R,I){this.init(R,I)}return T.prototype.init=function(R,I){this.destination=R,this.source=I||R},T.prototype.connect=function(R){this.source.connect(R)},T.prototype.disconnect=function(){this.source.disconnect()},T.prototype.destroy=function(){this.disconnect(),this.destination=null,this.source=null},T}();(function(T){function R(I,$,N,M,L,B,k,U,H,z){I===void 0&&(I=0),$===void 0&&($=0),N===void 0&&(N=0),M===void 0&&(M=0),L===void 0&&(L=0),B===void 0&&(B=0),k===void 0&&(k=0),U===void 0&&(U=0),H===void 0&&(H=0),z===void 0&&(z=0);var V=this;if(!s().useLegacy){var W=[{f:R.F32,type:"lowshelf",gain:I},{f:R.F64,type:"peaking",gain:$},{f:R.F125,type:"peaking",gain:N},{f:R.F250,type:"peaking",gain:M},{f:R.F500,type:"peaking",gain:L},{f:R.F1K,type:"peaking",gain:B},{f:R.F2K,type:"peaking",gain:k},{f:R.F4K,type:"peaking",gain:U},{f:R.F8K,type:"peaking",gain:H},{f:R.F16K,type:"highshelf",gain:z}].map(function(q){var Z=s().context.audioContext.createBiquadFilter();return Z.type=q.type,v.setParamValue(Z.Q,1),Z.frequency.value=q.f,v.setParamValue(Z.gain,q.gain),Z});(V=T.call(this,W[0],W[W.length-1])||this).bands=W,V.bandsMap={};for(var K=0;K<V.bands.length;K++){var Y=V.bands[K];K>0&&V.bands[K-1].connect(Y),V.bandsMap[Y.frequency.value]=Y}return V}V=T.call(this,null)||this}return a(R,T),R.prototype.setGain=function(I,$){if($===void 0&&($=0),!this.bandsMap[I])throw new Error("No band found for frequency ".concat(I));v.setParamValue(this.bandsMap[I].gain,$)},R.prototype.getGain=function(I){if(!this.bandsMap[I])throw new Error("No band found for frequency ".concat(I));return this.bandsMap[I].gain.value},Object.defineProperty(R.prototype,"f32",{get:function(){return this.getGain(R.F32)},set:function(I){this.setGain(R.F32,I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"f64",{get:function(){return this.getGain(R.F64)},set:function(I){this.setGain(R.F64,I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"f125",{get:function(){return this.getGain(R.F125)},set:function(I){this.setGain(R.F125,I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"f250",{get:function(){return this.getGain(R.F250)},set:function(I){this.setGain(R.F250,I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"f500",{get:function(){return this.getGain(R.F500)},set:function(I){this.setGain(R.F500,I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"f1k",{get:function(){return this.getGain(R.F1K)},set:function(I){this.setGain(R.F1K,I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"f2k",{get:function(){return this.getGain(R.F2K)},set:function(I){this.setGain(R.F2K,I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"f4k",{get:function(){return this.getGain(R.F4K)},set:function(I){this.setGain(R.F4K,I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"f8k",{get:function(){return this.getGain(R.F8K)},set:function(I){this.setGain(R.F8K,I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"f16k",{get:function(){return this.getGain(R.F16K)},set:function(I){this.setGain(R.F16K,I)},enumerable:!1,configurable:!0}),R.prototype.reset=function(){this.bands.forEach(function(I){v.setParamValue(I.gain,0)})},R.prototype.destroy=function(){this.bands.forEach(function(I){I.disconnect()}),this.bands=null,this.bandsMap=null},R.F32=32,R.F64=64,R.F125=125,R.F250=250,R.F500=500,R.F1K=1e3,R.F2K=2e3,R.F4K=4e3,R.F8K=8e3,R.F16K=16e3,R})(S),function(T){function R(I){I===void 0&&(I=0);var $=this;if(!s().useLegacy){var N=s().context.audioContext.createWaveShaper();return($=T.call(this,N)||this)._distortion=N,$.amount=I,$}$=T.call(this,null)||this}return a(R,T),Object.defineProperty(R.prototype,"amount",{get:function(){return this._amount},set:function(I){this._amount=I;for(var $,N=1e3*I,M=44100,L=new Float32Array(M),B=Math.PI/180,k=0;k<M;++k)$=2*k/M-1,L[k]=(3+N)*$*20*B/(Math.PI+N*Math.abs($));this._distortion.curve=L,this._distortion.oversample="4x"},enumerable:!1,configurable:!0}),R.prototype.destroy=function(){this._distortion=null,T.prototype.destroy.call(this)},R}(S),function(T){function R(I){I===void 0&&(I=0);var $=this;if(!s().useLegacy){var N,M,L,B=s().context.audioContext;return B.createStereoPanner?L=N=B.createStereoPanner():((M=B.createPanner()).panningModel="equalpower",L=M),($=T.call(this,L)||this)._stereo=N,$._panner=M,$.pan=I,$}$=T.call(this,null)||this}return a(R,T),Object.defineProperty(R.prototype,"pan",{get:function(){return this._pan},set:function(I){this._pan=I,this._stereo?v.setParamValue(this._stereo.pan,I):this._panner.setPosition(I,0,1-Math.abs(I))},enumerable:!1,configurable:!0}),R.prototype.destroy=function(){T.prototype.destroy.call(this),this._stereo=null,this._panner=null},R}(S),function(T){function R(I,$,N){I===void 0&&(I=3),$===void 0&&($=2),N===void 0&&(N=!1);var M=this;if(!s().useLegacy)return(M=T.call(this,null)||this)._seconds=M._clamp(I,1,50),M._decay=M._clamp($,0,100),M._reverse=N,M._rebuild(),M;M=T.call(this,null)||this}return a(R,T),R.prototype._clamp=function(I,$,N){return Math.min(N,Math.max($,I))},Object.defineProperty(R.prototype,"seconds",{get:function(){return this._seconds},set:function(I){this._seconds=this._clamp(I,1,50),this._rebuild()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"decay",{get:function(){return this._decay},set:function(I){this._decay=this._clamp(I,0,100),this._rebuild()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"reverse",{get:function(){return this._reverse},set:function(I){this._reverse=I,this._rebuild()},enumerable:!1,configurable:!0}),R.prototype._rebuild=function(){for(var I,$=s().context.audioContext,N=$.sampleRate,M=N*this._seconds,L=$.createBuffer(2,M,N),B=L.getChannelData(0),k=L.getChannelData(1),U=0;U<M;U++)I=this._reverse?M-U:U,B[U]=(2*Math.random()-1)*Math.pow(1-I/M,this._decay),k[U]=(2*Math.random()-1)*Math.pow(1-I/M,this._decay);var H=s().context.audioContext.createConvolver();H.buffer=L,this.init(H)},R}(S),function(T){function R(){var I=this;if(!s().useLegacy){var $=s().context.audioContext,N=$.createChannelSplitter(),M=$.createChannelMerger();return M.connect(N),(I=T.call(this,M,N)||this)._merger=M,I}I=T.call(this,null)||this}return a(R,T),R.prototype.destroy=function(){this._merger.disconnect(),this._merger=null,T.prototype.destroy.call(this)},R}(S),function(T){function R(){var I=this;if(!s().useLegacy){var $=s().context.audioContext,N=$.createMediaStreamDestination(),M=$.createMediaStreamSource(N.stream);return(I=T.call(this,N,M)||this)._stream=N.stream,I}I=T.call(this,null)||this}return a(R,T),Object.defineProperty(R.prototype,"stream",{get:function(){return this._stream},enumerable:!1,configurable:!0}),R.prototype.destroy=function(){this._stream=null,T.prototype.destroy.call(this)},R}(S),function(T){function R(){if(!s().useLegacy){var I=s().context.audioContext,$=I.createBiquadFilter(),N=I.createBiquadFilter(),M=I.createBiquadFilter(),L=I.createBiquadFilter();return $.type="lowpass",v.setParamValue($.frequency,2e3),N.type="lowpass",v.setParamValue(N.frequency,2e3),M.type="highpass",v.setParamValue(M.frequency,500),L.type="highpass",v.setParamValue(L.frequency,500),$.connect(N),N.connect(M),M.connect(L),T.call(this,$,L)||this}T.call(this,null)}return a(R,T),R}(S);(function(T){return r=T,T})(new E);Loader$1.registerPlugin(_);const getSounds=async()=>(await fetch("/assets/sounds.json")).json(),_sfc_main$d=defineComponent({__name:"SoundButton",props:{modelValue:null},async setup(T){let R,I;const $=T;let N=ref(!1);const M=([R,I]=withAsyncContext(()=>getSounds()),R=await R,I(),R),L=A.from({url:"assets/sounds.mp3",sprites:M.spritemap}),B=()=>{if(N.value){L.stop(),N.value=!1;return}N.value=!0,L.play($.modelValue,()=>{N.value=!1})};return(k,U)=>{const H=__unplugin_components_0$1,z=__unplugin_components_1,V=NIcon,W=__unplugin_components_1$3;return openBlock(),createBlock(W,{round:"",onClick:B},{icon:withCtx(()=>[createVNode(V,null,{default:withCtx(()=>[N.value?(openBlock(),createBlock(z,{key:1})):(openBlock(),createBlock(H,{key:0}))]),_:1})]),default:withCtx(()=>[createTextVNode(toDisplayString(T.modelValue)+" ",1)]),_:1})}}}),_hoisted_1$7={key:0},_hoisted_2$3={key:1},_sfc_main$c=defineComponent({__name:"SoundPreview",props:{modelValue:null},setup(T){const R=T;let I=ref([]);const $=()=>{I.value=R.modelValue};return onMounted(()=>{$()}),onUpdated(()=>{$()}),(N,M)=>{const L=_sfc_main$d;return Array.isArray(I.value)?(openBlock(),createElementBlock("div",_hoisted_2$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(I.value,(B,k)=>(openBlock(),createBlock(L,{key:B,modelValue:I.value[k],"onUpdate:modelValue":U=>I.value[k]=U,class:"mr-2 mb-2"},null,8,["modelValue","onUpdate:modelValue"]))),128))])):(openBlock(),createElementBlock("div",_hoisted_1$7,[createVNode(L,{modelValue:I.value,"onUpdate:modelValue":M[0]||(M[0]=B=>I.value=B)},null,8,["modelValue"])]))}}});class Plugin{constructor(R){this.parent=R,this.paused=!1}destroy(){}down(R){return!1}move(R){return!1}up(R){return!1}wheel(R){return!1}update(R){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule(T,R,I){return I={path:R,exports:{},require:function($,N){return commonjsRequire($,N==null?I.path:N)}},T(I,I.exports),I.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var penner=createCommonjsModule(function(T,R){(function(){var I,$;$=function(N){return T.exports=N},I={linear:function(N,M,L,B){return L*N/B+M},easeInQuad:function(N,M,L,B){return L*(N/=B)*N+M},easeOutQuad:function(N,M,L,B){return-L*(N/=B)*(N-2)+M},easeInOutQuad:function(N,M,L,B){return(N/=B/2)<1?L/2*N*N+M:-L/2*(--N*(N-2)-1)+M},easeInCubic:function(N,M,L,B){return L*(N/=B)*N*N+M},easeOutCubic:function(N,M,L,B){return L*((N=N/B-1)*N*N+1)+M},easeInOutCubic:function(N,M,L,B){return(N/=B/2)<1?L/2*N*N*N+M:L/2*((N-=2)*N*N+2)+M},easeInQuart:function(N,M,L,B){return L*(N/=B)*N*N*N+M},easeOutQuart:function(N,M,L,B){return-L*((N=N/B-1)*N*N*N-1)+M},easeInOutQuart:function(N,M,L,B){return(N/=B/2)<1?L/2*N*N*N*N+M:-L/2*((N-=2)*N*N*N-2)+M},easeInQuint:function(N,M,L,B){return L*(N/=B)*N*N*N*N+M},easeOutQuint:function(N,M,L,B){return L*((N=N/B-1)*N*N*N*N+1)+M},easeInOutQuint:function(N,M,L,B){return(N/=B/2)<1?L/2*N*N*N*N*N+M:L/2*((N-=2)*N*N*N*N+2)+M},easeInSine:function(N,M,L,B){return-L*Math.cos(N/B*(Math.PI/2))+L+M},easeOutSine:function(N,M,L,B){return L*Math.sin(N/B*(Math.PI/2))+M},easeInOutSine:function(N,M,L,B){return-L/2*(Math.cos(Math.PI*N/B)-1)+M},easeInExpo:function(N,M,L,B){return N===0?M:L*Math.pow(2,10*(N/B-1))+M},easeOutExpo:function(N,M,L,B){return N===B?M+L:L*(-Math.pow(2,-10*N/B)+1)+M},easeInOutExpo:function(N,M,L,B){return(N/=B/2)<1?L/2*Math.pow(2,10*(N-1))+M:L/2*(-Math.pow(2,-10*--N)+2)+M},easeInCirc:function(N,M,L,B){return-L*(Math.sqrt(1-(N/=B)*N)-1)+M},easeOutCirc:function(N,M,L,B){return L*Math.sqrt(1-(N=N/B-1)*N)+M},easeInOutCirc:function(N,M,L,B){return(N/=B/2)<1?-L/2*(Math.sqrt(1-N*N)-1)+M:L/2*(Math.sqrt(1-(N-=2)*N)+1)+M},easeInElastic:function(N,M,L,B){var k,U,H;return H=1.70158,U=0,k=L,N===0||(N/=B),U||(U=B*.3),k<Math.abs(L)?(k=L,H=U/4):H=U/(2*Math.PI)*Math.asin(L/k),-(k*Math.pow(2,10*(N-=1))*Math.sin((N*B-H)*(2*Math.PI)/U))+M},easeOutElastic:function(N,M,L,B){var k,U,H;return H=1.70158,U=0,k=L,N===0||(N/=B),U||(U=B*.3),k<Math.abs(L)?(k=L,H=U/4):H=U/(2*Math.PI)*Math.asin(L/k),k*Math.pow(2,-10*N)*Math.sin((N*B-H)*(2*Math.PI)/U)+L+M},easeInOutElastic:function(N,M,L,B){var k,U,H;return H=1.70158,U=0,k=L,N===0||(N/=B/2),U||(U=B*(.3*1.5)),k<Math.abs(L)?(k=L,H=U/4):H=U/(2*Math.PI)*Math.asin(L/k),N<1?-.5*(k*Math.pow(2,10*(N-=1))*Math.sin((N*B-H)*(2*Math.PI)/U))+M:k*Math.pow(2,-10*(N-=1))*Math.sin((N*B-H)*(2*Math.PI)/U)*.5+L+M},easeInBack:function(N,M,L,B,k){return k===void 0&&(k=1.70158),L*(N/=B)*N*((k+1)*N-k)+M},easeOutBack:function(N,M,L,B,k){return k===void 0&&(k=1.70158),L*((N=N/B-1)*N*((k+1)*N+k)+1)+M},easeInOutBack:function(N,M,L,B,k){return k===void 0&&(k=1.70158),(N/=B/2)<1?L/2*(N*N*(((k*=1.525)+1)*N-k))+M:L/2*((N-=2)*N*(((k*=1.525)+1)*N+k)+2)+M},easeInBounce:function(N,M,L,B){var k;return k=I.easeOutBounce(B-N,0,L,B),L-k+M},easeOutBounce:function(N,M,L,B){return(N/=B)<1/2.75?L*(7.5625*N*N)+M:N<2/2.75?L*(7.5625*(N-=1.5/2.75)*N+.75)+M:N<2.5/2.75?L*(7.5625*(N-=2.25/2.75)*N+.9375)+M:L*(7.5625*(N-=2.625/2.75)*N+.984375)+M},easeInOutBounce:function(N,M,L,B){var k;return N<B/2?(k=I.easeInBounce(N*2,0,L,B),k*.5+M):(k=I.easeOutBounce(N*2-B,0,L,B),k*.5+L*.5+M)}},$(I)}).call(commonjsGlobal)});function ease(T,R){if(T){if(typeof T=="function")return T;if(typeof T=="string")return penner[T]}else return penner[R]}const DEFAULT_ANIMATE_OPTIONS={removeOnInterrupt:!1,ease:"linear",time:1e3};class Animate extends Plugin{__init(){this.startWidth=null}__init2(){this.startHeight=null}__init3(){this.deltaWidth=null}__init4(){this.deltaHeight=null}__init5(){this.width=null}__init6(){this.height=null}__init7(){this.time=0}constructor(R,I={}){super(R),Animate.prototype.__init.call(this),Animate.prototype.__init2.call(this),Animate.prototype.__init3.call(this),Animate.prototype.__init4.call(this),Animate.prototype.__init5.call(this),Animate.prototype.__init6.call(this),Animate.prototype.__init7.call(this),this.options=Object.assign({},DEFAULT_ANIMATE_OPTIONS,I),this.options.ease=ease(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),this.keepCenter||this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(R){if(!this.paused)if(this.time+=R,this.time>=this.options.time)this.complete();else{const I=new Point(this.parent.scale.x,this.parent.scale.y),$=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const N=this.startWidth,M=this.deltaWidth;this.parent.fitWidth(N+M*$,this.keepCenter,this.height===null)}if(this.height!==null){const N=this.startHeight,M=this.deltaHeight;this.parent.fitHeight(N+M*$,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const N=this.startX,M=this.startY,L=this.deltaX,B=this.deltaY,k=new Point(this.parent.x,this.parent.y);this.parent.moveCenter(N+L*$,M+B*$),this.parent.emit("moved",{viewport:this.parent,original:k,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:I,type:"animate"})}}}function _optionalChain$1(T){let R,I=T[0],$=1;for(;$<T.length;){const N=T[$],M=T[$+1];if($+=2,(N==="optionalAccess"||N==="optionalCall")&&I==null)return;N==="access"||N==="optionalAccess"?(R=I,I=M(I)):(N==="call"||N==="optionalCall")&&(I=M((...L)=>I.call(R,...L)),R=void 0)}return I}const DEFAULT_BOUNCE_OPTIONS={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class Bounce extends Plugin{constructor(R,I={}){super(R),this.options=Object.assign({},DEFAULT_BOUNCE_OPTIONS,I),this.ease=ease(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const $=this.options.underflow.toLowerCase();$==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=$.indexOf("left")!==-1?-1:$.indexOf("right")!==-1?1:0,this.underflowY=$.indexOf("top")!==-1?-1:$.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(R){if(!this.paused){if(this.bounce(),this.toX){const I=this.toX;I.time+=R,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),I.time>=this.options.time?(this.parent.x=I.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(I.time,I.start,I.delta,this.options.time)}if(this.toY){const I=this.toY;I.time+=R,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),I.time>=this.options.time?(this.parent.y=I.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(I.time,I.start,I.delta,this.options.time)}}}calcUnderflowX(){let R;switch(this.underflowX){case-1:R=0;break;case 1:R=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:R=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return R}calcUnderflowY(){let R;switch(this.underflowY){case-1:R=0;break;case 1:R=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:R=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return R}oob(){const R=this.options.bounceBox;if(R){const I=typeof R.x>"u"?0:R.x,$=typeof R.y>"u"?0:R.y,N=typeof R.width>"u"?this.parent.worldWidth:R.width,M=typeof R.height>"u"?this.parent.worldHeight:R.height;return{left:this.parent.left<I,right:this.parent.right>N,top:this.parent.top<$,bottom:this.parent.bottom>M,topLeft:new Point(I*this.parent.scale.x,$*this.parent.scale.y),bottomRight:new Point(N*this.parent.scale.x-this.parent.screenWidth,M*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new Point(0,0),bottomRight:new Point(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){if(this.paused)return;let R,I=this.parent.plugins.get("decelerate",!0);I&&(I.x||I.y)&&(I.x&&I.percentChangeX===_optionalChain$1([I,"access",M=>M.options,"optionalAccess",M=>M.friction])||I.y&&I.percentChangeY===_optionalChain$1([I,"access",M=>M.options,"optionalAccess",M=>M.friction]))&&(R=this.oob(),(R.left&&this.left||R.right&&this.right)&&(I.percentChangeX=this.options.friction),(R.top&&this.top||R.bottom&&this.bottom)&&(I.percentChangeY=this.options.friction));const $=this.parent.plugins.get("drag",!0)||{},N=this.parent.plugins.get("pinch",!0)||{};if(I=I||{},!_optionalChain$1([$,"optionalAccess",M=>M.active])&&!_optionalChain$1([N,"optionalAccess",M=>M.active])&&(!this.toX||!this.toY)&&(!I.x||!I.y)){R=R||this.oob();const M=R.topLeft,L=R.bottomRight;if(!this.toX&&!I.x){let B=null;R.left&&this.left?B=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-M.x:R.right&&this.right&&(B=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-L.x),B!==null&&this.parent.x!==B&&(this.toX={time:0,start:this.parent.x,delta:B-this.parent.x,end:B},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!I.y){let B=null;R.top&&this.top?B=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-M.y:R.bottom&&this.bottom&&(B=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-L.y),B!==null&&this.parent.y!==B&&(this.toY={time:0,start:this.parent.y,delta:B-this.parent.y,end:B},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const DEFAULT_CLAMP_OPTIONS={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class Clamp extends Plugin{constructor(R,I={}){super(R),this.options=Object.assign({},DEFAULT_CLAMP_OPTIONS,I),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const R=this.options.underflow.toLowerCase();R==="none"?this.noUnderflow=!0:R==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=R.indexOf("left")!==-1?-1:R.indexOf("right")!==-1?1:0,this.underflowY=R.indexOf("top")!==-1?-1:R.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const R={x:this.parent.x,y:this.parent.y},I=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let $=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,$=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,$=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,$=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,I.x=0,$=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,I.x=0,$=!0);$&&this.parent.emit("moved",{viewport:this.parent,original:R,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let $=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,$=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,$=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,$=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,I.y=0,$=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,I.y=0,$=!0);$&&this.parent.emit("moved",{viewport:this.parent,original:R,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const DEFAULT_CLAMP_ZOOM_OPTIONS={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class ClampZoom extends Plugin{constructor(R,I={}){super(R),this.options=Object.assign({},DEFAULT_CLAMP_ZOOM_OPTIONS,I),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let R=this.parent.worldScreenWidth,I=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&R<this.options.minWidth){const $=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/$,R=this.parent.worldScreenWidth,I=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&R>this.options.maxWidth){const $=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/$,R=this.parent.worldScreenWidth,I=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&I<this.options.minHeight){const $=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/$,R=this.parent.worldScreenWidth,I=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&I>this.options.maxHeight){const $=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/$,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const R={x:null,y:null},I={x:null,y:null};if(typeof this.options.minScale=="number")R.x=this.options.minScale,R.y=this.options.minScale;else if(this.options.minScale!==null){const M=this.options.minScale;R.x=typeof M.x>"u"?null:M.x,R.y=typeof M.y>"u"?null:M.y}if(typeof this.options.maxScale=="number")I.x=this.options.maxScale,I.y=this.options.maxScale;else if(this.options.maxScale!==null){const M=this.options.maxScale;I.x=typeof M.x>"u"?null:M.x,I.y=typeof M.y>"u"?null:M.y}let $=this.parent.scale.x,N=this.parent.scale.y;R.x!==null&&$<R.x&&($=R.x),I.x!==null&&$>I.x&&($=I.x),R.y!==null&&N<R.y&&(N=R.y),I.y!==null&&N>I.y&&(N=I.y),($!==this.parent.scale.x||N!==this.parent.scale.y)&&(this.parent.scale.set($,N),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const DEFAULT_DECELERATE_OPTIONS={friction:.98,bounce:.8,minSpeed:.01},TP=16;class Decelerate extends Plugin{constructor(R,I={}){super(R),this.options=Object.assign({},DEFAULT_DECELERATE_OPTIONS,I),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",$=>this.moved($))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const R=this.parent.input.count();return(R===1||R>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}moved(R){if(this.saved.length){const I=this.saved[this.saved.length-1];R.type==="clamp-x"?I.x===R.original.x&&(I.x=this.parent.x):R.type==="clamp-y"&&I.y===R.original.y&&(I.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const R=performance.now();for(const I of this.saved)if(I.time>=R-100){const $=R-I.time;this.x=(this.parent.x-I.x)/$,this.y=(this.parent.y-I.y)/$,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(R){R=R||{},typeof R.x<"u"&&(this.x=R.x,this.percentChangeX=this.options.friction),typeof R.y<"u"&&(this.y=R.y,this.percentChangeY=this.options.friction)}update(R){if(this.paused)return;const I=this.x||this.y,$=this.timeSinceRelease,N=this.timeSinceRelease+R;if(this.x){const M=this.percentChangeX,L=Math.log(M);this.parent.x+=this.x*TP/L*(Math.pow(M,N/TP)-Math.pow(M,$/TP)),this.x*=Math.pow(this.percentChangeX,R/TP)}if(this.y){const M=this.percentChangeY,L=Math.log(M);this.parent.y+=this.y*TP/L*(Math.pow(M,N/TP)-Math.pow(M,$/TP)),this.y*=Math.pow(this.percentChangeY,R/TP)}this.timeSinceRelease+=R,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),I&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const DEFAULT_DRAG_OPTIONS={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20};class Drag extends Plugin{constructor(R,I={}){super(R),this.options=Object.assign({},DEFAULT_DRAG_OPTIONS,I),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(R){window.addEventListener("keydown",I=>{R.includes(I.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",I=>{R.includes(I.code)&&(this.keyIsPressed=!1)})}mouseButtons(R){!R||R==="all"?this.mouse=[!0,!0,!0]:this.mouse=[R.indexOf("left")!==-1,R.indexOf("middle")!==-1,R.indexOf("right")!==-1]}parseUnderflow(){const R=this.options.underflow.toLowerCase();R==="center"?(this.underflowX=0,this.underflowY=0):(R.includes("left")?this.underflowX=-1:R.includes("right")?this.underflowX=1:this.underflowX=0,R.includes("top")?this.underflowY=-1:R.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(R){const I=R.data.pointerType==="mouse",$=this.parent.input.count();return!!(($===1||$>1&&!this.parent.plugins.get("pinch",!0))&&(!I||this.mouse[R.data.button]))}checkKeyPress(R){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&R.data.pointerType==="touch"}down(R){return this.paused||!this.options.pressDrag?!1:this.checkButtons(R)&&this.checkKeyPress(R)?(this.last={x:R.data.global.x,y:R.data.global.y},this.current=R.data.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(R){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===R.data.pointerId){const I=R.data.global.x,$=R.data.global.y,N=this.parent.input.count();if(N===1||N>1&&!this.parent.plugins.get("pinch",!0)){const M=I-this.last.x,L=$-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(M)||this.yDirection&&this.parent.input.checkThreshold(L)){const B={x:I,y:$};return this.xDirection&&(this.parent.x+=(B.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(B.y-this.last.y)*this.options.factor),this.last=B,this.moved||this.parent.emit("drag-start",{event:R,screen:new Point(this.last.x,this.last.y),world:this.parent.toWorld(new Point(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(R){if(this.paused)return!1;const I=this.parent.input.touches;if(I.length===1){const $=I[0];return $.last&&(this.last={x:$.last.x,y:$.last.y},this.current=$.id),this.moved=!1,!0}else if(this.last&&this.moved){const $=new Point(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:R,screen:$,world:this.parent.toWorld($),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(R){if(this.paused)return!1;if(this.options.wheel){const I=this.parent.plugins.get("wheel",!0);if(!I||!I.options.wheelZoom&&!R.ctrlKey){const $=R.deltaMode?this.options.lineHeight:1;return this.xDirection&&(this.parent.x+=R.deltaX*$*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=R.deltaY*$*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||R.preventDefault(),this.parent.options.stopPropagation&&R.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const R=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,R.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,R.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,R.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,R.y=0)}}const DEFAULT_FOLLOW_OPTIONS={speed:0,acceleration:null,radius:null};class Follow extends Plugin{constructor(R,I,$={}){super(R),this.target=I,this.options=Object.assign({},DEFAULT_FOLLOW_OPTIONS,$),this.velocity={x:0,y:0}}update(R){if(this.paused)return;const I=this.parent.center;let $=this.target.x,N=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-I.y,2)+Math.pow(this.target.x-I.x,2))>this.options.radius){const k=Math.atan2(this.target.y-I.y,this.target.x-I.x);$=this.target.x-Math.cos(k)*this.options.radius,N=this.target.y-Math.sin(k)*this.options.radius}else return;const M=$-I.x,L=N-I.y;if(M||L)if(this.options.speed)if(this.options.acceleration){const B=Math.atan2(N-I.y,$-I.x),k=Math.sqrt(Math.pow(M,2)+Math.pow(L,2));if(k){const U=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);k>U?this.velocity={x:Math.min(this.velocity.x+this.options.acceleration*R,this.options.speed),y:Math.min(this.velocity.y+this.options.acceleration*R,this.options.speed)}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const H=Math.cos(B)*this.velocity.x,z=Math.sin(B)*this.velocity.y,V=Math.abs(H)>Math.abs(M)?$:I.x+H,W=Math.abs(z)>Math.abs(L)?N:I.y+z;this.parent.moveCenter(V,W),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const B=Math.atan2(N-I.y,$-I.x),k=Math.cos(B)*this.options.speed,U=Math.sin(B)*this.options.speed,H=Math.abs(k)>Math.abs(M)?$:I.x+k,z=Math.abs(U)>Math.abs(L)?N:I.y+U;this.parent.moveCenter(H,z),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter($,N),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const MOUSE_EDGES_OPTIONS={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class MouseEdges extends Plugin{constructor(R,I={}){super(R),this.options=Object.assign({},MOUSE_EDGES_OPTIONS,I),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const R=this.options.distance;R!==null?(this.left=R,this.top=R,this.right=this.parent.worldScreenWidth-R,this.bottom=this.parent.worldScreenHeight-R):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.worldScreenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.worldScreenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(R){if(this.paused||R.data.pointerType!=="mouse"&&R.data.identifier!==1||!this.options.allowButtons&&R.data.buttons!==0)return!1;const I=R.data.global.x,$=R.data.global.y;if(this.radiusSquared){const N=this.parent.toScreen(this.parent.center);if(Math.pow(N.x-I,2)+Math.pow(N.y-$,2)>=this.radiusSquared){const L=Math.atan2(N.y-$,N.x-I);this.options.linear?(this.horizontal=Math.round(Math.cos(L))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(L))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(L)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(L)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&I<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&I>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&$<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&$>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const R=this.parent.plugins.get("decelerate",!0);this.horizontal&&R&&!this.options.noDecelerate&&R.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const R=this.parent.plugins.get("decelerate",!0);this.vertical&&R&&!this.options.noDecelerate&&R.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const R=this.parent.center;this.horizontal&&(R.x+=this.horizontal*this.options.speed),this.vertical&&(R.y+=this.vertical*this.options.speed),this.parent.moveCenter(R),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const DEFAULT_PINCH_OPTIONS={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class Pinch extends Plugin{__init(){this.active=!1}__init2(){this.pinching=!1}__init3(){this.moved=!1}constructor(R,I={}){super(R),Pinch.prototype.__init.call(this),Pinch.prototype.__init2.call(this),Pinch.prototype.__init3.call(this),this.options=Object.assign({},DEFAULT_PINCH_OPTIONS,I)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(R){if(this.paused||!this.active)return!1;const I=R.data.global.x,$=R.data.global.y,N=this.parent.input.touches;if(N.length>=2){const M=N[0],L=N[1],B=M.last&&L.last?Math.sqrt(Math.pow(L.last.x-M.last.x,2)+Math.pow(L.last.y-M.last.y,2)):null;if(M.id===R.data.pointerId?M.last={x:I,y:$,data:R.data}:L.id===R.data.pointerId&&(L.last={x:I,y:$,data:R.data}),B){let k;const U={x:M.last.x+(L.last.x-M.last.x)/2,y:M.last.y+(L.last.y-M.last.y)/2};this.options.center||(k=this.parent.toLocal(U));let H=Math.sqrt(Math.pow(L.last.x-M.last.x,2)+Math.pow(L.last.y-M.last.y,2));H=H===0?H=1e-10:H;const z=(1-B/H)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=z),this.isAxisY()&&(this.parent.scale.y+=z),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:U});const V=this.parent.plugins.get("clamp-zoom",!0);if(V&&V.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const W=this.parent.toGlobal(k);this.parent.x+=(U.x-W.x)*this.options.factor,this.parent.y+=(U.y-W.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(U.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(U.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=U,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const DEFAULT_SNAP_OPTIONS={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class Snap extends Plugin{constructor(R,I,$,N={}){super(R),this.options=Object.assign({},DEFAULT_SNAP_OPTIONS,N),this.ease=ease(N.ease,"easeInOutSine"),this.x=I,this.y=$,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const R=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-R.x,this.deltaY=this.y-R.y,this.startX=R.x,this.startY=R.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const R=this.parent.plugins.get("decelerate",!0);R&&(R.x||R.y)&&(R.percentChangeX=R.percentChangeY=this.options.friction)}return!1}update(R){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const I=this.snapping;I.time+=R;let $,N,M;const L=this.startX,B=this.startY,k=this.deltaX,U=this.deltaY;if(I.time>this.options.time)$=!0,N=L+k,M=B+U;else{const H=this.ease(I.time,0,1,this.options.time);N=L+k*H,M=B+U*H}this.options.topLeft?this.parent.moveCorner(N,M):this.parent.moveCenter(N,M),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),$&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const I=this.options.topLeft?this.parent.corner:this.parent.center;(I.x!==this.x||I.y!==this.y)&&this.snapStart()}}}const DEFAULT_SNAP_ZOOM_OPTIONS={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class SnapZoom extends Plugin{constructor(R,I={}){super(R),this.options=Object.assign({},DEFAULT_SNAP_ZOOM_OPTIONS,I),this.ease=ease(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=R.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=R.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(R.container.scale.x=this.xScale,R.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):I.forceStart&&this.createSnapping()}createSnapping(){const R=this.parent.worldScreenWidth,I=this.parent.worldScreenHeight,$=this.parent.screenWidth/this.xScale,N=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:R,startY:I,deltaX:$-R,deltaY:N-I},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(R){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let I;if(!this.options.center&&!this.options.noMove&&(I=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const $=this.snapping;if($.time+=R,$.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const M=this.snapping,L=this.ease(M.time,M.startX,M.deltaX,this.options.time),B=this.ease(M.time,M.startY,M.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/L,this.parent.scale.y=this.parent.screenHeight/B}const N=this.parent.plugins.get("clamp-zoom",!0);N&&N.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(I))}}resume(){this.snapping=null,super.resume()}}const DEFAULT_WHEEL_OPTIONS={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class Wheel extends Plugin{constructor(R,I={}){super(R),this.options=Object.assign({},DEFAULT_WHEEL_OPTIONS,I),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(R){window.addEventListener("keydown",I=>{R.includes(I.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",I=>{R.includes(I.code)&&(this.keyIsPressed=!1)})}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const R=this.smoothingCenter,I=this.smoothing;let $;this.options.center||($=this.parent.toLocal(R)),this.isAxisX()&&(this.parent.scale.x+=I.x),this.isAxisY()&&(this.parent.scale.y+=I.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const N=this.parent.plugins.get("clamp-zoom",!0);if(N&&N.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const M=this.parent.toGlobal($);this.parent.x+=R.x-M.x,this.parent.y+=R.y-M.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(R){if(this.paused)return;const I=this.parent.input.getPointerPosition(R),$=-R.deltaY*(R.deltaMode?this.options.lineHeight:1)/200,N=Math.pow(2,(1+this.options.percent)*$);let M;this.options.center||(M=this.parent.toLocal(I)),this.isAxisX()&&(this.parent.scale.x*=N),this.isAxisY()&&(this.parent.scale.y*=N),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const L=this.parent.plugins.get("clamp-zoom",!0);if(L&&L.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const B=this.parent.toGlobal(M);this.parent.x+=I.x-B.x,this.parent.y+=I.y-B.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel",{wheel:{dx:R.deltaX,dy:R.deltaY,dz:R.deltaZ},event:R,viewport:this.parent})}wheel(R){if(this.paused||!this.checkKeyPress())return!1;if(R.ctrlKey&&this.options.trackpadPinch)this.pinch(R);else if(this.options.wheelZoom){const I=this.parent.input.getPointerPosition(R),N=(this.options.reverse?-1:1)*-R.deltaY*(R.deltaMode?this.options.lineHeight:1)/500,M=Math.pow(2,(1+this.options.percent)*N);if(this.options.smooth){const L={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+L.x)*M-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+L.y)*M-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=I}else{let L;this.options.center||(L=this.parent.toLocal(I)),this.isAxisX()&&(this.parent.scale.x*=M),this.isAxisY()&&(this.parent.scale.y*=M),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const B=this.parent.plugins.get("clamp-zoom",!0);if(B&&B.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const k=this.parent.toGlobal(L);this.parent.x+=I.x-k.x,this.parent.y+=I.y-k.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel",{wheel:{dx:R.deltaX,dy:R.deltaY,dz:R.deltaZ},event:R,viewport:this.parent})}return!this.parent.options.passiveWheel}}class InputManager{constructor(R){this.viewport=R,this.touches=[],this.addListeners()}addListeners(){this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new Rectangle(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.on("pointerout",this.up,this),this.wheelFunction=R=>this.handleWheel(R),this.viewport.options.divWheel.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.divWheel.removeEventListener("wheel",this.wheelFunction)}down(R){if(this.viewport.pause||!this.viewport.worldVisible)return;if(R.data.pointerType==="mouse"?this.isMouseDown=!0:this.get(R.data.pointerId)||this.touches.push({id:R.data.pointerId,last:null}),this.count()===1){this.last=R.data.global.clone();const $=this.viewport.plugins.get("decelerate",!0),N=this.viewport.plugins.get("bounce",!0);(!$||!$.isActive())&&(!N||!N.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(R)&&this.viewport.options.stopPropagation&&R.stopPropagation()}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(R){return Math.abs(R)>=this.viewport.threshold}move(R){if(this.viewport.pause||!this.viewport.worldVisible)return;const I=this.viewport.plugins.move(R);if(this.clickedAvailable&&this.last){const $=R.data.global.x-this.last.x,N=R.data.global.y-this.last.y;(this.checkThreshold($)||this.checkThreshold(N))&&(this.clickedAvailable=!1)}I&&this.viewport.options.stopPropagation&&R.stopPropagation()}up(R){if(this.viewport.pause||!this.viewport.worldVisible)return;R.data.pointerType==="mouse"&&(this.isMouseDown=!1),R.data.pointerType!=="mouse"&&this.remove(R.data.pointerId);const I=this.viewport.plugins.up(R);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:R,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this}),this.clickedAvailable=!1),I&&this.viewport.options.stopPropagation&&R.stopPropagation()}getPointerPosition(R){const I=new Point;return this.viewport.options.interaction?this.viewport.options.interaction.mapPositionToPoint(I,R.clientX,R.clientY):(I.x=R.clientX,I.y=R.clientY),I}handleWheel(R){if(this.viewport.pause||!this.viewport.worldVisible||this.viewport.options.interaction&&this.viewport.options.interaction.interactionDOMElement!==R.target)return;const I=this.viewport.toLocal(this.getPointerPosition(R));this.viewport.left<=I.x&&I.x<=this.viewport.right&&this.viewport.top<=I.y&&I.y<=this.viewport.bottom&&this.viewport.plugins.wheel(R)&&!this.viewport.options.passiveWheel&&R.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(R){for(const I of this.touches)if(I.id===R)return I;return null}remove(R){for(let I=0;I<this.touches.length;I++)if(this.touches[I].id===R){this.touches.splice(I,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}function _optionalChain(T){let R,I=T[0],$=1;for(;$<T.length;){const N=T[$],M=T[$+1];if($+=2,(N==="optionalAccess"||N==="optionalCall")&&I==null)return;N==="access"||N==="optionalAccess"?(R=I,I=M(I)):(N==="call"||N==="optionalCall")&&(I=M((...L)=>I.call(R,...L)),R=void 0)}return I}const PLUGIN_ORDER=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class PluginManager{constructor(R){this.viewport=R,this.list=[],this.plugins={}}add(R,I,$=PLUGIN_ORDER.length){this.plugins[R]=I;const N=PLUGIN_ORDER.indexOf(R);N!==-1&&PLUGIN_ORDER.splice(N,1),PLUGIN_ORDER.splice($,0,R),this.sort()}get(R,I){return I&&_optionalChain([this,"access",$=>$.plugins,"access",$=>$[R],"optionalAccess",$=>$.paused])?null:this.plugins[R]}update(R){for(const I of this.list)I.update(R)}resize(){for(const R of this.list)R.resize()}reset(){for(const R of this.list)R.reset()}removeAll(){this.plugins={},this.sort()}remove(R){this.plugins[R]&&(delete this.plugins[R],this.viewport.emit(`${R}-remove`),this.sort())}pause(R){_optionalChain([this,"access",I=>I.plugins,"access",I=>I[R],"optionalAccess",I=>I.pause,"call",I=>I()])}resume(R){_optionalChain([this,"access",I=>I.plugins,"access",I=>I[R],"optionalAccess",I=>I.resume,"call",I=>I()])}sort(){this.list=[];for(const R of PLUGIN_ORDER)this.plugins[R]&&this.list.push(this.plugins[R])}down(R){let I=!1;for(const $ of this.list)$.down(R)&&(I=!0);return I}move(R){let I=!1;for(const $ of this.viewport.plugins.list)$.move(R)&&(I=!0);return I}up(R){let I=!1;for(const $ of this.list)$.up(R)&&(I=!0);return I}wheel(R){let I=!1;for(const $ of this.list)$.wheel(R)&&(I=!0);return I}}const DEFAULT_VIEWPORT_OPTIONS={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,interaction:null,disableOnContextMenu:!1,ticker:Ticker.shared};class Viewport extends Container{__init(){this._disableOnContextMenu=R=>R.preventDefault()}constructor(R={}){super(),Viewport.prototype.__init.call(this),this.options=Object.assign({},{divWheel:document.body},DEFAULT_VIEWPORT_OPTIONS,R),this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.divWheel=this.options.divWheel||document.body,this.options.disableOnContextMenu&&this.options.divWheel.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new InputManager(this),this.plugins=new PluginManager(this)}destroy(R){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.divWheel.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),super.destroy(R)}update(R){this.pause||(this.plugins.update(R),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new Rectangle(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(R=window.innerWidth,I=window.innerHeight,$,N){this.screenWidth=R,this.screenHeight=I,typeof $<"u"&&(this._worldWidth=$),typeof N<"u"&&(this._worldHeight=N),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(R){this._worldWidth=R,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(R){this._worldHeight=R,this.plugins.resize()}getVisibleBounds(){return new Rectangle(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(R,I){return arguments.length===2?this.toLocal(new Point(R,I)):this.toLocal(R)}toScreen(R,I){return arguments.length===2?this.toGlobal(new Point(R,I)):this.toGlobal(R)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new Point(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(R){this.moveCenter(R)}moveCenter(...R){let I,$;typeof R[0]=="number"?(I=R[0],$=R[1]):(I=R[0].x,$=R[0].y);const N=(this.worldScreenWidth/2-I)*this.scale.x,M=(this.worldScreenHeight/2-$)*this.scale.y;return(this.x!==N||this.y!==M)&&(this.position.set(N,M),this.plugins.reset(),this.dirty=!0),this}get corner(){return new Point(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(R){this.moveCorner(R)}moveCorner(...R){let I,$;return R.length===1?(I=-R[0].x*this.scale.x,$=-R[0].y*this.scale.y):(I=-R[0]*this.scale.x,$=-R[1]*this.scale.y),(I!==this.x||$!==this.y)&&(this.position.set(I,$),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(R){return this.screenWidth/R}findFitHeight(R){return this.screenHeight/R}findFit(R,I){const $=this.screenWidth/R,N=this.screenHeight/I;return Math.min($,N)}findCover(R,I){const $=this.screenWidth/R,N=this.screenHeight/I;return Math.max($,N)}fitWidth(R=this.worldWidth,I,$=!0,N){let M;I&&(M=this.center),this.scale.x=this.screenWidth/R,$&&(this.scale.y=this.scale.x);const L=this.plugins.get("clamp-zoom",!0);return!N&&L&&L.clamp(),I&&M&&this.moveCenter(M),this}fitHeight(R=this.worldHeight,I,$=!0,N){let M;I&&(M=this.center),this.scale.y=this.screenHeight/R,$&&(this.scale.x=this.scale.y);const L=this.plugins.get("clamp-zoom",!0);return!N&&L&&L.clamp(),I&&M&&this.moveCenter(M),this}fitWorld(R){let I;R&&(I=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const $=this.plugins.get("clamp-zoom",!0);return $&&$.clamp(),R&&I&&this.moveCenter(I),this}fit(R,I=this.worldWidth,$=this.worldHeight){let N;R&&(N=this.center),this.scale.x=this.screenWidth/I,this.scale.y=this.screenHeight/$,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const M=this.plugins.get("clamp-zoom",!0);return M&&M.clamp(),R&&N&&this.moveCenter(N),this}setZoom(R,I){let $;I&&($=this.center),this.scale.set(R);const N=this.plugins.get("clamp-zoom",!0);return N&&N.clamp(),I&&$&&this.moveCenter($),this}zoomPercent(R,I){return this.setZoom(this.scale.x+this.scale.x*R,I)}zoom(R,I){return this.fitWidth(R+this.worldScreenWidth,I),this}get scaled(){return this.scale.x}set scaled(R){this.setZoom(R,!0)}snapZoom(R){return this.plugins.add("snap-zoom",new SnapZoom(this,R)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new Point(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(R){this.x=-R*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(R){this.x=-R*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(R){this.y=-R*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(R){this.y=-R*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(R){this._dirty=R}get forceHitArea(){return this._forceHitArea}set forceHitArea(R){R?(this._forceHitArea=R,this.hitArea=R):(this._forceHitArea=null,this.hitArea=new Rectangle(0,0,this.worldWidth,this.worldHeight))}drag(R){return this.plugins.add("drag",new Drag(this,R)),this}clamp(R){return this.plugins.add("clamp",new Clamp(this,R)),this}decelerate(R){return this.plugins.add("decelerate",new Decelerate(this,R)),this}bounce(R){return this.plugins.add("bounce",new Bounce(this,R)),this}pinch(R){return this.plugins.add("pinch",new Pinch(this,R)),this}snap(R,I,$){return this.plugins.add("snap",new Snap(this,R,I,$)),this}follow(R,I){return this.plugins.add("follow",new Follow(this,R,I)),this}wheel(R){return this.plugins.add("wheel",new Wheel(this,R)),this}animate(R){return this.plugins.add("animate",new Animate(this,R)),this}clampZoom(R){return this.plugins.add("clamp-zoom",new ClampZoom(this,R)),this}mouseEdges(R){return this.plugins.add("mouse-edges",new MouseEdges(this,R)),this}get pause(){return!!this._pause}set pause(R){this._pause=R,this.lastViewport=null,this.moving=!1,this.zooming=!1,R&&this.input.pause()}ensureVisible(R,I,$,N,M){M&&($>this.worldScreenWidth||N>this.worldScreenHeight)&&(this.fit(!0,$,N),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let L=!1;R<this.left?(this.left=R,L=!0):R+$>this.right&&(this.right=R+$,L=!0),I<this.top?(this.top=I,L=!0):I+N>this.bottom&&(this.bottom=I+N,L=!0),L&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}const EVENTS=["clicked","drag-start","drag-end","drag-remove","pinch-start","pinch-end","pinch-remove","snap-start","snap-end","snap-remove","snap-zoom-start","snap-zoom-end","snap-zoom-remove","bounce-x-start","bounce-x-end","bounce-y-start","bounce-y-end","bounce-remove","wheel","wheel-remove","wheel-scroll","wheel-scroll-remove","mouse-edge-start","mouse-edge-end","mouse-edge-remove","moved","moved-end","zoomed","zoomed-end","frame-end"],_sfc_main$b=defineComponent({__name:"PixiViewport",props:{screenWidth:{type:Number,required:!1,default:void 0},screenHeight:{type:Number,required:!1,default:void 0},worldWidth:{type:Number,required:!1,default:void 0},worldHeight:{type:Number,required:!1,default:void 0},threshold:{type:Number,required:!1,default:void 0},passiveWheel:{type:Boolean,required:!1,default:void 0},stopPropagation:{type:Boolean,required:!1,default:void 0},forceHitArea:{type:Rectangle,required:!1,default:void 0},noTicker:{type:Boolean,required:!1,default:void 0},interaction:{type:InteractionManager,required:!1,default:void 0},disableOnContextMenu:{type:Boolean,required:!1,default:void 0},divWheel:{type:HTMLElement,required:!1,default:void 0},ticker:{type:Ticker,required:!1,default:void 0},drag:{type:Object,required:!1,default:void 0},clamp:{type:Object,required:!1,default:void 0},decelerate:{type:Object,required:!1,default:void 0},bounce:{type:Object,required:!1,default:void 0},pinch:{type:Object,required:!1,default:void 0},snap:{type:Object,required:!1,default:void 0},follow:{type:Object,required:!1,default:void 0},wheel:{type:Object,required:!1,default:void 0},animate:{type:Object,required:!1,default:void 0},clampZoom:{type:Object,required:!1,default:void 0},mouseEdges:{type:Object,required:!1,default:void 0}},emits:["clicked","drag-start","drag-end","pinch-end","snap-start","snap-end","snap-zoom-start","snap-zoom-end","bounce-x-start","bounce-x-end","bounce-y-start","bounce-y-end","wheel","wheel-scroll","mouse-edge-start","mouse-edge-end","moved","zoomed","moved-end","zoomed-end","frame-end"],setup(T,{expose:R,emit:I}){var U,H;const $=T,N=getCurrentInstance(),M=["drag","clamp","decelerate","bounce","pinch","snap","follow","wheel","animate","clampZoom","mouseEdges"],L=isAnyPropertySet($)?new Viewport(omitUndefined(_$1.omit($,M))):new Viewport;for(const z of M)if($[z]!=null){const V=typeof $[z]=="object"?$[z].options:void 0;if(z==="snap"){const W=$[z];L.snap(W.x,W.y,V)}else if(z==="follow"){const W=$[z];L.follow(W.target,V)}else L[z](V)}const B=(H=(U=N==null?void 0:N.parent)==null?void 0:U.exposed)==null?void 0:H.application;if(B==null)throw new Error("pixi-viewport must be used inside pixi-application");const k=new Map;return onMounted(()=>{EVENTS.forEach(z=>{const V=(...W)=>I(z,...W);L.addListener(z,V),k.set(z,V)}),B.stage.addChild(L)}),onUnmounted(()=>{B.stage.removeChild(L),k.forEach((z,V)=>{z!=null&&L.removeListener(V,z)})}),R({viewport:L}),(z,V)=>renderSlot(z.$slots,"default",{viewport:unref(L)})}});/*!
 * @pixi/basis - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/basis is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __awaiter$1(T,R,I,$){function N(M){return M instanceof I?M:new I(function(L){L(M)})}return new(I||(I=Promise))(function(M,L){function B(H){try{U($.next(H))}catch(z){L(z)}}function k(H){try{U($.throw(H))}catch(z){L(z)}}function U(H){H.done?M(H.value):N(H.value).then(B,k)}U(($=$.apply(T,R||[])).next())})}function __generator$1(T,R){var I={label:0,sent:function(){if(M[0]&1)throw M[1];return M[1]},trys:[],ops:[]},$,N,M,L;return L={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(L[Symbol.iterator]=function(){return this}),L;function B(U){return function(H){return k([U,H])}}function k(U){if($)throw new TypeError("Generator is already executing.");for(;I;)try{if($=1,N&&(M=U[0]&2?N.return:U[0]?N.throw||((M=N.return)&&M.call(N),0):N.next)&&!(M=M.call(N,U[1])).done)return M;switch(N=0,M&&(U=[U[0]&2,M.value]),U[0]){case 0:case 1:M=U;break;case 4:return I.label++,{value:U[1],done:!1};case 5:I.label++,N=U[1],U=[0];continue;case 7:U=I.ops.pop(),I.trys.pop();continue;default:if(M=I.trys,!(M=M.length>0&&M[M.length-1])&&(U[0]===6||U[0]===2)){I=0;continue}if(U[0]===3&&(!M||U[1]>M[0]&&U[1]<M[3])){I.label=U[1];break}if(U[0]===6&&I.label<M[1]){I.label=M[1],M=U;break}if(M&&I.label<M[2]){I.label=M[2],I.ops.push(U);break}M[2]&&I.ops.pop(),I.trys.pop();continue}U=R.call(T,I)}catch(H){U=[6,H],N=0}finally{$=M=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}}var _a,_b,_c,BASIS_FORMATS;(function(T){T[T.cTFETC1=0]="cTFETC1",T[T.cTFETC2=1]="cTFETC2",T[T.cTFBC1=2]="cTFBC1",T[T.cTFBC3=3]="cTFBC3",T[T.cTFBC4=4]="cTFBC4",T[T.cTFBC5=5]="cTFBC5",T[T.cTFBC7=6]="cTFBC7",T[T.cTFPVRTC1_4_RGB=8]="cTFPVRTC1_4_RGB",T[T.cTFPVRTC1_4_RGBA=9]="cTFPVRTC1_4_RGBA",T[T.cTFASTC_4x4=10]="cTFASTC_4x4",T[T.cTFATC_RGB=11]="cTFATC_RGB",T[T.cTFATC_RGBA_INTERPOLATED_ALPHA=12]="cTFATC_RGBA_INTERPOLATED_ALPHA",T[T.cTFRGBA32=13]="cTFRGBA32",T[T.cTFRGB565=14]="cTFRGB565",T[T.cTFBGR565=15]="cTFBGR565",T[T.cTFRGBA4444=16]="cTFRGBA4444"})(BASIS_FORMATS||(BASIS_FORMATS={}));var BASIS_FORMAT_TO_INTERNAL_FORMAT=(_a={},_a[BASIS_FORMATS.cTFETC1]=INTERNAL_FORMATS.COMPRESSED_RGB_ETC1_WEBGL,_a[BASIS_FORMATS.cTFBC1]=INTERNAL_FORMATS.COMPRESSED_RGB_S3TC_DXT1_EXT,_a[BASIS_FORMATS.cTFBC3]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_a[BASIS_FORMATS.cTFPVRTC1_4_RGB]=INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,_a[BASIS_FORMATS.cTFPVRTC1_4_RGBA]=INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,_a[BASIS_FORMATS.cTFATC_RGB]=INTERNAL_FORMATS.COMPRESSED_RGB_ATC_WEBGL,_a[BASIS_FORMATS.cTFASTC_4x4]=INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL,_a),BASIS_FORMAT_TO_TYPE=(_b={},_b[BASIS_FORMATS.cTFRGBA32]=TYPES$5.UNSIGNED_BYTE,_b[BASIS_FORMATS.cTFRGB565]=TYPES$5.UNSIGNED_SHORT_5_6_5,_b[BASIS_FORMATS.cTFRGBA4444]=TYPES$5.UNSIGNED_SHORT_4_4_4_4,_b),INTERNAL_FORMAT_TO_BASIS_FORMAT=Object.keys(BASIS_FORMAT_TO_INTERNAL_FORMAT).map(function(T){return Number(T)}).reduce(function(T,R){return T[BASIS_FORMAT_TO_INTERNAL_FORMAT[R]]=R,T},{}),BASIS_FORMATS_ALPHA=(_c={},_c[BASIS_FORMATS.cTFBC3]=!0,_c[BASIS_FORMATS.cTFPVRTC1_4_RGBA]=!0,_c[BASIS_FORMATS.cTFASTC_4x4]=!0,_c);function TranscoderWorkerWrapper(){var T,R={init:function(I){return self.BASIS?(self.BASIS({wasmBinary:I.wasmSource}).then(function($){$.initializeBasis(),T=$,self.postMessage({type:"init",success:!0})}),null):(console.warn("jsSource was not prepended?"),{type:"init",success:!1})},transcode:function(I){var $=I.basisData,N=T,M=$,L=new N.BasisFile(M),B=L.getNumImages(),k=L.getHasAlpha(),U=k?I.rgbaFormat:I.rgbFormat,H=14,z=new Array(B),V=!1;if(!L.startTranscoding())return L.close(),L.delete(),{type:"transcode",requestID:I.requestID,success:!1,imageArray:null};for(var W=0;W<B;W++){for(var K=L.getNumLevels(W),Y={imageID:W,levelArray:new Array,width:null,height:null},q=0;q<K;q++){var Z=V?H:U,Q=L.getImageWidth(W,q),ee=L.getImageHeight(W,q),ne=L.getImageTranscodedSizeInBytes(W,q,Z),te=Q+3&-4,re=ee+3&-4;q===0&&(Y.width=te,Y.height=re);var ie=new Uint8Array(ne);if(!L.transcodeImage(ie,W,q,Z,!1,!1)){if(V)return console.error("Basis failed to transcode image "+W+", level "+q+"!"),{type:"transcode",requestID:I.requestID,success:!1};console.warn("Basis failed to transcode image "+W+", level "+q+"! Retrying to an uncompressed texture format!"),W=-1,V=!0;break}Y.levelArray.push({levelID:q,levelWidth:Q,levelHeight:ee,levelBuffer:ie})}z[W]=Y}return L.close(),L.delete(),{type:"transcode",requestID:I.requestID,success:!0,basisFormat:V?H:U,imageArray:z}}};self.onmessage=function(I){var $=I.data,N=R[$.type]($);N&&self.postMessage(N)}}var TranscoderWorker=function(){function T(){var R=this;this.requests={},this.onMessage=function(I){var $=I.data;if($.type==="init"){if(!$.success)throw new Error("BasisResource.TranscoderWorker failed to initialize.");R.isInit=!0,R.onInit()}else if($.type==="transcode"){--R.load;var N=$.requestID;$.success?R.requests[N].resolve($):R.requests[N].reject(),delete R.requests[N]}},this.isInit=!1,this.load=0,this.initPromise=new Promise(function(I){R.onInit=I}),T.wasmSource||console.warn("PIXI.resources.BasisResource.TranscoderWorker has not been given the transcoder WASM binary!"),this.worker=new Worker(T.workerURL),this.worker.onmessage=this.onMessage,this.worker.postMessage({type:"init",jsSource:T.jsSource,wasmSource:T.wasmSource})}return Object.defineProperty(T,"workerURL",{get:function(){if(!T._workerURL){var R=TranscoderWorkerWrapper.toString(),I=R.indexOf("{"),$=R.lastIndexOf("}");R=R.slice(I+1,$),T.jsSource&&(R=T.jsSource+`
`+R),T._workerURL=URL.createObjectURL(new Blob([R]))}return T._workerURL},enumerable:!1,configurable:!0}),T.prototype.initAsync=function(){return this.initPromise},T.prototype.transcodeAsync=function(R,I,$){return __awaiter$1(this,void 0,Promise,function(){var N,M,L=this;return __generator$1(this,function(B){return++this.load,N=T._tempID++,M=new Promise(function(k,U){L.requests[N]={resolve:k,reject:U}}),this.worker.postMessage({requestID:N,basisData:R,rgbaFormat:I,rgbFormat:$,type:"transcode"}),[2,M]})})},T.loadTranscoder=function(R,I){var $=this,N=fetch(R).then(function(L){return L.text()}).then(function(L){T.jsSource=L}),M=fetch(I).then(function(L){return L.arrayBuffer()}).then(function(L){T.wasmSource=L});return Promise.all([N,M]).then(function(L){return $._onTranscoderInitializedResolve(),L})},T.setTranscoder=function(R,I){T.jsSource=R,T.wasmSource=I},T.onTranscoderInitialized=new Promise(function(R){T._onTranscoderInitializedResolve=R}),T._tempID=0,T}(),BasisParser=function(){function T(){}return T.transcode=function(R){return __awaiter$1(this,void 0,Promise,function(){var I;return __generator$1(this,function($){switch($.label){case 0:return typeof Worker<"u"&&T.TranscoderWorker.wasmSource?[4,T.transcodeAsync(R)]:[3,2];case 1:return I=$.sent(),[3,3];case 2:I=T.transcodeSync(R),$.label=3;case 3:return[2,I]}})})},T.transcodeAsync=function(R){return __awaiter$1(this,void 0,Promise,function(){var I,$,N,z,V,M,L,B,k,U,H,z,V;return __generator$1(this,function(W){switch(W.label){case 0:for(!T.defaultRGBAFormat&&!T.defaultRGBFormat&&T.autoDetectFormats(),I=T.workerPool,$=268435456,N=null,z=0,V=I.length;z<V;z++)I[z].load<$&&(N=I[z],$=N.load);return N||(N=new TranscoderWorker,I.push(N)),[4,N.initAsync()];case 1:return W.sent(),[4,N.transcodeAsync(new Uint8Array(R),T.defaultRGBAFormat.basisFormat,T.defaultRGBFormat.basisFormat)];case 2:if(M=W.sent(),L=M.basisFormat,B=M.imageArray,k=L>12,k)U=B.map(function(K){return new BufferResource(new Uint16Array(K.levelArray[0].levelBuffer.buffer),{width:K.width,height:K.height})});else for(H=BASIS_FORMAT_TO_INTERNAL_FORMAT[M.basisFormat],U=new Array(B.length),z=0,V=B.length;z<V;z++)U[z]=new CompressedTextureResource(null,{format:H,width:B[z].width,height:B[z].height,levelBuffers:B[z].levelArray,levels:B[z].levelArray.length});return U.basisFormat=L,[2,U]}})})},T.transcodeSync=function(R){!T.defaultRGBAFormat&&!T.defaultRGBFormat&&T.autoDetectFormats();var I=T.basisBinding,$=new Uint8Array(R),N=new I.BasisFile($),M=N.getNumImages(),L=N.getHasAlpha(),B=L?T.defaultRGBAFormat.basisFormat:T.defaultRGBFormat.basisFormat,k=BASIS_FORMATS.cTFRGB565,U=new Array(M),H=T.fallbackMode;if(!N.startTranscoding())return console.error("Basis failed to start transcoding!"),N.close(),N.delete(),null;for(var z=0;z<M;z++){for(var V=H?1:N.getNumLevels(z),W=N.getImageWidth(z,0),K=N.getImageHeight(z,0),Y=W+3&-4,q=K+3&-4,Z=new Array(V),Q=0;Q<V;Q++){var ee=N.getImageWidth(z,Q),ne=N.getImageHeight(z,Q),te=N.getImageTranscodedSizeInBytes(z,0,H?k:B);if(Z[Q]={levelID:Q,levelBuffer:new Uint8Array(te),levelWidth:ee,levelHeight:ne},!N.transcodeImage(Z[Q].levelBuffer,z,0,H?k:B,!1,!1))if(H){console.error("Basis failed to transcode image "+z+", level "+0+"!");break}else{z=-1,H=!0,console.warn("Basis failed to transcode image "+z+", level "+0+" to a compressed texture format. Retrying to an uncompressed fallback format!");continue}}var re=void 0;H?re=new BufferResource(new Uint16Array(Z[0].levelBuffer.buffer),{width:W,height:K}):re=new CompressedTextureResource(null,{format:BASIS_FORMAT_TO_INTERNAL_FORMAT[B],width:Y,height:q,levelBuffers:Z,levels:V}),U[z]=re}N.close(),N.delete();var ie=U;return ie.basisFormat=H?k:B,ie},T.autoDetectFormats=function(R){if(!R){var I=settings$1.ADAPTER.createCanvas(),$=I.getContext("webgl");if(!$){console.error("WebGL not available for BASIS transcoding. Silently failing.");return}R={s3tc:$.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:$.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:$.getExtension("WEBGL_compressed_texture_etc"),etc1:$.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:$.getExtension("WEBGL_compressed_texture_pvrtc")||$.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:$.getExtension("WEBGL_compressed_texture_atc"),astc:$.getExtension("WEBGL_compressed_texture_astc")}}var N={};for(var M in R){var L=R[M];!L||Object.assign(N,Object.getPrototypeOf(L))}for(var B=0;B<2;B++){var k=!!B,U=void 0,H=void 0;for(var z in N)if(U=N[z],H=INTERNAL_FORMAT_TO_BASIS_FORMAT[U],H!==void 0&&(k&&BASIS_FORMATS_ALPHA[H]||!k&&!BASIS_FORMATS_ALPHA[H]))break;U?T[k?"defaultRGBAFormat":"defaultRGBFormat"]={textureFormat:U,basisFormat:H}:(T[k?"defaultRGBAFormat":"defaultRGBFormat"]={textureFormat:TYPES$5.UNSIGNED_SHORT_5_6_5,basisFormat:BASIS_FORMATS.cTFRGB565},T.fallbackMode=!0)}},T.bindTranscoder=function(R){T.basisBinding=R},T.loadTranscoder=function(R,I){return T.TranscoderWorker.loadTranscoder(R,I)},T.setTranscoder=function(R,I){T.TranscoderWorker.setTranscoder(R,I)},Object.defineProperty(T,"TRANSCODER_WORKER_POOL_LIMIT",{get:function(){return this.workerPool.length||1},set:function(R){for(var I=this.workerPool.length;I<R;I++)this.workerPool[I]=new TranscoderWorker,this.workerPool[I].initAsync()},enumerable:!1,configurable:!0}),T.extension=ExtensionType.Loader,T.fallbackMode=!1,T.workerPool=[],T.TranscoderWorker=TranscoderWorker,T}();LoaderResource.setExtensionXhrType("basis",LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var BasisLoader=function(){function T(){}return T.use=function(R,I){var $=this;R.extension==="basis"&&R.data?function(){return __awaiter$1($,void 0,void 0,function(){var N;return __generator$1(this,function(M){switch(M.label){case 0:return!BasisParser.basisBinding&&!BasisParser.TranscoderWorker.wasmSource?[4,TranscoderWorker.onTranscoderInitialized]:[3,2];case 1:M.sent(),M.label=2;case 2:return[4,BasisParser.transcode(R.data)];case 3:return N=M.sent(),Object.assign(R,T.registerTextures(R.url,N,R.metadata)),I(),[2]}})})}():I()},T.registerTextures=function(R,I,$){var N={textures:{},texture:null};if(!I)return N;var M=BASIS_FORMAT_TO_TYPE[I.basisFormat],L=I.basisFormat!==BASIS_FORMATS.cTFRGBA32?FORMATS$5.RGB:FORMATS$5.RGBA,B=I,k=B.map(function(U){return new Texture(new BaseTexture(U,Object.assign({mipmap:U instanceof CompressedTextureResource&&U.levels>1?MIPMAP_MODES$5.ON_MANUAL:MIPMAP_MODES$5.OFF,alphaMode:ALPHA_MODES$5.NO_PREMULTIPLIED_ALPHA,type:M,format:L},$)))});return k.forEach(function(U,H){var z=U.baseTexture,V=R+"-"+(H+1);BaseTexture.addToCache(z,V),Texture.addToCache(U,V),H===0&&(BaseTexture.addToCache(z,R),Texture.addToCache(U,R),N.texture=U),N.textures[V]=U}),N},T.bindTranscoder=function(R){BasisParser.basisBinding=R},T.loadTranscoder=function(R,I){return BasisParser.TranscoderWorker.loadTranscoder(R,I)},T.setTranscoder=function(R,I){BasisParser.TranscoderWorker.setTranscoder(R,I)},T.extension=ExtensionType.Loader,T}();extensions$1.add(BasisLoader);/*!
 * @pixi/assets - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/assets is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign=function(){return __assign=Object.assign||function(R){for(var I=arguments,$,N=1,M=arguments.length;N<M;N++){$=I[N];for(var L in $)Object.prototype.hasOwnProperty.call($,L)&&(R[L]=$[L])}return R},__assign.apply(this,arguments)};function __awaiter(T,R,I,$){function N(M){return M instanceof I?M:new I(function(L){L(M)})}return new(I||(I=Promise))(function(M,L){function B(H){try{U($.next(H))}catch(z){L(z)}}function k(H){try{U($.throw(H))}catch(z){L(z)}}function U(H){H.done?M(H.value):N(H.value).then(B,k)}U(($=$.apply(T,R||[])).next())})}function __generator(T,R){var I={label:0,sent:function(){if(M[0]&1)throw M[1];return M[1]},trys:[],ops:[]},$,N,M,L;return L={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(L[Symbol.iterator]=function(){return this}),L;function B(U){return function(H){return k([U,H])}}function k(U){if($)throw new TypeError("Generator is already executing.");for(;I;)try{if($=1,N&&(M=U[0]&2?N.return:U[0]?N.throw||((M=N.return)&&M.call(N),0):N.next)&&!(M=M.call(N,U[1])).done)return M;switch(N=0,M&&(U=[U[0]&2,M.value]),U[0]){case 0:case 1:M=U;break;case 4:return I.label++,{value:U[1],done:!1};case 5:I.label++,N=U[1],U=[0];continue;case 7:U=I.ops.pop(),I.trys.pop();continue;default:if(M=I.trys,!(M=M.length>0&&M[M.length-1])&&(U[0]===6||U[0]===2)){I=0;continue}if(U[0]===3&&(!M||U[1]>M[0]&&U[1]<M[3])){I.label=U[1];break}if(U[0]===6&&I.label<M[1]){I.label=M[1],M=U;break}if(M&&I.label<M[2]){I.label=M[2],I.ops.push(U);break}M[2]&&I.ops.pop(),I.trys.pop();continue}U=R.call(T,I)}catch(H){U=[6,H],N=0}finally{$=M=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}}var BackgroundLoader=function(){function T(R,I){I===void 0&&(I=!1),this._loader=R,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=I}return T.prototype.add=function(R){var I=this;R.forEach(function($){I._assetList.push($)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()},T.prototype._next=function(){return __awaiter(this,void 0,Promise,function(){var R,I,$;return __generator(this,function(N){switch(N.label){case 0:if(!(this._assetList.length&&this._isActive))return[3,2];for(this._isLoading=!0,R=[],I=Math.min(this._assetList.length,this._maxConcurrent),$=0;$<I;$++)R.push(this._assetList.pop());return[4,this._loader.load(R)];case 1:N.sent(),this._isLoading=!1,this._next(),N.label=2;case 2:return[2]}})})},Object.defineProperty(T.prototype,"active",{get:function(){return this._isActive},set:function(R){this._isActive!==R&&(this._isActive=R,R&&!this._isLoading&&this._next())},enumerable:!1,configurable:!0}),T}();function isAbsolute(T){return T.charAt(0)==="/"}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function splitPath(T){return splitPathRe.exec(T).slice(1)}function basename(T,R){var I=splitPath(T)[2];return R&&I.substring(-1*R.length)===R&&(I=I.substring(0,I.length-R.length)),I}function extname(T){return splitPath(T)[3]}function join(){for(var T=arguments,R=[],I=0;I<arguments.length;I++)R[I]=T[I];for(var $="",N=0;N<R.length;N++){var M=R[N];M&&($?$+="/"+M:$+=M)}return normalize$1($)}function dirname(T){var R=splitPath(T),I=R[0],$=R[1];return!I&&!$?".":($&&($=$.substring(0,$.length-1)),I+$)}function normalize$1(T){var R=isAbsolute(T),I=T&&T[T.length-1]==="/";return T=normalizeArray(T.split("/"),!R).join("/"),!T&&!R&&(T="."),T&&I&&(T+="/"),(R?"/":"")+T}function normalizeArray(T,R){for(var I=[],$=0;$<T.length;$++){var N=T[$];!N||N==="."||(N===".."?I.length&&I[I.length-1]!==".."?I.pop():R&&I.push(".."):I.push(N))}return I}function normalize(T){var R=[];if(T.length===0)return"";if(typeof T[0]!="string")throw new TypeError("Url must be a string. Received "+T[0]);if(/^[^/:]+:\/*$/.exec(T[0])&&T.length>1){var I=T.shift();T[0]=I+T[0]}/^file:\/\/\//.exec(T[0])?T[0]=T[0].replace(/^([^/:]+):\/*/,"$1:///"):T[0]=T[0].replace(/^([^/:]+):\/*/,"$1://");for(var $=0;$<T.length;$++){var N=T[$];if(typeof N!="string")throw new TypeError("Url must be a string. Received "+N);N!==""&&($>0&&(N=N.replace(/^[/]+/,"")),$<T.length-1?N=N.replace(/[/]+$/,""):N=N.replace(/[/]+$/,"/"),R.push(N))}var M=R.join("/");M=M.replace(/\/(\?|&|#[^!])/g,"$1");var L=M.split("?");return M=L.shift()+(L.length>0?"?":"")+L.join("&"),M}function urlJoin(){for(var T=arguments,R=[],I=0;I<arguments.length;I++)R[I]=T[I];var $;return typeof R[0]=="object"?$=R[0]:$=[].slice.call(R),normalize($)}function isAbsoluteUrl(T){return/^[a-zA-Z]:\\/.test(T)?!1:/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(T)}function getBaseUrl(T){var R=new RegExp(/^.*\//);return R.exec(T.split("?")[0])[0].replace(new RegExp(/#\/|#/),"")}var baseUrl;function makeAbsoluteUrl(T,R){baseUrl||(baseUrl=getBaseUrl(settings$1.ADAPTER.getBaseUrl()));var I=R!==void 0?getBaseUrl(R):baseUrl,$=isAbsoluteUrl(T)?T:urlJoin(I,T);return $}var convertToList=function(T,R){return Array.isArray(T)||(T=[T]),R?T.map(function(I){return typeof I=="string"?R(I):I}):T};function processX(T,R,I,$,N){for(var M=R[I],L=0;L<M.length;L++){var B=M[L];I<R.length-1?processX(T.replace($[I],B),R,I+1,$,N):N.push(T.replace($[I],B))}}function createStringVariations(T){var R=/\{(.*?)\}/g,I=T.match(R),$=[];if(I){var N=[];I.forEach(function(M){var L=M.substring(1,M.length-1).split(",");N.push(L)}),processX(T,N,0,I,$)}else $.push(T);return $}var isSingleItem=function(T){return!Array.isArray(T)},CacheClass=function(){function T(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}return T.prototype.reset=function(){this._cacheMap.clear(),this._cache.clear()},T.prototype.has=function(R){return this._cache.has(R)},T.prototype.get=function(R){var I=this._cache.get(R);return I||console.warn("[Assets] Asset id "+R+" was not found in the Cache"),I},T.prototype.set=function(R,I){for(var $=this,N=convertToList(R),M,L=0;L<this.parsers.length;L++){var B=this.parsers[L];if(B.test(I)){M=B.getCacheableAssets(N,I);break}}M||(M={},N.forEach(function(z){M[z]=I}));var k=Object.keys(M),U={cacheKeys:k,keys:N};if(N.forEach(function(z){$._cacheMap.set(z,U)}),k.forEach(function(z){$._cache.has(z)&&$._cache.get(z)!==I&&console.warn("[Cache] already has key:",z),$._cache.set(z,M[z])}),I instanceof Texture){var H=I;N.forEach(function(z){H.baseTexture!==Texture.EMPTY.baseTexture&&BaseTexture.addToCache(H.baseTexture,z),Texture.addToCache(H,z)})}},T.prototype.remove=function(R){var I=this;if(this._cacheMap.get(R),!this._cacheMap.has(R)){console.warn("[Assets] Asset id "+R+" was not found in the Cache");return}var $=this._cacheMap.get(R),N=$.cacheKeys;N.forEach(function(M){I._cache.delete(M)}),$.keys.forEach(function(M){I._cacheMap.delete(M)})},Object.defineProperty(T.prototype,"parsers",{get:function(){return this._parsers},enumerable:!1,configurable:!0}),T}(),Cache=new CacheClass;function getCacheableAssets(T,R,I){var $={};if(T.forEach(function(M){$[M]=R}),Object.keys(R.textures).forEach(function(M){$[M]=R.textures[M]}),!I){var N=dirname(T[0]);R.linkedSheets.forEach(function(M,L){var B=getCacheableAssets([N+"/"+R.data.meta.related_multi_packs[L]],M,!0);Object.assign($,B)})}return $}var cacheSpritesheet={extension:ExtensionType.CacheParser,test:function(T){return T instanceof Spritesheet},getCacheableAssets:function(T,R){return getCacheableAssets(T,R,!1)}},cacheTextureArray={extension:ExtensionType.CacheParser,test:function(T){return Array.isArray(T)&&T.every(function(R){return R instanceof Texture})},getCacheableAssets:function(T,R){var I={};return T.forEach(function($){R.forEach(function(N,M){I[$+(M===0?"":M+1)]=N})}),I}};function addFormats(){for(var T=arguments,R=this,I=[],$=0;$<arguments.length;$++)I[$]=T[$];return function(N){return __awaiter(R,void 0,void 0,function(){return __generator(this,function(M){return N.unshift.apply(N,I),[2,N]})})}}function removeFormats(){for(var T=arguments,R=this,I=[],$=0;$<arguments.length;$++)I[$]=T[$];return function(N){return __awaiter(R,void 0,void 0,function(){var M,L,B,k;return __generator(this,function(U){for(M=0,L=I;M<L.length;M++)B=L[M],k=N.indexOf(B),k!==-1&&N.splice(k,1);return[2,N]})})}}var detectAvif={extension:ExtensionType.DetectionParser,test:function(){return __awaiter(void 0,void 0,Promise,function(){var T,R;return __generator(this,function(I){switch(I.label){case 0:return globalThis.createImageBitmap?(T="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",[4,settings$1.ADAPTER.fetch(T).then(function($){return $.blob()})]):[2,!1];case 1:return R=I.sent(),[2,createImageBitmap(R).then(function(){return!0},function(){return!1})]}})})},add:addFormats("avif"),remove:removeFormats("avif")},storedGl,extensions;function getCompressedTextureExtensions(){extensions={s3tc:storedGl.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:storedGl.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:storedGl.getExtension("WEBGL_compressed_texture_etc"),etc1:storedGl.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:storedGl.getExtension("WEBGL_compressed_texture_pvrtc")||storedGl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:storedGl.getExtension("WEBGL_compressed_texture_atc"),astc:storedGl.getExtension("WEBGL_compressed_texture_astc")}}ExtensionType.DetectionParser;ExtensionType.DetectionParser,addFormats("basis"),removeFormats("basis");var detectWebp={extension:ExtensionType.DetectionParser,test:function(){return __awaiter(void 0,void 0,Promise,function(){var T,R;return __generator(this,function(I){switch(I.label){case 0:return globalThis.createImageBitmap?(T="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",[4,settings$1.ADAPTER.fetch(T).then(function($){return $.blob()})]):[2,!1];case 1:return R=I.sent(),[2,createImageBitmap(R).then(function(){return!0},function(){return!1})]}})})},add:addFormats("webp"),remove:removeFormats("webp")};function _loadBitmap(T,R,I){return __awaiter(this,void 0,Promise,function(){var $,N,M,L,B,k,U,H;return __generator(this,function(z){switch(z.label){case 0:for($=R.page,N=[],M=0;M<$.length;++M)L=$[M].file,B=join(dirname(T),L),N.push(B);return H=(U=Object).values,[4,I.load(N)];case 1:return k=H.apply(U,[z.sent()]),[2,BitmapFont.install(R,k,!0)]}})})}var validExtensions=[".xml",".fnt"],loadBitmapFont={extension:ExtensionType.LoadParser,test:function(T){return validExtensions.includes(extname(T))},testParse:function(T){return __awaiter(this,void 0,Promise,function(){var R,I;return __generator(this,function($){return R=TextFormat.test(T),I=XMLStringFormat.test(T),[2,R||I]})})},parse:function(T,R,I){return __awaiter(this,void 0,Promise,function(){var $,N;return __generator(this,function(M){switch(M.label){case 0:return $=TextFormat.test(T),$?(N=TextFormat.parse(T),[4,_loadBitmap(R.src,N,I)]):[3,2];case 1:return[2,M.sent()];case 2:return[4,_loadBitmap(R.src,XMLStringFormat.parse(T),I)];case 3:return[2,M.sent()]}})})},load:function(T,R,I){return __awaiter(this,void 0,Promise,function(){var $,N,M;return __generator(this,function(L){switch(L.label){case 0:return[4,settings$1.ADAPTER.fetch(T)];case 1:return $=L.sent(),[4,$.text()];case 2:return N=L.sent(),M=new window.DOMParser().parseFromString(N,"text/xml"),[4,_loadBitmap(T,XMLFormat.parse(M),I)];case 3:return[2,L.sent()]}})})},unload:function(T){T.destroy()}},loadJson={extension:ExtensionType.LoadParser,test:function(T){return extname(T).includes(".json")},load:function(T){return __awaiter(this,void 0,Promise,function(){var R,I;return __generator(this,function($){switch($.label){case 0:return[4,settings$1.ADAPTER.fetch(T)];case 1:return R=$.sent(),[4,R.json()];case 2:return I=$.sent(),[2,I]}})})}},loadSpritesheet={extension:ExtensionType.LoadParser,testParse:function(T,R){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(I){return[2,extname(R.src).includes(".json")&&!!T.frames]})})},parse:function(T,R,I){var $,N;return __awaiter(this,void 0,Promise,function(){var M,L,B,k,U,H,z,V,W,K,Y,q;return __generator(this,function(Z){switch(Z.label){case 0:return M=dirname(R.src),M&&M.lastIndexOf("/")!==M.length-1&&(M+="/"),L=M+T.meta.image,[4,I.load([L])];case 1:return B=Z.sent(),k=B[L],U=new Spritesheet(k.baseTexture,T,R.src),[4,U.parse()];case 2:if(Z.sent(),H=($=T==null?void 0:T.meta)===null||$===void 0?void 0:$.related_multi_packs,!Array.isArray(H))return[3,4];for(z=[],V=0,W=H;V<W.length;V++)K=W[V],typeof K=="string"&&(Y=M+K,!(!((N=R.data)===null||N===void 0)&&N.ignoreMultiPack)&&z.push(I.load({src:Y,data:{ignoreMultiPack:!0}})));return[4,Promise.all(z)];case 3:q=Z.sent(),U.linkedSheets=q,q.forEach(function(Q){Q.linkedSheets=[U].concat(U.linkedSheets.filter(function(ee){return ee!==Q}))}),Z.label=4;case 4:return[2,U]}})})},unload:function(T){T.destroy(!0)}},UUID=0,MAX_WORKERS,workerCode={id:"loadImageBitmap",code:`
    self.onmessage = function(event) {

        async function loadImageBitmap(url)
        {
            const response = await fetch(url);
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);
            return imageBitmap;
        }

        loadImageBitmap(event.data.data[0]).then(imageBitmap => {
            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }).catch(error => {
            self.postMessage({
                data: null,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        });
    }`},workerURL,WorkerManagerClass=function(){function T(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}return T.prototype.loadImageBitmap=function(R){return this._run("loadImageBitmap",[R])},T.prototype._initWorkers=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(R){return this._initialized?[2]:(this._initialized=!0,[2])})})},T.prototype.getWorker=function(){var R=this;MAX_WORKERS===void 0&&(MAX_WORKERS=navigator.hardwareConcurrency||4);var I=this.workerPool.pop();return!I&&this._createdWorkers<MAX_WORKERS&&(workerURL||(workerURL=URL.createObjectURL(new Blob([workerCode.code],{type:"application/javascript"}))),this._createdWorkers++,I=new Worker(workerURL),I.addEventListener("message",function($){R.complete($.data),R.returnWorker($.target),R.next()})),I},T.prototype.returnWorker=function(R){this.workerPool.push(R)},T.prototype.complete=function(R){var I=R.data;this.resolveHash[R.uuid](I),this.resolveHash[R.uuid]=null},T.prototype._run=function(R,I){var $=this;this._initWorkers();var N=new Promise(function(M){$.queue.push({id:R,arguments:I,resolve:M})});return this.next(),N},T.prototype.next=function(){if(!!this.queue.length){var R=this.getWorker();if(!!R){var I=this.queue.pop(),$=I.id;this.resolveHash[UUID]=I.resolve,R.postMessage({data:I.arguments,uuid:UUID++,id:$})}}},T}(),WorkerManager=new WorkerManagerClass,validImages$4=["jpg","png","jpeg","avif","webp"];function loadImageBitmap(T){return __awaiter(this,void 0,Promise,function(){var R,I,$;return __generator(this,function(N){switch(N.label){case 0:return[4,settings$1.ADAPTER.fetch(T)];case 1:return R=N.sent(),[4,R.blob()];case 2:return I=N.sent(),[4,createImageBitmap(I)];case 3:return $=N.sent(),[2,$]}})})}var loadTextures={extension:ExtensionType.LoadParser,config:{preferWorkers:!0},test:function(T){var R=T.split("?")[0],I=R.split(".").pop();return validImages$4.includes(I)},load:function(T,R,I){return __awaiter(this,void 0,Promise,function(){var $,N,M,L;return __generator(this,function(B){switch(B.label){case 0:return $=null,window.createImageBitmap?this.config.preferWorkers?[4,WorkerManager.loadImageBitmap(T)]:[3,2]:[3,5];case 1:return N=B.sent(),[3,4];case 2:return[4,loadImageBitmap(T)];case 3:N=B.sent(),B.label=4;case 4:return $=N,[3,7];case 5:return[4,new Promise(function(k){$=new Image,$.crossOrigin="anonymous",$.src=T,$.complete?k($):$.onload=function(){k($)}})];case 6:$=B.sent(),B.label=7;case 7:return M=new BaseTexture($,__assign({resolution:getResolutionOfUrl(T)},R.data)),M.resource.src=T,L=new Texture(M),L.baseTexture.on("dispose",function(){delete I.promiseCache[T]}),[2,L]}})})},unload:function(T){T.destroy(!0)}},loadTxt={extension:ExtensionType.LoadParser,test:function(T){return extname(T).includes(".txt")},load:function(T){return __awaiter(this,void 0,Promise,function(){var R,I;return __generator(this,function($){switch($.label){case 0:return[4,settings$1.ADAPTER.fetch(T)];case 1:return R=$.sent(),[4,R.text()];case 2:return I=$.sent(),[2,I]}})})}},validWeights=["normal","bold","100","200","300","400","500","600","700","800","900"],validFonts=["woff","woff2","ttf","otf"];function getFontFamilyName(T){var R=extname(T),I=basename(T,R),$=I.replace(/(-|_)/g," "),N=$.toLowerCase().split(" ").map(function(M){return M.charAt(0).toUpperCase()+M.slice(1)}).join(" ");return N}var loadWebFont={extension:ExtensionType.LoadParser,test:function(T){var R=T.split("?")[0],I=R.split(".").pop();return validFonts.includes(I)},load:function(T,R){var I,$,N,M,L,B;return __awaiter(this,void 0,Promise,function(){var k,U,H,z,V,W,K;return __generator(this,function(Y){switch(Y.label){case 0:if(!window.navigator.onLine)throw new Error("[loadWebFont] Cannot load font - navigator is offline");if(!("FontFace"in window))return[3,5];k=[],U=($=(I=R.data)===null||I===void 0?void 0:I.family)!==null&&$!==void 0?$:getFontFamilyName(T),H=(L=(M=(N=R.data)===null||N===void 0?void 0:N.weights)===null||M===void 0?void 0:M.filter(function(q){return validWeights.includes(q)}))!==null&&L!==void 0?L:["normal"],z=(B=R.data)!==null&&B!==void 0?B:{},V=0,Y.label=1;case 1:return V<H.length?(W=H[V],K=new FontFace(U,"url("+T+")",__assign(__assign({},z),{weight:W})),[4,K.load()]):[3,4];case 2:Y.sent(),document.fonts.add(K),k.push(K),Y.label=3;case 3:return V++,[3,1];case 4:return[2,k.length===1?k[0]:k];case 5:return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),[2,null]}})})},unload:function(T){(Array.isArray(T)?T:[T]).forEach(function(R){return document.fonts.delete(R)})}},validImages$3=["basis"];ExtensionType.LoadParser;var validImages$2=["dds"];ExtensionType.LoadParser;var validImages$1=["ktx"];ExtensionType.LoadParser;var Loader=function(){function T(){this._parsers=[],this.promiseCache={}}return T.prototype.reset=function(){this.promiseCache={}},T.prototype._getLoadPromiseAndParser=function(R,I){var $=this,N={promise:null,parser:null};return N.promise=function(){return __awaiter($,void 0,void 0,function(){var M,L,B,L,B,k,U,H;return __generator(this,function(z){switch(z.label){case 0:M=null,L=0,z.label=1;case 1:return L<this.parsers.length?(B=this.parsers[L],B.load&&((U=B.test)===null||U===void 0?void 0:U.call(B,R,I,this))?[4,B.load(R,I,this)]:[3,3]):[3,4];case 2:return M=z.sent(),N.parser=B,[3,4];case 3:return L++,[3,1];case 4:if(!N.parser)return console.warn("[Assets] "+R+" could not be loaded as we don't know how to parse it, ensure the correct parser has being added"),[2,null];L=0,z.label=5;case 5:return L<this.parsers.length?(B=this.parsers[L],B.parse?(k=B.parse,k?[4,(H=B.testParse)===null||H===void 0?void 0:H.call(B,M,I,this)]:[3,7]):[3,9]):[3,10];case 6:k=z.sent(),z.label=7;case 7:return k?[4,B.parse(M,I,this)]:[3,9];case 8:M=z.sent()||M,N.parser=B,z.label=9;case 9:return L++,[3,5];case 10:return[2,M]}})})}(),N},T.prototype.load=function(R,I){return __awaiter(this,void 0,Promise,function(){var $,N,M,L,B,k,U=this;return __generator(this,function(H){switch(H.label){case 0:return $=0,N={},M=isSingleItem(R),L=convertToList(R,function(z){return{src:z}}),B=L.length,k=L.map(function(z){return __awaiter(U,void 0,void 0,function(){var V,W,K,Y;return __generator(this,function(q){switch(q.label){case 0:if(V=makeAbsoluteUrl(z.src),N[z.src])return[3,4];q.label=1;case 1:return q.trys.push([1,3,,4]),this.promiseCache[V]||(this.promiseCache[V]=this._getLoadPromiseAndParser(V,z)),W=N,K=z.src,[4,this.promiseCache[V].promise];case 2:return W[K]=q.sent(),I&&I(++$/B),[3,4];case 3:throw Y=q.sent(),delete this.promiseCache[V],delete N[z.src],new Error("[Loader.load] Failed to load "+V+`.
`+Y);case 4:return[2]}})})}),[4,Promise.all(k)];case 1:return H.sent(),[2,M?N[L[0].src]:N]}})})},T.prototype.unload=function(R){return __awaiter(this,void 0,Promise,function(){var I,$,N=this;return __generator(this,function(M){switch(M.label){case 0:return I=convertToList(R,function(L){return{src:L}}),$=I.map(function(L){return __awaiter(N,void 0,void 0,function(){var B,k,U,H,z;return __generator(this,function(V){switch(V.label){case 0:return B=makeAbsoluteUrl(L.src),k=this.promiseCache[B],k?[4,k.promise]:[3,2];case 1:U=V.sent(),(z=(H=k.parser)===null||H===void 0?void 0:H.unload)===null||z===void 0||z.call(H,U,L,this),delete this.promiseCache[B],V.label=2;case 2:return[2]}})})}),[4,Promise.all($)];case 1:return M.sent(),[2]}})})},Object.defineProperty(T.prototype,"parsers",{get:function(){return this._parsers},enumerable:!1,configurable:!0}),T}(),validImages=["jpg","png","jpeg","avif","webp"],resolveSpriteSheetUrl={extension:ExtensionType.ResolveParser,test:function(T){var R=T.split("?")[0],I=R.split("."),$=I.pop(),N=I.pop();return $==="json"&&validImages.includes(N)},parse:function(T){var R,I,$=T.split(".");return{resolution:parseFloat((I=(R=settings$1.RETINA_PREFIX.exec(T))===null||R===void 0?void 0:R[1])!==null&&I!==void 0?I:"1"),format:$[$.length-2],src:T}}},resolveTextureUrl={extension:ExtensionType.ResolveParser,test:loadTextures.test,parse:function(T){var R,I;return{resolution:parseFloat((I=(R=settings$1.RETINA_PREFIX.exec(T))===null||R===void 0?void 0:R[1])!==null&&I!==void 0?I:"1"),format:T.split(".").pop(),src:T}}};ExtensionType.ResolveParser;var Resolver=function(){function T(){this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}return T.prototype.prefer=function(){for(var R=arguments,I=this,$=[],N=0;N<arguments.length;N++)$[N]=R[N];$.forEach(function(M){I._preferredOrder.push(M),M.priority||(M.priority=Object.keys(M.params))}),this._resolverHash={}},Object.defineProperty(T.prototype,"basePath",{get:function(){return this._basePath},set:function(R){this._basePath=getBaseUrl(R)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"parsers",{get:function(){return this._parsers},enumerable:!1,configurable:!0}),T.prototype.reset=function(){this._preferredOrder=[],this._resolverHash={},this._assetMap={},this._basePath=null,this._manifest=null},T.prototype.addManifest=function(R){var I=this;this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=R,R.bundles.forEach(function($){I.addBundle($.name,$.assets)})},T.prototype.addBundle=function(R,I){var $=this,N=[];Array.isArray(I)?I.forEach(function(M){typeof M.name=="string"?N.push(M.name):N.push.apply(N,M.name),$.add(M.name,M.srcs)}):Object.keys(I).forEach(function(M){N.push(M),$.add(M,I[M])}),this._bundles[R]=N},T.prototype.add=function(R,I,$){var N=this,M=convertToList(R);M.forEach(function(B){N._assetMap[B]&&console.warn("[Resolver] already has key: "+B+" overwriting")}),Array.isArray(I)||(typeof I=="string"?I=createStringVariations(I):I=[I]);var L=I.map(function(B){var k,U=B;if(typeof B=="string"){for(var H=!1,z=0;z<N._parsers.length;z++){var V=N._parsers[z];if(V.test(B)){U=V.parse(B),H=!0;break}}H||(U={src:B})}return U.format||(U.format=U.src.split(".").pop()),U.alias||(U.alias=M),N._basePath&&(U.src=makeAbsoluteUrl(U.src,N._basePath)),U.data=(k=U.data)!==null&&k!==void 0?k:$,U});M.forEach(function(B){N._assetMap[B]=L})},T.prototype.resolveBundle=function(R){var I=this,$=isSingleItem(R);R=convertToList(R);var N={};return R.forEach(function(M){var L=I._bundles[M];L&&(N[M]=I.resolve(L))}),$?N[R[0]]:N},T.prototype.resolveUrl=function(R){var I=this.resolve(R);if(typeof R!="string"){var $={};for(var N in I)$[N]=I[N].src;return $}return I.src},T.prototype.resolve=function(R){var I=this,$=isSingleItem(R);R=convertToList(R);var N={};return R.forEach(function(M){var L;if(!I._resolverHash[M])if(I._assetMap[M]){var B=I._assetMap[M],k=I._getPreferredOrder(B),U=B[0];k==null||k.priority.forEach(function(z){k.params[z].forEach(function(V){var W=B.filter(function(K){return K[z]?K[z]===V:!1});W.length&&(B=W)})}),I._resolverHash[M]=(L=B[0])!==null&&L!==void 0?L:U}else{var H=M;I._basePath&&(H=makeAbsoluteUrl(H,I._basePath)),I._resolverHash[M]={src:H}}N[M]=I._resolverHash[M]}),$?N[R[0]]:N},T.prototype._getPreferredOrder=function(R){for(var I=function(L){var B=R[0],k=$._preferredOrder.find(function(U){return U.params.format.includes(B.format)});if(k)return{value:k}},$=this,N=0;N<R.length;N++){var M=I();if(typeof M=="object")return M.value}return this._preferredOrder[0]},T}(),AssetsClass=function(){function T(){this._detections=[],this._initialized=!1,this.resolver=new Resolver,this.loader=new Loader,this.cache=Cache,this._backgroundLoader=new BackgroundLoader(this.loader),this._backgroundLoader.active=!0,this.reset()}return T.prototype.init=function(R){var I,$,N,M;return R===void 0&&(R={}),__awaiter(this,void 0,Promise,function(){var L,B,k,U,H,z,V,Y,W,K,Y;return __generator(this,function(q){switch(q.label){case 0:return this._initialized?(console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?"),[2]):(this._initialized=!0,R.basePath&&(this.resolver.basePath=R.basePath),R.manifest?(L=R.manifest,typeof L!="string"?[3,2]:[4,this.load(L)]):[3,3]);case 1:L=q.sent(),q.label=2;case 2:this.resolver.addManifest(L),q.label=3;case 3:if(B=($=(I=R.texturePreference)===null||I===void 0?void 0:I.resolution)!==null&&$!==void 0?$:1,k=typeof B=="number"?[B]:B,!(!((N=R.texturePreference)===null||N===void 0)&&N.format))return[3,9];H=(M=R.texturePreference)===null||M===void 0?void 0:M.format,U=typeof H=="string"?[H]:H,z=0,V=this._detections,q.label=4;case 4:return z<V.length?(Y=V[z],[4,Y.test()]):[3,8];case 5:return q.sent()?[3,7]:[4,Y.remove(U)];case 6:U=q.sent(),q.label=7;case 7:return z++,[3,4];case 8:return[3,14];case 9:U=["png","jpg","jpeg"],W=0,K=this._detections,q.label=10;case 10:return W<K.length?(Y=K[W],[4,Y.test()]):[3,14];case 11:return q.sent()?[4,Y.add(U)]:[3,13];case 12:U=q.sent(),q.label=13;case 13:return W++,[3,10];case 14:return this.resolver.prefer({params:{format:U,resolution:k}}),[2]}})})},T.prototype.add=function(R,I,$){this.resolver.add(R,I,$)},T.prototype.load=function(R,I){return __awaiter(this,void 0,Promise,function(){var $,N,M,L,B=this;return __generator(this,function(k){switch(k.label){case 0:return this._initialized?[3,2]:[4,this.init()];case 1:k.sent(),k.label=2;case 2:return $=isSingleItem(R),N=convertToList(R).map(function(U){return typeof U!="string"?(B.resolver.add(U.src,U),U.src):U}),M=this.resolver.resolve(N),[4,this._mapLoadToResolve(M,I)];case 3:return L=k.sent(),[2,$?L[N[0]]:L]}})})},T.prototype.addBundle=function(R,I){this.resolver.addBundle(R,I)},T.prototype.loadBundle=function(R,I){return __awaiter(this,void 0,Promise,function(){var $,N,M,L,B=this;return __generator(this,function(k){switch(k.label){case 0:return this._initialized?[3,2]:[4,this.init()];case 1:k.sent(),k.label=2;case 2:return $=!1,typeof R=="string"&&($=!0,R=[R]),N=this.resolver.resolveBundle(R),M={},L=Object.keys(N).map(function(U){var H=N[U];return B._mapLoadToResolve(H,I).then(function(z){M[U]=z})}),[4,Promise.all(L)];case 3:return k.sent(),[2,$?M[R[0]]:M]}})})},T.prototype.backgroundLoad=function(R){return __awaiter(this,void 0,Promise,function(){var I;return __generator(this,function($){switch($.label){case 0:return this._initialized?[3,2]:[4,this.init()];case 1:$.sent(),$.label=2;case 2:return typeof R=="string"&&(R=[R]),I=this.resolver.resolve(R),this._backgroundLoader.add(Object.values(I)),[2]}})})},T.prototype.backgroundLoadBundle=function(R){return __awaiter(this,void 0,Promise,function(){var I,$=this;return __generator(this,function(N){switch(N.label){case 0:return this._initialized?[3,2]:[4,this.init()];case 1:N.sent(),N.label=2;case 2:return typeof R=="string"&&(R=[R]),I=this.resolver.resolveBundle(R),Object.values(I).forEach(function(M){$._backgroundLoader.add(Object.values(M))}),[2]}})})},T.prototype.reset=function(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1},T.prototype.get=function(R){if(typeof R=="string")return Cache.get(R);for(var I={},$=0;$<R.length;$++)I[$]=Cache.get(R[$]);return I},T.prototype._mapLoadToResolve=function(R,I){return __awaiter(this,void 0,Promise,function(){var $,N,M,L;return __generator(this,function(B){switch(B.label){case 0:return $=Object.values(R),N=Object.keys(R),this._backgroundLoader.active=!1,[4,this.loader.load($,I)];case 1:return M=B.sent(),this._backgroundLoader.active=!0,L={},$.forEach(function(k,U){var H=M[k.src],z=[k.src];k.alias&&z.push.apply(z,k.alias),L[N[U]]=H,Cache.set(z,H)}),[2,L]}})})},T.prototype.unload=function(R){return __awaiter(this,void 0,Promise,function(){var I,$;return __generator(this,function(N){switch(N.label){case 0:return this._initialized?[3,2]:[4,this.init()];case 1:N.sent(),N.label=2;case 2:return I=convertToList(R).map(function(M){return typeof M!="string"?M.src:M}),$=this.resolver.resolve(I),[4,this._unloadFromResolved($)];case 3:return N.sent(),[2]}})})},T.prototype.unloadBundle=function(R){return __awaiter(this,void 0,Promise,function(){var I,$,N=this;return __generator(this,function(M){switch(M.label){case 0:return this._initialized?[3,2]:[4,this.init()];case 1:M.sent(),M.label=2;case 2:return R=convertToList(R),I=this.resolver.resolveBundle(R),$=Object.keys(I).map(function(L){return N._unloadFromResolved(I[L])}),[4,Promise.all($)];case 3:return M.sent(),[2]}})})},T.prototype._unloadFromResolved=function(R){return __awaiter(this,void 0,void 0,function(){var I;return __generator(this,function($){switch($.label){case 0:return I=Object.values(R),I.forEach(function(N){Cache.remove(N.src)}),[4,this.loader.unload(I)];case 1:return $.sent(),[2]}})})},Object.defineProperty(T.prototype,"detections",{get:function(){return this._detections},enumerable:!1,configurable:!0}),T}(),Assets=new AssetsClass;extensions$1.handleByList(ExtensionType.LoadParser,Assets.loader.parsers).handleByList(ExtensionType.ResolveParser,Assets.resolver.parsers).handleByList(ExtensionType.CacheParser,Assets.cache.parsers).handleByList(ExtensionType.DetectionParser,Assets.detections);extensions$1.add(loadTextures,loadTxt,loadJson,loadSpritesheet,loadBitmapFont,loadWebFont,cacheSpritesheet,cacheTextureArray,resolveTextureUrl,resolveSpriteSheetUrl,detectWebp,detectAvif);const _sfc_main$a=defineComponent({__name:"PixiAssets",props:{options:{type:Object,required:!1,default:void 0},loadAssets:{type:Array,required:!1,default:void 0},loadAssetsStrategy:{type:String,required:!1,default:"direct"},loadBundles:{type:Array,required:!1,default:void 0},loadBundlesStrategy:{type:String,required:!1,default:"direct"}},emits:["assetProgress","assetLoaded","bundleProgress","bundleLoaded"],setup(T,{expose:R,emit:I}){const $=T;R({assets:Assets});const N=async V=>{await Promise.all(V.map(async W=>{const K=await Assets.load(W.keysIn,Y=>I("assetProgress",W.keysIn,Y));Array.isArray(W.keysIn)?W.keysIn.forEach(Y=>{I("assetLoaded",Y,K[Y])}):I("assetLoaded",W.keysIn,K)}))},M=V=>{V.forEach(W=>Assets.backgroundLoad(W.keysIn))},L=async()=>{$.loadAssets!=null&&($.loadAssets.forEach(V=>{Assets.add(V.keysIn,V.assetsIn,V.data)}),$.loadAssetsStrategy==="direct"?await N($.loadAssets):M($.loadAssets))},B=async V=>{await Promise.all(V.map(async W=>{const K=await Assets.loadBundle(W.bundleId,Y=>I("bundleProgress",W.bundleId,Y));I("bundleLoaded",W.bundleId,K)}))},k=V=>V.forEach(W=>Assets.backgroundLoadBundle(W.bundleId)),U=async()=>{$.loadBundles!=null&&($.loadBundles.forEach(V=>Assets.addBundle(V.bundleId,V.assets)),$.loadBundlesStrategy==="direct"?await B($.loadBundles):k($.loadBundles))};onMounted(async()=>{Assets._initialized===!1&&await Assets.init($.options),await Promise.all([L(),U()])});const H=()=>{$.loadAssets!=null&&$.loadAssets.forEach(V=>Assets.unload(V.keysIn))},z=()=>{$.loadBundles!=null&&$.loadBundles.forEach(V=>Assets.unloadBundle(V.bundleId))};return onUnmounted(()=>{H(),z()}),(V,W)=>renderSlot(V.$slots,"default",{assets:unref(Assets)})}}),stringsToSelectOptions=T=>T.map(R=>({label:R,value:R})),getAnimationModels=async()=>(await fetch("/assets/animation-models.json")).json(),getSpriteModelNames=async()=>{const T=await getAnimationModels();return _$1.uniq(T.models.map(R=>R.unit))},_hoisted_1$6={class:"mt-5"},_sfc_main$9=defineComponent({__name:"AnimatorPreview",props:{unit:null},setup(T){const R=T,I=ref(),$=ref(),N=computed(()=>{var Y;return(Y=I.value)==null?void 0:Y.application}),M=ref(TEAM_COLORS[0]);watch(()=>M.value,()=>W()),watch(()=>R.unit,()=>W());const L=ref(UNIT_STATES[0]);watch(()=>L.value,()=>K());const B=ref(MOVE_DIRECTIONS[0]);watch(()=>B.value,()=>K());let k,U,H;const z=async(Y,q)=>{const Z=await getAnimationModels();k=new AnimationService(q,Z),V()},V=()=>{H=new AnimatedSprite([Texture.EMPTY]),H.anchor.set(.5),H.position.set(I.value.application.view.width/2,I.value.application.view.height/2),U=k.createAnimator(H,M.value,R.unit),U.set(L.value,B.value),$.value.viewport.addChild(H)};onBeforeUnmount(()=>{I.value.application.stage.removeChild($.value.viewport),$.value.viewport.removeChild(H)});const W=()=>{U=k.createAnimator(H,M.value,R.unit),K()},K=()=>{U.set(L.value,B.value)};return(Y,q)=>{const Z=_sfc_main$a,Q=_sfc_main$b,ee=_sfc_main$f,ne=__unplugin_components_1$2,te=__unplugin_components_1$1,re=NForm;return openBlock(),createElementBlock("div",null,[createBaseVNode("div",null,[createVNode(ee,{ref_key:"applicationInstance",ref:I,width:500,height:500},{default:withCtx(()=>[createVNode(Z,{"load-assets":[{keysIn:"units",assetsIn:"assets/unit-spritesheet.json"}],onAssetLoaded:z},null,8,["load-assets"]),N.value!=null?(openBlock(),createBlock(Q,{key:0,ref_key:"viewportInstance",ref:$,"screen-width":N.value.view.width,"screen-height":N.value.view.height,interaction:N.value.renderer.plugins.interaction,wheel:{options:{center:new Point(N.value.view.width/2,N.value.view.height/2)}}},null,8,["screen-width","screen-height","interaction","wheel"])):createCommentVNode("",!0)]),_:1},512)]),createBaseVNode("div",_hoisted_1$6,[createVNode(re,{"label-placement":"left","label-width":"auto"},{default:withCtx(()=>[createVNode(te,{label:"Color"},{default:withCtx(()=>[createVNode(ne,{value:M.value,"onUpdate:value":q[0]||(q[0]=ie=>M.value=ie),options:unref(stringsToSelectOptions)(unref(TEAM_COLORS))},null,8,["value","options"])]),_:1}),createVNode(te,{label:"Animation"},{default:withCtx(()=>[createVNode(ne,{value:L.value,"onUpdate:value":q[1]||(q[1]=ie=>L.value=ie),options:unref(stringsToSelectOptions)(unref(UNIT_STATES))},null,8,["value","options"])]),_:1}),createVNode(te,{label:"Direction"},{default:withCtx(()=>[createVNode(ne,{value:B.value,"onUpdate:value":q[2]||(q[2]=ie=>B.value=ie),options:unref(stringsToSelectOptions)(unref(MOVE_DIRECTIONS))},null,8,["value","options"])]),_:1})]),_:1})])])}}}),_sfc_main$8=defineComponent({__name:"SpriteModelPreview",props:{unit:null},setup(T){return(R,I)=>{const $=_sfc_main$9;return openBlock(),createBlock($,{unit:T.unit},null,8,["unit"])}}});class Reflector{constructor(){this.map={}}set(R,I,$){this.map[R.name]==null&&(this.map[R.name]={}),this.map[R.name][I]=$}get(R,I){var N;const $=typeof R=="string"?R:R.name;return this.map[$]==null?null:(N=this.map[$][I])!=null?N:null}getAllByClass(R){var I;return(I=this.map[R.name])!=null?I:null}getAll(){return this.map}}const reflector=new Reflector;function EditableProperty(T){return(R,I,$)=>(reflector.set(R.constructor,I.toString(),T),$)}const getEditableProperties=T=>reflector.getAllByClass(T),getEditableProperty=(T,R)=>reflector.get(T,R);var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(T,R,I,$)=>{for(var N=$>1?void 0:$?__getOwnPropDesc(R,I):R,M=T.length-1,L;M>=0;M--)(L=T[M])&&(N=($?L(R,I,N):L(N))||N);return $&&N&&__defProp(R,I,N),N};class Unit{}__decorateClass([EditableProperty({type:Number,nullable:!1})],Unit.prototype,"healthPointsMax",2);__decorateClass([EditableProperty({type:Number,nullable:!1})],Unit.prototype,"combatAggroRange",2);__decorateClass([EditableProperty({type:Number,nullable:!1})],Unit.prototype,"combatAttackRange",2);__decorateClass([EditableProperty({type:Number,nullable:!1})],Unit.prototype,"combatAttackDamage",2);__decorateClass([EditableProperty({type:String,nullable:!1})],Unit.prototype,"spriteModel",2);__decorateClass([EditableProperty({type:[String],nullable:!1})],Unit.prototype,"soundMove",2);__decorateClass([EditableProperty({type:[String],nullable:!1})],Unit.prototype,"soundAttackTarget",2);__decorateClass([EditableProperty({type:[String],nullable:!1})],Unit.prototype,"soundAttackEffect",2);__decorateClass([EditableProperty({type:[String],nullable:!1})],Unit.prototype,"soundDead",2);__decorateClass([EditableProperty({type:String,nullable:!1})],Unit.prototype,"soundDeadByCatapult",2);const soundsToSelectOptions=T=>Object.keys(T.spritemap).map(R=>({label:R,value:R})),_hoisted_1$5={key:4},_sfc_main$7=defineComponent({__name:"ObjectPropertyEditor",props:{modelValue:null},emits:["update:modelValue"],setup(T){const R=T,I={value:{required:!0,message:"Please input your value",trigger:"blur"}},$=computed(()=>R.modelValue),N=computed(()=>{var B;return(B=getEditableProperty(Unit,R.modelValue.field))==null?void 0:B.type});let M=ref([]);const L=async()=>{if(R.modelValue.field.includes("sound")){const B=await getSounds();M.value=soundsToSelectOptions(B)}else if(R.modelValue.field==="spriteModel"){const B=await getSpriteModelNames();M.value=stringsToSelectOptions(B)}else M.value=[]};return onMounted(async()=>{await L()}),onUpdated(async()=>{await L()}),(B,k)=>{const U=__unplugin_components_0$4,H=__unplugin_components_1$2,z=__unplugin_components_2,V=__unplugin_components_3,W=__unplugin_components_1$1,K=NForm;return openBlock(),createBlock(K,{model:T.modelValue,rules:I,"label-placement":"left"},{default:withCtx(()=>[createVNode(W,{label:T.modelValue.field,path:"value"},{default:withCtx(()=>[unref(N)===String&&!(unref($).field.startsWith("sound")||unref($).field==="spriteModel")?(openBlock(),createBlock(U,{key:0,value:unref($).value,"onUpdate:value":k[0]||(k[0]=Y=>unref($).value=Y),valueModifiers:{string:!0}},null,8,["value"])):createCommentVNode("",!0),(unref(N)===String||Array.isArray(unref(N)))&&(unref($).field.startsWith("sound")||unref($).field==="spriteModel")?(openBlock(),createBlock(H,{key:1,value:unref($).value,"onUpdate:value":k[1]||(k[1]=Y=>unref($).value=Y),valueModifiers:{"string[]":!0},filterable:"",multiple:Array.isArray(unref(N)),options:M.value},null,8,["value","multiple","options"])):unref(N)===Boolean?(openBlock(),createBlock(z,{key:2,value:unref($).value,"onUpdate:value":k[2]||(k[2]=Y=>unref($).value=Y),valueModifiers:{boolean:!0}},null,8,["value"])):unref(N)===Number?(openBlock(),createBlock(V,{key:3,value:unref($).value,"onUpdate:value":k[3]||(k[3]=Y=>unref($).value=Y),valueModifiers:{number:!0}},null,8,["value"])):(openBlock(),createElementBlock("span",_hoisted_1$5," Type not supported "))]),_:1},8,["label"])]),_:1},8,["model"])}}}),ellipsize=(T,R)=>{const I=String(T);return I.substring(0,3)+(I.length>R?"...":"")},_sfc_main$6=defineComponent({__name:"ObjectPropertiesTree",props:{object:null},emits:["select","update:object"],setup(T,{emit:R}){const I=T;let $=computed(()=>I.object.properties.map(k=>({label:k.field,key:k.field}))),N=ref([I.object.properties[0].field]);watch(()=>I.object.properties,()=>{I.object.properties.length===0?N.value=[]:N.value=[I.object.properties[0].field]});const M=k=>{if(typeof k.key!="string")return;const U=I.object.properties.find(H=>H.field===k.key);N.value=[U.field],R("select",U)},L=({option:k})=>({onClick:()=>M(k)}),B=({option:k})=>{if(typeof k.key!="string")return;const U=I.object.properties.find(H=>H.field===k.key);return h$1(NTag,{round:!0},{default:()=>`${ellipsize(U.value,3)}`})};return onMounted(()=>{$.value.length>0?N.value=[I.object.properties[0].field]:N.value=[]}),(k,U)=>{const H=__unplugin_components_0$2;return openBlock(),createBlock(H,{data:unref($),selectable:"",cascade:"","block-line":"","default-expand-all":"","selected-keys":N.value,"render-suffix":B,"node-props":L,class:"w-56"},null,8,["data","selected-keys"])}}}),getDefaultValueByType=T=>{if(T===String)return"";if(T===Number)return 0;if(T===Boolean)return!1;throw new Error(`Can not create default value of unknown type ${T}`)},getDefaultValue=T=>T.defaultValue!=null?T.defaultValue:Array.isArray(T.type)?[]:getDefaultValueByType(T.type),createEmptyObject=()=>{const T=getEditableProperties(Unit);return{name:"",properties:Object.keys(T).map(R=>{const I=T[R];return{field:R,value:getDefaultValue(I)}})}},_sfc_main$5=defineComponent({__name:"ObjectCreate",setup(T,{expose:R}){const I=ref(),$={name:{required:!0,message:"Please input your name",trigger:"blur",min:1}},N=ref(createEmptyObject());return R({form:I,object:N.value}),(M,L)=>{const B=__unplugin_components_0$4,k=__unplugin_components_1$1;return openBlock(),createBlock(unref(NForm),{ref_key:"form",ref:I,inline:"","label-width":80,model:N.value,rules:$},{default:withCtx(()=>[createVNode(k,{label:"Name",path:"name"},{default:withCtx(()=>[createVNode(B,{value:N.value.name,"onUpdate:value":L[0]||(L[0]=U=>N.value.name=U),placeholder:"unit/swordsmen"},null,8,["value"])]),_:1})]),_:1},8,["model"])}}}),_hoisted_1$4={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$2=createBaseVNode("path",{fill:"currentColor",d:"M12 12h2v12h-2zm6 0h2v12h-2z"},null,-1),_hoisted_3$2=createBaseVNode("path",{fill:"currentColor",d:"M4 6v2h2v20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8h2V6zm4 22V8h16v20zm4-26h8v2h-8z"},null,-1),_hoisted_4$1=[_hoisted_2$2,_hoisted_3$2];function render(T,R){return openBlock(),createElementBlock("svg",_hoisted_1$4,_hoisted_4$1)}const __unplugin_components_0={name:"carbon-delete",render},_hoisted_1$3=createTextVNode(" Are you sure you want to delete this? "),_sfc_main$4=defineComponent({__name:"TreeDeleteButton",props:{iconTitle:null,iconClass:null},emits:["click"],setup(T,{emit:R}){return(I,$)=>{const N=__unplugin_components_0,M=NIcon,L=__unplugin_components_2$1;return openBlock(),createBlock(L,{onPositiveClick:$[0]||($[0]=B=>R("click"))},{trigger:withCtx(()=>[createVNode(M,{title:T.iconTitle,class:normalizeClass(T.iconClass)},{default:withCtx(()=>[createVNode(N)]),_:1},8,["title","class"])]),default:withCtx(()=>[_hoisted_1$3]),_:1})}}}),isObject=T=>"name"in T,removeNullable=Boolean,getLayeredEntities=T=>{const R={};for(const I of T){let $=I.name.split("/");const N=$.splice(-1)[0];$=$.filter(removeNullable);let M=R;for(const L of $)M[L]==null&&(M[L]={__key:(M.__key!=null?M.__key+"/":"")+L}),M=M[L];M[N]=I}return R},createChildren=T=>{const R=[];for(const I of Object.keys(T).sort()){if(I==="__key")continue;const $=T[I];isObject($)?R.push({label:I,key:$.name}):R.push({label:I,key:$.__key,children:createChildren($)})}return R},createTreeOptions=T=>createChildren(getLayeredEntities(T)),_sfc_main$3=defineComponent({__name:"ObjectsTree",props:{modelValue:null,selected:null},emits:["select","update:modelValue"],setup(T,{emit:R}){var U;const I=T;let $=computed(()=>createTreeOptions(I.modelValue)),N=ref((U=I.modelValue[0])==null?void 0:U.name);watch(()=>I.selected,()=>{var H;N.value=I.selected==null?(H=I.modelValue[0])==null?void 0:H.name:I.selected.name});const M=H=>{let z=I.modelValue.find(V=>V.name===H.key);z==null&&(z=I.modelValue.find(V=>V.name.startsWith(H.key))),z!=null&&(N.value=z.name,R("select",z))},L=({option:H})=>({onClick:()=>M(H)}),B=H=>{R("update:modelValue",[...I.modelValue.filter(z=>z.name!==H)]),R("select",I.modelValue[0])},k=({option:H})=>{if(typeof H.key=="string"&&H.children==null)return h$1(_sfc_main$4,{"icon-title":"Delete object with all it's properties","icon-class":"ml-6",onClick:()=>B(H.key)})};return watch(()=>I.modelValue,()=>{I.modelValue.length>0&&(N.value=I.modelValue[0].name)}),(H,z)=>{const V=__unplugin_components_0$2;return openBlock(),createBlock(V,{data:unref($),selectable:"","block-line":"","default-expand-all":"","render-suffix":k,"selected-keys":[N.value],"node-props":L},null,8,["data","selected-keys"])}}}),getObjects=async()=>(await fetch("/assets/objects.json")).json(),saveObjects=async T=>{await fetch("http://localhost:3000/assets/objects.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)})},_hoisted_1$2={class:"flex flex-col"},_hoisted_2$1=createBaseVNode("h2",{class:"text-2xl font-bold"},"Objects Editor",-1),_hoisted_3$1={class:"grow flex"},_hoisted_4={class:"border-r-2 mr-2 pr-2 flex flex-col"},_hoisted_5=createBaseVNode("h3",{class:"text-l font-bold"},"Objects:",-1),_hoisted_6=createTextVNode(" Add Object "),_hoisted_7={class:"border-r-2 mr-2 pr-2 flex flex-col"},_hoisted_8=createBaseVNode("h3",{class:"text-l font-bold"},"Properties:",-1),_hoisted_9={class:"grow flex flex-col"},_hoisted_10={class:"border-b-2 mb-2"},_hoisted_11=createBaseVNode("h3",{class:"text-l font-bold"},"Property editor:",-1),_hoisted_12={class:"grow"},_hoisted_13=createBaseVNode("h4",{class:"text-l font-bold"},"Preview",-1),_hoisted_14={class:"border-t-2 mt-2 pt-2 flex flex-col items-end"},_hoisted_15=createTextVNode(" Save "),_sfc_main$2=defineComponent({__name:"ObjectsEditor",setup(T){const R=useMessage();let I=ref([]),$=ref(null),N=ref(null);const M=V=>{$.value=V,$.value.properties.length>0?N.value=$.value.properties[0]:N.value=null};let L=ref(!1);const B=ref(),k=async()=>{try{return await B.value.form.validate(),I.value.push(B.value.object),M(B.value.object),!0}catch{return!1}},U=V=>{N.value=V},H=V=>{const W=I.value.find(K=>K.name===V.name);W.properties=V.properties},z=async()=>{await saveObjects(I.value),R.info("saved objects to server")};return onMounted(async()=>{I.value=await getObjects(),$.value=I.value[0],N.value=$.value.properties[0]}),(V,W)=>{var re,ie,se;const K=_sfc_main$3,Y=__unplugin_components_1$3,q=_sfc_main$5,Z=__unplugin_components_3$1,Q=_sfc_main$6,ee=_sfc_main$7,ne=_sfc_main$8,te=_sfc_main$c;return openBlock(),createElementBlock("div",_hoisted_1$2,[_hoisted_2$1,createBaseVNode("div",_hoisted_3$1,[createBaseVNode("div",_hoisted_4,[_hoisted_5,createVNode(K,{modelValue:I.value,"onUpdate:modelValue":W[0]||(W[0]=le=>I.value=le),class:"grow",selected:$.value,onSelect:M},null,8,["modelValue","selected"]),createVNode(Y,{onClick:W[1]||(W[1]=le=>L.value=!0)},{default:withCtx(()=>[_hoisted_6]),_:1}),createVNode(Z,{show:L.value,"onUpdate:show":W[2]||(W[2]=le=>L.value=le),preset:"confirm",title:"Create Object","positive-text":"Add","negative-text":"Cancel",onPositiveClick:W[3]||(W[3]=()=>k()),onNegativeClick:W[4]||(W[4]=()=>{})},{default:withCtx(()=>[createVNode(q,{ref_key:"objectCreateInstance",ref:B},null,512)]),_:1},8,["show"])]),createBaseVNode("div",_hoisted_7,[_hoisted_8,$.value!=null?(openBlock(),createBlock(Q,{key:0,class:"grow",object:$.value,"onUpdate:object":W[5]||(W[5]=le=>H(le)),onSelect:U},null,8,["object"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9,[createBaseVNode("div",_hoisted_10,[_hoisted_11,N.value!=null?(openBlock(),createBlock(ee,{key:0,modelValue:N.value,"onUpdate:modelValue":W[6]||(W[6]=le=>N.value=le)},null,8,["modelValue"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_12,[_hoisted_13,((re=N.value)==null?void 0:re.field)==="spriteModel"&&!unref(lodash.exports.isEmpty)(N.value.value)?(openBlock(),createBlock(ne,{key:0,unit:N.value.value},null,8,["unit"])):createCommentVNode("",!0),((ie=N.value)==null?void 0:ie.field.includes("sound"))&&typeof N.value.value=="string"?(openBlock(),createBlock(te,{key:1,modelValue:N.value.value,"onUpdate:modelValue":W[7]||(W[7]=le=>N.value.value=le)},null,8,["modelValue"])):createCommentVNode("",!0),((se=N.value)==null?void 0:se.field.includes("sound"))&&Array.isArray(N.value.value)?(openBlock(),createBlock(te,{key:2,modelValue:N.value.value,"onUpdate:modelValue":W[8]||(W[8]=le=>N.value.value=le)},null,8,["modelValue"])):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_14,[createVNode(Y,{class:"px-10",size:"large",onClick:z},{default:withCtx(()=>[_hoisted_15]),_:1})])])}}}),_export_sfc=(T,R)=>{const I=T.__vccOpts||T;for(const[$,N]of R)I[$]=N;return I},_sfc_main$1={},_hoisted_1$1={class:"flex flex-col h-screen"},_hoisted_2={class:"m-3 grow flex flex-col"},_hoisted_3=createBaseVNode("h1",{class:"text-3xl font-bold border-b-2"},"World Editor",-1);function _sfc_render$1(T,R){const I=_sfc_main$2;return openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2,[_hoisted_3,createVNode(I,{class:"grow mt-3"})])])}const WorldEditorView=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),routes=[{path:"/",redirect:"/game"},{path:"/game",component:_sfc_main$e},{path:"/worldeditor",component:WorldEditorView}],_sfc_main={},_hoisted_1=createTextVNode(" Loading... ");function _sfc_render(T,R){const I=resolveComponent("router-view"),$=__unplugin_components_0$3;return openBlock(),createBlock(Suspense,null,{fallback:withCtx(()=>[_hoisted_1]),default:withCtx(()=>[createVNode($,null,{default:withCtx(()=>[createVNode(I)]),_:1})]),_:1})}const App=_export_sfc(_sfc_main,[["render",_sfc_render]]),app=createApp(App),router=createRouter({history:createWebHashHistory(),routes});app.use(router);app.config.globalProperties.window=window;app.mount("#app")});export default Fv();
